import{N as B6,O as nU,a as E6,b as I6,c as cn,d as vr,e as qu,g as Ms,h as rU,i as pl,j as kc,k as Fs,r as zu,s as ju,t as k6}from"./chunk-7ZZNCPHU.js";import{a as Hs,m as Gi}from"./chunk-MNQ7RLHG.js";import{D as _6,Ea as gl,F as P6,Ha as H1,Ja as R6,Ra as N6,Sa as ip,_ as Wi,a as S6,e as tU,h as M1,ha as we,i as v6,ja as Ae,k as np,m as Ls,ma as ze,q as op,r as T6,ra as Se,s as Tc,ua as D6,xa as ee}from"./chunk-NMZ7IVPZ.js";import{X as Wu,a as v,aa as ml,b as yl,d as F1,l as nt,o as C6,r as O6,x as No}from"./chunk-H6ILHDLW.js";import{a as Vt}from"./chunk-7X4NV6OJ.js";import{c as P,d as ZN,e as ji,f as j,h as d,i as b,j as A6,k as eU,l as Hn,m as Buffer,n as l}from"./chunk-3KENBVE7.js";var xl=P(Yu=>{"use strict";d();l();var K1=A6(),$u=eU(),U6=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Yu.Buffer=K;Yu.SlowBuffer=uU;Yu.INSPECT_MAX_BYTES=50;var sp=2147483647;Yu.kMaxLength=sp;K.TYPED_ARRAY_SUPPORT=oU();!K.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function oU(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(K.prototype,"parent",{enumerable:!0,get:function(){if(K.isBuffer(this))return this.buffer}});Object.defineProperty(K.prototype,"offset",{enumerable:!0,get:function(){if(K.isBuffer(this))return this.byteOffset}});function $i(t){if(t>sp)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,K.prototype),e}function K(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return j1(t)}return H6(t,e,r)}K.poolSize=8192;function H6(t,e,r){if(typeof t=="string")return sU(t,e);if(ArrayBuffer.isView(t))return aU(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(si(t,ArrayBuffer)||t&&si(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(si(t,SharedArrayBuffer)||t&&si(t.buffer,SharedArrayBuffer)))return q1(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return K.from(n,e,r);let o=cU(t);if(o)return o;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return K.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}K.from=function(t,e,r){return H6(t,e,r)};Object.setPrototypeOf(K.prototype,Uint8Array.prototype);Object.setPrototypeOf(K,Uint8Array);function K6(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function iU(t,e,r){return K6(t),t<=0?$i(t):e!==void 0?typeof r=="string"?$i(t).fill(e,r):$i(t).fill(e):$i(t)}K.alloc=function(t,e,r){return iU(t,e,r)};function j1(t){return K6(t),$i(t<0?0:W1(t)|0)}K.allocUnsafe=function(t){return j1(t)};K.allocUnsafeSlow=function(t){return j1(t)};function sU(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!K.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=V6(t,e)|0,n=$i(r),o=n.write(t,e);return o!==r&&(n=n.slice(0,o)),n}function V1(t){let e=t.length<0?0:W1(t.length)|0,r=$i(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function aU(t){if(si(t,Uint8Array)){let e=new Uint8Array(t);return q1(e.buffer,e.byteOffset,e.byteLength)}return V1(t)}function q1(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,K.prototype),n}function cU(t){if(K.isBuffer(t)){let e=W1(t.length)|0,r=$i(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||$1(t.length)?$i(0):V1(t);if(t.type==="Buffer"&&Array.isArray(t.data))return V1(t.data)}function W1(t){if(t>=sp)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+sp.toString(16)+" bytes");return t|0}function uU(t){return+t!=t&&(t=0),K.alloc(+t)}K.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==K.prototype};K.compare=function(e,r){if(si(e,Uint8Array)&&(e=K.from(e,e.offset,e.byteLength)),si(r,Uint8Array)&&(r=K.from(r,r.offset,r.byteLength)),!K.isBuffer(e)||!K.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,o=r.length;for(let i=0,s=Math.min(n,o);i<s;++i)if(e[i]!==r[i]){n=e[i],o=r[i];break}return n<o?-1:o<n?1:0};K.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};K.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return K.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let o=K.allocUnsafe(r),i=0;for(n=0;n<e.length;++n){let s=e[n];if(si(s,Uint8Array))i+s.length>o.length?(K.isBuffer(s)||(s=K.from(s)),s.copy(o,i)):Uint8Array.prototype.set.call(o,s,i);else if(K.isBuffer(s))s.copy(o,i);else throw new TypeError('"list" argument must be an Array of Buffers');i+=s.length}return o};function V6(t,e){if(K.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||si(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let o=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return z1(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return J6(t).length;default:if(o)return n?-1:z1(t).length;e=(""+e).toLowerCase(),o=!0}}K.byteLength=V6;function fU(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return wU(this,e,r);case"utf8":case"utf-8":return z6(this,e,r);case"ascii":return bU(this,e,r);case"latin1":case"binary":return xU(this,e,r);case"base64":return mU(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return AU(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}K.prototype._isBuffer=!0;function _c(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}K.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)_c(this,r,r+1);return this};K.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)_c(this,r,r+3),_c(this,r+1,r+2);return this};K.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)_c(this,r,r+7),_c(this,r+1,r+6),_c(this,r+2,r+5),_c(this,r+3,r+4);return this};K.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?z6(this,0,e):fU.apply(this,arguments)};K.prototype.toLocaleString=K.prototype.toString;K.prototype.equals=function(e){if(!K.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:K.compare(this,e)===0};K.prototype.inspect=function(){let e="",r=Yu.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};U6&&(K.prototype[U6]=K.prototype.inspect);K.prototype.compare=function(e,r,n,o,i){if(si(e,Uint8Array)&&(e=K.from(e,e.offset,e.byteLength)),!K.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),o===void 0&&(o=0),i===void 0&&(i=this.length),r<0||n>e.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&r>=n)return 0;if(o>=i)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,o>>>=0,i>>>=0,this===e)return 0;let s=i-o,a=n-r,c=Math.min(s,a),u=this.slice(o,i),h=e.slice(r,n);for(let f=0;f<c;++f)if(u[f]!==h[f]){s=u[f],a=h[f];break}return s<a?-1:a<s?1:0};function q6(t,e,r,n,o){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,$1(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0)if(o)r=0;else return-1;if(typeof e=="string"&&(e=K.from(e,n)),K.isBuffer(e))return e.length===0?-1:L6(t,e,r,n,o);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):L6(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function L6(t,e,r,n,o){let i=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;i=2,s/=2,a/=2,r/=2}function c(h,f){return i===1?h[f]:h.readUInt16BE(f*i)}let u;if(o){let h=-1;for(u=r;u<s;u++)if(c(t,u)===c(e,h===-1?0:u-h)){if(h===-1&&(h=u),u-h+1===a)return h*i}else h!==-1&&(u-=u-h),h=-1}else for(r+a>s&&(r=s-a),u=r;u>=0;u--){let h=!0;for(let f=0;f<a;f++)if(c(t,u+f)!==c(e,f)){h=!1;break}if(h)return u}return-1}K.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};K.prototype.indexOf=function(e,r,n){return q6(this,e,r,n,!0)};K.prototype.lastIndexOf=function(e,r,n){return q6(this,e,r,n,!1)};function dU(t,e,r,n){r=Number(r)||0;let o=t.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;let i=e.length;n>i/2&&(n=i/2);let s;for(s=0;s<n;++s){let a=parseInt(e.substr(s*2,2),16);if($1(a))return s;t[r+s]=a}return s}function lU(t,e,r,n){return ap(z1(e,t.length-r),t,r,n)}function hU(t,e,r,n){return ap(IU(e),t,r,n)}function pU(t,e,r,n){return ap(J6(e),t,r,n)}function yU(t,e,r,n){return ap(kU(e,t.length-r),t,r,n)}K.prototype.write=function(e,r,n,o){if(r===void 0)o="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")o=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,o===void 0&&(o="utf8")):(o=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let i=this.length-r;if((n===void 0||n>i)&&(n=i),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");let s=!1;for(;;)switch(o){case"hex":return dU(this,e,r,n);case"utf8":case"utf-8":return lU(this,e,r,n);case"ascii":case"latin1":case"binary":return hU(this,e,r,n);case"base64":return pU(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return yU(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),s=!0}};K.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function mU(t,e,r){return e===0&&r===t.length?K1.fromByteArray(t):K1.fromByteArray(t.slice(e,r))}function z6(t,e,r){r=Math.min(t.length,r);let n=[],o=e;for(;o<r;){let i=t[o],s=null,a=i>239?4:i>223?3:i>191?2:1;if(o+a<=r){let c,u,h,f;switch(a){case 1:i<128&&(s=i);break;case 2:c=t[o+1],(c&192)===128&&(f=(i&31)<<6|c&63,f>127&&(s=f));break;case 3:c=t[o+1],u=t[o+2],(c&192)===128&&(u&192)===128&&(f=(i&15)<<12|(c&63)<<6|u&63,f>2047&&(f<55296||f>57343)&&(s=f));break;case 4:c=t[o+1],u=t[o+2],h=t[o+3],(c&192)===128&&(u&192)===128&&(h&192)===128&&(f=(i&15)<<18|(c&63)<<12|(u&63)<<6|h&63,f>65535&&f<1114112&&(s=f))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),o+=a}return gU(n)}var M6=4096;function gU(t){let e=t.length;if(e<=M6)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=M6));return r}function bU(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(t[o]&127);return n}function xU(t,e,r){let n="";r=Math.min(t.length,r);for(let o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function wU(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let o="";for(let i=e;i<r;++i)o+=TU[t[i]];return o}function AU(t,e,r){let n=t.slice(e,r),o="";for(let i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+n[i+1]*256);return o}K.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let o=this.subarray(e,r);return Object.setPrototypeOf(o,K.prototype),o};function Er(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}K.prototype.readUintLE=K.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Er(e,r,this.length);let o=this[e],i=1,s=0;for(;++s<r&&(i*=256);)o+=this[e+s]*i;return o};K.prototype.readUintBE=K.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Er(e,r,this.length);let o=this[e+--r],i=1;for(;r>0&&(i*=256);)o+=this[e+--r]*i;return o};K.prototype.readUint8=K.prototype.readUInt8=function(e,r){return e=e>>>0,r||Er(e,1,this.length),this[e]};K.prototype.readUint16LE=K.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||Er(e,2,this.length),this[e]|this[e+1]<<8};K.prototype.readUint16BE=K.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||Er(e,2,this.length),this[e]<<8|this[e+1]};K.prototype.readUint32LE=K.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||Er(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};K.prototype.readUint32BE=K.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||Er(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};K.prototype.readBigUInt64LE=Ks(function(e){e=e>>>0,Qu(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&bl(e,this.length-8);let o=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,i=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(o)+(BigInt(i)<<BigInt(32))});K.prototype.readBigUInt64BE=Ks(function(e){e=e>>>0,Qu(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&bl(e,this.length-8);let o=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],i=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(o)<<BigInt(32))+BigInt(i)});K.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||Er(e,r,this.length);let o=this[e],i=1,s=0;for(;++s<r&&(i*=256);)o+=this[e+s]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*r)),o};K.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||Er(e,r,this.length);let o=r,i=1,s=this[e+--o];for(;o>0&&(i*=256);)s+=this[e+--o]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*r)),s};K.prototype.readInt8=function(e,r){return e=e>>>0,r||Er(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};K.prototype.readInt16LE=function(e,r){e=e>>>0,r||Er(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};K.prototype.readInt16BE=function(e,r){e=e>>>0,r||Er(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};K.prototype.readInt32LE=function(e,r){return e=e>>>0,r||Er(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};K.prototype.readInt32BE=function(e,r){return e=e>>>0,r||Er(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};K.prototype.readBigInt64LE=Ks(function(e){e=e>>>0,Qu(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&bl(e,this.length-8);let o=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(o)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});K.prototype.readBigInt64BE=Ks(function(e){e=e>>>0,Qu(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&bl(e,this.length-8);let o=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(o)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});K.prototype.readFloatLE=function(e,r){return e=e>>>0,r||Er(e,4,this.length),$u.read(this,e,!0,23,4)};K.prototype.readFloatBE=function(e,r){return e=e>>>0,r||Er(e,4,this.length),$u.read(this,e,!1,23,4)};K.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||Er(e,8,this.length),$u.read(this,e,!0,52,8)};K.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||Er(e,8,this.length),$u.read(this,e,!1,52,8)};function _n(t,e,r,n,o,i){if(!K.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}K.prototype.writeUintLE=K.prototype.writeUIntLE=function(e,r,n,o){if(e=+e,r=r>>>0,n=n>>>0,!o){let a=Math.pow(2,8*n)-1;_n(this,e,r,n,a,0)}let i=1,s=0;for(this[r]=e&255;++s<n&&(i*=256);)this[r+s]=e/i&255;return r+n};K.prototype.writeUintBE=K.prototype.writeUIntBE=function(e,r,n,o){if(e=+e,r=r>>>0,n=n>>>0,!o){let a=Math.pow(2,8*n)-1;_n(this,e,r,n,a,0)}let i=n-1,s=1;for(this[r+i]=e&255;--i>=0&&(s*=256);)this[r+i]=e/s&255;return r+n};K.prototype.writeUint8=K.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,1,255,0),this[r]=e&255,r+1};K.prototype.writeUint16LE=K.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};K.prototype.writeUint16BE=K.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};K.prototype.writeUint32LE=K.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};K.prototype.writeUint32BE=K.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function j6(t,e,r,n,o){Y6(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r++]=i,i=i>>8,t[r++]=i,i=i>>8,t[r++]=i,i=i>>8,t[r++]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function W6(t,e,r,n,o){Y6(e,n,o,t,r,7);let i=Number(e&BigInt(4294967295));t[r+7]=i,i=i>>8,t[r+6]=i,i=i>>8,t[r+5]=i,i=i>>8,t[r+4]=i;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}K.prototype.writeBigUInt64LE=Ks(function(e,r=0){return j6(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});K.prototype.writeBigUInt64BE=Ks(function(e,r=0){return W6(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});K.prototype.writeIntLE=function(e,r,n,o){if(e=+e,r=r>>>0,!o){let c=Math.pow(2,8*n-1);_n(this,e,r,n,c-1,-c)}let i=0,s=1,a=0;for(this[r]=e&255;++i<n&&(s*=256);)e<0&&a===0&&this[r+i-1]!==0&&(a=1),this[r+i]=(e/s>>0)-a&255;return r+n};K.prototype.writeIntBE=function(e,r,n,o){if(e=+e,r=r>>>0,!o){let c=Math.pow(2,8*n-1);_n(this,e,r,n,c-1,-c)}let i=n-1,s=1,a=0;for(this[r+i]=e&255;--i>=0&&(s*=256);)e<0&&a===0&&this[r+i+1]!==0&&(a=1),this[r+i]=(e/s>>0)-a&255;return r+n};K.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};K.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};K.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};K.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};K.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||_n(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};K.prototype.writeBigInt64LE=Ks(function(e,r=0){return j6(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});K.prototype.writeBigInt64BE=Ks(function(e,r=0){return W6(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function G6(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function $6(t,e,r,n,o){return e=+e,r=r>>>0,o||G6(t,e,r,4,34028234663852886e22,-34028234663852886e22),$u.write(t,e,r,n,23,4),r+4}K.prototype.writeFloatLE=function(e,r,n){return $6(this,e,r,!0,n)};K.prototype.writeFloatBE=function(e,r,n){return $6(this,e,r,!1,n)};function Q6(t,e,r,n,o){return e=+e,r=r>>>0,o||G6(t,e,r,8,17976931348623157e292,-17976931348623157e292),$u.write(t,e,r,n,52,8),r+8}K.prototype.writeDoubleLE=function(e,r,n){return Q6(this,e,r,!0,n)};K.prototype.writeDoubleBE=function(e,r,n){return Q6(this,e,r,!1,n)};K.prototype.copy=function(e,r,n,o){if(!K.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!o&&o!==0&&(o=this.length),r>=e.length&&(r=e.length),r||(r=0),o>0&&o<n&&(o=n),o===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-r<o-n&&(o=e.length-r+n);let i=o-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,o):Uint8Array.prototype.set.call(e,this.subarray(n,o),r),i};K.prototype.fill=function(e,r,n,o){if(typeof e=="string"){if(typeof r=="string"?(o=r,r=0,n=this.length):typeof n=="string"&&(o=n,n=this.length),o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!K.isEncoding(o))throw new TypeError("Unknown encoding: "+o);if(e.length===1){let s=e.charCodeAt(0);(o==="utf8"&&s<128||o==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let i;if(typeof e=="number")for(i=r;i<n;++i)this[i]=e;else{let s=K.isBuffer(e)?e:K.from(e,o),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-r;++i)this[i+r]=s[i%a]}return this};var Gu={};function G1(t,e,r){Gu[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(o){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:o,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}G1("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);G1("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);G1("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=F6(String(r)):typeof r=="bigint"&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=F6(o)),o+="n"),n+=` It must be ${e}. Received ${o}`,n},RangeError);function F6(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function SU(t,e,r){Qu(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&bl(e,t.length-(r+1))}function Y6(t,e,r,n,o,i){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",a;throw i>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(i+1)*8}${s}`:a=`>= -(2${s} ** ${(i+1)*8-1}${s}) and < 2 ** ${(i+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${r}${s}`,new Gu.ERR_OUT_OF_RANGE("value",a,t)}SU(n,o,i)}function Qu(t,e){if(typeof t!="number")throw new Gu.ERR_INVALID_ARG_TYPE(e,"number",t)}function bl(t,e,r){throw Math.floor(t)!==t?(Qu(t,r),new Gu.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Gu.ERR_BUFFER_OUT_OF_BOUNDS:new Gu.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var vU=/[^+/0-9A-Za-z-_]/g;function EU(t){if(t=t.split("=")[0],t=t.trim().replace(vU,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function z1(t,e){e=e||1/0;let r,n=t.length,o=null,i=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return i}function IU(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function kU(t,e){let r,n,o,i=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function J6(t){return K1.toByteArray(EU(t))}function ap(t,e,r,n){let o;for(o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}function si(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function $1(t){return t!==t}var TU=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let o=0;o<16;++o)e[n+o]=t[r]+t[o]}return e}();function Ks(t){return typeof BigInt>"u"?_U:t}function _U(){throw new Error("BigInt not supported")}});var up=P(un=>{"use strict";d();l();Object.defineProperty(un,"__esModule",{value:!0});un.output=un.exists=un.hash=un.bytes=un.bool=un.number=void 0;function cp(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}un.number=cp;function X6(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}un.bool=X6;function Q1(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}un.bytes=Q1;function Z6(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");cp(t.outputLen),cp(t.blockLen)}un.hash=Z6;function e4(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}un.exists=e4;function t4(t,e){Q1(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}un.output=t4;var PU={number:cp,bool:X6,bytes:Q1,hash:Z6,exists:e4,output:t4};un.default=PU});var r4=P(fp=>{"use strict";d();l();Object.defineProperty(fp,"__esModule",{value:!0});fp.crypto=void 0;fp.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var Ju=P(Ke=>{"use strict";d();l();Object.defineProperty(Ke,"__esModule",{value:!0});Ke.randomBytes=Ke.wrapConstructorWithOpts=Ke.wrapConstructor=Ke.checkOpts=Ke.Hash=Ke.concatBytes=Ke.toBytes=Ke.utf8ToBytes=Ke.asyncLoop=Ke.nextTick=Ke.hexToBytes=Ke.bytesToHex=Ke.isLE=Ke.rotr=Ke.createView=Ke.u32=Ke.u8=void 0;var dp=r4(),BU=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Ke.u8=BU;var CU=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Ke.u32=CU;var OU=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Ke.createView=OU;var DU=(t,e)=>t<<32-e|t>>>e;Ke.rotr=DU;Ke.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Ke.isLE)throw new Error("Non little-endian hardware is not supported");var RU=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function NU(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=RU[t[r]];return e}Ke.bytesToHex=NU;function UU(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,o=t.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[r]=i}return e}Ke.hexToBytes=UU;var LU=async()=>{};Ke.nextTick=LU;async function MU(t,e,r){let n=Date.now();for(let o=0;o<t;o++){r(o);let i=Date.now()-n;i>=0&&i<e||(await(0,Ke.nextTick)(),n+=i)}}Ke.asyncLoop=MU;function n4(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}Ke.utf8ToBytes=n4;function J1(t){if(typeof t=="string"&&(t=n4(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Ke.toBytes=J1;function FU(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,o)=>n+o.length,0),r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let i=t[n];r.set(i,o),o+=i.length}return r}Ke.concatBytes=FU;var Y1=class{clone(){return this._cloneInto()}};Ke.Hash=Y1;var HU=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function KU(t,e){if(e!==void 0&&(typeof e!="object"||!HU(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}Ke.checkOpts=KU;function VU(t){let e=n=>t().update(J1(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Ke.wrapConstructor=VU;function qU(t){let e=(n,o)=>t(o).update(J1(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Ke.wrapConstructorWithOpts=qU;function zU(t=32){if(dp.crypto.web)return dp.crypto.web.getRandomValues(new Uint8Array(t));if(dp.crypto.node)return new Uint8Array(dp.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}Ke.randomBytes=zU});var ew=P(lp=>{"use strict";d();l();Object.defineProperty(lp,"__esModule",{value:!0});lp.SHA2=void 0;var X1=up(),wl=Ju();function jU(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var Z1=class extends wl.Hash{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,wl.createView)(this.buffer)}update(e){X1.default.exists(this);let{view:r,buffer:n,blockLen:o}=this;e=(0,wl.toBytes)(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=(0,wl.createView)(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){X1.default.exists(this),X1.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;jU(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=(0,wl.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};lp.SHA2=Z1});var nw=P(ao=>{"use strict";d();l();Object.defineProperty(ao,"__esModule",{value:!0});ao.add=ao.toBig=ao.split=ao.fromBig=void 0;var hp=BigInt(2**32-1),tw=BigInt(32);function rw(t,e=!1){return e?{h:Number(t&hp),l:Number(t>>tw&hp)}:{h:Number(t>>tw&hp)|0,l:Number(t&hp)|0}}ao.fromBig=rw;function o4(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){let{h:i,l:s}=rw(t[o],e);[r[o],n[o]]=[i,s]}return[r,n]}ao.split=o4;var WU=(t,e)=>BigInt(t>>>0)<<tw|BigInt(e>>>0);ao.toBig=WU;var GU=(t,e,r)=>t>>>r,$U=(t,e,r)=>t<<32-r|e>>>r,QU=(t,e,r)=>t>>>r|e<<32-r,YU=(t,e,r)=>t<<32-r|e>>>r,JU=(t,e,r)=>t<<64-r|e>>>r-32,XU=(t,e,r)=>t>>>r-32|e<<64-r,ZU=(t,e)=>e,eL=(t,e)=>t,tL=(t,e,r)=>t<<r|e>>>32-r,rL=(t,e,r)=>e<<r|t>>>32-r,nL=(t,e,r)=>e<<r-32|t>>>64-r,oL=(t,e,r)=>t<<r-32|e>>>64-r;function i4(t,e,r,n){let o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}ao.add=i4;var iL=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),sL=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,aL=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),cL=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,uL=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),fL=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0,dL={fromBig:rw,split:o4,toBig:ao.toBig,shrSH:GU,shrSL:$U,rotrSH:QU,rotrSL:YU,rotrBH:JU,rotrBL:XU,rotr32H:ZU,rotr32L:eL,rotlSH:tL,rotlSL:rL,rotlBH:nL,rotlBL:oL,add:i4,add3L:iL,add3H:sL,add4L:aL,add4H:cL,add5H:fL,add5L:uL};ao.default=dL});var s4=P(co=>{"use strict";d();l();Object.defineProperty(co,"__esModule",{value:!0});co.sha384=co.sha512_256=co.sha512_224=co.sha512=co.SHA512=void 0;var lL=ew(),Le=nw(),pp=Ju(),[hL,pL]=Le.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Vs=new Uint32Array(80),qs=new Uint32Array(80),Pc=class extends lL.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:o,Ch:i,Cl:s,Dh:a,Dl:c,Eh:u,El:h,Fh:f,Fl:p,Gh:m,Gl:g,Hh:x,Hl:w}=this;return[e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w]}set(e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=g|0,this.Hh=x|0,this.Hl=w|0}process(e,r){for(let A=0;A<16;A++,r+=4)Vs[A]=e.getUint32(r),qs[A]=e.getUint32(r+=4);for(let A=16;A<80;A++){let T=Vs[A-15]|0,C=qs[A-15]|0,W=Le.default.rotrSH(T,C,1)^Le.default.rotrSH(T,C,8)^Le.default.shrSH(T,C,7),oe=Le.default.rotrSL(T,C,1)^Le.default.rotrSL(T,C,8)^Le.default.shrSL(T,C,7),Y=Vs[A-2]|0,G=qs[A-2]|0,re=Le.default.rotrSH(Y,G,19)^Le.default.rotrBH(Y,G,61)^Le.default.shrSH(Y,G,6),Z=Le.default.rotrSL(Y,G,19)^Le.default.rotrBL(Y,G,61)^Le.default.shrSL(Y,G,6),O=Le.default.add4L(oe,Z,qs[A-7],qs[A-16]),D=Le.default.add4H(O,W,re,Vs[A-7],Vs[A-16]);Vs[A]=D|0,qs[A]=O|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:a,Cl:c,Dh:u,Dl:h,Eh:f,El:p,Fh:m,Fl:g,Gh:x,Gl:w,Hh:S,Hl:k}=this;for(let A=0;A<80;A++){let T=Le.default.rotrSH(f,p,14)^Le.default.rotrSH(f,p,18)^Le.default.rotrBH(f,p,41),C=Le.default.rotrSL(f,p,14)^Le.default.rotrSL(f,p,18)^Le.default.rotrBL(f,p,41),W=f&m^~f&x,oe=p&g^~p&w,Y=Le.default.add5L(k,C,oe,pL[A],qs[A]),G=Le.default.add5H(Y,S,T,W,hL[A],Vs[A]),re=Y|0,Z=Le.default.rotrSH(n,o,28)^Le.default.rotrBH(n,o,34)^Le.default.rotrBH(n,o,39),O=Le.default.rotrSL(n,o,28)^Le.default.rotrBL(n,o,34)^Le.default.rotrBL(n,o,39),D=n&i^n&a^i&a,N=o&s^o&c^s&c;S=x|0,k=w|0,x=m|0,w=g|0,m=f|0,g=p|0,{h:f,l:p}=Le.default.add(u|0,h|0,G|0,re|0),u=a|0,h=c|0,a=i|0,c=s|0,i=n|0,s=o|0;let Q=Le.default.add3L(re,O,N);n=Le.default.add3H(Q,G,Z,D),o=Q|0}({h:n,l:o}=Le.default.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=Le.default.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=Le.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:h}=Le.default.add(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:p}=Le.default.add(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:g}=Le.default.add(this.Fh|0,this.Fl|0,m|0,g|0),{h:x,l:w}=Le.default.add(this.Gh|0,this.Gl|0,x|0,w|0),{h:S,l:k}=Le.default.add(this.Hh|0,this.Hl|0,S|0,k|0),this.set(n,o,i,s,a,c,u,h,f,p,m,g,x,w,S,k)}roundClean(){Vs.fill(0),qs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};co.SHA512=Pc;var ow=class extends Pc{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},iw=class extends Pc{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},sw=class extends Pc{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};co.sha512=(0,pp.wrapConstructor)(()=>new Pc);co.sha512_224=(0,pp.wrapConstructor)(()=>new ow);co.sha512_256=(0,pp.wrapConstructor)(()=>new iw);co.sha384=(0,pp.wrapConstructor)(()=>new sw)});var w4=P(Je=>{"use strict";d();l();Object.defineProperty(Je,"__esModule",{value:!0});Je.utils=Je.curve25519=Je.getSharedSecret=Je.sync=Je.verify=Je.sign=Je.getPublicKey=Je.Signature=Je.Point=Je.RistrettoPoint=Je.ExtendedPoint=Je.CURVE=void 0;var yL=np(),Jt=BigInt(0),je=BigInt(1),Ws=BigInt(2),mL=BigInt(8),a4=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),pt=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:a4,n:a4,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});Je.CURVE=pt;var l4=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),Al=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),lue=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),gL=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),bL=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),xL=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),wL=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),sr=class t{constructor(e,r,n,o){this.x=e,this.y=r,this.z=n,this.t=o}static fromAffine(e){if(!(e instanceof Ut))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(Ut.ZERO)?t.ZERO:new t(e.x,e.y,je,q(e.x*e.y))}static toAffineBatch(e){let r=vL(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(r[o]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){u4(e);let{x:r,y:n,z:o}=this,{x:i,y:s,z:a}=e,c=q(r*a),u=q(i*o),h=q(n*a),f=q(s*o);return c===u&&h===f}negate(){return new t(q(-this.x),this.y,this.z,q(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:o}=pt,i=q(e*e),s=q(r*r),a=q(Ws*q(n*n)),c=q(o*i),u=e+r,h=q(q(u*u)-i-s),f=c+s,p=f-a,m=c-s,g=q(h*p),x=q(f*m),w=q(h*m),S=q(p*f);return new t(g,x,S,w)}add(e){u4(e);let{x:r,y:n,z:o,t:i}=this,{x:s,y:a,z:c,t:u}=e,h=q((n-r)*(a+s)),f=q((n+r)*(a-s)),p=q(f-h);if(p===Jt)return this.double();let m=q(o*Ws*u),g=q(i*Ws*c),x=g+m,w=f+h,S=g-m,k=q(x*p),A=q(w*S),T=q(x*S),C=q(p*w);return new t(k,A,C,T)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],o=this,i=o;for(let s=0;s<r;s++){i=o,n.push(i);for(let a=1;a<2**(e-1);a++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=Ut.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=r&&fw.get(r);o||(o=this.precomputeWindow(n),r&&n!==1&&(o=t.normalizeZ(o),fw.set(r,o)));let i=t.ZERO,s=t.BASE,a=1+256/n,c=2**(n-1),u=BigInt(2**n-1),h=2**n,f=BigInt(n);for(let p=0;p<a;p++){let m=p*c,g=Number(e&u);e>>=f,g>c&&(g-=h,e+=je);let x=m,w=m+Math.abs(g)-1,S=p%2!==0,k=g<0;g===0?s=s.add(c4(S,o[x])):i=i.add(c4(k,o[w]))}return t.normalizeZ([i,s])[0]}multiply(e,r){return this.wNAF(ef(e,pt.l),r)}multiplyUnsafe(e){let r=ef(e,pt.l,!1),n=t.BASE,o=t.ZERO;if(r===Jt)return o;if(this.equals(o)||r===je)return this;if(this.equals(n))return this.wNAF(r);let i=o,s=this;for(;r>Jt;)r&je&&(i=i.add(s)),s=s.double(),r>>=je;return i}isSmallOrder(){return this.multiplyUnsafe(pt.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(pt.l/Ws).double();return pt.l%Ws&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:o}=this,i=this.equals(t.ZERO);e==null&&(e=i?mL:gp(o));let s=q(r*e),a=q(n*e),c=q(o*e);if(i)return Ut.ZERO;if(c!==je)throw new Error("invZ was invalid");return new Ut(s,a)}fromRistrettoBytes(){cw()}toRistrettoBytes(){cw()}fromRistrettoHash(){cw()}};Je.ExtendedPoint=sr;sr.BASE=new sr(pt.Gx,pt.Gy,je,q(pt.Gx*pt.Gy));sr.ZERO=new sr(Jt,je,je,Jt);function c4(t,e){let r=e.negate();return t?r:e}function u4(t){if(!(t instanceof sr))throw new TypeError("ExtendedPoint expected")}function aw(t){if(!(t instanceof Gs))throw new TypeError("RistrettoPoint expected")}function cw(){throw new Error("Legacy method: switch to RistrettoPoint")}var Gs=class t{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=pt,n=q(Al*e*e),o=q((n+je)*xL),i=BigInt(-1),s=q((i-r*n)*q(n+r)),{isValid:a,value:c}=lw(o,s),u=q(c*e);js(u)||(u=q(-u)),a||(c=u),a||(i=n);let h=q(i*(n-je)*wL-s),f=c*c,p=q((c+c)*s),m=q(h*gL),g=q(je-f),x=q(je+f);return new sr(q(p*x),q(g*m),q(m*x),q(p*g))}static hashToCurve(e){e=Lo(e,64);let r=uw(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),o=uw(e.slice(32,64)),i=this.calcElligatorRistrettoMap(o);return new t(n.add(i))}static fromHex(e){e=Lo(e,32);let{a:r,d:n}=pt,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=uw(e);if(!EL(Xu(i),e)||js(i))throw new Error(o);let s=q(i*i),a=q(je+r*s),c=q(je-r*s),u=q(a*a),h=q(c*c),f=q(r*n*u-h),{isValid:p,value:m}=d4(q(f*h)),g=q(m*c),x=q(m*g*f),w=q((i+i)*g);js(w)&&(w=q(-w));let S=q(a*x),k=q(w*S);if(!p||js(k)||S===Jt)throw new Error(o);return new t(new sr(w,S,je,k))}toRawBytes(){let{x:e,y:r,z:n,t:o}=this.ep,i=q(q(n+r)*q(n-r)),s=q(e*r),a=q(s*s),{value:c}=d4(q(i*a)),u=q(c*i),h=q(c*s),f=q(u*h*o),p;if(js(o*f)){let g=q(r*Al),x=q(e*Al);e=g,r=x,p=q(u*bL)}else p=h;js(e*f)&&(r=q(-r));let m=q((n-r)*p);return js(m)&&(m=q(-m)),Xu(m)}toHex(){return vl(this.toRawBytes())}toString(){return this.toHex()}equals(e){aw(e);let r=this.ep,n=e.ep,o=q(r.x*n.y)===q(r.y*n.x),i=q(r.y*n.y)===q(r.x*n.x);return o||i}add(e){return aw(e),new t(this.ep.add(e.ep))}subtract(e){return aw(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};Je.RistrettoPoint=Gs;Gs.BASE=new Gs(sr.BASE);Gs.ZERO=new Gs(sr.ZERO);var fw=new WeakMap,Ut=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,fw.delete(this)}static fromHex(e,r=!0){let{d:n,P:o}=pt;e=Lo(e,32);let i=e.slice();i[31]=e[31]&-129;let s=Cc(i);if(r&&s>=o)throw new Error("Expected 0 < hex < P");if(!r&&s>=l4)throw new Error("Expected 0 < hex < 2**256");let a=q(s*s),c=q(a-je),u=q(n*a+je),{isValid:h,value:f}=lw(c,u);if(!h)throw new Error("Point.fromHex: invalid y coordinate");let p=(f&je)===je;return(e[31]&128)!==0!==p&&(f=q(-f)),new t(f,s)}static async fromPrivateKey(e){return(await El(e)).point}toRawBytes(){let e=Xu(this.y);return e[31]|=this.x&je?128:0,e}toHex(){return vl(this.toRawBytes())}toX25519(){let{y:e}=this,r=q((je+e)*gp(je-e));return Xu(r)}isTorsionFree(){return sr.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(q(-this.x),this.y)}add(e){return sr.fromAffine(this).add(sr.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return sr.fromAffine(this).multiply(e,this).toAffine()}};Je.Point=Ut;Ut.BASE=new Ut(pt.Gx,pt.Gy);Ut.ZERO=new Ut(Jt,je);var Bc=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Lo(e,64),n=Ut.fromHex(r.slice(0,32),!1),o=Cc(r.slice(32,64));return new t(n,o)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof Ut))throw new Error("Expected Point instance");return ef(r,pt.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(Xu(this.s),32),e}toHex(){return vl(this.toRawBytes())}};Je.Signature=Bc;function f4(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,o)=>n+o.length,0),r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let i=t[n];r.set(i,o),o+=i.length}return r}var AL=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function vl(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=AL[t[r]];return e}function dw(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,o=t.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[r]=i}return e}function h4(t){let r=t.toString(16).padStart(64,"0");return dw(r)}function Xu(t){return h4(t).reverse()}function js(t){return(q(t)&je)===je}function Cc(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+vl(Uint8Array.from(t).reverse()))}var SL=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function uw(t){return q(Cc(t)&SL)}function q(t,e=pt.P){let r=t%e;return r>=Jt?r:e+r}function gp(t,e=pt.P){if(t===Jt||e<=Jt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=q(t,e),n=e,o=Jt,i=je,s=je,a=Jt;for(;r!==Jt;){let u=n/r,h=n%r,f=o-s*u,p=i-a*u;n=r,r=h,o=s,i=a,s=f,a=p}if(n!==je)throw new Error("invert: does not exist");return q(o,e)}function vL(t,e=pt.P){let r=new Array(t.length),n=t.reduce((i,s,a)=>s===Jt?i:(r[a]=i,q(i*s,e)),je),o=gp(n,e);return t.reduceRight((i,s,a)=>s===Jt?i:(r[a]=q(i*r[a],e),q(i*s,e)),o),r}function Uo(t,e){let{P:r}=pt,n=t;for(;e-- >Jt;)n*=n,n%=r;return n}function p4(t){let{P:e}=pt,r=BigInt(5),n=BigInt(10),o=BigInt(20),i=BigInt(40),s=BigInt(80),c=t*t%e*t%e,u=Uo(c,Ws)*c%e,h=Uo(u,je)*t%e,f=Uo(h,r)*h%e,p=Uo(f,n)*f%e,m=Uo(p,o)*p%e,g=Uo(m,i)*m%e,x=Uo(g,s)*g%e,w=Uo(x,s)*g%e,S=Uo(w,n)*f%e;return{pow_p_5_8:Uo(S,Ws)*t%e,b2:c}}function lw(t,e){let r=q(e*e*e),n=q(r*r*e),o=p4(t*n).pow_p_5_8,i=q(t*r*o),s=q(e*i*i),a=i,c=q(i*Al),u=s===t,h=s===q(-t),f=s===q(-t*Al);return u&&(i=a),(h||f)&&(i=c),js(i)&&(i=q(-i)),{isValid:u||h,value:i}}function d4(t){return lw(je,t)}function Zu(t){return q(Cc(t),pt.l)}function EL(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Lo(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):dw(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function ef(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(Jt<t)return t}else if(Jt<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function y4(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function IL(t){return Cc(y4(Lo(t,32)))}function m4(t){if(t=typeof t=="bigint"||typeof t=="number"?h4(ef(t,l4)):Lo(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function g4(t){let e=y4(t.slice(0,32)),r=t.slice(32,64),n=Zu(e),o=Ut.BASE.multiply(n),i=o.toRawBytes();return{head:e,prefix:r,scalar:n,point:o,pointBytes:i}}var Sl;function mp(...t){if(typeof Sl!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return Sl(...t)}async function El(t){return g4(await Je.utils.sha512(m4(t)))}function hw(t){return g4(mp(m4(t)))}async function kL(t){return(await El(t)).pointBytes}Je.getPublicKey=kL;function TL(t){return hw(t).pointBytes}async function _L(t,e){t=Lo(t);let{prefix:r,scalar:n,pointBytes:o}=await El(e),i=Zu(await Je.utils.sha512(r,t)),s=Ut.BASE.multiply(i),a=Zu(await Je.utils.sha512(s.toRawBytes(),o,t)),c=q(i+a*n,pt.l);return new Bc(s,c).toRawBytes()}Je.sign=_L;function PL(t,e){t=Lo(t);let{prefix:r,scalar:n,pointBytes:o}=hw(e),i=Zu(mp(r,t)),s=Ut.BASE.multiply(i),a=Zu(mp(s.toRawBytes(),o,t)),c=q(i+a*n,pt.l);return new Bc(s,c).toRawBytes()}function b4(t,e,r){e=Lo(e),r instanceof Ut||(r=Ut.fromHex(r,!1));let{r:n,s:o}=t instanceof Bc?t.assertValidity():Bc.fromHex(t),i=sr.BASE.multiplyUnsafe(o);return{r:n,s:o,SB:i,pub:r,msg:e}}function x4(t,e,r,n){let o=Zu(n),i=sr.fromAffine(t).multiplyUnsafe(o);return sr.fromAffine(e).add(i).subtract(r).multiplyUnsafe(pt.h).equals(sr.ZERO)}async function BL(t,e,r){let{r:n,SB:o,msg:i,pub:s}=b4(t,e,r),a=await Je.utils.sha512(n.toRawBytes(),s.toRawBytes(),i);return x4(s,n,o,a)}Je.verify=BL;function CL(t,e,r){let{r:n,SB:o,msg:i,pub:s}=b4(t,e,r),a=mp(n.toRawBytes(),s.toRawBytes(),i);return x4(s,n,o,a)}Je.sync={getExtendedPublicKey:hw,getPublicKey:TL,sign:PL,verify:CL};async function OL(t,e){let{head:r}=await El(t),n=Ut.fromHex(e).toX25519();return Je.curve25519.scalarMult(r,n)}Je.getSharedSecret=OL;Ut.BASE._setWindowSize(8);function yp(t,e,r){let n=q(t*(e-r));return e=q(e-n),r=q(r+n),[e,r]}function DL(t,e){let{P:r}=pt,n=ef(t,r),o=ef(e,r),i=BigInt(121665),s=n,a=je,c=Jt,u=n,h=je,f=Jt,p;for(let w=BigInt(254);w>=Jt;w--){let S=o>>w&je;f^=S,p=yp(f,a,u),a=p[0],u=p[1],p=yp(f,c,h),c=p[0],h=p[1],f=S;let k=a+c,A=q(k*k),T=a-c,C=q(T*T),W=A-C,oe=u+h,Y=u-h,G=q(Y*k),re=q(oe*T),Z=G+re,O=G-re;u=q(Z*Z),h=q(s*q(O*O)),a=q(A*C),c=q(W*(A+q(i*W)))}p=yp(f,a,u),a=p[0],u=p[1],p=yp(f,c,h),c=p[0],h=p[1];let{pow_p_5_8:m,b2:g}=p4(c),x=q(Uo(m,BigInt(3))*g);return q(a*x)}function RL(t){return Xu(q(t,pt.P))}function NL(t){let e=Lo(t,32);return e[31]&=127,Cc(e)}Je.curve25519={BASE_POINT_U:"0900000000000000000000000000000000000000000000000000000000000000",scalarMult(t,e){let r=NL(e),n=IL(t),o=DL(r,n);if(o===Jt)throw new Error("Invalid private or public key received");return RL(o)},scalarMultBase(t){return Je.curve25519.scalarMult(t,Je.curve25519.BASE_POINT_U)}};var zs={node:yL,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};Je.utils={bytesToHex:vl,hexToBytes:dw,concatBytes:f4,getExtendedPublicKey:El,mod:q,invert:gp,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=Lo(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return q(Cc(t),pt.l-je)+je},randomBytes:(t=32)=>{if(zs.web)return zs.web.getRandomValues(new Uint8Array(t));if(zs.node){let{randomBytes:e}=zs.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Je.utils.randomBytes(32),sha512:async(...t)=>{let e=f4(...t);if(zs.web){let r=await zs.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(zs.node)return Uint8Array.from(zs.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=Ut.BASE){let r=e.equals(Ut.BASE)?e:new Ut(e.x,e.y);return r._setWindowSize(t),r.multiply(Ws),r},sha512Sync:void 0};Object.defineProperties(Je.utils,{sha512Sync:{configurable:!1,get(){return Sl},set(t){Sl||(Sl=t)}}})});var A4=P(tf=>{"use strict";d();l();Object.defineProperty(tf,"__esModule",{value:!0});tf.sha224=tf.sha256=void 0;var UL=ew(),uo=Ju(),LL=(t,e,r)=>t&e^~t&r,ML=(t,e,r)=>t&e^t&r^e&r,FL=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),$s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Qs=new Uint32Array(64),bp=class extends UL.SHA2{constructor(){super(64,32,8,!1),this.A=$s[0]|0,this.B=$s[1]|0,this.C=$s[2]|0,this.D=$s[3]|0,this.E=$s[4]|0,this.F=$s[5]|0,this.G=$s[6]|0,this.H=$s[7]|0}get(){let{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:c}=this;return[e,r,n,o,i,s,a,c]}set(e,r,n,o,i,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)Qs[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Qs[f-15],m=Qs[f-2],g=(0,uo.rotr)(p,7)^(0,uo.rotr)(p,18)^p>>>3,x=(0,uo.rotr)(m,17)^(0,uo.rotr)(m,19)^m>>>10;Qs[f]=x+Qs[f-7]+g+Qs[f-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){let p=(0,uo.rotr)(a,6)^(0,uo.rotr)(a,11)^(0,uo.rotr)(a,25),m=h+p+LL(a,c,u)+FL[f]+Qs[f]|0,x=((0,uo.rotr)(n,2)^(0,uo.rotr)(n,13)^(0,uo.rotr)(n,22))+ML(n,o,i)|0;h=u,u=c,c=a,a=s+m|0,s=i,i=o,o=n,n=m+x|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(n,o,i,s,a,c,u,h)}roundClean(){Qs.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},pw=class extends bp{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};tf.sha256=(0,uo.wrapConstructor)(()=>new bp);tf.sha224=(0,uo.wrapConstructor)(()=>new pw)});var S4=P(gw=>{"use strict";d();l();function Qi(t,e,r){return e<=t&&t<=r}function vp(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function HL(t){for(var e=String(t),r=e.length,n=0,o=[];n<r;){var i=e.charCodeAt(n);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(n===r-1)o.push(65533);else{var s=t.charCodeAt(n+1);if(56320<=s&&s<=57343){var a=i&1023,c=s&1023;o.push(65536+(a<<10)+c),n+=1}else o.push(65533)}n+=1}return o}function KL(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var xp=-1;function mw(t){this.tokens=[].slice.call(t)}mw.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():xp},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var rf=-1;function yw(t,e){if(t)throw TypeError("Decoder error");return e||65533}var wp="utf-8";function Ap(t,e){if(!(this instanceof Ap))return new Ap(t,e);if(t=t!==void 0?String(t).toLowerCase():wp,t!==wp)throw new Error("Encoding not supported. Only utf-8 is supported");e=vp(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Ap.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=vp(r),this._streaming||(this._decoder=new VL({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var o=new mw(n),i=[],s;!o.endOfStream()&&(s=this._decoder.handler(o,o.read()),s!==rf);)s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s));if(!this._streaming){do{if(s=this._decoder.handler(o,o.read()),s===rf)break;s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s))}while(!o.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),KL(i)}};function Sp(t,e){if(!(this instanceof Sp))return new Sp(t,e);if(t=t!==void 0?String(t).toLowerCase():wp,t!==wp)throw new Error("Encoding not supported. Only utf-8 is supported");e=vp(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Sp.prototype={encode:function(e,r){e=e?String(e):"",r=vp(r),this._streaming||(this._encoder=new qL(this._options)),this._streaming=!!r.stream;for(var n=[],o=new mw(HL(e)),i;!o.endOfStream()&&(i=this._encoder.handler(o,o.read()),i!==rf);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(o,o.read()),i!==rf;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function VL(t){var e=t.fatal,r=0,n=0,o=0,i=128,s=191;this.handler=function(a,c){if(c===xp&&o!==0)return o=0,yw(e);if(c===xp)return rf;if(o===0){if(Qi(c,0,127))return c;if(Qi(c,194,223))o=1,r=c-192;else if(Qi(c,224,239))c===224&&(i=160),c===237&&(s=159),o=2,r=c-224;else if(Qi(c,240,244))c===240&&(i=144),c===244&&(s=143),o=3,r=c-240;else return yw(e);return r=r<<6*o,null}if(!Qi(c,i,s))return r=o=n=0,i=128,s=191,a.prepend(c),yw(e);if(i=128,s=191,n+=1,r+=c-128<<6*(o-n),n!==o)return null;var u=r;return r=o=n=0,u}}function qL(t){var e=t.fatal;this.handler=function(r,n){if(n===xp)return rf;if(Qi(n,0,127))return n;var o,i;Qi(n,128,2047)?(o=1,i=192):Qi(n,2048,65535)?(o=2,i=224):Qi(n,65536,1114111)&&(o=3,i=240);for(var s=[(n>>6*o)+i];o>0;){var a=n>>6*(o-1);s.push(128|a&63),o-=1}return s}}gw.TextEncoder=Sp;gw.TextDecoder=Ap});var T4=P(bt=>{"use strict";d();l();var zL=bt&&bt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),jL=bt&&bt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ai=bt&&bt.__decorate||function(t,e,r,n){var o=arguments.length,i=o<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(i=(o<3?s(i):o>3?s(e,r,i):s(e,r))||i);return o>3&&i&&Object.defineProperty(e,r,i),i},WL=bt&&bt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&zL(e,t,r);return jL(e,t),e},v4=bt&&bt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bt,"__esModule",{value:!0});bt.deserializeUnchecked=bt.deserialize=bt.serialize=bt.BinaryReader=bt.BinaryWriter=bt.BorshError=bt.baseDecode=bt.baseEncode=void 0;var Ys=v4(M1()),E4=v4(Ls()),GL=WL(S4()),$L=typeof TextDecoder!="function"?GL.TextDecoder:TextDecoder,QL=new $L("utf-8",{fatal:!0});function YL(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),E4.default.encode(Buffer.from(t))}bt.baseEncode=YL;function JL(t){return Buffer.from(E4.default.decode(t))}bt.baseDecode=JL;var bw=1024,Nr=class extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};bt.BorshError=Nr;var Ep=class{constructor(){this.buf=Buffer.alloc(bw),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(bw)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ys.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ys.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ys.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Ys.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(bw)]),this.length+=e.length}writeString(e){this.maybeResize();let r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(let n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}};bt.BinaryWriter=Ep;function ci(t,e,r){let n=r.value;r.value=function(...o){try{return n.apply(this,o)}catch(i){if(i instanceof RangeError){let s=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Nr("Reached the end of buffer when deserializing")}throw i}}}var fn=class{constructor(e){this.buf=e,this.offset=0}readU8(){let e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){let e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){let e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){let e=this.readBuffer(8);return new Ys.default(e,"le")}readU128(){let e=this.readBuffer(16);return new Ys.default(e,"le")}readU256(){let e=this.readBuffer(32);return new Ys.default(e,"le")}readU512(){let e=this.readBuffer(64);return new Ys.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Nr(`Expected buffer length ${e} isn't within bounds`);let r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){let e=this.readU32(),r=this.readBuffer(e);try{return QL.decode(r)}catch(n){throw new Nr(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){let r=this.readU32(),n=Array();for(let o=0;o<r;++o)n.push(e());return n}};ai([ci],fn.prototype,"readU8",null);ai([ci],fn.prototype,"readU16",null);ai([ci],fn.prototype,"readU32",null);ai([ci],fn.prototype,"readU64",null);ai([ci],fn.prototype,"readU128",null);ai([ci],fn.prototype,"readU256",null);ai([ci],fn.prototype,"readU512",null);ai([ci],fn.prototype,"readString",null);ai([ci],fn.prototype,"readFixedArray",null);ai([ci],fn.prototype,"readArray",null);bt.BinaryReader=fn;function I4(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Oc(t,e,r,n,o){try{if(typeof n=="string")o[`write${I4(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new Nr(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);o.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new Nr(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let i=0;i<n[1];i++)Oc(t,null,r[i],n[0],o)}else o.writeArray(r,i=>{Oc(t,e,i,n[0],o)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?o.writeU8(0):(o.writeU8(1),Oc(t,e,r,n.type,o));break}case"map":{o.writeU32(r.size),r.forEach((i,s)=>{Oc(t,e,s,n.key,o),Oc(t,e,i,n.value,o)});break}default:throw new Nr(`FieldType ${n} unrecognized`)}else k4(t,r,o)}catch(i){throw i instanceof Nr&&i.addToFieldPath(e),i}}function k4(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}let n=t.get(e.constructor);if(!n)throw new Nr(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([o,i])=>{Oc(t,o,e[o],i,r)});else if(n.kind==="enum"){let o=e[n.field];for(let i=0;i<n.values.length;++i){let[s,a]=n.values[i];if(s===o){r.writeU8(i),Oc(t,s,e[s],a,r);break}}}else throw new Nr(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function XL(t,e,r=Ep){let n=new r;return k4(t,e,n),n.toArray()}bt.serialize=XL;function Dc(t,e,r,n){try{if(typeof r=="string")return n[`read${I4(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){let o=[];for(let i=0;i<r[1];i++)o.push(Dc(t,null,r[0],n));return o}else return n.readArray(()=>Dc(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?Dc(t,e,r.type,n):void 0;if(r.kind==="map"){let o=new Map,i=n.readU32();for(let s=0;s<i;s++){let a=Dc(t,e,r.key,n),c=Dc(t,e,r.value,n);o.set(a,c)}return o}return xw(t,r,n)}catch(o){throw o instanceof Nr&&o.addToFieldPath(e),o}}function xw(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);let n=t.get(e);if(!n)throw new Nr(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){let o={};for(let[i,s]of t.get(e).fields)o[i]=Dc(t,i,s,r);return new e(o)}if(n.kind==="enum"){let o=r.readU8();if(o>=n.values.length)throw new Nr(`Enum index: ${o} is out of range`);let[i,s]=n.values[o],a=Dc(t,i,s,r);return new e({[i]:a})}throw new Nr(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function ZL(t,e,r,n=fn){let o=new n(r),i=xw(t,e,o);if(o.offset<r.length)throw new Nr(`Unexpected ${r.length-o.offset} bytes after deserialized data`);return i}bt.deserialize=ZL;function eM(t,e,r,n=fn){let o=new n(r);return xw(t,e,o)}bt.deserializeUnchecked=eM});var Bl=P(U=>{"use strict";d();l();Object.defineProperty(U,"__esModule",{value:!0});U.s16=U.s8=U.nu64be=U.u48be=U.u40be=U.u32be=U.u24be=U.u16be=U.nu64=U.u48=U.u40=U.u32=U.u24=U.u16=U.u8=U.offset=U.greedy=U.Constant=U.UTF8=U.CString=U.Blob=U.Boolean=U.BitField=U.BitStructure=U.VariantLayout=U.Union=U.UnionLayoutDiscriminator=U.UnionDiscriminator=U.Structure=U.Sequence=U.DoubleBE=U.Double=U.FloatBE=U.Float=U.NearInt64BE=U.NearInt64=U.NearUInt64BE=U.NearUInt64=U.IntBE=U.Int=U.UIntBE=U.UInt=U.OffsetLayout=U.GreedyCount=U.ExternalLayout=U.bindConstructorLayout=U.nameWithProperty=U.Layout=U.uint8ArrayToBuffer=U.checkUint8Array=void 0;U.constant=U.utf8=U.cstr=U.blob=U.unionLayoutDiscriminator=U.union=U.seq=U.bits=U.struct=U.f64be=U.f64=U.f32be=U.f32=U.ns64be=U.s48be=U.s40be=U.s32be=U.s24be=U.s16be=U.ns64=U.s48=U.s40=U.s32=U.s24=void 0;var Aw=Hn();function sf(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}U.checkUint8Array=sf;function ot(t){return sf(t),Aw.Buffer.from(t.buffer,t.byteOffset,t.length)}U.uint8ArrayToBuffer=ot;var ft=class{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){let r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}};U.Layout=ft;function Sw(t,e){return e.property?t+"["+e.property+"]":t}U.nameWithProperty=Sw;function tM(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof ft))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}U.bindConstructorLayout=tM;var Qr=class extends ft{isCount(){throw new Error("ExternalLayout is abstract")}};U.ExternalLayout=Qr;var Ip=class extends Qr{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){sf(e);let n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}};U.GreedyCount=Ip;var Il=class extends Qr{constructor(e,r=0,n){if(!(e instanceof ft))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Pn||this.layout instanceof Kn}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}};U.OffsetLayout=Il;var Pn=class extends ft{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return ot(e).readUIntLE(r,this.span)}encode(e,r,n=0){return ot(r).writeUIntLE(e,n,this.span),this.span}};U.UInt=Pn;var Kn=class extends ft{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return ot(e).readUIntBE(r,this.span)}encode(e,r,n=0){return ot(r).writeUIntBE(e,n,this.span),this.span}};U.UIntBE=Kn;var Yi=class extends ft{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return ot(e).readIntLE(r,this.span)}encode(e,r,n=0){return ot(r).writeIntLE(e,n,this.span),this.span}};U.Int=Yi;var Js=class extends ft{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return ot(e).readIntBE(r,this.span)}encode(e,r,n=0){return ot(r).writeIntBE(e,n,this.span),this.span}};U.IntBE=Js;var ww=Math.pow(2,32);function Vp(t){let e=Math.floor(t/ww),r=t-e*ww;return{hi32:e,lo32:r}}function qp(t,e){return t*ww+e}var kp=class extends ft{constructor(e){super(8,e)}decode(e,r=0){let n=ot(e),o=n.readUInt32LE(r),i=n.readUInt32LE(r+4);return qp(i,o)}encode(e,r,n=0){let o=Vp(e),i=ot(r);return i.writeUInt32LE(o.lo32,n),i.writeUInt32LE(o.hi32,n+4),8}};U.NearUInt64=kp;var Tp=class extends ft{constructor(e){super(8,e)}decode(e,r=0){let n=ot(e),o=n.readUInt32BE(r),i=n.readUInt32BE(r+4);return qp(o,i)}encode(e,r,n=0){let o=Vp(e),i=ot(r);return i.writeUInt32BE(o.hi32,n),i.writeUInt32BE(o.lo32,n+4),8}};U.NearUInt64BE=Tp;var _p=class extends ft{constructor(e){super(8,e)}decode(e,r=0){let n=ot(e),o=n.readUInt32LE(r),i=n.readInt32LE(r+4);return qp(i,o)}encode(e,r,n=0){let o=Vp(e),i=ot(r);return i.writeUInt32LE(o.lo32,n),i.writeInt32LE(o.hi32,n+4),8}};U.NearInt64=_p;var Pp=class extends ft{constructor(e){super(8,e)}decode(e,r=0){let n=ot(e),o=n.readInt32BE(r),i=n.readUInt32BE(r+4);return qp(o,i)}encode(e,r,n=0){let o=Vp(e),i=ot(r);return i.writeInt32BE(o.hi32,n),i.writeUInt32BE(o.lo32,n+4),8}};U.NearInt64BE=Pp;var Bp=class extends ft{constructor(e){super(4,e)}decode(e,r=0){return ot(e).readFloatLE(r)}encode(e,r,n=0){return ot(r).writeFloatLE(e,n),4}};U.Float=Bp;var Cp=class extends ft{constructor(e){super(4,e)}decode(e,r=0){return ot(e).readFloatBE(r)}encode(e,r,n=0){return ot(r).writeFloatBE(e,n),4}};U.FloatBE=Cp;var Op=class extends ft{constructor(e){super(8,e)}decode(e,r=0){return ot(e).readDoubleLE(r)}encode(e,r,n=0){return ot(r).writeDoubleLE(e,n),8}};U.Double=Op;var Dp=class extends ft{constructor(e){super(8,e)}decode(e,r=0){return ot(e).readDoubleBE(r)}encode(e,r,n=0){return ot(r).writeDoubleBE(e,n),8}};U.DoubleBE=Dp;var Rp=class extends ft{constructor(e,r,n){if(!(e instanceof ft))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Qr&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(r instanceof Qr)&&0<e.span&&(o=r*e.span),super(o,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,o=this.count;if(o instanceof Qr&&(o=o.decode(e,r)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let i=0;for(;i<o;)n+=this.elementLayout.getSpan(e,r+n),++i}return n}decode(e,r=0){let n=[],o=0,i=this.count;for(i instanceof Qr&&(i=i.decode(e,r));o<i;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),o+=1;return n}encode(e,r,n=0){let o=this.elementLayout,i=e.reduce((s,a)=>s+o.encode(a,r,n+s),0);return this.count instanceof Qr&&this.count.encode(e.length,r,n),i}};U.Sequence=Rp;var Np=class extends ft{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((i,s)=>i&&s instanceof ft,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(let i of e)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=e.reduce((i,s)=>i+s.getSpan(),0)}catch{}super(o,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((o,i)=>{let s=i.getSpan(e,r);return r+=s,o+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){sf(e);let n=this.makeDestinationObject();for(let o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(e,r)),r+=o.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){let o=n,i=0,s=0;for(let a of this.fields){let c=a.span;if(s=0<c?c:0,a.property!==void 0){let u=e[a.property];u!==void 0&&(s=a.encode(u,r,n),0>c&&(c=a.getSpan(r,n)))}i=n,n+=c}return i+s-o}fromArray(e){let r=this.makeDestinationObject();for(let n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(let n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}};U.Structure=Np;var kl=class{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}};U.UnionDiscriminator=kl;var of=class extends kl{constructor(e,r){if(!(e instanceof Qr&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}};U.UnionLayoutDiscriminator=of;var Tl=class extends ft{constructor(e,r,n){let o;if(e instanceof Pn||e instanceof Kn)o=new of(new Il(e));else if(e instanceof Qr&&e.isCount())o=new of(e);else if(e instanceof kl)o=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof ft))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let i=-1;r&&(i=r.span,0<=i&&(e instanceof Pn||e instanceof Kn)&&(i+=o.layout.span)),super(i,n),this.discriminator=o,this.usesPrefixDiscriminator=e instanceof Pn||e instanceof Kn,this.defaultLayout=r,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;let n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;let r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(let r in this.registry){let n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n,o=this.discriminator,i=o.decode(e,r),s=this.registry[i];if(s===void 0){let a=this.defaultLayout,c=0;this.usesPrefixDiscriminator&&(c=o.layout.span),n=this.makeDestinationObject(),n[o.property]=i,n[a.property]=a.decode(e,r+c)}else n=s.decode(e,r);return n}encode(e,r,n=0){let o=this.getSourceVariant(e);if(o===void 0){let i=this.discriminator,s=this.defaultLayout,a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(e[i.property],r,n),a+s.encode(e[s.property],r,n+a)}return o.encode(e,r,n)}addVariant(e,r,n){let o=new Up(this,e,r,n);return this.registry[e]=o,o}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}};U.Union=Tl;var Up=class extends ft{constructor(e,r,n,o){if(!(e instanceof Tl))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof ft))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=n?n.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,o),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(e,r+n)),n+o}decode(e,r=0){let n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let i=o;if(this.layout&&(this.layout.encode(e[this.property],r,n+o),i+=this.layout.getSpan(r,n+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}};U.VariantLayout=Up;function nf(t){return 0>t&&(t+=4294967296),t}var _l=class extends ft{constructor(e,r,n){if(!(e instanceof Pn||e instanceof Kn))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let o=0;this._packedSetValue=function(i){return o=nf(i),this},this._packedGetValue=function(){return o}}decode(e,r=0){let n=this.makeDestinationObject(),o=this.word.decode(e,r);this._packedSetValue(o);for(let i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(e));return n}encode(e,r,n=0){let o=this.word.decode(r,n);this._packedSetValue(o);for(let i of this.fields)if(i.property!==void 0){let s=e[i.property];s!==void 0&&i.encode(s)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){let n=new Pl(this,e,r);return this.fields.push(n),n}addBoolean(e){let r=new Lp(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(let r of this.fields)if(r.property===e)return r}};U.BitStructure=_l;var Pl=class{constructor(e,r,n){if(!(e instanceof _l))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");let o=8*e.span,i=e.fields.reduce((s,a)=>s+a.bits,0);if(r+i>o)throw new Error("bits too long for span remainder ("+(o-i)+" of "+o+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=o-i-r),this.wordMask=nf(this.valueMask<<this.start),this.property=n}decode(e,r){let n=this.container._packedGetValue();return nf(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==nf(e&this.valueMask))throw new TypeError(Sw("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);let r=this.container._packedGetValue(),n=nf(e<<this.start);this.container._packedSetValue(nf(r&~this.wordMask)|n)}};U.BitField=Pl;var Lp=class extends Pl{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};U.Boolean=Lp;var Mp=class extends ft{constructor(e,r){if(!(e instanceof Qr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Qr||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),ot(e).slice(r,r+n)}encode(e,r,n){let o=this.length;if(this.length instanceof Qr&&(o=e.length),!(e instanceof Uint8Array&&o===e.length))throw new TypeError(Sw("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(n+o>r.length)throw new RangeError("encoding overruns Uint8Array");let i=ot(e);return ot(r).write(i.toString("hex"),n,o,"hex"),this.length instanceof Qr&&this.length.encode(o,r,n),o}};U.Blob=Mp;var Fp=class extends ft{constructor(e){super(-1,e)}getSpan(e,r=0){sf(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){let n=this.getSpan(e,r);return ot(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let o=Aw.Buffer.from(e,"utf8"),i=o.length;if(n+i>r.length)throw new RangeError("encoding overruns Buffer");let s=ot(r);return o.copy(s,n),s[n+i]=0,i+1}};U.CString=Fp;var Hp=class extends ft{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return sf(e),e.length-r}decode(e,r=0){let n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return ot(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));let o=Aw.Buffer.from(e,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>r.length)throw new RangeError("encoding overruns Buffer");return o.copy(ot(r),n),i}};U.UTF8=Hp;var Kp=class extends ft{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}};U.Constant=Kp;U.greedy=(t,e)=>new Ip(t,e);U.offset=(t,e,r)=>new Il(t,e,r);U.u8=t=>new Pn(1,t);U.u16=t=>new Pn(2,t);U.u24=t=>new Pn(3,t);U.u32=t=>new Pn(4,t);U.u40=t=>new Pn(5,t);U.u48=t=>new Pn(6,t);U.nu64=t=>new kp(t);U.u16be=t=>new Kn(2,t);U.u24be=t=>new Kn(3,t);U.u32be=t=>new Kn(4,t);U.u40be=t=>new Kn(5,t);U.u48be=t=>new Kn(6,t);U.nu64be=t=>new Tp(t);U.s8=t=>new Yi(1,t);U.s16=t=>new Yi(2,t);U.s24=t=>new Yi(3,t);U.s32=t=>new Yi(4,t);U.s40=t=>new Yi(5,t);U.s48=t=>new Yi(6,t);U.ns64=t=>new _p(t);U.s16be=t=>new Js(2,t);U.s24be=t=>new Js(3,t);U.s32be=t=>new Js(4,t);U.s40be=t=>new Js(5,t);U.s48be=t=>new Js(6,t);U.ns64be=t=>new Pp(t);U.f32=t=>new Bp(t);U.f32be=t=>new Cp(t);U.f64=t=>new Op(t);U.f64be=t=>new Dp(t);U.struct=(t,e,r)=>new Np(t,e,r);U.bits=(t,e,r)=>new _l(t,e,r);U.seq=(t,e,r)=>new Rp(t,e,r);U.union=(t,e,r)=>new Tl(t,e,r);U.unionLayoutDiscriminator=(t,e)=>new of(t,e);U.blob=(t,e)=>new Mp(t,e);U.cstr=t=>new Fp(t);U.utf8=(t,e)=>new Hp(t,e);U.constant=(t,e)=>new Kp(t,e)});var vw=P(af=>{"use strict";d();l();Object.defineProperty(af,"__esModule",{value:!0});var zp;function rM(t){{let e=Buffer.from(t);e.reverse();let r=e.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}return zp.toBigInt(t,!1)}af.toBigIntLE=rM;function nM(t){{let e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}return zp.toBigInt(t,!0)}af.toBigIntBE=nM;function oM(t,e){{let r=t.toString(16),n=Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}return zp.fromBigInt(t,Buffer.allocUnsafe(e),!1)}af.toBufferLE=oM;function iM(t,e){{let r=t.toString(16);return Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex")}return zp.fromBigInt(t,Buffer.allocUnsafe(e),!0)}af.toBufferBE=iM});var N4=P(ke=>{"use strict";d();l();Object.defineProperty(ke,"__esModule",{value:!0});var jp=class extends TypeError{constructor(e,r){let n,{message:o,...i}=e,{path:s}=e,a=s.length===0?o:"At path: "+s.join(".")+" -- "+o;super(a),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var c;return(c=n)!=null?c:n=[e,...r()]}}};function sM(t){return Mo(t)&&typeof t[Symbol.iterator]=="function"}function Mo(t){return typeof t=="object"&&t!=null}function _4(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function yr(t){return typeof t=="string"?JSON.stringify(t):""+t}function aM(t){let{done:e,value:r}=t.next();return e?void 0:r}function cM(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});let{path:o,branch:i}=e,{type:s}=r,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+yr(n)+"`"}=t;return{value:n,type:s,refinement:a,key:o[o.length-1],path:o,branch:i,...t,message:c}}function*Ew(t,e,r,n){sM(t)||(t=[t]);for(let o of t){let i=cM(o,e,r,n);i&&(yield i)}}function*Iw(t,e,r={}){let{path:n=[],branch:o=[t],coerce:i=!1,mask:s=!1}=r,a={path:n,branch:o};if(i&&(t=e.coercer(t,a),s&&e.type!=="type"&&Mo(e.schema)&&Mo(t)&&!Array.isArray(t)))for(let u in t)e.schema[u]===void 0&&delete t[u];let c=!0;for(let u of e.validator(t,a))c=!1,yield[u,void 0];for(let[u,h,f]of e.entries(t,a)){let p=Iw(h,f,{path:u===void 0?n:[...n,u],branch:u===void 0?o:[...o,h],coerce:i,mask:s});for(let m of p)m[0]?(c=!1,yield[m[0],void 0]):i&&(h=m[1],u===void 0?t=h:t instanceof Map?t.set(u,h):t instanceof Set?t.add(h):Mo(t)&&(t[u]=h))}if(c)for(let u of e.refiner(t,a))c=!1,yield[u,void 0];c&&(yield[void 0,t])}var qt=class{constructor(e){let{type:r,schema:n,validator:o,refiner:i,coercer:s=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=s,o?this.validator=(c,u)=>{let h=o(c,u);return Ew(h,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{let h=i(c,u);return Ew(h,u,this,c)}:this.refiner=()=>[]}assert(e){return P4(e,this)}create(e){return B4(e,this)}is(e){return kw(e,this)}mask(e){return C4(e,this)}validate(e,r={}){return cf(e,this,r)}};function P4(t,e){let r=cf(t,e);if(r[0])throw r[0]}function B4(t,e){let r=cf(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function C4(t,e){let r=cf(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}function kw(t,e){return!cf(t,e)[0]}function cf(t,e,r={}){let n=Iw(t,e,r),o=aM(n);return o[0]?[new jp(o[0],function*(){for(let s of n)s[0]&&(yield s[0])}),void 0]:[void 0,o[1]]}function uM(...t){let e=t.map(n=>n.schema),r=Object.assign({},...e);return Cl(r)}function Vn(t,e){return new qt({type:t,schema:null,validator:e})}function fM(t,e){return new qt({...t,refiner:(r,n)=>r===void 0||t.refiner(r,n),validator(r,n){return r===void 0?!0:(e(r,n),t.validator(r,n))}})}function dM(t){return new qt({type:"dynamic",schema:null,*entries(e,r){yield*t(e,r).entries(e,r)},validator(e,r){return t(e,r).validator(e,r)},coercer(e,r){return t(e,r).coercer(e,r)}})}function lM(t){let e;return new qt({type:"lazy",schema:null,*entries(r,n){var o;(o=e)!=null||(e=t()),yield*e.entries(r,n)},validator(r,n){var o;return(o=e)!=null||(e=t()),e.validator(r,n)},coercer(r,n){var o;return(o=e)!=null||(e=t()),e.coercer(r,n)}})}function hM(t,e){let{schema:r}=t,n={...r};for(let o of e)delete n[o];return Cl(n)}function pM(t){let e=t instanceof qt?{...t.schema}:{...t};for(let r in e)e[r]=O4(e[r]);return Cl(e)}function yM(t,e){let{schema:r}=t,n={};for(let o of e)n[o]=r[o];return Cl(n)}function mM(t,e){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),Vn(t,e)}function gM(){return Vn("any",()=>!0)}function bM(t){return new qt({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(let[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||"Expected an array value, but received: "+yr(e)}})}function xM(){return Vn("boolean",t=>typeof t=="boolean")}function wM(){return Vn("date",t=>t instanceof Date&&!isNaN(t.getTime())||"Expected a valid `Date` object, but received: "+yr(t))}function AM(t){let e={},r=t.map(n=>yr(n)).join();for(let n of t)e[n]=n;return new qt({type:"enums",schema:e,validator(n){return t.includes(n)||"Expected one of `"+r+"`, but received: "+yr(n)}})}function SM(){return Vn("func",t=>typeof t=="function"||"Expected a function, but received: "+yr(t))}function vM(t){return Vn("instance",e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+yr(e))}function EM(){return Vn("integer",t=>typeof t=="number"&&!isNaN(t)&&Number.isInteger(t)||"Expected an integer, but received: "+yr(t))}function IM(t){return new qt({type:"intersection",schema:null,*entries(e,r){for(let n of t)yield*n.entries(e,r)},*validator(e,r){for(let n of t)yield*n.validator(e,r)},*refiner(e,r){for(let n of t)yield*n.refiner(e,r)}})}function kM(t){let e=yr(t),r=typeof t;return new qt({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||"Expected the literal `"+e+"`, but received: "+yr(n)}})}function TM(t,e){return new qt({type:"map",schema:null,*entries(r){if(t&&e&&r instanceof Map)for(let[n,o]of r.entries())yield[n,n,t],yield[n,o,e]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||"Expected a `Map` object, but received: "+yr(r)}})}function Tw(){return Vn("never",()=>!1)}function _M(t){return new qt({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function PM(){return Vn("number",t=>typeof t=="number"&&!isNaN(t)||"Expected a number, but received: "+yr(t))}function Cl(t){let e=t?Object.keys(t):[],r=Tw();return new qt({type:"object",schema:t||null,*entries(n){if(t&&Mo(n)){let o=new Set(Object.keys(n));for(let i of e)o.delete(i),yield[i,n[i],t[i]];for(let i of o)yield[i,n[i],r]}},validator(n){return Mo(n)||"Expected an object, but received: "+yr(n)},coercer(n){return Mo(n)?{...n}:n}})}function O4(t){return new qt({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function BM(t,e){return new qt({type:"record",schema:null,*entries(r){if(Mo(r))for(let n in r){let o=r[n];yield[n,n,t],yield[n,o,e]}},validator(r){return Mo(r)||"Expected an object, but received: "+yr(r)}})}function CM(){return Vn("regexp",t=>t instanceof RegExp)}function OM(t){return new qt({type:"set",schema:null,*entries(e){if(t&&e instanceof Set)for(let r of e)yield[r,r,t]},coercer(e){return e instanceof Set?new Set(e):e},validator(e){return e instanceof Set||"Expected a `Set` object, but received: "+yr(e)}})}function D4(){return Vn("string",t=>typeof t=="string"||"Expected a string, but received: "+yr(t))}function DM(t){let e=Tw();return new qt({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){let n=Math.max(t.length,r.length);for(let o=0;o<n;o++)yield[o,r[o],t[o]||e]}},validator(r){return Array.isArray(r)||"Expected an array, but received: "+yr(r)}})}function RM(t){let e=Object.keys(t);return new qt({type:"type",schema:t,*entries(r){if(Mo(r))for(let n of e)yield[n,r[n],t[n]]},validator(r){return Mo(r)||"Expected an object, but received: "+yr(r)}})}function NM(t){let e=t.map(r=>r.type).join(" | ");return new qt({type:"union",schema:null,validator(r,n){let o=[];for(let i of t){let[...s]=Iw(r,i,n),[a]=s;if(a[0])for(let[c]of s)c&&o.push(c);else return[]}return["Expected the value to satisfy a union of `"+e+"`, but received: "+yr(r),...o]}})}function R4(){return Vn("unknown",()=>!0)}function _w(t,e,r){return new qt({...t,coercer:(n,o)=>kw(n,e)?t.coercer(r(n,o),o):t.coercer(n,o)})}function UM(t,e,r={}){return _w(t,R4(),n=>{let o=typeof e=="function"?e():e;if(n===void 0)return o;if(!r.strict&&_4(n)&&_4(o)){let i={...n},s=!1;for(let a in o)i[a]===void 0&&(i[a]=o[a],s=!0);if(s)return i}return n})}function LM(t){return _w(t,D4(),e=>e.trim())}function MM(t){let e="Expected an empty "+t.type;return uf(t,"empty",r=>{if(r instanceof Map||r instanceof Set){let{size:n}=r;return n===0||e+" but received one with a size of `"+n+"`"}else{let{length:n}=r;return n===0||e+" but received one with a length of `"+n+"`"}})}function FM(t,e,r={}){let{exclusive:n}=r;return uf(t,"max",o=>n?o<e:o<=e||"Expected a "+t.type+" greater than "+(n?"":"or equal to ")+e+" but received `"+o+"`")}function HM(t,e,r={}){let{exclusive:n}=r;return uf(t,"min",o=>n?o>e:o>=e||"Expected a "+t.type+" greater than "+(n?"":"or equal to ")+e+" but received `"+o+"`")}function KM(t,e){return uf(t,"pattern",r=>e.test(r)||"Expected a "+t.type+" matching `/"+e.source+'/` but received "'+r+'"')}function VM(t,e,r=e){let n="Expected a "+t.type,o=e===r?"of `"+e+"`":"between `"+e+"` and `"+r+"`";return uf(t,"size",i=>{if(typeof i=="number"||i instanceof Date)return e<=i&&i<=r||n+" "+o+" but received `"+i+"`";if(i instanceof Map||i instanceof Set){let{size:s}=i;return e<=s&&s<=r||n+" with a size "+o+" but received one with a size of `"+s+"`"}else{let{length:s}=i;return e<=s&&s<=r||n+" with a length "+o+" but received one with a length of `"+s+"`"}})}function uf(t,e,r){return new qt({...t,*refiner(n,o){yield*t.refiner(n,o);let i=r(n,o),s=Ew(i,o,t,n);for(let a of s)yield{...a,refinement:e}}})}ke.Struct=qt;ke.StructError=jp;ke.any=gM;ke.array=bM;ke.assert=P4;ke.assign=uM;ke.boolean=xM;ke.coerce=_w;ke.create=B4;ke.date=wM;ke.defaulted=UM;ke.define=Vn;ke.deprecated=fM;ke.dynamic=dM;ke.empty=MM;ke.enums=AM;ke.func=SM;ke.instance=vM;ke.integer=EM;ke.intersection=IM;ke.is=kw;ke.lazy=lM;ke.literal=kM;ke.map=TM;ke.mask=C4;ke.max=FM;ke.min=HM;ke.never=Tw;ke.nullable=_M;ke.number=PM;ke.object=Cl;ke.omit=hM;ke.optional=O4;ke.partial=pM;ke.pattern=KM;ke.pick=yM;ke.record=BM;ke.refine=uf;ke.regexp=CM;ke.set=OM;ke.size=VM;ke.string=D4;ke.struct=mM;ke.trimmed=LM;ke.tuple=DM;ke.type=RM;ke.union=NM;ke.unknown=R4;ke.validate=cf});var Bw=P(Pw=>{"use strict";d();l();Object.defineProperty(Pw,"__esModule",{value:!0});Pw.default=zM;var Wp,qM=new Uint8Array(16);function zM(){if(!Wp&&(Wp=typeof self.crypto<"u"&&self.crypto.getRandomValues&&self.crypto.getRandomValues.bind(self.crypto),!Wp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Wp(qM)}});var U4=P(Gp=>{"use strict";d();l();Object.defineProperty(Gp,"__esModule",{value:!0});Gp.default=void 0;var jM=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Gp.default=jM});var Ol=P($p=>{"use strict";d();l();Object.defineProperty($p,"__esModule",{value:!0});$p.default=void 0;var WM=GM(U4());function GM(t){return t&&t.__esModule?t:{default:t}}function $M(t){return typeof t=="string"&&WM.default.test(t)}var QM=$M;$p.default=QM});var Rl=P(Dl=>{"use strict";d();l();Object.defineProperty(Dl,"__esModule",{value:!0});Dl.default=void 0;Dl.unsafeStringify=L4;var YM=JM(Ol());function JM(t){return t&&t.__esModule?t:{default:t}}var Ur=[];for(let t=0;t<256;++t)Ur.push((t+256).toString(16).slice(1));function L4(t,e=0){return Ur[t[e+0]]+Ur[t[e+1]]+Ur[t[e+2]]+Ur[t[e+3]]+"-"+Ur[t[e+4]]+Ur[t[e+5]]+"-"+Ur[t[e+6]]+Ur[t[e+7]]+"-"+Ur[t[e+8]]+Ur[t[e+9]]+"-"+Ur[t[e+10]]+Ur[t[e+11]]+Ur[t[e+12]]+Ur[t[e+13]]+Ur[t[e+14]]+Ur[t[e+15]]}function XM(t,e=0){let r=L4(t,e);if(!(0,YM.default)(r))throw TypeError("Stringified UUID is invalid");return r}var ZM=XM;Dl.default=ZM});var F4=P(Qp=>{"use strict";d();l();Object.defineProperty(Qp,"__esModule",{value:!0});Qp.default=void 0;var eF=rF(Bw()),tF=Rl();function rF(t){return t&&t.__esModule?t:{default:t}}var M4,Cw,Ow=0,Dw=0;function nF(t,e,r){let n=e&&r||0,o=e||new Array(16);t=t||{};let i=t.node||M4,s=t.clockseq!==void 0?t.clockseq:Cw;if(i==null||s==null){let p=t.random||(t.rng||eF.default)();i==null&&(i=M4=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),s==null&&(s=Cw=(p[6]<<8|p[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:Dw+1,u=a-Ow+(c-Dw)/1e4;if(u<0&&t.clockseq===void 0&&(s=s+1&16383),(u<0||a>Ow)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ow=a,Dw=c,Cw=s,a+=122192928e5;let h=((a&268435455)*1e4+c)%4294967296;o[n++]=h>>>24&255,o[n++]=h>>>16&255,o[n++]=h>>>8&255,o[n++]=h&255;let f=a/4294967296*1e4&268435455;o[n++]=f>>>8&255,o[n++]=f&255,o[n++]=f>>>24&15|16,o[n++]=f>>>16&255,o[n++]=s>>>8|128,o[n++]=s&255;for(let p=0;p<6;++p)o[n+p]=i[p];return e||(0,tF.unsafeStringify)(o)}var oF=nF;Qp.default=oF});var Rw=P(Yp=>{"use strict";d();l();Object.defineProperty(Yp,"__esModule",{value:!0});Yp.default=void 0;var iF=sF(Ol());function sF(t){return t&&t.__esModule?t:{default:t}}function aF(t){if(!(0,iF.default)(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var cF=aF;Yp.default=cF});var Nw=P(Rc=>{"use strict";d();l();Object.defineProperty(Rc,"__esModule",{value:!0});Rc.URL=Rc.DNS=void 0;Rc.default=hF;var uF=Rl(),fF=dF(Rw());function dF(t){return t&&t.__esModule?t:{default:t}}function lF(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var H4="6ba7b810-9dad-11d1-80b4-00c04fd430c8";Rc.DNS=H4;var K4="6ba7b811-9dad-11d1-80b4-00c04fd430c8";Rc.URL=K4;function hF(t,e,r){function n(o,i,s,a){var c;if(typeof o=="string"&&(o=lF(o)),typeof i=="string"&&(i=(0,fF.default)(i)),((c=i)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+o.length);if(u.set(i),u.set(o,i.length),u=r(u),u[6]=u[6]&15|e,u[8]=u[8]&63|128,s){a=a||0;for(let h=0;h<16;++h)s[a+h]=u[h];return s}return(0,uF.unsafeStringify)(u)}try{n.name=t}catch{}return n.DNS=H4,n.URL=K4,n}});var q4=P(Xp=>{"use strict";d();l();Object.defineProperty(Xp,"__esModule",{value:!0});Xp.default=void 0;function pF(t){if(typeof t=="string"){let e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return yF(mF(gF(t),t.length*8))}function yF(t){let e=[],r=t.length*32,n="0123456789abcdef";for(let o=0;o<r;o+=8){let i=t[o>>5]>>>o%32&255,s=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);e.push(s)}return e}function V4(t){return(t+64>>>9<<4)+14+1}function mF(t,e){t[e>>5]|=128<<e%32,t[V4(e)-1]=e;let r=1732584193,n=-271733879,o=-1732584194,i=271733878;for(let s=0;s<t.length;s+=16){let a=r,c=n,u=o,h=i;r=Yr(r,n,o,i,t[s],7,-680876936),i=Yr(i,r,n,o,t[s+1],12,-389564586),o=Yr(o,i,r,n,t[s+2],17,606105819),n=Yr(n,o,i,r,t[s+3],22,-1044525330),r=Yr(r,n,o,i,t[s+4],7,-176418897),i=Yr(i,r,n,o,t[s+5],12,1200080426),o=Yr(o,i,r,n,t[s+6],17,-1473231341),n=Yr(n,o,i,r,t[s+7],22,-45705983),r=Yr(r,n,o,i,t[s+8],7,1770035416),i=Yr(i,r,n,o,t[s+9],12,-1958414417),o=Yr(o,i,r,n,t[s+10],17,-42063),n=Yr(n,o,i,r,t[s+11],22,-1990404162),r=Yr(r,n,o,i,t[s+12],7,1804603682),i=Yr(i,r,n,o,t[s+13],12,-40341101),o=Yr(o,i,r,n,t[s+14],17,-1502002290),n=Yr(n,o,i,r,t[s+15],22,1236535329),r=Jr(r,n,o,i,t[s+1],5,-165796510),i=Jr(i,r,n,o,t[s+6],9,-1069501632),o=Jr(o,i,r,n,t[s+11],14,643717713),n=Jr(n,o,i,r,t[s],20,-373897302),r=Jr(r,n,o,i,t[s+5],5,-701558691),i=Jr(i,r,n,o,t[s+10],9,38016083),o=Jr(o,i,r,n,t[s+15],14,-660478335),n=Jr(n,o,i,r,t[s+4],20,-405537848),r=Jr(r,n,o,i,t[s+9],5,568446438),i=Jr(i,r,n,o,t[s+14],9,-1019803690),o=Jr(o,i,r,n,t[s+3],14,-187363961),n=Jr(n,o,i,r,t[s+8],20,1163531501),r=Jr(r,n,o,i,t[s+13],5,-1444681467),i=Jr(i,r,n,o,t[s+2],9,-51403784),o=Jr(o,i,r,n,t[s+7],14,1735328473),n=Jr(n,o,i,r,t[s+12],20,-1926607734),r=Xr(r,n,o,i,t[s+5],4,-378558),i=Xr(i,r,n,o,t[s+8],11,-2022574463),o=Xr(o,i,r,n,t[s+11],16,1839030562),n=Xr(n,o,i,r,t[s+14],23,-35309556),r=Xr(r,n,o,i,t[s+1],4,-1530992060),i=Xr(i,r,n,o,t[s+4],11,1272893353),o=Xr(o,i,r,n,t[s+7],16,-155497632),n=Xr(n,o,i,r,t[s+10],23,-1094730640),r=Xr(r,n,o,i,t[s+13],4,681279174),i=Xr(i,r,n,o,t[s],11,-358537222),o=Xr(o,i,r,n,t[s+3],16,-722521979),n=Xr(n,o,i,r,t[s+6],23,76029189),r=Xr(r,n,o,i,t[s+9],4,-640364487),i=Xr(i,r,n,o,t[s+12],11,-421815835),o=Xr(o,i,r,n,t[s+15],16,530742520),n=Xr(n,o,i,r,t[s+2],23,-995338651),r=Zr(r,n,o,i,t[s],6,-198630844),i=Zr(i,r,n,o,t[s+7],10,1126891415),o=Zr(o,i,r,n,t[s+14],15,-1416354905),n=Zr(n,o,i,r,t[s+5],21,-57434055),r=Zr(r,n,o,i,t[s+12],6,1700485571),i=Zr(i,r,n,o,t[s+3],10,-1894986606),o=Zr(o,i,r,n,t[s+10],15,-1051523),n=Zr(n,o,i,r,t[s+1],21,-2054922799),r=Zr(r,n,o,i,t[s+8],6,1873313359),i=Zr(i,r,n,o,t[s+15],10,-30611744),o=Zr(o,i,r,n,t[s+6],15,-1560198380),n=Zr(n,o,i,r,t[s+13],21,1309151649),r=Zr(r,n,o,i,t[s+4],6,-145523070),i=Zr(i,r,n,o,t[s+11],10,-1120210379),o=Zr(o,i,r,n,t[s+2],15,718787259),n=Zr(n,o,i,r,t[s+9],21,-343485551),r=Xs(r,a),n=Xs(n,c),o=Xs(o,u),i=Xs(i,h)}return[r,n,o,i]}function gF(t){if(t.length===0)return[];let e=t.length*8,r=new Uint32Array(V4(e));for(let n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function Xs(t,e){let r=(t&65535)+(e&65535);return(t>>16)+(e>>16)+(r>>16)<<16|r&65535}function bF(t,e){return t<<e|t>>>32-e}function Jp(t,e,r,n,o,i){return Xs(bF(Xs(Xs(e,t),Xs(n,i)),o),r)}function Yr(t,e,r,n,o,i,s){return Jp(e&r|~e&n,t,e,o,i,s)}function Jr(t,e,r,n,o,i,s){return Jp(e&n|r&~n,t,e,o,i,s)}function Xr(t,e,r,n,o,i,s){return Jp(e^r^n,t,e,o,i,s)}function Zr(t,e,r,n,o,i,s){return Jp(r^(e|~n),t,e,o,i,s)}var xF=pF;Xp.default=xF});var j4=P(Zp=>{"use strict";d();l();Object.defineProperty(Zp,"__esModule",{value:!0});Zp.default=void 0;var wF=z4(Nw()),AF=z4(q4());function z4(t){return t&&t.__esModule?t:{default:t}}var SF=(0,wF.default)("v3",48,AF.default),vF=SF;Zp.default=vF});var W4=P(ey=>{"use strict";d();l();Object.defineProperty(ey,"__esModule",{value:!0});ey.default=void 0;var EF=typeof self.crypto<"u"&&self.crypto.randomUUID&&self.crypto.randomUUID.bind(self.crypto),IF={randomUUID:EF};ey.default=IF});var Q4=P(ty=>{"use strict";d();l();Object.defineProperty(ty,"__esModule",{value:!0});ty.default=void 0;var G4=$4(W4()),kF=$4(Bw()),TF=Rl();function $4(t){return t&&t.__esModule?t:{default:t}}function _F(t,e,r){if(G4.default.randomUUID&&!e&&!t)return G4.default.randomUUID();t=t||{};let n=t.random||(t.rng||kF.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let o=0;o<16;++o)e[r+o]=n[o];return e}return(0,TF.unsafeStringify)(n)}var PF=_F;ty.default=PF});var Y4=P(ry=>{"use strict";d();l();Object.defineProperty(ry,"__esModule",{value:!0});ry.default=void 0;function BF(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function Uw(t,e){return t<<e|t>>>32-e}function CF(t){let e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){let s=unescape(encodeURIComponent(t));t=[];for(let a=0;a<s.length;++a)t.push(s.charCodeAt(a))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);let n=t.length/4+2,o=Math.ceil(n/16),i=new Array(o);for(let s=0;s<o;++s){let a=new Uint32Array(16);for(let c=0;c<16;++c)a[c]=t[s*64+c*4]<<24|t[s*64+c*4+1]<<16|t[s*64+c*4+2]<<8|t[s*64+c*4+3];i[s]=a}i[o-1][14]=(t.length-1)*8/Math.pow(2,32),i[o-1][14]=Math.floor(i[o-1][14]),i[o-1][15]=(t.length-1)*8&4294967295;for(let s=0;s<o;++s){let a=new Uint32Array(80);for(let m=0;m<16;++m)a[m]=i[s][m];for(let m=16;m<80;++m)a[m]=Uw(a[m-3]^a[m-8]^a[m-14]^a[m-16],1);let c=r[0],u=r[1],h=r[2],f=r[3],p=r[4];for(let m=0;m<80;++m){let g=Math.floor(m/20),x=Uw(c,5)+BF(g,u,h,f)+p+e[g]+a[m]>>>0;p=f,f=h,h=Uw(u,30)>>>0,u=c,c=x}r[0]=r[0]+c>>>0,r[1]=r[1]+u>>>0,r[2]=r[2]+h>>>0,r[3]=r[3]+f>>>0,r[4]=r[4]+p>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var OF=CF;ry.default=OF});var X4=P(ny=>{"use strict";d();l();Object.defineProperty(ny,"__esModule",{value:!0});ny.default=void 0;var DF=J4(Nw()),RF=J4(Y4());function J4(t){return t&&t.__esModule?t:{default:t}}var NF=(0,DF.default)("v5",80,RF.default),UF=NF;ny.default=UF});var Z4=P(oy=>{"use strict";d();l();Object.defineProperty(oy,"__esModule",{value:!0});oy.default=void 0;var LF="00000000-0000-0000-0000-000000000000";oy.default=LF});var eI=P(iy=>{"use strict";d();l();Object.defineProperty(iy,"__esModule",{value:!0});iy.default=void 0;var MF=FF(Ol());function FF(t){return t&&t.__esModule?t:{default:t}}function HF(t){if(!(0,MF.default)(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var KF=HF;iy.default=KF});var Lw=P(Fo=>{"use strict";d();l();Object.defineProperty(Fo,"__esModule",{value:!0});Object.defineProperty(Fo,"NIL",{enumerable:!0,get:function(){return WF.default}});Object.defineProperty(Fo,"parse",{enumerable:!0,get:function(){return YF.default}});Object.defineProperty(Fo,"stringify",{enumerable:!0,get:function(){return QF.default}});Object.defineProperty(Fo,"v1",{enumerable:!0,get:function(){return VF.default}});Object.defineProperty(Fo,"v3",{enumerable:!0,get:function(){return qF.default}});Object.defineProperty(Fo,"v4",{enumerable:!0,get:function(){return zF.default}});Object.defineProperty(Fo,"v5",{enumerable:!0,get:function(){return jF.default}});Object.defineProperty(Fo,"validate",{enumerable:!0,get:function(){return $F.default}});Object.defineProperty(Fo,"version",{enumerable:!0,get:function(){return GF.default}});var VF=Ji(F4()),qF=Ji(j4()),zF=Ji(Q4()),jF=Ji(X4()),WF=Ji(Z4()),GF=Ji(eI()),$F=Ji(Ol()),QF=Ji(Rl()),YF=Ji(Rw());function Ji(t){return t&&t.__esModule?t:{default:t}}});var rI=P((_fe,tI)=>{"use strict";d();l();var JF=Lw().v4,XF=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};let o=typeof n.version=="number"?n.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");let i={method:t};if(o===2&&(i.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");i.params=e}if(typeof r>"u"){let s=typeof n.generator=="function"?n.generator:function(){return JF()};i.id=s(i,n)}else o===2&&r===null?n.notificationIdNull&&(i.id=null):i.id=r;return i};tI.exports=XF});var oI=P((Cfe,nI)=>{"use strict";d();l();var ZF=Lw().v4,eH=rI(),Nl=function(t,e){if(!(this instanceof Nl))return new Nl(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return ZF()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};nI.exports=Nl;Nl.prototype.request=function(t,e,r,n){let o=this,i=null,s=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&s)throw new TypeError("JSON-RPC 1.0 does not support batching");if(s||!s&&t&&typeof t=="object"&&typeof e=="function")n=e,i=t;else{typeof r=="function"&&(n=r,r=void 0);let u=typeof n=="function";try{i=eH(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(h){if(u)return n(h);throw h}if(!u)return i}let c;try{c=JSON.stringify(i,this.options.replacer)}catch(u){return n(u)}return this.callServer(c,function(u,h){o._parseResponse(u,h,n)}),i};Nl.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(o){return r(o)}if(r.length===3)if(Array.isArray(n)){let o=function(s){return typeof s.error<"u"},i=function(s){return!o(s)};return r(null,n.filter(o),n.filter(i))}else return r(null,n.error,n.result);r(null,n)}});var ff=P((Rfe,Xi)=>{d();l();function Mw(t){"@babel/helpers - typeof";return Xi.exports=Mw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xi.exports.__esModule=!0,Xi.exports.default=Xi.exports,Mw(t)}Xi.exports=Mw,Xi.exports.__esModule=!0,Xi.exports.default=Xi.exports});var sI=P((Lfe,Zi)=>{d();l();var tH=ff().default;function iI(){"use strict";Zi.exports=iI=function(){return t},Zi.exports.__esModule=!0,Zi.exports.default=Zi.exports;var t={},e=Object.prototype,r=e.hasOwnProperty,n=Object.defineProperty||function(O,D,N){O[D]=N.value},o=typeof Symbol=="function"?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(O,D,N){return Object.defineProperty(O,D,{value:N,enumerable:!0,configurable:!0,writable:!0}),O[D]}try{c({},"")}catch{c=function(N,Q,fe){return N[Q]=fe}}function u(O,D,N,Q){var fe=D&&D.prototype instanceof p?D:p,ae=Object.create(fe.prototype),Ie=new G(Q||[]);return n(ae,"_invoke",{value:C(O,N,Ie)}),ae}function h(O,D,N){try{return{type:"normal",arg:O.call(D,N)}}catch(Q){return{type:"throw",arg:Q}}}t.wrap=u;var f={};function p(){}function m(){}function g(){}var x={};c(x,i,function(){return this});var w=Object.getPrototypeOf,S=w&&w(w(re([])));S&&S!==e&&r.call(S,i)&&(x=S);var k=g.prototype=p.prototype=Object.create(x);function A(O){["next","throw","return"].forEach(function(D){c(O,D,function(N){return this._invoke(D,N)})})}function T(O,D){function N(fe,ae,Ie,B){var R=h(O[fe],O,ae);if(R.type!=="throw"){var X=R.arg,L=X.value;return L&&tH(L)=="object"&&r.call(L,"__await")?D.resolve(L.__await).then(function(M){N("next",M,Ie,B)},function(M){N("throw",M,Ie,B)}):D.resolve(L).then(function(M){X.value=M,Ie(X)},function(M){return N("throw",M,Ie,B)})}B(R.arg)}var Q;n(this,"_invoke",{value:function(ae,Ie){function B(){return new D(function(R,X){N(ae,Ie,R,X)})}return Q=Q?Q.then(B,B):B()}})}function C(O,D,N){var Q="suspendedStart";return function(fe,ae){if(Q==="executing")throw new Error("Generator is already running");if(Q==="completed"){if(fe==="throw")throw ae;return Z()}for(N.method=fe,N.arg=ae;;){var Ie=N.delegate;if(Ie){var B=W(Ie,N);if(B){if(B===f)continue;return B}}if(N.method==="next")N.sent=N._sent=N.arg;else if(N.method==="throw"){if(Q==="suspendedStart")throw Q="completed",N.arg;N.dispatchException(N.arg)}else N.method==="return"&&N.abrupt("return",N.arg);Q="executing";var R=h(O,D,N);if(R.type==="normal"){if(Q=N.done?"completed":"suspendedYield",R.arg===f)continue;return{value:R.arg,done:N.done}}R.type==="throw"&&(Q="completed",N.method="throw",N.arg=R.arg)}}}function W(O,D){var N=D.method,Q=O.iterator[N];if(Q===void 0)return D.delegate=null,N==="throw"&&O.iterator.return&&(D.method="return",D.arg=void 0,W(O,D),D.method==="throw")||N!=="return"&&(D.method="throw",D.arg=new TypeError("The iterator does not provide a '"+N+"' method")),f;var fe=h(Q,O.iterator,D.arg);if(fe.type==="throw")return D.method="throw",D.arg=fe.arg,D.delegate=null,f;var ae=fe.arg;return ae?ae.done?(D[O.resultName]=ae.value,D.next=O.nextLoc,D.method!=="return"&&(D.method="next",D.arg=void 0),D.delegate=null,f):ae:(D.method="throw",D.arg=new TypeError("iterator result is not an object"),D.delegate=null,f)}function oe(O){var D={tryLoc:O[0]};1 in O&&(D.catchLoc=O[1]),2 in O&&(D.finallyLoc=O[2],D.afterLoc=O[3]),this.tryEntries.push(D)}function Y(O){var D=O.completion||{};D.type="normal",delete D.arg,O.completion=D}function G(O){this.tryEntries=[{tryLoc:"root"}],O.forEach(oe,this),this.reset(!0)}function re(O){if(O){var D=O[i];if(D)return D.call(O);if(typeof O.next=="function")return O;if(!isNaN(O.length)){var N=-1,Q=function fe(){for(;++N<O.length;)if(r.call(O,N))return fe.value=O[N],fe.done=!1,fe;return fe.value=void 0,fe.done=!0,fe};return Q.next=Q}}return{next:Z}}function Z(){return{value:void 0,done:!0}}return m.prototype=g,n(k,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:m,configurable:!0}),m.displayName=c(g,a,"GeneratorFunction"),t.isGeneratorFunction=function(O){var D=typeof O=="function"&&O.constructor;return!!D&&(D===m||(D.displayName||D.name)==="GeneratorFunction")},t.mark=function(O){return Object.setPrototypeOf?Object.setPrototypeOf(O,g):(O.__proto__=g,c(O,a,"GeneratorFunction")),O.prototype=Object.create(k),O},t.awrap=function(O){return{__await:O}},A(T.prototype),c(T.prototype,s,function(){return this}),t.AsyncIterator=T,t.async=function(O,D,N,Q,fe){fe===void 0&&(fe=Promise);var ae=new T(u(O,D,N,Q),fe);return t.isGeneratorFunction(D)?ae:ae.next().then(function(Ie){return Ie.done?Ie.value:ae.next()})},A(k),c(k,a,"Generator"),c(k,i,function(){return this}),c(k,"toString",function(){return"[object Generator]"}),t.keys=function(O){var D=Object(O),N=[];for(var Q in D)N.push(Q);return N.reverse(),function fe(){for(;N.length;){var ae=N.pop();if(ae in D)return fe.value=ae,fe.done=!1,fe}return fe.done=!0,fe}},t.values=re,G.prototype={constructor:G,reset:function(D){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Y),!D)for(var N in this)N.charAt(0)==="t"&&r.call(this,N)&&!isNaN(+N.slice(1))&&(this[N]=void 0)},stop:function(){this.done=!0;var D=this.tryEntries[0].completion;if(D.type==="throw")throw D.arg;return this.rval},dispatchException:function(D){if(this.done)throw D;var N=this;function Q(X,L){return Ie.type="throw",Ie.arg=D,N.next=X,L&&(N.method="next",N.arg=void 0),!!L}for(var fe=this.tryEntries.length-1;fe>=0;--fe){var ae=this.tryEntries[fe],Ie=ae.completion;if(ae.tryLoc==="root")return Q("end");if(ae.tryLoc<=this.prev){var B=r.call(ae,"catchLoc"),R=r.call(ae,"finallyLoc");if(B&&R){if(this.prev<ae.catchLoc)return Q(ae.catchLoc,!0);if(this.prev<ae.finallyLoc)return Q(ae.finallyLoc)}else if(B){if(this.prev<ae.catchLoc)return Q(ae.catchLoc,!0)}else{if(!R)throw new Error("try statement without catch or finally");if(this.prev<ae.finallyLoc)return Q(ae.finallyLoc)}}}},abrupt:function(D,N){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var fe=this.tryEntries[Q];if(fe.tryLoc<=this.prev&&r.call(fe,"finallyLoc")&&this.prev<fe.finallyLoc){var ae=fe;break}}ae&&(D==="break"||D==="continue")&&ae.tryLoc<=N&&N<=ae.finallyLoc&&(ae=null);var Ie=ae?ae.completion:{};return Ie.type=D,Ie.arg=N,ae?(this.method="next",this.next=ae.finallyLoc,f):this.complete(Ie)},complete:function(D,N){if(D.type==="throw")throw D.arg;return D.type==="break"||D.type==="continue"?this.next=D.arg:D.type==="return"?(this.rval=this.arg=D.arg,this.method="return",this.next="end"):D.type==="normal"&&N&&(this.next=N),f},finish:function(D){for(var N=this.tryEntries.length-1;N>=0;--N){var Q=this.tryEntries[N];if(Q.finallyLoc===D)return this.complete(Q.completion,Q.afterLoc),Y(Q),f}},catch:function(D){for(var N=this.tryEntries.length-1;N>=0;--N){var Q=this.tryEntries[N];if(Q.tryLoc===D){var fe=Q.completion;if(fe.type==="throw"){var ae=fe.arg;Y(Q)}return ae}}throw new Error("illegal catch attempt")},delegateYield:function(D,N,Q){return this.delegate={iterator:re(D),resultName:N,nextLoc:Q},this.method==="next"&&(this.arg=void 0),f}},t}Zi.exports=iI,Zi.exports.__esModule=!0,Zi.exports.default=Zi.exports});var cI=P((Hfe,aI)=>{d();l();var sy=sI()();aI.exports=sy;try{regeneratorRuntime=sy}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=sy:Function("r","regeneratorRuntime = r")(sy)}});var fI=P((qfe,Ul)=>{d();l();function uI(t,e,r,n,o,i,s){try{var a=t[i](s),c=a.value}catch(u){r(u);return}a.done?e(c):Promise.resolve(c).then(n,o)}function rH(t){return function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function s(c){uI(i,n,o,s,a,"next",c)}function a(c){uI(i,n,o,s,a,"throw",c)}s(void 0)})}}Ul.exports=rH,Ul.exports.__esModule=!0,Ul.exports.default=Ul.exports});var Fw=P((Wfe,Ll)=>{d();l();function nH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Ll.exports=nH,Ll.exports.__esModule=!0,Ll.exports.default=Ll.exports});var lI=P((Qfe,Ml)=>{d();l();var dI=ff().default;function oH(t,e){if(dI(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(dI(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}Ml.exports=oH,Ml.exports.__esModule=!0,Ml.exports.default=Ml.exports});var hI=P((Xfe,Fl)=>{d();l();var iH=ff().default,sH=lI();function aH(t){var e=sH(t,"string");return iH(e)==="symbol"?e:String(e)}Fl.exports=aH,Fl.exports.__esModule=!0,Fl.exports.default=Fl.exports});var Hw=P((tde,Hl)=>{d();l();var cH=hI();function pI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cH(n.key),n)}}function uH(t,e,r){return e&&pI(t.prototype,e),r&&pI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}Hl.exports=uH,Hl.exports.__esModule=!0,Hl.exports.default=Hl.exports});var yI=P((ode,es)=>{d();l();function Kw(t,e){return es.exports=Kw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},es.exports.__esModule=!0,es.exports.default=es.exports,Kw(t,e)}es.exports=Kw,es.exports.__esModule=!0,es.exports.default=es.exports});var Vw=P((ade,Kl)=>{d();l();var fH=yI();function dH(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fH(t,e)}Kl.exports=dH,Kl.exports.__esModule=!0,Kl.exports.default=Kl.exports});var mI=P((fde,Vl)=>{d();l();function lH(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}Vl.exports=lH,Vl.exports.__esModule=!0,Vl.exports.default=Vl.exports});var qw=P((hde,ql)=>{d();l();var hH=ff().default,pH=mI();function yH(t,e){if(e&&(hH(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pH(t)}ql.exports=yH,ql.exports.__esModule=!0,ql.exports.default=ql.exports});var jw=P((mde,ts)=>{d();l();function zw(t){return ts.exports=zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ts.exports.__esModule=!0,ts.exports.default=ts.exports,zw(t)}ts.exports=zw,ts.exports.__esModule=!0,ts.exports.default=ts.exports});var bI=P(cy=>{"use strict";d();l();var ea=E6();Object.defineProperty(cy,"__esModule",{value:!0});cy.default=void 0;var Zs=ea(cI()),ay=ea(fI()),mH=ea(ff()),gH=ea(Fw()),bH=ea(Hw()),xH=ea(Vw()),wH=ea(qw()),gI=ea(jw()),AH=I6();function SH(t){var e=vH();return function(){var n=(0,gI.default)(t),o;if(e){var i=(0,gI.default)(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return(0,wH.default)(this,o)}}function vH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var EH=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r},IH=function(t){(0,xH.default)(r,t);var e=SH(r);function r(n){var o,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;(0,gH.default)(this,r);var c=s.autoconnect,u=c===void 0?!0:c,h=s.reconnect,f=h===void 0?!0:h,p=s.reconnect_interval,m=p===void 0?1e3:p,g=s.max_reconnects,x=g===void 0?5:g,w=EH(s,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return o=e.call(this),o.webSocketFactory=n,o.queue={},o.rpc_id=0,o.address=i,o.autoconnect=u,o.ready=!1,o.reconnect=f,o.reconnect_timer_id=void 0,o.reconnect_interval=m,o.max_reconnects=x,o.rest_options=w,o.current_reconnects=0,o.generate_request_id=a||function(){return++o.rpc_id},o.autoconnect&&o._connect(o.address,Object.assign({autoconnect:o.autoconnect,reconnect:o.reconnect,reconnect_interval:o.reconnect_interval,max_reconnects:o.max_reconnects},o.rest_options)),o}return(0,bH.default)(r,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(o,i,s,a){var c=this;return!a&&(0,mH.default)(s)==="object"&&(a=s,s=null),new Promise(function(u,h){if(!c.ready)return h(new Error("socket not ready"));var f=c.generate_request_id(o,i),p={jsonrpc:"2.0",method:o,params:i||null,id:f};c.socket.send(JSON.stringify(p),a,function(m){if(m)return h(m);c.queue[f]={promise:[u,h]},s&&(c.queue[f].timeout=setTimeout(function(){delete c.queue[f],h(new Error("reply timeout"))},s))})})}},{key:"login",value:function(){var n=(0,ay.default)(Zs.default.mark(function i(s){var a;return Zs.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.call("rpc.login",s);case 2:if(a=u.sent,a){u.next=5;break}throw new Error("authentication failed");case 5:return u.abrupt("return",a);case 6:case"end":return u.stop()}},i,this)}));function o(i){return n.apply(this,arguments)}return o}()},{key:"listMethods",value:function(){var n=(0,ay.default)(Zs.default.mark(function i(){return Zs.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.call("__listMethods");case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},i,this)}));function o(){return n.apply(this,arguments)}return o}()},{key:"notify",value:function(o,i){var s=this;return new Promise(function(a,c){if(!s.ready)return c(new Error("socket not ready"));var u={jsonrpc:"2.0",method:o,params:i||null};s.socket.send(JSON.stringify(u),function(h){if(h)return c(h);a()})})}},{key:"subscribe",value:function(){var n=(0,ay.default)(Zs.default.mark(function i(s){var a;return Zs.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return typeof s=="string"&&(s=[s]),u.next=3,this.call("rpc.on",s);case 3:if(a=u.sent,!(typeof s=="string"&&a[s]!=="ok")){u.next=6;break}throw new Error("Failed subscribing to an event '"+s+"' with: "+a[s]);case 6:return u.abrupt("return",a);case 7:case"end":return u.stop()}},i,this)}));function o(i){return n.apply(this,arguments)}return o}()},{key:"unsubscribe",value:function(){var n=(0,ay.default)(Zs.default.mark(function i(s){var a;return Zs.default.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return typeof s=="string"&&(s=[s]),u.next=3,this.call("rpc.off",s);case 3:if(a=u.sent,!(typeof s=="string"&&a[s]!=="ok")){u.next=6;break}throw new Error("Failed unsubscribing from an event with: "+a);case 6:return u.abrupt("return",a);case 7:case"end":return u.stop()}},i,this)}));function o(i){return n.apply(this,arguments)}return o}()},{key:"close",value:function(o,i){this.socket.close(o||1e3,i)}},{key:"_connect",value:function(o,i){var s=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(o,i),this.socket.addEventListener("open",function(){s.ready=!0,s.emit("open"),s.current_reconnects=0}),this.socket.addEventListener("message",function(a){var c=a.data;c instanceof ArrayBuffer&&(c=Buffer.from(c).toString());try{c=JSON.parse(c)}catch{return}if(c.notification&&s.listeners(c.notification).length){if(!Object.keys(c.params).length)return s.emit(c.notification);var u=[c.notification];if(c.params.constructor===Object)u.push(c.params);else for(var h=0;h<c.params.length;h++)u.push(c.params[h]);return Promise.resolve().then(function(){s.emit.apply(s,u)})}if(!s.queue[c.id])return c.method&&c.params?Promise.resolve().then(function(){s.emit(c.method,c.params)}):void 0;"error"in c=="result"in c&&s.queue[c.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),s.queue[c.id].timeout&&clearTimeout(s.queue[c.id].timeout),c.error?s.queue[c.id].promise[1](c.error):s.queue[c.id].promise[0](c.result),delete s.queue[c.id]}),this.socket.addEventListener("error",function(a){return s.emit("error",a)}),this.socket.addEventListener("close",function(a){var c=a.code,u=a.reason;s.ready&&setTimeout(function(){return s.emit("close",c,u)},0),s.ready=!1,s.socket=void 0,c!==1e3&&(s.current_reconnects++,s.reconnect&&(s.max_reconnects>s.current_reconnects||s.max_reconnects===0)&&(s.reconnect_timer_id=setTimeout(function(){return s._connect(o,i)},s.reconnect_interval)))})}}]),r}(AH.EventEmitter);cy.default=IH});var wI=P(Ww=>{"use strict";d();l();var zl=E6();Object.defineProperty(Ww,"__esModule",{value:!0});Ww.default=RH;var kH=zl(Fw()),TH=zl(Hw()),_H=zl(Vw()),PH=zl(qw()),xI=zl(jw()),BH=I6();function CH(t){var e=OH();return function(){var n=(0,xI.default)(t),o;if(e){var i=(0,xI.default)(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return(0,PH.default)(this,o)}}function OH(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var DH=function(t){(0,_H.default)(r,t);var e=CH(r);function r(n,o,i){var s;return(0,kH.default)(this,r),s=e.call(this),s.socket=new self.WebSocket(n,i),s.socket.onopen=function(){return s.emit("open")},s.socket.onmessage=function(a){return s.emit("message",a.data)},s.socket.onerror=function(a){return s.emit("error",a)},s.socket.onclose=function(a){s.emit("close",a.code,a.reason)},s}return(0,TH.default)(r,[{key:"send",value:function(o,i,s){var a=s||i;try{this.socket.send(o),a()}catch(c){a(c)}}},{key:"close",value:function(o,i){this.socket.close(o,i)}},{key:"addEventListener",value:function(o,i,s){this.socket.addEventListener(o,i,s)}}]),r}(BH.EventEmitter);function RH(t,e){return new DH(t,e)}});var _I=P(It=>{"use strict";d();l();Object.defineProperty(It,"__esModule",{value:!0});It.shake256=It.shake128=It.keccak_512=It.keccak_384=It.keccak_256=It.keccak_224=It.sha3_512=It.sha3_384=It.sha3_256=It.sha3_224=It.Keccak=It.keccakP=void 0;var df=up(),Gl=nw(),Wl=Ju(),[vI,EI,II]=[[],[],[]],NH=BigInt(0),jl=BigInt(1),UH=BigInt(2),LH=BigInt(7),MH=BigInt(256),FH=BigInt(113);for(let t=0,e=jl,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],vI.push(2*(5*n+r)),EI.push((t+1)*(t+2)/2%64);let o=NH;for(let i=0;i<7;i++)e=(e<<jl^(e>>LH)*FH)%MH,e&UH&&(o^=jl<<(jl<<BigInt(i))-jl);II.push(o)}var[HH,KH]=Gl.default.split(II,!0),AI=(t,e,r)=>r>32?Gl.default.rotlBH(t,e,r):Gl.default.rotlSH(t,e,r),SI=(t,e,r)=>r>32?Gl.default.rotlBL(t,e,r):Gl.default.rotlSL(t,e,r);function kI(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,u=r[c],h=r[c+1],f=AI(u,h,1)^r[a],p=SI(u,h,1)^r[a+1];for(let m=0;m<50;m+=10)t[s+m]^=f,t[s+m+1]^=p}let o=t[2],i=t[3];for(let s=0;s<24;s++){let a=EI[s],c=AI(o,i,a),u=SI(o,i,a),h=vI[s];o=t[h],i=t[h+1],t[h]=c,t[h+1]=u}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=HH[n],t[1]^=KH[n]}r.fill(0)}It.keccakP=kI;var $l=class t extends Wl.Hash{constructor(e,r,n,o=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=o,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,df.default.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=(0,Wl.u32)(this.state)}keccak(){kI(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){df.default.exists(this);let{blockLen:r,state:n}=this;e=(0,Wl.toBytes)(e);let o=e.length;for(let i=0;i<o;){let s=Math.min(r-this.pos,o-i);for(let a=0;a<s;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:o}=this;e[n]^=r,r&128&&n===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){df.default.exists(this,!1),df.default.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let o=0,i=e.length;o<i;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,i-o);e.set(r.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return df.default.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(df.default.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:o,rounds:i,enableXOF:s}=this;return e||(e=new t(r,n,o,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=o,e.enableXOF=s,e.destroyed=this.destroyed,e}};It.Keccak=$l;var ta=(t,e,r)=>(0,Wl.wrapConstructor)(()=>new $l(e,t,r));It.sha3_224=ta(6,144,224/8);It.sha3_256=ta(6,136,256/8);It.sha3_384=ta(6,104,384/8);It.sha3_512=ta(6,72,512/8);It.keccak_224=ta(1,144,224/8);It.keccak_256=ta(1,136,256/8);It.keccak_384=ta(1,104,384/8);It.keccak_512=ta(1,72,512/8);var TI=(t,e,r)=>(0,Wl.wrapConstructorWithOpts)((n={})=>new $l(e,t,n.dkLen===void 0?r:n.dkLen,!0));It.shake128=TI(31,168,128/8);It.shake256=TI(31,136,256/8)});var BI=P(Ql=>{"use strict";d();l();Object.defineProperty(Ql,"__esModule",{value:!0});Ql.hmac=void 0;var uy=up(),PI=Ju(),fy=class extends PI.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,uy.default.hash(e);let n=(0,PI.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return uy.default.exists(this),this.iHash.update(e),this}digestInto(e){uy.default.exists(this),uy.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},VH=(t,e,r)=>new fy(t,e).update(r).digest();Ql.hmac=VH;Ql.hmac.create=(t,e)=>new fy(t,e)});var Yw=P(Qe=>{"use strict";d();l();Object.defineProperty(Qe,"__esModule",{value:!0});Qe.utils=Qe.schnorr=Qe.verify=Qe.signSync=Qe.sign=Qe.getSharedSecret=Qe.recoverPublicKey=Qe.getPublicKey=Qe.Signature=Qe.Point=Qe.CURVE=void 0;var qH=np(),Xe=BigInt(0),Pt=BigInt(1),oa=BigInt(2),Jl=BigInt(3),CI=BigInt(8),xt=Object.freeze({a:Xe,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Pt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});Qe.CURVE=xt;var OI=(t,e)=>(t+e/oa)/e,dy={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=xt,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Pt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,s=BigInt("0x100000000000000000000000000000000"),a=OI(i*t,e),c=OI(-n*t,e),u=ce(t-a*r-c*o,e),h=ce(-a*n-c*i,e),f=u>s,p=h>s;if(f&&(u=e-u),p&&(h=e-h),u>s||h>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:p,k2:h}}},Ho=32,Uc=32,FI=32,my=Ho+1,gy=2*Ho+1;function DI(t){let{a:e,b:r}=xt,n=ce(t*t),o=ce(n*t);return ce(o+e*t+r)}var ly=xt.a===Xe,Zl=class extends Error{constructor(e){super(e)}};function RI(t){if(!(t instanceof dn))throw new TypeError("JacobianPoint expected")}var dn=class t{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof kt))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(kt.ZERO)?t.ZERO:new t(e.x,e.y,Pt)}static toAffineBatch(e){let r=$H(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(r[o]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){RI(e);let{x:r,y:n,z:o}=this,{x:i,y:s,z:a}=e,c=ce(o*o),u=ce(a*a),h=ce(r*u),f=ce(i*c),p=ce(ce(n*a)*u),m=ce(ce(s*o)*c);return h===f&&p===m}negate(){return new t(this.x,ce(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,o=ce(e*e),i=ce(r*r),s=ce(i*i),a=e+i,c=ce(oa*(ce(a*a)-o-s)),u=ce(Jl*o),h=ce(u*u),f=ce(h-oa*c),p=ce(u*(c-f)-CI*s),m=ce(oa*r*n);return new t(f,p,m)}add(e){RI(e);let{x:r,y:n,z:o}=this,{x:i,y:s,z:a}=e;if(i===Xe||s===Xe)return this;if(r===Xe||n===Xe)return e;let c=ce(o*o),u=ce(a*a),h=ce(r*u),f=ce(i*c),p=ce(ce(n*a)*u),m=ce(ce(s*o)*c),g=ce(f-h),x=ce(m-p);if(g===Xe)return x===Xe?this.double():t.ZERO;let w=ce(g*g),S=ce(g*w),k=ce(h*w),A=ce(x*x-S-oa*k),T=ce(x*(k-A)-p*S),C=ce(o*a*g);return new t(A,T,C)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===Xe)return r;let n=LI(e);if(n===Pt)return this;if(!ly){let f=r,p=this;for(;n>Xe;)n&Pt&&(f=f.add(p)),p=p.double(),n>>=Pt;return f}let{k1neg:o,k1:i,k2neg:s,k2:a}=dy.splitScalar(n),c=r,u=r,h=this;for(;i>Xe||a>Xe;)i&Pt&&(c=c.add(h)),a&Pt&&(u=u.add(h)),h=h.double(),i>>=Pt,a>>=Pt;return o&&(c=c.negate()),s&&(u=u.negate()),u=new t(ce(u.x*dy.beta),u.y,u.z),c.add(u)}precomputeWindow(e){let r=ly?128/e+1:256/e+1,n=[],o=this,i=o;for(let s=0;s<r;s++){i=o,n.push(i);for(let a=1;a<2**(e-1);a++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=kt.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=r&&Gw.get(r);o||(o=this.precomputeWindow(n),r&&n!==1&&(o=t.normalizeZ(o),Gw.set(r,o)));let i=t.ZERO,s=t.BASE,a=1+(ly?128/n:256/n),c=2**(n-1),u=BigInt(2**n-1),h=2**n,f=BigInt(n);for(let p=0;p<a;p++){let m=p*c,g=Number(e&u);e>>=f,g>c&&(g-=h,e+=Pt);let x=m,w=m+Math.abs(g)-1,S=p%2!==0,k=g<0;g===0?s=s.add(hy(S,o[x])):i=i.add(hy(k,o[w]))}return{p:i,f:s}}multiply(e,r){let n=LI(e),o,i;if(ly){let{k1neg:s,k1:a,k2neg:c,k2:u}=dy.splitScalar(n),{p:h,f}=this.wNAF(a,r),{p,f:m}=this.wNAF(u,r);h=hy(s,h),p=hy(c,p),p=new t(ce(p.x*dy.beta),p.y,p.z),o=h.add(p),i=f.add(m)}else{let{p:s,f:a}=this.wNAF(n,r);o=s,i=a}return t.normalizeZ([o,i])[0]}toAffine(e){let{x:r,y:n,z:o}=this,i=this.equals(t.ZERO);e==null&&(e=i?CI:gf(o));let s=e,a=ce(s*s),c=ce(a*s),u=ce(r*a),h=ce(n*c),f=ce(o*s);if(i)return kt.ZERO;if(f!==Pt)throw new Error("invZ was invalid");return new kt(u,h)}};dn.BASE=new dn(xt.Gx,xt.Gy,Pt);dn.ZERO=new dn(Xe,Pt,Xe);function hy(t,e){let r=e.negate();return t?r:e}var Gw=new WeakMap,kt=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Gw.delete(this)}hasEvenY(){return this.y%oa===Xe}static fromCompressedHex(e){let r=e.length===32,n=zn(r?e:e.subarray(1));if(!yy(n))throw new Error("Point is not on curve");let o=DI(n),i=GH(o),s=(i&Pt)===Pt;r?s&&(i=ce(-i)):(e[0]&1)===1!==s&&(i=ce(-i));let a=new t(n,i);return a.assertValidity(),a}static fromUncompressedHex(e){let r=zn(e.subarray(1,Ho+1)),n=zn(e.subarray(Ho+1,Ho*2+1)),o=new t(r,n);return o.assertValidity(),o}static fromHex(e){let r=ui(e),n=r.length,o=r[0];if(n===Ho)return this.fromCompressedHex(r);if(n===my&&(o===2||o===3))return this.fromCompressedHex(r);if(n===gy&&o===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${my} compressed bytes or ${gy} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(Lc(e))}static fromSignature(e,r,n){let{r:o,s:i}=KI(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let s=$w(ui(e)),{n:a}=xt,c=n===2||n===3?o+a:o,u=gf(c,a),h=ce(-s*u,a),f=ce(i*u,a),p=n&1?"03":"02",m=t.fromHex(p+ia(c)),g=t.BASE.multiplyAndAddUnsafe(m,h,f);if(!g)throw new Error("Cannot recover signature: point at infinify");return g.assertValidity(),g}toRawBytes(e=!1){return sa(this.toHex(e))}toHex(e=!1){let r=ia(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${ia(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!yy(r)||!yy(n))throw new Error(e);let o=ce(n*n),i=DI(r);if(ce(o-i)!==Xe)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,ce(-this.y))}double(){return dn.fromAffine(this).double().toAffine()}add(e){return dn.fromAffine(this).add(dn.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return dn.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let o=dn.fromAffine(this),i=r===Xe||r===Pt||this!==t.BASE?o.multiplyUnsafe(r):o.multiply(r),s=dn.fromAffine(e).multiplyUnsafe(n),a=i.add(s);return a.equals(dn.ZERO)?void 0:a.toAffine()}};Qe.Point=kt;kt.BASE=new kt(xt.Gx,xt.Gy);kt.ZERO=new kt(Xe,Xe);function NI(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function UI(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${hf(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:zn(r),left:t.subarray(e+2)}}function zH(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${hf(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=UI(t.subarray(2)),{data:n,left:o}=UI(r);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${hf(o)}`);return{r:e,s:n}}var Nc=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let o=r?hf(e):e;if(o.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(by(o.slice(0,64)),by(o.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:o}=zH(r?e:sa(e));return new t(n,o)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!yf(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!yf(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=xt.n>>Pt;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,ce(-this.s,xt.n)):this}toDERRawBytes(){return sa(this.toDERHex())}toDERHex(){let e=NI(Yl(this.s)),r=NI(Yl(this.r)),n=e.length/2,o=r.length/2,i=Yl(n),s=Yl(o);return`30${Yl(o+n+4)}02${s}${r}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return sa(this.toCompactHex())}toCompactHex(){return ia(this.r)+ia(this.s)}};Qe.Signature=Nc;function na(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,o)=>n+o.length,0),r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let i=t[n];r.set(i,o),o+=i.length}return r}var jH=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function hf(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=jH[t[r]];return e}var WH=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function ia(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(Xe<=t&&t<WH))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function pf(t){let e=sa(ia(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function Yl(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function by(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function sa(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,o=t.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[r]=i}return e}function zn(t){return by(hf(t))}function ui(t){return t instanceof Uint8Array?Uint8Array.from(t):sa(t)}function LI(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&yf(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function ce(t,e=xt.P){let r=t%e;return r>=Xe?r:e+r}function fo(t,e){let{P:r}=xt,n=t;for(;e-- >Xe;)n*=n,n%=r;return n}function GH(t){let{P:e}=xt,r=BigInt(6),n=BigInt(11),o=BigInt(22),i=BigInt(23),s=BigInt(44),a=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=fo(u,Jl)*u%e,f=fo(h,Jl)*u%e,p=fo(f,oa)*c%e,m=fo(p,n)*p%e,g=fo(m,o)*m%e,x=fo(g,s)*g%e,w=fo(x,a)*x%e,S=fo(w,s)*g%e,k=fo(S,Jl)*u%e,A=fo(k,i)*m%e,T=fo(A,r)*c%e,C=fo(T,oa);if(C*C%e!==t)throw new Error("Cannot find square root");return C}function gf(t,e=xt.P){if(t===Xe||e<=Xe)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=ce(t,e),n=e,o=Xe,i=Pt,s=Pt,a=Xe;for(;r!==Xe;){let u=n/r,h=n%r,f=o-s*u,p=i-a*u;n=r,r=h,o=s,i=a,s=f,a=p}if(n!==Pt)throw new Error("invert: does not exist");return ce(o,e)}function $H(t,e=xt.P){let r=new Array(t.length),n=t.reduce((i,s,a)=>s===Xe?i:(r[a]=i,ce(i*s,e)),Pt),o=gf(n,e);return t.reduceRight((i,s,a)=>s===Xe?i:(r[a]=ce(i*r[a],e),ce(i*s,e)),o),r}function QH(t){let e=t.length*8-Uc*8,r=zn(t);return e>0?r>>BigInt(e):r}function $w(t,e=!1){let r=QH(t);if(e)return r;let{n}=xt;return r>=n?r-n:r}var lf,Xl,xy=class{constructor(e,r){if(this.hashLen=e,this.qByteLen=r,typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof r!="number"||r<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return Qe.utils.hmacSha256(this.k,...e)}hmacSync(...e){return Xl(this.k,...e)}checkSync(){if(typeof Xl!="function")throw new Zl("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),e.length!==0&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),e.length!==0&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return na(...r)}generateSync(){this.checkSync(),this.incr();let e=0,r=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);let n=this.v.slice();r.push(n),e+=this.v.length}return na(...r)}};function yf(t){return Xe<t&&t<xt.n}function yy(t){return Xe<t&&t<xt.P}function HI(t,e,r,n=!0){let{n:o}=xt,i=$w(t,!0);if(!yf(i))return;let s=gf(i,o),a=kt.BASE.multiply(i),c=ce(a.x,o);if(c===Xe)return;let u=ce(s*ce(e+r*c,o),o);if(u===Xe)return;let h=new Nc(c,u),f=(a.x===h.r?0:2)|Number(a.y&Pt);return n&&h.hasHighS()&&(h=h.normalizeS(),f^=1),{sig:h,recovery:f}}function Lc(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*Uc)throw new Error("Expected 32 bytes of private key");e=by(t)}else if(t instanceof Uint8Array){if(t.length!==Uc)throw new Error("Expected 32 bytes of private key");e=zn(t)}else throw new TypeError("Expected valid private key");if(!yf(e))throw new Error("Expected private key: 0 < key < n");return e}function Qw(t){return t instanceof kt?(t.assertValidity(),t):kt.fromHex(t)}function KI(t){if(t instanceof Nc)return t.assertValidity(),t;try{return Nc.fromDER(t)}catch{return Nc.fromCompact(t)}}function YH(t,e=!1){return kt.fromPrivateKey(t).toRawBytes(e)}Qe.getPublicKey=YH;function JH(t,e,r,n=!1){return kt.fromSignature(t,e,r).toRawBytes(n)}Qe.recoverPublicKey=JH;function MI(t){let e=t instanceof Uint8Array,r=typeof t=="string",n=(e||r)&&t.length;return e?n===my||n===gy:r?n===my*2||n===gy*2:t instanceof kt}function XH(t,e,r=!1){if(MI(t))throw new TypeError("getSharedSecret: first arg must be private key");if(!MI(e))throw new TypeError("getSharedSecret: second arg must be public key");let n=Qw(e);return n.assertValidity(),n.multiply(Lc(t)).toRawBytes(r)}Qe.getSharedSecret=XH;function VI(t){let e=t.length>Ho?t.slice(0,Ho):t;return zn(e)}function ZH(t){let e=VI(t),r=ce(e,xt.n);return qI(r<Xe?e:r)}function qI(t){return pf(t)}function zI(t,e,r){if(t==null)throw new Error(`sign: expected valid message hash, not "${t}"`);let n=ui(t),o=Lc(e),i=[qI(o),ZH(n)];if(r!=null){r===!0&&(r=Qe.utils.randomBytes(Ho));let c=ui(r);if(c.length!==Ho)throw new Error(`sign: Expected ${Ho} bytes of extra data`);i.push(c)}let s=na(...i),a=VI(n);return{seed:s,m:a,d:o}}function jI(t,e){let{sig:r,recovery:n}=t,{der:o,recovered:i}=Object.assign({canonical:!0,der:!0},e),s=o?r.toDERRawBytes():r.toCompactRawBytes();return i?[s,n]:s}async function eK(t,e,r={}){let{seed:n,m:o,d:i}=zI(t,e,r.extraEntropy),s=new xy(FI,Uc);await s.reseed(n);let a;for(;!(a=HI(await s.generate(),o,i,r.canonical));)await s.reseed();return jI(a,r)}Qe.sign=eK;function tK(t,e,r={}){let{seed:n,m:o,d:i}=zI(t,e,r.extraEntropy),s=new xy(FI,Uc);s.reseedSync(n);let a;for(;!(a=HI(s.generateSync(),o,i,r.canonical));)s.reseedSync();return jI(a,r)}Qe.signSync=tK;var rK={strict:!0};function nK(t,e,r,n=rK){let o;try{o=KI(t),e=ui(e)}catch{return!1}let{r:i,s}=o;if(n.strict&&o.hasHighS())return!1;let a=$w(e),c;try{c=Qw(r)}catch{return!1}let{n:u}=xt,h=gf(s,u),f=ce(a*h,u),p=ce(i*h,u),m=kt.BASE.multiplyAndAddUnsafe(c,f,p);return m?ce(m.x,u)===i:!1}Qe.verify=nK;function wy(t){return ce(zn(t),xt.n)}var mf=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=ui(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=zn(r.subarray(0,32)),o=zn(r.subarray(32,64));return new t(n,o)}assertValidity(){let{r:e,s:r}=this;if(!yy(e)||!yf(r))throw new Error("Invalid signature")}toHex(){return ia(this.r)+ia(this.s)}toRawBytes(){return sa(this.toHex())}};function oK(t){return kt.fromPrivateKey(t).toRawX()}var Ay=class{constructor(e,r,n=Qe.utils.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=ui(e);let{x:o,scalar:i}=this.getScalar(Lc(r));if(this.px=o,this.d=i,this.rand=ui(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=kt.fromPrivateKey(e),n=r.hasEvenY()?e:xt.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return pf(e^zn(r))}finalizeNonce(e){let r=ce(zn(e),xt.n);if(r===Xe)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:o,scalar:i}=this.getScalar(r);return{R:n,rx:o,k:i}}finalizeSig(e,r,n,o){return new mf(e.x,ce(r+n*o,xt.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:o}=this,i=Qe.utils.taggedHash,s=this.initNonce(r,await i(ra.aux,o)),{R:a,rx:c,k:u}=this.finalizeNonce(await i(ra.nonce,s,n,e)),h=wy(await i(ra.challenge,c,n,e)),f=this.finalizeSig(a,u,h,r);return await $I(f,e,n)||this.error(),f}calcSync(){let{m:e,d:r,px:n,rand:o}=this,i=Qe.utils.taggedHashSync,s=this.initNonce(r,i(ra.aux,o)),{R:a,rx:c,k:u}=this.finalizeNonce(i(ra.nonce,s,n,e)),h=wy(i(ra.challenge,c,n,e)),f=this.finalizeSig(a,u,h,r);return QI(f,e,n)||this.error(),f}};async function iK(t,e,r){return new Ay(t,e,r).calc()}function sK(t,e,r){return new Ay(t,e,r).calcSync()}function WI(t,e,r){let n=t instanceof mf,o=n?t:mf.fromHex(t);return n&&o.assertValidity(),{...o,m:ui(e),P:Qw(r)}}function GI(t,e,r,n){let o=kt.BASE.multiplyAndAddUnsafe(e,Lc(r),ce(-n,xt.n));return!(!o||!o.hasEvenY()||o.x!==t)}async function $I(t,e,r){try{let{r:n,s:o,m:i,P:s}=WI(t,e,r),a=wy(await Qe.utils.taggedHash(ra.challenge,pf(n),s.toRawX(),i));return GI(n,s,o,a)}catch{return!1}}function QI(t,e,r){try{let{r:n,s:o,m:i,P:s}=WI(t,e,r),a=wy(Qe.utils.taggedHashSync(ra.challenge,pf(n),s.toRawX(),i));return GI(n,s,o,a)}catch(n){if(n instanceof Zl)throw n;return!1}}Qe.schnorr={Signature:mf,getPublicKey:oK,sign:iK,verify:$I,signSync:sK,verifySync:QI};kt.BASE._setWindowSize(8);var qn={node:qH,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},ra={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},py={};Qe.utils={bytesToHex:hf,hexToBytes:sa,concatBytes:na,mod:ce,invert:gf,isValidPrivateKey(t){try{return Lc(t),!0}catch{return!1}},_bigintTo32Bytes:pf,_normalizePrivateKey:Lc,hashToPrivateKey:t=>{t=ui(t);let e=Uc+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=ce(zn(t),xt.n-Pt)+Pt;return pf(r)},randomBytes:(t=32)=>{if(qn.web)return qn.web.getRandomValues(new Uint8Array(t));if(qn.node){let{randomBytes:e}=qn.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Qe.utils.hashToPrivateKey(Qe.utils.randomBytes(Uc+8)),precompute(t=8,e=kt.BASE){let r=e===kt.BASE?e:new kt(e.x,e.y);return r._setWindowSize(t),r.multiply(Jl),r},sha256:async(...t)=>{if(qn.web){let e=await qn.web.subtle.digest("SHA-256",na(...t));return new Uint8Array(e)}else if(qn.node){let{createHash:e}=qn.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(qn.web){let r=await qn.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=na(...e),o=await qn.web.subtle.sign("HMAC",r,n);return new Uint8Array(o)}else if(qn.node){let{createHmac:r}=qn.node,n=r("sha256",t);return e.forEach(o=>n.update(o)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=py[t];if(r===void 0){let n=await Qe.utils.sha256(Uint8Array.from(t,o=>o.charCodeAt(0)));r=na(n,n),py[t]=r}return Qe.utils.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof lf!="function")throw new Zl("sha256Sync is undefined, you need to set it");let r=py[t];if(r===void 0){let n=lf(Uint8Array.from(t,o=>o.charCodeAt(0)));r=na(n,n),py[t]=r}return lf(r,...e)},_JacobianPoint:dn};Object.defineProperties(Qe.utils,{sha256Sync:{configurable:!1,get(){return lf},set(t){lf||(lf=t)}},hmacSha256Sync:{configurable:!1,get(){return Xl},set(t){Xl||(Xl=t)}}})});var Hy=P(ne=>{"use strict";d();l();Object.defineProperty(ne,"__esModule",{value:!0});var Te=xl(),aK=s4(),cK=w4(),uK=M1(),fK=Ls(),n2=A4(),Jw=T4(),h5=Bl(),o2=vw(),y=N4(),dK=oI(),lK=bI(),hK=wI(),YI=_I(),pK=BI(),yK=Yw();function l0(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}function v2(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var ua=v2(cK),JI=l0(uK),Lr=l0(fK),I=v2(h5),mK=l0(dK),gK=l0(lK),bK=l0(hK),Uy=v2(yK);ua.utils.sha512Sync=(...t)=>aK.sha512(ua.utils.concatBytes(...t));var xK=ua.utils.randomPrivateKey,XI=()=>{let t=ua.utils.randomPrivateKey(),e=ky(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},ky=ua.sync.getPublicKey;function ZI(t){try{return ua.Point.fromHex(t,!0),!0}catch{return!1}}var E2=(t,e)=>ua.sync.sign(t,e.slice(0,32)),wK=ua.sync.verify,Me=t=>Te.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Te.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Te.Buffer.from(t),n0=class{constructor(e){Object.assign(this,e)}encode(){return Te.Buffer.from(Jw.serialize(r0,this))}static decode(e){return Jw.deserialize(r0,this,e)}static decodeUnchecked(e){return Jw.deserializeUnchecked(r0,this,e)}},i2=class extends n0{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}},r0=new Map,p5,y5=32,hi=32;function AK(t){return t._bn!==void 0}var e5=1;p5=Symbol.toStringTag;var se=class t extends n0{constructor(e){if(super({}),this._bn=void 0,AK(e))this._bn=e._bn;else{if(typeof e=="string"){let r=Lr.default.decode(e);if(r.length!=hi)throw new Error("Invalid public key input");this._bn=new JI.default(r)}else this._bn=new JI.default(e);if(this._bn.byteLength()>hi)throw new Error("Invalid public key input")}}static unique(){let e=new t(e5);return e5+=1,new t(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Lr.default.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){let e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){let e=this._bn.toArrayLike(Te.Buffer);if(e.length===hi)return e;let r=Te.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[p5](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){let o=Te.Buffer.concat([e.toBuffer(),Te.Buffer.from(r),n.toBuffer()]),i=n2.sha256(o);return new t(i)}static createProgramAddressSync(e,r){let n=Te.Buffer.alloc(0);e.forEach(function(i){if(i.length>y5)throw new TypeError("Max seed length exceeded");n=Te.Buffer.concat([n,Me(i)])}),n=Te.Buffer.concat([n,r.toBuffer(),Te.Buffer.from("ProgramDerivedAddress")]);let o=n2.sha256(n);if(ZI(o))throw new Error("Invalid seeds, address must fall off the curve");return new t(o)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,o;for(;n!=0;){try{let i=e.concat(Te.Buffer.from([n]));o=this.createProgramAddressSync(i,r)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[o,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){let r=new t(e);return ZI(r.toBytes())}};se.default=new se("11111111111111111111111111111111");r0.set(se,{kind:"struct",fields:[["_bn","u256"]]});var s2=class{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){let r=Me(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=Me(xK()),this._publicKey=Me(ky(this._secretKey))}get publicKey(){return new se(this._publicKey)}get secretKey(){return Te.Buffer.concat([this._secretKey,this._publicKey],64)}},SK=new se("BPFLoader1111111111111111111111111111111111"),ca=1232,Ly=127,o0=64,i0=class extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}};Object.defineProperty(i0.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});var s0=class extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}};Object.defineProperty(s0.prototype,"name",{value:"TransactionExpiredTimeoutError"});var aa=class extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}};Object.defineProperty(aa.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});var Hc=class{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){let e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(let r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");let n=new Map;this.keySegments().flat().forEach((i,s)=>{n.set(i.toBase58(),s)});let o=i=>{let s=n.get(i.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return e.map(i=>({programIdIndex:o(i.programId),accountKeyIndexes:i.keys.map(s=>o(s.pubkey)),data:i.data}))}},We=(t="publicKey")=>I.blob(32,t),vK=(t="signature")=>I.blob(64,t),Fc=(t="string")=>{let e=I.struct([I.u32("length"),I.u32("lengthPadding"),I.blob(I.offset(I.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),o=e;return o.decode=(i,s)=>r(i,s).chars.toString(),o.encode=(i,s,a)=>{let c={chars:Te.Buffer.from(i,"utf8")};return n(c,s,a)},o.alloc=i=>I.u32().span+I.u32().span+Te.Buffer.from(i,"utf8").length,o},EK=(t="authorized")=>I.struct([We("staker"),We("withdrawer")],t),IK=(t="lockup")=>I.struct([I.ns64("unixTimestamp"),I.ns64("epoch"),We("custodian")],t),kK=(t="voteInit")=>I.struct([We("nodePubkey"),We("authorizedVoter"),We("authorizedWithdrawer"),I.u8("commission")],t),TK=(t="voteAuthorizeWithSeedArgs")=>I.struct([I.u32("voteAuthorizationType"),We("currentAuthorityDerivedKeyOwnerPubkey"),Fc("currentAuthorityDerivedKeySeed"),We("newAuthorized")],t);function m5(t,e){let r=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){let i=e[o.property];if(Array.isArray(i))return i.length*r(o.elementLayout)}else if("fields"in o)return m5({layout:o},e[o.property]);return 0},n=0;return t.layout.fields.forEach(o=>{n+=r(o)}),n}function Bn(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function jn(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function it(t,e){if(!t)throw new Error(e||"Assertion failed")}var Ty=class t{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){let n=new Map,o=s=>{let a=s.toBase58(),c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},i=o(r);i.isSigner=!0,i.isWritable=!0;for(let s of e){o(s.programId).isInvoked=!0;for(let a of s.keys){let c=o(a.pubkey);c.isSigner||=a.isSigner,c.isWritable||=a.isWritable}}return new t(r,n)}getMessageComponents(){let e=[...this.keyMetaMap.entries()];it(e.length<=256,"Max static account keys length exceeded");let r=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),o=e.filter(([,c])=>!c.isSigner&&c.isWritable),i=e.filter(([,c])=>!c.isSigner&&!c.isWritable),s={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{it(r.length>0,"Expected at least one writable signer key");let[c]=r[0];it(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}let a=[...r.map(([c])=>new se(c)),...n.map(([c])=>new se(c)),...o.map(([c])=>new se(c)),...i.map(([c])=>new se(c))];return[s,a]}extractTableLookup(e){let[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[o,i]=this.drainKeysFoundInLookupTable(e.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(r.length===0&&o.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:o},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(e,r){let n=new Array,o=new Array;for(let[i,s]of this.keyMetaMap.entries())if(r(s)){let a=new se(i),c=e.findIndex(u=>u.equals(a));c>=0&&(it(c<256,"Max lookup table index exceeded"),n.push(c),o.push(a),this.keyMetaMap.delete(i))}return[n,o]}},g5="Reached end of buffer unexpectedly";function di(t){if(t.length===0)throw new Error(g5);return t.shift()}function Cn(t,...e){let[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(g5);return t.splice(...e)}var pi=class t{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new se(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Lr.default.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Hc(this.staticAccountKeys)}static compile(e){let r=Ty.compile(e.instructions,e.payerKey),[n,o]=r.getMessageComponents(),s=new Hc(o).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Lr.default.encode(a.data)}));return new t({header:n,accountKeys:o,recentBlockhash:e.recentBlockhash,instructions:s})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){let n=e-r,i=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<i}else{let n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){let e=this.accountKeys.length,r=[];jn(r,e);let n=this.instructions.map(f=>{let{accounts:p,programIdIndex:m}=f,g=Array.from(Lr.default.decode(f.data)),x=[];jn(x,p.length);let w=[];return jn(w,g.length),{programIdIndex:m,keyIndicesCount:Te.Buffer.from(x),keyIndices:p,dataLength:Te.Buffer.from(w),data:g}}),o=[];jn(o,n.length);let i=Te.Buffer.alloc(ca);Te.Buffer.from(o).copy(i);let s=o.length;n.forEach(f=>{let m=I.struct([I.u8("programIdIndex"),I.blob(f.keyIndicesCount.length,"keyIndicesCount"),I.seq(I.u8("keyIndex"),f.keyIndices.length,"keyIndices"),I.blob(f.dataLength.length,"dataLength"),I.seq(I.u8("userdatum"),f.data.length,"data")]).encode(f,i,s);s+=m}),i=i.slice(0,s);let a=I.struct([I.blob(1,"numRequiredSignatures"),I.blob(1,"numReadonlySignedAccounts"),I.blob(1,"numReadonlyUnsignedAccounts"),I.blob(r.length,"keyCount"),I.seq(We("key"),e,"keys"),We("recentBlockhash")]),c={numRequiredSignatures:Te.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Te.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Te.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Te.Buffer.from(r),keys:this.accountKeys.map(f=>Me(f.toBytes())),recentBlockhash:Lr.default.decode(this.recentBlockhash)},u=Te.Buffer.alloc(2048),h=a.encode(c,u);return i.copy(u,h),u.slice(0,h+i.length)}static from(e){let r=[...e],n=di(r);if(n!==(n&Ly))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");let o=di(r),i=di(r),s=Bn(r),a=[];for(let p=0;p<s;p++){let m=Cn(r,0,hi);a.push(new se(Te.Buffer.from(m)))}let c=Cn(r,0,hi),u=Bn(r),h=[];for(let p=0;p<u;p++){let m=di(r),g=Bn(r),x=Cn(r,0,g),w=Bn(r),S=Cn(r,0,w),k=Lr.default.encode(Te.Buffer.from(S));h.push({programIdIndex:m,accounts:x,data:k})}let f={header:{numRequiredSignatures:n,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:i},recentBlockhash:Lr.default.encode(Te.Buffer.from(c)),accountKeys:a,instructions:h};return new t(f)}},bf=class t{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(let r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Hc(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){let r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){let o=e-n,i=this.addressTableLookups.reduce((s,a)=>s+a.writableIndexes.length,0);return o<i}else if(e>=this.header.numRequiredSignatures){let o=e-r,s=n-r-this.header.numReadonlyUnsignedAccounts;return o<s}else{let o=r-this.header.numReadonlySignedAccounts;return e<o}}resolveAddressTableLookups(e){let r={writable:[],readonly:[]};for(let n of this.addressTableLookups){let o=e.find(i=>i.key.equals(n.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(let i of n.writableIndexes)if(i<o.state.addresses.length)r.writable.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);for(let i of n.readonlyIndexes)if(i<o.state.addresses.length)r.readonly.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){let r=Ty.compile(e.instructions,e.payerKey),n=new Array,o={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(let h of i){let f=r.extractTableLookup(h);if(f!==void 0){let[p,{writable:m,readonly:g}]=f;n.push(p),o.writable.push(...m),o.readonly.push(...g)}}let[s,a]=r.getMessageComponents(),u=new Hc(a,o).compileInstructions(e.instructions);return new t({header:s,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:u,addressTableLookups:n})}serialize(){let e=Array();jn(e,this.staticAccountKeys.length);let r=this.serializeInstructions(),n=Array();jn(n,this.compiledInstructions.length);let o=this.serializeAddressTableLookups(),i=Array();jn(i,this.addressTableLookups.length);let s=I.struct([I.u8("prefix"),I.struct([I.u8("numRequiredSignatures"),I.u8("numReadonlySignedAccounts"),I.u8("numReadonlyUnsignedAccounts")],"header"),I.blob(e.length,"staticAccountKeysLength"),I.seq(We(),this.staticAccountKeys.length,"staticAccountKeys"),We("recentBlockhash"),I.blob(n.length,"instructionsLength"),I.blob(r.length,"serializedInstructions"),I.blob(i.length,"addressTableLookupsLength"),I.blob(o.length,"serializedAddressTableLookups")]),a=new Uint8Array(ca),u=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(h=>h.toBytes()),recentBlockhash:Lr.default.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:o},a);return a.slice(0,u)}serializeInstructions(){let e=0,r=new Uint8Array(ca);for(let n of this.compiledInstructions){let o=Array();jn(o,n.accountKeyIndexes.length);let i=Array();jn(i,n.data.length);let s=I.struct([I.u8("programIdIndex"),I.blob(o.length,"encodedAccountKeyIndexesLength"),I.seq(I.u8(),n.accountKeyIndexes.length,"accountKeyIndexes"),I.blob(i.length,"encodedDataLength"),I.blob(n.data.length,"data")]);e+=s.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0,r=new Uint8Array(ca);for(let n of this.addressTableLookups){let o=Array();jn(o,n.writableIndexes.length);let i=Array();jn(i,n.readonlyIndexes.length);let s=I.struct([We("accountKey"),I.blob(o.length,"encodedWritableIndexesLength"),I.seq(I.u8(),n.writableIndexes.length,"writableIndexes"),I.blob(i.length,"encodedReadonlyIndexesLength"),I.seq(I.u8(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=s.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e],n=di(r),o=n&Ly;it(n!==o,"Expected versioned message but received legacy message");let i=o;it(i===0,`Expected versioned message with version 0 but found version ${i}`);let s={numRequiredSignatures:di(r),numReadonlySignedAccounts:di(r),numReadonlyUnsignedAccounts:di(r)},a=[],c=Bn(r);for(let g=0;g<c;g++)a.push(new se(Cn(r,0,hi)));let u=Lr.default.encode(Cn(r,0,hi)),h=Bn(r),f=[];for(let g=0;g<h;g++){let x=di(r),w=Bn(r),S=Cn(r,0,w),k=Bn(r),A=new Uint8Array(Cn(r,0,k));f.push({programIdIndex:x,accountKeyIndexes:S,data:A})}let p=Bn(r),m=[];for(let g=0;g<p;g++){let x=new se(Cn(r,0,hi)),w=Bn(r),S=Cn(r,0,w),k=Bn(r),A=Cn(r,0,k);m.push({accountKey:x,writableIndexes:S,readonlyIndexes:A})}return new t({header:s,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:f,addressTableLookups:m})}},I2={deserializeMessageVersion(t){let e=t[0],r=e&Ly;return r===e?"legacy":r},deserialize:t=>{let e=I2.deserializeMessageVersion(t);if(e==="legacy")return pi.from(t);if(e===0)return bf.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};ne.TransactionStatus=void 0;(function(t){t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID"})(ne.TransactionStatus||(ne.TransactionStatus={}));var _K=Te.Buffer.alloc(o0).fill(0),mt=class{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Te.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}},yt=class t{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){let{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){let{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{let{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new mt(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let x=0;x<r.length;x++)if(r[x].programId===void 0)throw new Error(`Transaction instruction index ${x} has undefined program id`);let o=[],i=[];r.forEach(x=>{x.keys.forEach(S=>{i.push({...S})});let w=x.programId.toString();o.includes(w)||o.push(w)}),o.forEach(x=>{i.push({pubkey:new se(x),isSigner:!1,isWritable:!1})});let s=[];i.forEach(x=>{let w=x.pubkey.toString(),S=s.findIndex(k=>k.pubkey.toString()===w);S>-1?(s[S].isWritable=s[S].isWritable||x.isWritable,s[S].isSigner=s[S].isSigner||x.isSigner):s.push(x)}),s.sort(function(x,w){return x.isSigner!==w.isSigner?x.isSigner?-1:1:x.isWritable!==w.isWritable?x.isWritable?-1:1:x.pubkey.toBase58().localeCompare(w.pubkey.toBase58())});let a=s.findIndex(x=>x.pubkey.equals(n));if(a>-1){let[x]=s.splice(a,1);x.isSigner=!0,x.isWritable=!0,s.unshift(x)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(let x of this.signatures){let w=s.findIndex(S=>S.pubkey.equals(x.publicKey));if(w>-1)s[w].isSigner||(s[w].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${x.publicKey.toString()}`)}let c=0,u=0,h=0,f=[],p=[];s.forEach(({pubkey:x,isSigner:w,isWritable:S})=>{w?(f.push(x.toString()),c+=1,S||(u+=1)):(p.push(x.toString()),S||(h+=1))});let m=f.concat(p),g=r.map(x=>{let{data:w,programId:S}=x;return{programIdIndex:m.indexOf(S.toString()),accounts:x.keys.map(k=>m.indexOf(k.pubkey.toString())),data:Lr.default.encode(w)}});return g.forEach(x=>{it(x.programIdIndex>=0),x.accounts.forEach(w=>it(w>=0))}),new pi({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:h},accountKeys:m,recentBlockhash:e,instructions:g})}_compile(){let e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((o,i)=>r[i].equals(o.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");let r=new Set;this.signatures=e.filter(n=>{let o=n.toString();return r.has(o)?!1:(r.add(o),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let i of e){let s=i.publicKey.toString();r.has(s)||(r.add(s),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));let o=this._compile();this._partialSign(o,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");let r=new Set,n=[];for(let i of e){let s=i.publicKey.toString();r.has(s)||(r.add(s),n.push(i))}let o=this._compile();this._partialSign(o,...n)}_partialSign(e,...r){let n=e.serialize();r.forEach(o=>{let i=E2(n,o.secretKey);this._addSignature(o.publicKey,Me(i))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){it(r.length===64);let n=this.signatures.findIndex(o=>e.equals(o.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Te.Buffer.from(r)}verifySignatures(e){return this._verifySignatures(this.serializeMessage(),e===void 0?!0:e)}_verifySignatures(e,r){for(let{signature:n,publicKey:o}of this.signatures)if(n===null){if(r)return!1}else if(!wK(n,e,o.toBytes()))return!1;return!0}serialize(e){let{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),o=this.serializeMessage();if(n&&!this._verifySignatures(o,r))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(e){let{signatures:r}=this,n=[];jn(n,r.length);let o=n.length+r.length*64+e.length,i=Te.Buffer.alloc(o);return it(r.length<256),Te.Buffer.from(n).copy(i,0),r.forEach(({signature:s},a)=>{s!==null&&(it(s.length===64,"signature has invalid length"),Te.Buffer.from(s).copy(i,n.length+a*64))}),e.copy(i,n.length+r.length*64),it(i.length<=ca,`Transaction too large: ${i.length} > ${ca}`),i}get keys(){return it(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return it(this.instructions.length===1),this.instructions[0].programId}get data(){return it(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e],n=Bn(r),o=[];for(let i=0;i<n;i++){let s=Cn(r,0,o0);o.push(Lr.default.encode(Te.Buffer.from(s)))}return t.populate(pi.from(r),o)}static populate(e,r=[]){let n=new t;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((o,i)=>{let s={signature:o==Lr.default.encode(_K)?null:Lr.default.decode(o),publicKey:e.accountKeys[i]};n.signatures.push(s)}),e.instructions.forEach(o=>{let i=o.accounts.map(s=>{let a=e.accountKeys[s];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(s),isWritable:e.isAccountWritable(s)}});n.instructions.push(new mt({keys:i,programId:e.accountKeys[o.programIdIndex],data:Lr.default.decode(o.data)}))}),n._message=e,n._json=n.toJSON(),n}},a2=class t{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){let{header:n,compiledInstructions:o,recentBlockhash:i}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=n,u=s-a;it(u>0,"Message header is invalid");let h=e.staticAccountKeys.length-s-c;it(h>=0,"Message header is invalid");let f=e.getAccountKeys(r),p=f.get(0);if(p===void 0)throw new Error("Failed to decompile message because no account keys were found");let m=[];for(let g of o){let x=[];for(let S of g.accountKeyIndexes){let k=f.get(S);if(k===void 0)throw new Error(`Failed to find key for account key index ${S}`);let A=S<s,T;A?T=S<u:S<f.staticAccountKeys.length?T=S-s<h:T=S-f.staticAccountKeys.length<f.accountKeysFromLookups.writable.length,x.push({pubkey:k,isSigner:S<n.numRequiredSignatures,isWritable:T})}let w=f.get(g.programIdIndex);if(w===void 0)throw new Error(`Failed to find program id for program id index ${g.programIdIndex}`);m.push(new mt({programId:w,data:Me(g.data),keys:x}))}return new t({payerKey:p,instructions:m,recentBlockhash:i})}compileToLegacyMessage(){return pi.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return bf.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}},c2=class t{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)it(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{let n=[];for(let o=0;o<e.header.numRequiredSignatures;o++)n.push(new Uint8Array(o0));this.signatures=n}this.message=e}serialize(){let e=this.message.serialize(),r=Array();jn(r,this.signatures.length);let n=I.struct([I.blob(r.length,"encodedSignaturesLength"),I.seq(vK(),this.signatures.length,"signatures"),I.blob(e.length,"serializedMessage")]),o=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},o);return o.slice(0,i)}static deserialize(e){let r=[...e],n=[],o=Bn(r);for(let s=0;s<o;s++)n.push(new Uint8Array(Cn(r,0,o0)));let i=I2.deserialize(new Uint8Array(r));return new t(i,n)}sign(e){let r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(let o of e){let i=n.findIndex(s=>s.equals(o.publicKey));it(i>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[i]=E2(r,o.secretKey)}}addSignature(e,r){it(r.byteLength===64,"Signature must be 64 bytes long");let o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(e));it(o>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=r}},fi=new se("SysvarC1ock11111111111111111111111111111111"),PK=new se("SysvarEpochSchedu1e111111111111111111111111"),BK=new se("Sysvar1nstructions1111111111111111111111111"),vy=new se("SysvarRecentB1ockHashes11111111111111111111"),xf=new se("SysvarRent111111111111111111111111111111111"),CK=new se("SysvarRewards111111111111111111111111111111"),OK=new se("SysvarS1otHashes111111111111111111111111111"),DK=new se("SysvarS1otHistory11111111111111111111111111"),Ey=new se("SysvarStakeHistory1111111111111111111111111");async function Iy(t,e,r,n){let o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},i=await t.sendTransaction(e,r,o),s;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)s=(await t.confirmTransaction({abortSignal:n?.abortSignal,signature:i,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){let{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;s=(await t.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:i},n&&n.commitment)).value}else n?.abortSignal!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await t.confirmTransaction(i,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${i} failed (${JSON.stringify(s)})`);return i}function Mc(t){return new Promise(e=>setTimeout(e,t))}function et(t,e){let r=t.layout.span>=0?t.layout.span:m5(t,e),n=Te.Buffer.alloc(r),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,n),n}function lt(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}var b5=I.nu64("lamportsPerSignature"),x5=I.struct([I.u32("version"),I.u32("state"),We("authorizedPubkey"),We("nonce"),I.struct([b5],"feeCalculator")]),u2=x5.span,_y=class t{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){let r=x5.decode(Me(e),0);return new t({authorizedPubkey:new se(r.authorizedPubkey),nonce:new se(r.nonce).toString(),feeCalculator:r.feeCalculator})}},RK=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},NK=t=>e=>{let r=h5.blob(t,e),{encode:n,decode:o}=RK(r),i=r;return i.decode=(s,a)=>{let c=o(s,a);return o2.toBigIntLE(Te.Buffer.from(c))},i.encode=(s,a,c)=>{let u=o2.toBufferLE(s,t);return n(u,a,c)},i},wf=NK(8),f2=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=I.u32("instruction").decode(e.data),o;for(let[i,s]of Object.entries(Tt))if(s.index==n){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a SystemInstruction");return o}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r,space:n,programId:o}=lt(Tt.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new se(o)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{lamports:r}=lt(Tt.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r,seed:n,programId:o}=lt(Tt.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new se(o)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{space:r}=lt(Tt.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,space:o,programId:i}=lt(Tt.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new se(r),seed:n,space:o,programId:new se(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{programId:r}=lt(Tt.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new se(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);let{base:r,seed:n,programId:o}=lt(Tt.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new se(r),seed:n,programId:new se(o)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{base:r,seed:n,lamports:o,space:i,programId:s}=lt(Tt.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new se(r),seed:n,lamports:o,space:i,programId:new se(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{authorized:r}=lt(Tt.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new se(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),lt(Tt.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=lt(Tt.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r}=lt(Tt.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new se(r)}}static checkProgramId(e){if(!e.equals(en.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Tt=Object.freeze({Create:{index:0,layout:I.struct([I.u32("instruction"),I.ns64("lamports"),I.ns64("space"),We("programId")])},Assign:{index:1,layout:I.struct([I.u32("instruction"),We("programId")])},Transfer:{index:2,layout:I.struct([I.u32("instruction"),wf("lamports")])},CreateWithSeed:{index:3,layout:I.struct([I.u32("instruction"),We("base"),Fc("seed"),I.ns64("lamports"),I.ns64("space"),We("programId")])},AdvanceNonceAccount:{index:4,layout:I.struct([I.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:I.struct([I.u32("instruction"),I.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:I.struct([I.u32("instruction"),We("authorized")])},AuthorizeNonceAccount:{index:7,layout:I.struct([I.u32("instruction"),We("authorized")])},Allocate:{index:8,layout:I.struct([I.u32("instruction"),I.ns64("space")])},AllocateWithSeed:{index:9,layout:I.struct([I.u32("instruction"),We("base"),Fc("seed"),I.ns64("space"),We("programId")])},AssignWithSeed:{index:10,layout:I.struct([I.u32("instruction"),We("base"),Fc("seed"),We("programId")])},TransferWithSeed:{index:11,layout:I.struct([I.u32("instruction"),wf("lamports"),Fc("seed"),We("programId")])},UpgradeNonceAccount:{index:12,layout:I.struct([I.u32("instruction")])}}),en=class t{constructor(){}static createAccount(e){let r=Tt.Create,n=et(r,{lamports:e.lamports,space:e.space,programId:Me(e.programId.toBuffer())});return new mt({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){let o=Tt.TransferWithSeed;r=et(o,{lamports:BigInt(e.lamports),seed:e.seed,programId:Me(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{let o=Tt.Transfer;r=et(o,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new mt({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){let o=Tt.AssignWithSeed;r=et(o,{base:Me(e.basePubkey.toBuffer()),seed:e.seed,programId:Me(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let o=Tt.Assign;r=et(o,{programId:Me(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new mt({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){let r=Tt.CreateWithSeed,n=et(r,{base:Me(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Me(e.programId.toBuffer())}),o=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&o.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new mt({keys:o,programId:this.programId,data:n})}static createNonceAccount(e){let r=new yt;"basePubkey"in e&&"seed"in e?r.add(t.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:u2,programId:this.programId})):r.add(t.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:u2,programId:this.programId}));let n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){let r=Tt.InitializeNonceAccount,n=et(r,{authorized:Me(e.authorizedPubkey.toBuffer())}),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:vy,isSigner:!1,isWritable:!1},{pubkey:xf,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new mt(o)}static nonceAdvance(e){let r=Tt.AdvanceNonceAccount,n=et(r),o={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:vy,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new mt(o)}static nonceWithdraw(e){let r=Tt.WithdrawNonceAccount,n=et(r,{lamports:e.lamports});return new mt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:vy,isSigner:!1,isWritable:!1},{pubkey:xf,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){let r=Tt.AuthorizeNonceAccount,n=et(r,{authorized:Me(e.newAuthorizedPubkey.toBuffer())});return new mt({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){let o=Tt.AllocateWithSeed;r=et(o,{base:Me(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Me(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{let o=Tt.Allocate;r=et(o,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new mt({keys:n,programId:this.programId,data:r})}};en.programId=new se("11111111111111111111111111111111");var UK=ca-300,Af=class t{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/t.chunkSize)+1+1)}static async load(e,r,n,o,i){{let f=await e.getMinimumBalanceForRentExemption(i.length),p=await e.getAccountInfo(n.publicKey,"confirmed"),m=null;if(p!==null){if(p.executable)return console.error("Program load failed, account is already executable"),!1;p.data.length!==i.length&&(m=m||new yt,m.add(en.allocate({accountPubkey:n.publicKey,space:i.length}))),p.owner.equals(o)||(m=m||new yt,m.add(en.assign({accountPubkey:n.publicKey,programId:o}))),p.lamports<f&&(m=m||new yt,m.add(en.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:f-p.lamports})))}else m=new yt().add(en.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:f>0?f:1,space:i.length,programId:o}));m!==null&&await Iy(e,m,[r,n],{commitment:"confirmed"})}let s=I.struct([I.u32("instruction"),I.u32("offset"),I.u32("bytesLength"),I.u32("bytesLengthPadding"),I.seq(I.u8("byte"),I.offset(I.u32(),-8),"bytes")]),a=t.chunkSize,c=0,u=i,h=[];for(;u.length>0;){let f=u.slice(0,a),p=Te.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:f,bytesLength:0,bytesLengthPadding:0},p);let m=new yt().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:o,data:p});h.push(Iy(e,m,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Mc(1e3/4),c+=a,u=u.slice(a)}await Promise.all(h);{let f=I.struct([I.u32("instruction")]),p=Te.Buffer.alloc(f.span);f.encode({instruction:1},p);let m=new yt().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:xf,isSigner:!1,isWritable:!1}],programId:o,data:p});await Iy(e,m,[r,n],{commitment:"confirmed"})}return!0}};Af.chunkSize=UK;var LK=new se("BPFLoader2111111111111111111111111111111111"),d2=class{static getMinNumSignatures(e){return Af.getMinNumSignatures(e)}static load(e,r,n,o,i){return Af.load(e,r,n,i,o)}},MK=Object.prototype.toString,FK=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function t0(t,e){var r,n,o,i,s,a,c;if(t===!0)return"true";if(t===!1)return"false";switch(typeof t){case"object":if(t===null)return null;if(t.toJSON&&typeof t.toJSON=="function")return t0(t.toJSON(),e);if(c=MK.call(t),c==="[object Array]"){for(o="[",n=t.length-1,r=0;r<n;r++)o+=t0(t[r],!0)+",";return n>-1&&(o+=t0(t[r],!0)),o+"]"}else if(c==="[object Object]"){for(i=FK(t).sort(),n=i.length,o="",r=0;r<n;)s=i[r],a=t0(t[s],!1),a!==void 0&&(o&&(o+=","),o+=JSON.stringify(s)+":"+a),r++;return"{"+o+"}"}else return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var HK=function(t){var e=t0(t,!1);if(e!==void 0)return""+e},KK=HK,e0=32;function Xw(t){let e=0;for(;t>1;)t/=2,e++;return e}function VK(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}var Py=class{constructor(e,r,n,o,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=o,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){let r=Xw(VK(e+e0+1))-Xw(e0)-1,n=this.getSlotsInEpoch(r),o=e-(n-e0);return[r,o]}else{let r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),o=this.firstNormalEpoch+n,i=r%this.slotsPerEpoch;return[o,i]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*e0:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Xw(e0)):this.slotsPerEpoch}},a0=class extends Error{constructor(e,r){super(e),this.logs=void 0,this.logs=r}},qK={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016},me=class extends Error{constructor({code:e,message:r,data:n},o){super(o!=null?`${o}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}},zK=globalThis.fetch,l2=class extends gK.default{constructor(e,r,n){let o=i=>{let s=bK.default(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in s?this.underlyingSocket=s.socket:this.underlyingSocket=s,s};super(o,e,r,n),this.underlyingSocket=void 0}call(...e){let r=this.underlyingSocket?.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){let r=this.underlyingSocket?.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}},jK=160,WK=64,GK=jK/WK,$K=1e3/GK;function QK(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}var t5=56,c0=class{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){let e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){let r=QK(YK,e),n=e.length-t5;it(n>=0,"lookup table is invalid"),it(n%32===0,"lookup table is invalid");let o=n/32,{addresses:i}=I.struct([I.seq(We(),o,"addresses")]).decode(e.slice(t5));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new se(r.authority[0]):void 0,addresses:i.map(s=>new se(s))}}},YK={index:1,layout:I.struct([I.u32("typeIndex"),wf("deactivationSlot"),I.nu64("lastExtendedSlot"),I.u8("lastExtendedStartIndex"),I.u8(),I.seq(We(),I.offset(I.u8(),-1),"authority")])},JK=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function XK(t){let e=t.match(JK);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);let[r,n,o,i]=e,s=t.startsWith("https:")?"wss:":"ws:",a=o==null?null:parseInt(o.slice(1),10),c=a==null?"":`:${a+1}`;return`${s}//${n}${c}${i}`}var cr=y.coerce(y.instance(se),y.string(),t=>new se(t)),w5=y.tuple([y.string(),y.literal("base64")]),k2=y.coerce(y.instance(Te.Buffer),w5,t=>Te.Buffer.from(t[0],"base64")),A5=30*1e3;function ZK(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function zt(t){let e,r;if(typeof t=="string")e=t;else if(t){let{commitment:n,...o}=t;e=n,r=o}return{commitment:e,config:r}}function S5(t){return y.union([y.type({jsonrpc:y.literal("2.0"),id:y.string(),result:t}),y.type({jsonrpc:y.literal("2.0"),id:y.string(),error:y.type({code:y.unknown(),message:y.string(),data:y.optional(y.any())})})])}var eV=S5(y.unknown());function He(t){return y.coerce(S5(t),eV,e=>"error"in e?e:{...e,result:y.create(e.result,t)})}function ar(t){return He(y.type({context:y.type({slot:y.number()}),value:t}))}function My(t){return y.type({context:y.type({slot:y.number()}),value:t})}function Zw(t,e){return t===0?new bf({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new se(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:Lr.default.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new pi(e)}var tV=y.type({foundation:y.number(),foundationTerm:y.number(),initial:y.number(),taper:y.number(),terminal:y.number()}),rV=He(y.array(y.nullable(y.type({epoch:y.number(),effectiveSlot:y.number(),amount:y.number(),postBalance:y.number(),commission:y.optional(y.nullable(y.number()))})))),nV=y.type({total:y.number(),validator:y.number(),foundation:y.number(),epoch:y.number()}),oV=y.type({epoch:y.number(),slotIndex:y.number(),slotsInEpoch:y.number(),absoluteSlot:y.number(),blockHeight:y.optional(y.number()),transactionCount:y.optional(y.number())}),iV=y.type({slotsPerEpoch:y.number(),leaderScheduleSlotOffset:y.number(),warmup:y.boolean(),firstNormalEpoch:y.number(),firstNormalSlot:y.number()}),sV=y.record(y.string(),y.array(y.number())),Vc=y.nullable(y.union([y.type({}),y.string()])),aV=y.type({err:Vc}),cV=y.literal("receivedSignature"),uV=y.type({"solana-core":y.string(),"feature-set":y.optional(y.number())}),r5=ar(y.type({err:y.nullable(y.union([y.type({}),y.string()])),logs:y.nullable(y.array(y.string())),accounts:y.optional(y.nullable(y.array(y.nullable(y.type({executable:y.boolean(),owner:y.string(),lamports:y.number(),data:y.array(y.string()),rentEpoch:y.optional(y.number())}))))),unitsConsumed:y.optional(y.number()),returnData:y.optional(y.nullable(y.type({programId:y.string(),data:y.tuple([y.string(),y.literal("base64")])})))})),fV=ar(y.type({byIdentity:y.record(y.string(),y.array(y.number())),range:y.type({firstSlot:y.number(),lastSlot:y.number()})}));function dV(t,e,r,n,o,i){let s=r||zK,a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(h,f)=>{let p=await new Promise((m,g)=>{try{n(h,f,(x,w)=>m([x,w]))}catch(x){g(x)}});return await s(...p)}),new mK.default(async(h,f)=>{let p={method:"POST",body:h,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},fq)};try{let m=5,g,x=500;for(;c?g=await c(t,p):g=await s(t,p),!(g.status!==429||o===!0||(m-=1,m===0));)console.log(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${x}ms delay...`),await Mc(x),x*=2;let w=await g.text();g.ok?f(null,w):f(new Error(`${g.status} ${g.statusText}: ${w}`))}catch(m){m instanceof Error&&f(m)}},{})}function lV(t){return(e,r)=>new Promise((n,o)=>{t.request(e,r,(i,s)=>{if(i){o(i);return}n(s)})})}function hV(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);let o=e.map(i=>t.request(i.methodName,i.args));t.request(o,(i,s)=>{if(i){n(i);return}r(s)})})}var pV=He(tV),yV=He(nV),mV=He(oV),gV=He(iV),bV=He(sV),xV=He(y.number()),wV=ar(y.type({total:y.number(),circulating:y.number(),nonCirculating:y.number(),nonCirculatingAccounts:y.array(cr)})),h2=y.type({amount:y.string(),uiAmount:y.nullable(y.number()),decimals:y.number(),uiAmountString:y.optional(y.string())}),AV=ar(y.array(y.type({address:cr,amount:y.string(),uiAmount:y.nullable(y.number()),decimals:y.number(),uiAmountString:y.optional(y.string())}))),SV=ar(y.array(y.type({pubkey:cr,account:y.type({executable:y.boolean(),owner:cr,lamports:y.number(),data:k2,rentEpoch:y.number()})}))),p2=y.type({program:y.string(),parsed:y.unknown(),space:y.number()}),vV=ar(y.array(y.type({pubkey:cr,account:y.type({executable:y.boolean(),owner:cr,lamports:y.number(),data:p2,rentEpoch:y.number()})}))),EV=ar(y.array(y.type({lamports:y.number(),address:cr}))),u0=y.type({executable:y.boolean(),owner:cr,lamports:y.number(),data:k2,rentEpoch:y.number()}),IV=y.type({pubkey:cr,account:u0}),kV=y.coerce(y.union([y.instance(Te.Buffer),p2]),y.union([w5,p2]),t=>Array.isArray(t)?y.create(t,k2):t),y2=y.type({executable:y.boolean(),owner:cr,lamports:y.number(),data:kV,rentEpoch:y.number()}),TV=y.type({pubkey:cr,account:y2}),_V=y.type({state:y.union([y.literal("active"),y.literal("inactive"),y.literal("activating"),y.literal("deactivating")]),active:y.number(),inactive:y.number()}),PV=He(y.array(y.type({signature:y.string(),slot:y.number(),err:Vc,memo:y.nullable(y.string()),blockTime:y.optional(y.nullable(y.number()))}))),BV=He(y.array(y.type({signature:y.string(),slot:y.number(),err:Vc,memo:y.nullable(y.string()),blockTime:y.optional(y.nullable(y.number()))}))),CV=y.type({subscription:y.number(),result:My(u0)}),OV=y.type({pubkey:cr,account:u0}),DV=y.type({subscription:y.number(),result:My(OV)}),RV=y.type({parent:y.number(),slot:y.number(),root:y.number()}),NV=y.type({subscription:y.number(),result:RV}),UV=y.union([y.type({type:y.union([y.literal("firstShredReceived"),y.literal("completed"),y.literal("optimisticConfirmation"),y.literal("root")]),slot:y.number(),timestamp:y.number()}),y.type({type:y.literal("createdBank"),parent:y.number(),slot:y.number(),timestamp:y.number()}),y.type({type:y.literal("frozen"),slot:y.number(),timestamp:y.number(),stats:y.type({numTransactionEntries:y.number(),numSuccessfulTransactions:y.number(),numFailedTransactions:y.number(),maxTransactionsPerEntry:y.number()})}),y.type({type:y.literal("dead"),slot:y.number(),timestamp:y.number(),err:y.string()})]),LV=y.type({subscription:y.number(),result:UV}),MV=y.type({subscription:y.number(),result:My(y.union([aV,cV]))}),FV=y.type({subscription:y.number(),result:y.number()}),HV=y.type({pubkey:y.string(),gossip:y.nullable(y.string()),tpu:y.nullable(y.string()),rpc:y.nullable(y.string()),version:y.nullable(y.string())}),n5=y.type({votePubkey:y.string(),nodePubkey:y.string(),activatedStake:y.number(),epochVoteAccount:y.boolean(),epochCredits:y.array(y.tuple([y.number(),y.number(),y.number()])),commission:y.number(),lastVote:y.number(),rootSlot:y.nullable(y.number())}),KV=He(y.type({current:y.array(n5),delinquent:y.array(n5)})),VV=y.union([y.literal("processed"),y.literal("confirmed"),y.literal("finalized")]),qV=y.type({slot:y.number(),confirmations:y.nullable(y.number()),err:Vc,confirmationStatus:y.optional(VV)}),zV=ar(y.array(y.nullable(qV))),jV=He(y.number()),v5=y.type({accountKey:cr,writableIndexes:y.array(y.number()),readonlyIndexes:y.array(y.number())}),T2=y.type({signatures:y.array(y.string()),message:y.type({accountKeys:y.array(y.string()),header:y.type({numRequiredSignatures:y.number(),numReadonlySignedAccounts:y.number(),numReadonlyUnsignedAccounts:y.number()}),instructions:y.array(y.type({accounts:y.array(y.number()),data:y.string(),programIdIndex:y.number()})),recentBlockhash:y.string(),addressTableLookups:y.optional(y.array(v5))})}),E5=y.type({pubkey:cr,signer:y.boolean(),writable:y.boolean(),source:y.optional(y.union([y.literal("transaction"),y.literal("lookupTable")]))}),I5=y.type({accountKeys:y.array(E5),signatures:y.array(y.string())}),k5=y.type({parsed:y.unknown(),program:y.string(),programId:cr}),T5=y.type({accounts:y.array(cr),data:y.string(),programId:cr}),WV=y.union([T5,k5]),GV=y.union([y.type({parsed:y.unknown(),program:y.string(),programId:y.string()}),y.type({accounts:y.array(y.string()),data:y.string(),programId:y.string()})]),_5=y.coerce(WV,GV,t=>"accounts"in t?y.create(t,T5):y.create(t,k5)),P5=y.type({signatures:y.array(y.string()),message:y.type({accountKeys:y.array(E5),instructions:y.array(_5),recentBlockhash:y.string(),addressTableLookups:y.optional(y.nullable(y.array(v5)))})}),By=y.type({accountIndex:y.number(),mint:y.string(),owner:y.optional(y.string()),uiTokenAmount:h2}),B5=y.type({writable:y.array(cr),readonly:y.array(cr)}),Fy=y.type({err:Vc,fee:y.number(),innerInstructions:y.optional(y.nullable(y.array(y.type({index:y.number(),instructions:y.array(y.type({accounts:y.array(y.number()),data:y.string(),programIdIndex:y.number()}))})))),preBalances:y.array(y.number()),postBalances:y.array(y.number()),logMessages:y.optional(y.nullable(y.array(y.string()))),preTokenBalances:y.optional(y.nullable(y.array(By))),postTokenBalances:y.optional(y.nullable(y.array(By))),loadedAddresses:y.optional(B5),computeUnitsConsumed:y.optional(y.number())}),_2=y.type({err:Vc,fee:y.number(),innerInstructions:y.optional(y.nullable(y.array(y.type({index:y.number(),instructions:y.array(_5)})))),preBalances:y.array(y.number()),postBalances:y.array(y.number()),logMessages:y.optional(y.nullable(y.array(y.string()))),preTokenBalances:y.optional(y.nullable(y.array(By))),postTokenBalances:y.optional(y.nullable(y.array(By))),loadedAddresses:y.optional(B5),computeUnitsConsumed:y.optional(y.number())}),Ef=y.union([y.literal(0),y.literal("legacy")]),qc=y.type({pubkey:y.string(),lamports:y.number(),postBalance:y.nullable(y.number()),rewardType:y.nullable(y.string()),commission:y.optional(y.nullable(y.number()))}),$V=He(y.nullable(y.type({blockhash:y.string(),previousBlockhash:y.string(),parentSlot:y.number(),transactions:y.array(y.type({transaction:T2,meta:y.nullable(Fy),version:y.optional(Ef)})),rewards:y.optional(y.array(qc)),blockTime:y.nullable(y.number()),blockHeight:y.nullable(y.number())}))),QV=He(y.nullable(y.type({blockhash:y.string(),previousBlockhash:y.string(),parentSlot:y.number(),rewards:y.optional(y.array(qc)),blockTime:y.nullable(y.number()),blockHeight:y.nullable(y.number())}))),YV=He(y.nullable(y.type({blockhash:y.string(),previousBlockhash:y.string(),parentSlot:y.number(),transactions:y.array(y.type({transaction:I5,meta:y.nullable(Fy),version:y.optional(Ef)})),rewards:y.optional(y.array(qc)),blockTime:y.nullable(y.number()),blockHeight:y.nullable(y.number())}))),JV=He(y.nullable(y.type({blockhash:y.string(),previousBlockhash:y.string(),parentSlot:y.number(),transactions:y.array(y.type({transaction:P5,meta:y.nullable(_2),version:y.optional(Ef)})),rewards:y.optional(y.array(qc)),blockTime:y.nullable(y.number()),blockHeight:y.nullable(y.number())}))),XV=He(y.nullable(y.type({blockhash:y.string(),previousBlockhash:y.string(),parentSlot:y.number(),transactions:y.array(y.type({transaction:I5,meta:y.nullable(_2),version:y.optional(Ef)})),rewards:y.optional(y.array(qc)),blockTime:y.nullable(y.number()),blockHeight:y.nullable(y.number())}))),ZV=He(y.nullable(y.type({blockhash:y.string(),previousBlockhash:y.string(),parentSlot:y.number(),rewards:y.optional(y.array(qc)),blockTime:y.nullable(y.number()),blockHeight:y.nullable(y.number())}))),eq=He(y.nullable(y.type({blockhash:y.string(),previousBlockhash:y.string(),parentSlot:y.number(),transactions:y.array(y.type({transaction:T2,meta:y.nullable(Fy)})),rewards:y.optional(y.array(qc)),blockTime:y.nullable(y.number())}))),o5=He(y.nullable(y.type({blockhash:y.string(),previousBlockhash:y.string(),parentSlot:y.number(),signatures:y.array(y.string()),blockTime:y.nullable(y.number())}))),e2=He(y.nullable(y.type({slot:y.number(),meta:Fy,blockTime:y.optional(y.nullable(y.number())),transaction:T2,version:y.optional(Ef)}))),Sy=He(y.nullable(y.type({slot:y.number(),transaction:P5,meta:y.nullable(_2),blockTime:y.optional(y.nullable(y.number())),version:y.optional(Ef)}))),tq=ar(y.type({blockhash:y.string(),feeCalculator:y.type({lamportsPerSignature:y.number()})})),rq=ar(y.type({blockhash:y.string(),lastValidBlockHeight:y.number()})),nq=y.type({slot:y.number(),numTransactions:y.number(),numSlots:y.number(),samplePeriodSecs:y.number()}),oq=He(y.array(nq)),iq=ar(y.nullable(y.type({feeCalculator:y.type({lamportsPerSignature:y.number()})}))),sq=He(y.string()),aq=He(y.string()),cq=y.type({err:Vc,logs:y.array(y.string()),signature:y.string()}),uq=y.type({result:My(cq),subscription:y.number()}),fq={"solana-client":"js/1.73.5"},m2=class{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let n,o,i,s,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,o=r.httpHeaders,i=r.fetch,s=r.fetchMiddleware,a=r.disableRetryOnRateLimit,c=r.httpAgent),this._rpcEndpoint=ZK(e),this._rpcWsEndpoint=n||XK(e),this._rpcClient=dV(e,o,i,s,a,c),this._rpcRequest=lV(this._rpcClient),this._rpcBatchRequest=hV(this._rpcClient),this._rpcWebSocket=new l2(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){let{commitment:n,config:o}=zt(r),i=this._buildArgs([e.toBase58()],n,void 0,o),s=await this._rpcRequest("getBalance",i),a=y.create(s,ar(y.number()));if("error"in a)throw new me(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){let r=await this._rpcRequest("getBlockTime",[e]),n=y.create(r,He(y.nullable(y.number())));if("error"in n)throw new me(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){let e=await this._rpcRequest("minimumLedgerSlot",[]),r=y.create(e,He(y.number()));if("error"in r)throw new me(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){let e=await this._rpcRequest("getFirstAvailableBlock",[]),r=y.create(e,xV);if("error"in r)throw new me(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};let n=await this._rpcRequest("getSupply",[r]),o=y.create(n,wV);if("error"in o)throw new me(o.error,"failed to get supply");return o.result}async getTokenSupply(e,r){let n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenSupply",n),i=y.create(o,ar(h2));if("error"in i)throw new me(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,r){let n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenAccountBalance",n),i=y.create(o,ar(h2));if("error"in i)throw new me(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,r,n){let{commitment:o,config:i}=zt(n),s=[e.toBase58()];"mint"in r?s.push({mint:r.mint.toBase58()}):s.push({programId:r.programId.toBase58()});let a=this._buildArgs(s,o,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=y.create(c,SV);if("error"in u)throw new me(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,r,n){let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});let i=this._buildArgs(o,n,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",i),a=y.create(s,vV);if("error"in a)throw new me(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){let r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],o=await this._rpcRequest("getLargestAccounts",n),i=y.create(o,EV);if("error"in i)throw new me(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,r){let n=this._buildArgs([e.toBase58()],r),o=await this._rpcRequest("getTokenLargestAccounts",n),i=y.create(o,AV);if("error"in i)throw new me(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,r){let{commitment:n,config:o}=zt(r),i=this._buildArgs([e.toBase58()],n,"base64",o),s=await this._rpcRequest("getAccountInfo",i),a=y.create(s,ar(y.nullable(u0)));if("error"in a)throw new me(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){let{commitment:n,config:o}=zt(r),i=this._buildArgs([e.toBase58()],n,"jsonParsed",o),s=await this._rpcRequest("getAccountInfo",i),a=y.create(s,ar(y.nullable(y2)));if("error"in a)throw new me(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){let{commitment:n,config:o}=zt(r),i=e.map(u=>u.toBase58()),s=this._buildArgs([i],n,"jsonParsed",o),a=await this._rpcRequest("getMultipleAccounts",s),c=y.create(a,ar(y.array(y.nullable(y2))));if("error"in c)throw new me(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(e,r){let{commitment:n,config:o}=zt(r),i=e.map(u=>u.toBase58()),s=this._buildArgs([i],n,"base64",o),a=await this._rpcRequest("getMultipleAccounts",s),c=y.create(a,ar(y.array(y.nullable(u0))));if("error"in c)throw new me(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){let{commitment:o,config:i}=zt(r),s=this._buildArgs([e.toBase58()],o,void 0,{...i,epoch:n??i?.epoch}),a=await this._rpcRequest("getStakeActivation",s),c=y.create(a,He(_V));if("error"in c)throw new me(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,r){let{commitment:n,config:o}=zt(r),{encoding:i,...s}=o||{},a=this._buildArgs([e.toBase58()],n,i||"base64",s),c=await this._rpcRequest("getProgramAccounts",a),u=y.create(c,He(y.array(IV)));if("error"in u)throw new me(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,r){let{commitment:n,config:o}=zt(r),i=this._buildArgs([e.toBase58()],n,"jsonParsed",o),s=await this._rpcRequest("getProgramAccounts",i),a=y.create(s,He(y.array(TV)));if("error"in a)throw new me(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){let n;if(typeof e=="string")n=e;else{let i=e;if(i.abortSignal?.aborted)return Promise.reject(i.abortSignal.reason);n=i.signature}let o;try{o=Lr.default.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return it(o.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,o,i=!1,s=new Promise((c,u)=>{try{n=this.onSignature(r,(f,p)=>{n=void 0;let m={context:p,value:f};c({__type:ne.TransactionStatus.PROCESSED,response:m})},e);let h=new Promise(f=>{n==null?f():o=this._onSubscriptionStateChange(n,p=>{p==="subscribed"&&f()})});(async()=>{if(await h,i)return;let f=await this.getSignatureStatus(r);if(i||f==null)return;let{context:p,value:m}=f;if(m!=null)if(m?.err)u(m.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(m.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(m.confirmationStatus==="processed"||m.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:ne.TransactionStatus.PROCESSED,response:{context:p,value:m}})}})()}catch(h){u(h)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:s}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:o}}){let i=!1,s=new Promise(f=>{let p=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let m=await p();if(!i){for(;m<=n;)if(await Mc(1e3),i||(m=await p(),i))return;f({__type:ne.TransactionStatus.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),u=this.getCancellationPromise(r),h;try{let f=await Promise.race([u,c,s]);if(f.__type===ne.TransactionStatus.PROCESSED)h=f.response;else throw new i0(o)}finally{i=!0,a()}return h}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:o,nonceValue:i,signature:s}}){let a=!1,c=new Promise(m=>{let g=i,x=null,w=async()=>{try{let{context:S,value:k}=await this.getNonceAndContext(o,{commitment:e,minContextSlot:n});return x=S.slot,k?.nonce}catch{return g}};(async()=>{if(g=await w(),!a)for(;;){if(i!==g){m({__type:ne.TransactionStatus.NONCE_INVALID,slotInWhichNonceDidAdvance:x});return}if(await Mc(2e3),a||(g=await w(),a))return}})()}),{abortConfirmation:u,confirmationPromise:h}=this.getTransactionConfirmationPromise({commitment:e,signature:s}),f=this.getCancellationPromise(r),p;try{let m=await Promise.race([f,h,c]);if(m.__type===ne.TransactionStatus.PROCESSED)p=m.response;else{let g;for(;;){let x=await this.getSignatureStatus(s);if(x==null)break;if(x.context.slot<(m.slotInWhichNonceDidAdvance??n)){await Mc(400);continue}g=x;break}if(g?.value){let x=e||"finalized",{confirmationStatus:w}=g.value;switch(x){case"processed":case"recent":if(w!=="processed"&&w!=="confirmed"&&w!=="finalized")throw new aa(s);break;case"confirmed":case"single":case"singleGossip":if(w!=="confirmed"&&w!=="finalized")throw new aa(s);break;case"finalized":case"max":case"root":if(w!=="finalized")throw new aa(s);break;default:}p={context:g.context,value:{err:g.value.err}}}else throw new aa(s)}}finally{a=!0,u()}return p}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n,o=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:ne.TransactionStatus.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:s}=this.getTransactionConfirmationPromise({commitment:e,signature:r}),a;try{let c=await Promise.race([s,o]);if(c.__type===ne.TransactionStatus.PROCESSED)a=c.response;else throw new s0(r,c.timeoutMs/1e3)}finally{clearTimeout(n),i()}return a}async getClusterNodes(){let e=await this._rpcRequest("getClusterNodes",[]),r=y.create(e,He(y.array(HV)));if("error"in r)throw new me(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),o=y.create(n,KV);if("error"in o)throw new me(o.error,"failed to get vote accounts");return o.result}async getSlot(e){let{commitment:r,config:n}=zt(e),o=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getSlot",o),s=y.create(i,He(y.number()));if("error"in s)throw new me(s.error,"failed to get slot");return s.result}async getSlotLeader(e){let{commitment:r,config:n}=zt(e),o=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getSlotLeader",o),s=y.create(i,He(y.string()));if("error"in s)throw new me(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,r){let n=[e,r],o=await this._rpcRequest("getSlotLeaders",n),i=y.create(o,He(y.array(cr)));if("error"in i)throw new me(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,r){let{context:n,value:o}=await this.getSignatureStatuses([e],r);it(o.length===1);let i=o[0];return{context:n,value:i}}async getSignatureStatuses(e,r){let n=[e];r&&n.push(r);let o=await this._rpcRequest("getSignatureStatuses",n),i=y.create(o,zV);if("error"in i)throw new me(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){let{commitment:r,config:n}=zt(e),o=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getTransactionCount",o),s=y.create(i,He(y.number()));if("error"in s)throw new me(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),o=y.create(n,pV);if("error"in o)throw new me(o.error,"failed to get inflation");return o.result}async getInflationReward(e,r,n){let{commitment:o,config:i}=zt(n),s=this._buildArgs([e.map(u=>u.toBase58())],o,void 0,{...i,epoch:r??i?.epoch}),a=await this._rpcRequest("getInflationReward",s),c=y.create(a,rV);if("error"in c)throw new me(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){let e=await this._rpcRequest("getInflationRate",[]),r=y.create(e,yV);if("error"in r)throw new me(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){let{commitment:r,config:n}=zt(e),o=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getEpochInfo",o),s=y.create(i,mV);if("error"in s)throw new me(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){let e=await this._rpcRequest("getEpochSchedule",[]),r=y.create(e,gV);if("error"in r)throw new me(r.error,"failed to get epoch schedule");let n=r.result;return new Py(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){let e=await this._rpcRequest("getLeaderSchedule",[]),r=y.create(e,bV);if("error"in r)throw new me(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){let n=this._buildArgs([e],r),o=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=y.create(o,jV);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){let r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),o=y.create(n,tq);if("error"in o)throw new me(o.error,"failed to get recent blockhash");return o.result}async getRecentPerformanceSamples(e){let r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=y.create(r,oq);if("error"in n)throw new me(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){let n=this._buildArgs([e],r),o=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=y.create(o,iq);if("error"in i)throw new me(i.error,"failed to get fee calculator");let{context:s,value:a}=i.result;return{context:s,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){let n=Me(e.serialize()).toString("base64"),o=this._buildArgs([n],r),i=await this._rpcRequest("getFeeForMessage",o),s=y.create(i,ar(y.nullable(y.number())));if("error"in s)throw new me(s.error,"failed to get fee for message");if(s.result===null)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){let{commitment:r,config:n}=zt(e),o=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getLatestBlockhash",o),s=y.create(i,rq);if("error"in s)throw new me(s.error,"failed to get latest blockhash");return s.result}async getVersion(){let e=await this._rpcRequest("getVersion",[]),r=y.create(e,He(uV));if("error"in r)throw new me(r.error,"failed to get version");return r.result}async getGenesisHash(){let e=await this._rpcRequest("getGenesisHash",[]),r=y.create(e,He(y.string()));if("error"in r)throw new me(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){let{commitment:n,config:o}=zt(r),i=this._buildArgsAtLeastConfirmed([e],n,void 0,o),s=await this._rpcRequest("getBlock",i);try{switch(o?.transactionDetails){case"accounts":{let a=y.create(s,YV);if("error"in a)throw a.error;return a.result}case"none":{let a=y.create(s,QV);if("error"in a)throw a.error;return a.result}default:{let a=y.create(s,$V);if("error"in a)throw a.error;let{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:h,version:f})=>({meta:h,transaction:{...u,message:Zw(f,u.message)},version:f}))}:null}}}catch(a){throw new me(a,"failed to get confirmed block")}}async getParsedBlock(e,r){let{commitment:n,config:o}=zt(r),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",o),s=await this._rpcRequest("getBlock",i);try{switch(o?.transactionDetails){case"accounts":{let a=y.create(s,XV);if("error"in a)throw a.error;return a.result}case"none":{let a=y.create(s,ZV);if("error"in a)throw a.error;return a.result}default:{let a=y.create(s,JV);if("error"in a)throw a.error;return a.result}}}catch(a){throw new me(a,"failed to get block")}}async getBlockHeight(e){let{commitment:r,config:n}=zt(e),o=this._buildArgs([],r,void 0,n),i=await this._rpcRequest("getBlockHeight",o),s=y.create(i,He(y.number()));if("error"in s)throw new me(s.error,"failed to get block height information");return s.result}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){let{commitment:a,...c}=e;n=a,r=c}let o=this._buildArgs([],n,"base64",r),i=await this._rpcRequest("getBlockProduction",o),s=y.create(i,fV);if("error"in s)throw new me(s.error,"failed to get block production information");return s.result}async getTransaction(e,r){let{commitment:n,config:o}=zt(r),i=this._buildArgsAtLeastConfirmed([e],n,void 0,o),s=await this._rpcRequest("getTransaction",i),a=y.create(s,e2);if("error"in a)throw new me(a.error,"failed to get transaction");let c=a.result;return c&&{...c,transaction:{...c.transaction,message:Zw(c.version,c.transaction.message)}}}async getParsedTransaction(e,r){let{commitment:n,config:o}=zt(r),i=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",o),s=await this._rpcRequest("getTransaction",i),a=y.create(s,Sy);if("error"in a)throw new me(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){let{commitment:n,config:o}=zt(r),i=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",o)}));return(await this._rpcBatchRequest(i)).map(c=>{let u=y.create(c,Sy);if("error"in u)throw new me(u.error,"failed to get transactions");return u.result})}async getTransactions(e,r){let{commitment:n,config:o}=zt(r),i=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,o)}));return(await this._rpcBatchRequest(i)).map(c=>{let u=y.create(c,e2);if("error"in u)throw new me(u.error,"failed to get transactions");let h=u.result;return h&&{...h,transaction:{...h.transaction,message:Zw(h.version,h.transaction.message)}}})}async getConfirmedBlock(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),o=await this._rpcRequest("getConfirmedBlock",n),i=y.create(o,eq);if("error"in i)throw new me(i.error,"failed to get confirmed block");let s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");let a={...s,transactions:s.transactions.map(({transaction:c,meta:u})=>{let h=new pi(c.message);return{meta:u,transaction:{...c,message:h}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:yt.populate(c.message,c.signatures)}))}}async getBlocks(e,r,n){let o=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),i=await this._rpcRequest("getBlocks",o),s=y.create(i,He(y.array(y.number())));if("error"in s)throw new me(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",n),i=y.create(o,o5);if("error"in i)throw new me(i.error,"failed to get block");let s=i.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getConfirmedBlock",n),i=y.create(o,o5);if("error"in i)throw new me(i.error,"failed to get confirmed block");let s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r),o=await this._rpcRequest("getConfirmedTransaction",n),i=y.create(o,e2);if("error"in i)throw new me(i.error,"failed to get transaction");let s=i.result;if(!s)return s;let a=new pi(s.transaction.message),c=s.transaction.signatures;return{...s,transaction:yt.populate(a,c)}}async getParsedConfirmedTransaction(e,r){let n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),o=await this._rpcRequest("getConfirmedTransaction",n),i=y.create(o,Sy);if("error"in i)throw new me(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,r){let n=e.map(s=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([s],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(s=>{let a=y.create(s,Sy);if("error"in a)throw new me(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let o={},i=await this.getFirstAvailableBlock();for(;!("until"in o)&&(r--,!(r<=0||r<i));)try{let c=await this.getConfirmedBlockSignatures(r,"finalized");c.signatures.length>0&&(o.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let s=await this.getSlot("finalized");for(;!("before"in o)&&(n++,!(n>s));)try{let c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(o.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,o)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,r,n){let o=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),s=y.create(i,PV);if("error"in s)throw new me(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,r,n){let o=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),i=await this._rpcRequest("getSignaturesForAddress",o),s=y.create(i,BV);if("error"in s)throw new me(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,r){let{context:n,value:o}=await this.getAccountInfoAndContext(e,r),i=null;return o!==null&&(i=new c0({key:e,state:c0.deserialize(o.data)})),{context:n,value:i}}async getNonceAndContext(e,r){let{context:n,value:o}=await this.getAccountInfoAndContext(e,r),i=null;return o!==null&&(i=_y.fromAccountData(o.data)),{context:n,value:i}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){let n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),o=y.create(n,sq);if("error"in o)throw new me(o.error,`airdrop to ${e.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Mc(100);let n=Date.now()-this._blockhashInfo.lastFetch>=A5;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{let e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let o=0;o<50;o++){let i=await this.getLatestBlockhash("finalized");if(n!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await Mc($K/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){let{commitment:r,config:n}=zt(e),o=this._buildArgs([],r,"base64",n),i=await this._rpcRequest("getStakeMinimumDelegation",o),s=y.create(i,ar(y.number()));if("error"in s)throw new me(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,r,n){if("message"in e){let x=e.serialize(),w=Te.Buffer.from(x).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");let S=r||{};S.encoding="base64","commitment"in S||(S.commitment=this.commitment);let k=[w,S],A=await this._rpcRequest("simulateTransaction",k),T=y.create(A,r5);if("error"in T)throw new Error("failed to simulate transaction: "+T.error.message);return T.result}let o;if(e instanceof yt){let g=e;o=new yt,o.feePayer=g.feePayer,o.instructions=e.instructions,o.nonceInfo=g.nonceInfo,o.signatures=g.signatures}else o=yt.populate(e),o._message=o._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");let i=r;if(o.nonceInfo&&i)o.sign(...i);else{let g=this._disableBlockhashCaching;for(;;){let x=await this._blockhashWithExpiryBlockHeight(g);if(o.lastValidBlockHeight=x.lastValidBlockHeight,o.recentBlockhash=x.blockhash,!i)break;if(o.sign(...i),!o.signature)throw new Error("!signature");let w=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(w)&&!this._blockhashInfo.transactionSignatures.includes(w)){this._blockhashInfo.simulatedSignatures.push(w);break}else g=!0}}let s=o._compile(),a=s.serialize(),u=o._serialize(a).toString("base64"),h={encoding:"base64",commitment:this.commitment};if(n){let g=(Array.isArray(n)?n:s.nonProgramIds()).map(x=>x.toBase58());h.accounts={encoding:"base64",addresses:g}}i&&(h.sigVerify=!0);let f=[u,h],p=await this._rpcRequest("simulateTransaction",f),m=y.create(p,r5);if("error"in m){let g;if("data"in m.error&&(g=m.error.data.logs,g&&Array.isArray(g))){let x=`
    `,w=x+g.join(x);console.error(m.error.message,w)}throw new a0("failed to simulate transaction: "+m.error.message,g)}return m.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");let s=e.serialize();return await this.sendRawTransaction(s,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");let o=r;if(e.nonceInfo)e.sign(...o);else{let s=this._disableBlockhashCaching;for(;;){let a=await this._blockhashWithExpiryBlockHeight(s);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...o),!e.signature)throw new Error("!signature");let c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))s=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}let i=e.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(e,r){let n=Me(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){let n={encoding:"base64"},o=r&&r.skipPreflight,i=r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),o&&(n.skipPreflight=o),i&&(n.preflightCommitment=i);let s=[e,n],a=await this._rpcRequest("sendTransaction",s),c=y.create(a,aq);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new a0("failed to send transaction: "+c.error.message,u)}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){let n=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=r,n!==r.state){let o=this._subscriptionStateChangeCallbacksByHash[e];o&&o.forEach(i=>{try{i(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){let n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};let o=this._subscriptionStateChangeCallbacksByHash[n]||=new Set;return o.add(r),()=>{o.delete(r),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}let e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{let o=this._subscriptionsByHash[n];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[n],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{let{args:i,method:s}=o;try{this._setSubscription(n,{...o,state:"subscribing"});let a=await this._rpcWebSocket.call(s,i);this._setSubscription(n,{...o,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=o.callbacks,await this._updateSubscriptions()}catch(a){if(a instanceof Error&&console.error(`${s} error for argument`,i,a.message),!r())return;this._setSubscription(n,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{let{serverSubscriptionId:i,unsubscribeMethod:s}=o;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(n,{...o,state:"unsubscribing"}),this._setSubscription(n,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(s,[i])}catch(a){if(a instanceof Error&&console.error(`${s} error:`,a.message),!r())return;this._setSubscription(n,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){let n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(o=>{try{o(...r)}catch(i){console.error(i)}})}_wsOnAccountNotification(e){let{result:r,subscription:n}=y.create(e,CV);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){let n=this._nextClientSubscriptionId++,o=KK([e.method,r]),i=this._subscriptionsByHash[o];return i===void 0?this._subscriptionsByHash[o]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];let s=this._subscriptionsByHash[o];it(s!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),s.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){let o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){let{result:r,subscription:n}=y.create(e,DV);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,o){let i=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",o?{filters:o}:void 0);return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){let o=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){let{result:r,subscription:n}=y.create(e,uq);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){let{result:r,subscription:n}=y.create(e,NV);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){let{result:r,subscription:n}=y.create(e,LV);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){let n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,o){let i=r||this._commitment;if(i||n||o){let s={};n&&(s.encoding=n),i&&(s.commitment=i),o&&(s=Object.assign(s,o)),e.push(s)}return e}_buildArgsAtLeastConfirmed(e,r,n,o){let i=r||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,o)}_wsOnSignatureNotification(e){let{result:r,subscription:n}=y.create(e,MV);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){let o=this._buildArgs([e],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(s,a)=>{if(s.type==="status"){r(s.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return i}onSignatureWithOptions(e,r,n){let{commitment:o,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},s=this._buildArgs([e],o,void 0,i),a=this._makeSubscription({callback:(c,u)=>{r(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){let{result:r,subscription:n}=y.create(e,FV);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}},Cy=class t{constructor(e){this._keypair=void 0,this._keypair=e??XI()}static generate(){return new t(XI())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");let n=e.slice(32,64);if(!r||!r.skipValidation){let o=e.slice(0,32),i=ky(o);for(let s=0;s<32;s++)if(n[s]!==i[s])throw new Error("provided secretKey is invalid")}return new t({publicKey:n,secretKey:e})}static fromSeed(e){let r=ky(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new t({publicKey:r,secretKey:n})}get publicKey(){return new se(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}},rs=Object.freeze({CreateLookupTable:{index:0,layout:I.struct([I.u32("instruction"),wf("recentSlot"),I.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:I.struct([I.u32("instruction")])},ExtendLookupTable:{index:2,layout:I.struct([I.u32("instruction"),wf(),I.seq(We(),I.offset(I.u32(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:I.struct([I.u32("instruction")])},CloseLookupTable:{index:4,layout:I.struct([I.u32("instruction")])}}),g2=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=I.u32("instruction").decode(e.data),o;for(let[i,s]of Object.entries(rs))if(s.index==n){o=i;break}if(!o)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return o}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);let{recentSlot:r}=lt(rs.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);let{addresses:r}=lt(rs.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new se(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(f0.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},f0=class{constructor(){}static createLookupTable(e){let[r,n]=se.findProgramAddressSync([e.authority.toBuffer(),o2.toBufferLE(BigInt(e.recentSlot),8)],this.programId),o=rs.CreateLookupTable,i=et(o,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:en.programId,isSigner:!1,isWritable:!1}];return[new mt({programId:this.programId,keys:s,data:i}),r]}static freezeLookupTable(e){let r=rs.FreezeLookupTable,n=et(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new mt({programId:this.programId,keys:o,data:n})}static extendLookupTable(e){let r=rs.ExtendLookupTable,n=et(r,{addresses:e.addresses.map(i=>i.toBytes())}),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&o.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:en.programId,isSigner:!1,isWritable:!1}),new mt({programId:this.programId,keys:o,data:n})}static deactivateLookupTable(e){let r=rs.DeactivateLookupTable,n=et(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new mt({programId:this.programId,keys:o,data:n})}static closeLookupTable(e){let r=rs.CloseLookupTable,n=et(r),o=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new mt({programId:this.programId,keys:o,data:n})}};f0.programId=new se("AddressLookupTab1e1111111111111111111111111");var b2=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=I.u8("instruction").decode(e.data),o;for(let[i,s]of Object.entries(li))if(s.index==n){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return o}static decodeRequestUnits(e){this.checkProgramId(e.programId);let{units:r,additionalFee:n}=lt(li.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);let{bytes:r}=lt(li.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);let{units:r}=lt(li.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);let{microLamports:r}=lt(li.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(d0.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}},li=Object.freeze({RequestUnits:{index:0,layout:I.struct([I.u8("instruction"),I.u32("units"),I.u32("additionalFee")])},RequestHeapFrame:{index:1,layout:I.struct([I.u8("instruction"),I.u32("bytes")])},SetComputeUnitLimit:{index:2,layout:I.struct([I.u8("instruction"),I.u32("units")])},SetComputeUnitPrice:{index:3,layout:I.struct([I.u8("instruction"),wf("microLamports")])}}),d0=class{constructor(){}static requestUnits(e){let r=li.RequestUnits,n=et(r,e);return new mt({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){let r=li.RequestHeapFrame,n=et(r,e);return new mt({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){let r=li.SetComputeUnitLimit,n=et(r,e);return new mt({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){let r=li.SetComputeUnitPrice,n=et(r,{microLamports:BigInt(e.microLamports)});return new mt({keys:[],programId:this.programId,data:n})}};d0.programId=new se("ComputeBudget111111111111111111111111111111");var i5=64,s5=32,a5=64,c5=I.struct([I.u8("numSignatures"),I.u8("padding"),I.u16("signatureOffset"),I.u16("signatureInstructionIndex"),I.u16("publicKeyOffset"),I.u16("publicKeyInstructionIndex"),I.u16("messageDataOffset"),I.u16("messageDataSize"),I.u16("messageInstructionIndex")]),Oy=class t{constructor(){}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:o,instructionIndex:i}=e;it(r.length===s5,`Public Key must be ${s5} bytes but received ${r.length} bytes`),it(o.length===a5,`Signature must be ${a5} bytes but received ${o.length} bytes`);let s=c5.span,a=s+r.length,c=a+o.length,u=1,h=Te.Buffer.alloc(c+n.length),f=i??65535;return c5.encode({numSignatures:u,padding:0,signatureOffset:a,signatureInstructionIndex:f,publicKeyOffset:s,publicKeyInstructionIndex:f,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:f},h),h.fill(r,s),h.fill(o,a),h.fill(n,c),new mt({keys:[],programId:t.programId,data:h})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:o}=e;it(r.length===i5,`Private key must be ${i5} bytes but received ${r.length} bytes`);try{let i=Cy.fromSecretKey(r),s=i.publicKey.toBytes(),a=E2(n,i.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:a,instructionIndex:o})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}};Oy.programId=new se("Ed25519SigVerify111111111111111111111111111");Uy.utils.hmacSha256Sync=(t,...e)=>{let r=pK.hmac.create(n2.sha256,t);return e.forEach(n=>r.update(n)),r.digest()};var dq=(t,e)=>Uy.signSync(t,e,{der:!1,recovered:!0});Uy.utils.isValidPrivateKey;var lq=Uy.getPublicKey,u5=32,t2=20,f5=64,hq=11,r2=I.struct([I.u8("numSignatures"),I.u16("signatureOffset"),I.u8("signatureInstructionIndex"),I.u16("ethAddressOffset"),I.u8("ethAddressInstructionIndex"),I.u16("messageDataOffset"),I.u16("messageDataSize"),I.u8("messageInstructionIndex"),I.blob(20,"ethAddress"),I.blob(64,"signature"),I.u8("recoveryId")]),Dy=class t{constructor(){}static publicKeyToEthAddress(e){it(e.length===f5,`Public key must be ${f5} bytes but received ${e.length} bytes`);try{return Te.Buffer.from(YI.keccak_256(Me(e))).slice(-t2)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){let{publicKey:r,message:n,signature:o,recoveryId:i,instructionIndex:s}=e;return t.createInstructionWithEthAddress({ethAddress:t.publicKeyToEthAddress(r),message:n,signature:o,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){let{ethAddress:r,message:n,signature:o,recoveryId:i,instructionIndex:s=0}=e,a;typeof r=="string"?r.startsWith("0x")?a=Te.Buffer.from(r.substr(2),"hex"):a=Te.Buffer.from(r,"hex"):a=r,it(a.length===t2,`Address must be ${t2} bytes but received ${a.length} bytes`);let c=1+hq,u=c,h=c+a.length,f=h+o.length+1,p=1,m=Te.Buffer.alloc(r2.span+n.length);return r2.encode({numSignatures:p,signatureOffset:h,signatureInstructionIndex:s,ethAddressOffset:u,ethAddressInstructionIndex:s,messageDataOffset:f,messageDataSize:n.length,messageInstructionIndex:s,signature:Me(o),ethAddress:Me(a),recoveryId:i},m),m.fill(Me(n),r2.span),new mt({keys:[],programId:t.programId,data:m})}static createInstructionWithPrivateKey(e){let{privateKey:r,message:n,instructionIndex:o}=e;it(r.length===u5,`Private key must be ${u5} bytes but received ${r.length} bytes`);try{let i=Me(r),s=lq(i,!1).slice(1),a=Te.Buffer.from(YI.keccak_256(Me(n))),[c,u]=dq(a,i);return this.createInstructionWithPublicKey({publicKey:s,message:n,signature:c,recoveryId:u,instructionIndex:o})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}};Dy.programId=new se("KeccakSecp256k11111111111111111111111111111");var C5=new se("StakeConfig11111111111111111111111111111111"),Ry=class{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}},Kc=class{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}};Kc.default=new Kc(0,0,se.default);var x2=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=I.u32("instruction").decode(e.data),o;for(let[i,s]of Object.entries(Ir))if(s.index==n){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a StakeInstruction");return o}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{authorized:r,lockup:n}=lt(Ir.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Ry(new se(r.staker),new se(r.withdrawer)),lockup:new Kc(n.unixTimestamp,n.epoch,new se(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),lt(Ir.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,stakeAuthorizationType:n}=lt(Ir.Authorize,e.data),o={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new se(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);let{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:o,authorityOwner:i}=lt(Ir.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:o,authorityOwner:new se(i),newAuthorizedPubkey:new se(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=lt(Ir.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),lt(Ir.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);let{lamports:r}=lt(Ir.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),lt(Ir.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Sf.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},Ir=Object.freeze({Initialize:{index:0,layout:I.struct([I.u32("instruction"),EK(),IK()])},Authorize:{index:1,layout:I.struct([I.u32("instruction"),We("newAuthorized"),I.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:I.struct([I.u32("instruction")])},Split:{index:3,layout:I.struct([I.u32("instruction"),I.ns64("lamports")])},Withdraw:{index:4,layout:I.struct([I.u32("instruction"),I.ns64("lamports")])},Deactivate:{index:5,layout:I.struct([I.u32("instruction")])},Merge:{index:7,layout:I.struct([I.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:I.struct([I.u32("instruction"),We("newAuthorized"),I.u32("stakeAuthorizationType"),Fc("authoritySeed"),We("authorityOwner")])}}),pq=Object.freeze({Staker:{index:0},Withdrawer:{index:1}}),Sf=class{constructor(){}static initialize(e){let{stakePubkey:r,authorized:n,lockup:o}=e,i=o||Kc.default,s=Ir.Initialize,a=et(s,{authorized:{staker:Me(n.staker.toBuffer()),withdrawer:Me(n.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Me(i.custodian.toBuffer())}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:xf,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new mt(c)}static createAccountWithSeed(e){let r=new yt;r.add(en.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:o,lockup:i}=e;return r.add(this.initialize({stakePubkey:n,authorized:o,lockup:i}))}static createAccount(e){let r=new yt;r.add(en.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));let{stakePubkey:n,authorized:o,lockup:i}=e;return r.add(this.initialize({stakePubkey:n,authorized:o,lockup:i}))}static delegate(e){let{stakePubkey:r,authorizedPubkey:n,votePubkey:o}=e,i=Ir.Delegate,s=et(i);return new yt().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!1},{pubkey:fi,isSigner:!1,isWritable:!1},{pubkey:Ey,isSigner:!1,isWritable:!1},{pubkey:C5,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static authorize(e){let{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:o,stakeAuthorizationType:i,custodianPubkey:s}=e,a=Ir.Authorize,c=et(a,{newAuthorized:Me(o.toBuffer()),stakeAuthorizationType:i.index}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:fi,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&u.push({pubkey:s,isSigner:!1,isWritable:!1}),new yt().add({keys:u,programId:this.programId,data:c})}static authorizeWithSeed(e){let{stakePubkey:r,authorityBase:n,authoritySeed:o,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:a,custodianPubkey:c}=e,u=Ir.AuthorizeWithSeed,h=et(u,{newAuthorized:Me(s.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:o,authorityOwner:Me(i.toBuffer())}),f=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:fi,isSigner:!1,isWritable:!1}];return c&&f.push({pubkey:c,isSigner:!1,isWritable:!1}),new yt().add({keys:f,programId:this.programId,data:h})}static splitInstruction(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,lamports:i}=e,s=Ir.Split,a=et(s,{lamports:i});return new mt({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e){let r=new yt;return r.add(en.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e){let{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,basePubkey:i,seed:s,lamports:a}=e,c=new yt;return c.add(en.allocate({accountPubkey:o,basePubkey:i,seed:s,space:this.space,programId:this.programId})),c.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:o,lamports:a}))}static merge(e){let{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:o}=e,i=Ir.Merge,s=et(i);return new yt().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:fi,isSigner:!1,isWritable:!1},{pubkey:Ey,isSigner:!1,isWritable:!1},{pubkey:o,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static withdraw(e){let{stakePubkey:r,authorizedPubkey:n,toPubkey:o,lamports:i,custodianPubkey:s}=e,a=Ir.Withdraw,c=et(a,{lamports:i}),u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:fi,isSigner:!1,isWritable:!1},{pubkey:Ey,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return s&&u.push({pubkey:s,isSigner:!1,isWritable:!1}),new yt().add({keys:u,programId:this.programId,data:c})}static deactivate(e){let{stakePubkey:r,authorizedPubkey:n}=e,o=Ir.Deactivate,i=et(o);return new yt().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:fi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}};Sf.programId=new se("Stake11111111111111111111111111111111111111");Sf.space=200;var Ny=class{constructor(e,r,n,o){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=o}},w2=class{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);let n=I.u32("instruction").decode(e.data),o;for(let[i,s]of Object.entries(ns))if(s.index==n){o=i;break}if(!o)throw new Error("Instruction type incorrect; not a VoteInstruction");return o}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);let{voteInit:r}=lt(ns.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Ny(new se(r.nodePubkey),new se(r.authorizedVoter),new se(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{newAuthorized:r,voteAuthorizationType:n}=lt(ns.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new se(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:o,voteAuthorizationType:i}}=lt(ns.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new se(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new se(o),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);let{lamports:r}=lt(ns.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(vf.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}},ns=Object.freeze({InitializeAccount:{index:0,layout:I.struct([I.u32("instruction"),kK()])},Authorize:{index:1,layout:I.struct([I.u32("instruction"),We("newAuthorized"),I.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:I.struct([I.u32("instruction"),I.ns64("lamports")])},AuthorizeWithSeed:{index:10,layout:I.struct([I.u32("instruction"),TK()])}}),yq=Object.freeze({Voter:{index:0},Withdrawer:{index:1}}),vf=class t{constructor(){}static initializeAccount(e){let{votePubkey:r,nodePubkey:n,voteInit:o}=e,i=ns.InitializeAccount,s=et(i,{voteInit:{nodePubkey:Me(o.nodePubkey.toBuffer()),authorizedVoter:Me(o.authorizedVoter.toBuffer()),authorizedWithdrawer:Me(o.authorizedWithdrawer.toBuffer()),commission:o.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:xf,isSigner:!1,isWritable:!1},{pubkey:fi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s};return new mt(a)}static createAccount(e){let r=new yt;return r.add(en.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){let{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:o,voteAuthorizationType:i}=e,s=ns.Authorize,a=et(s,{newAuthorized:Me(o.toBuffer()),voteAuthorizationType:i.index}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:fi,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new yt().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){let{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:o,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:a}=e,c=ns.AuthorizeWithSeed,u=et(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Me(n.toBuffer()),currentAuthorityDerivedKeySeed:o,newAuthorized:Me(i.toBuffer()),voteAuthorizationType:s.index}}),h=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:fi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new yt().add({keys:h,programId:this.programId,data:u})}static withdraw(e){let{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:o,toPubkey:i}=e,s=ns.Withdraw,a=et(s,{lamports:o}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new yt().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insuffcient funds.");return t.withdraw(e)}};vf.programId=new se("Vote111111111111111111111111111111111111111");vf.space=3731;var O5=new se("Va1idator1nfo111111111111111111111111111111"),mq=y.type({name:y.string(),website:y.optional(y.string()),details:y.optional(y.string()),keybaseUsername:y.optional(y.string())}),A2=class t{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(Bn(r)!==2)return null;let o=[];for(let i=0;i<2;i++){let s=new se(Cn(r,0,hi)),a=di(r)===1;o.push({publicKey:s,isSigner:a})}if(o[0].publicKey.equals(O5)&&o[1].isSigner){let i=Fc().decode(Te.Buffer.from(r)),s=JSON.parse(i);return y.assert(s,mq),new t(o[1].publicKey,s)}return null}},gq=new se("Vote111111111111111111111111111111111111111"),bq=I.struct([We("nodePubkey"),We("authorizedWithdrawer"),I.u8("commission"),I.nu64(),I.seq(I.struct([I.nu64("slot"),I.u32("confirmationCount")]),I.offset(I.u32(),-8),"votes"),I.u8("rootSlotValid"),I.nu64("rootSlot"),I.nu64(),I.seq(I.struct([I.nu64("epoch"),We("authorizedVoter")]),I.offset(I.u32(),-8),"authorizedVoters"),I.struct([I.seq(I.struct([We("authorizedPubkey"),I.nu64("epochOfLastAuthorizedSwitch"),I.nu64("targetEpoch")]),32,"buf"),I.nu64("idx"),I.u8("isEmpty")],"priorVoters"),I.nu64(),I.seq(I.struct([I.nu64("epoch"),I.nu64("credits"),I.nu64("prevCredits")]),I.offset(I.u32(),-8),"epochCredits"),I.struct([I.nu64("slot"),I.nu64("timestamp")],"lastTimestamp")]),S2=class t{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){let n=bq.decode(Me(e),4),o=n.rootSlot;return n.rootSlotValid||(o=null),new t({nodePubkey:new se(n.nodePubkey),authorizedWithdrawer:new se(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:o,authorizedVoters:n.authorizedVoters.map(xq),priorVoters:wq(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}};function xq({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new se(t)}}function d5({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new se(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function wq({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(d5),...t.slice(0,e).map(d5)]}var l5={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Aq(t,e){let r=e===!1?"http":"https";if(!t)return l5[r].devnet;let n=l5[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function Sq(t,e,r,n){let o,i;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(o=r,i=n):i=r;let s=i&&{skipPreflight:i.skipPreflight,preflightCommitment:i.preflightCommitment||i.commitment,minContextSlot:i.minContextSlot},a=await t.sendRawTransaction(e,s),c=i&&i.commitment,h=(await(o?t.confirmTransaction(o,c):t.confirmTransaction(a,c))).value;if(h.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(h)})`);return a}var vq=1e9;ne.Account=s2;ne.AddressLookupTableAccount=c0;ne.AddressLookupTableInstruction=g2;ne.AddressLookupTableProgram=f0;ne.Authorized=Ry;ne.BLOCKHASH_CACHE_TIMEOUT_MS=A5;ne.BPF_LOADER_DEPRECATED_PROGRAM_ID=SK;ne.BPF_LOADER_PROGRAM_ID=LK;ne.BpfLoader=d2;ne.COMPUTE_BUDGET_INSTRUCTION_LAYOUTS=li;ne.ComputeBudgetInstruction=b2;ne.ComputeBudgetProgram=d0;ne.Connection=m2;ne.Ed25519Program=Oy;ne.Enum=i2;ne.EpochSchedule=Py;ne.FeeCalculatorLayout=b5;ne.Keypair=Cy;ne.LAMPORTS_PER_SOL=vq;ne.LOOKUP_TABLE_INSTRUCTION_LAYOUTS=rs;ne.Loader=Af;ne.Lockup=Kc;ne.MAX_SEED_LENGTH=y5;ne.Message=pi;ne.MessageAccountKeys=Hc;ne.MessageV0=bf;ne.NONCE_ACCOUNT_LENGTH=u2;ne.NonceAccount=_y;ne.PACKET_DATA_SIZE=ca;ne.PUBLIC_KEY_LENGTH=hi;ne.PublicKey=se;ne.SIGNATURE_LENGTH_IN_BYTES=o0;ne.SOLANA_SCHEMA=r0;ne.STAKE_CONFIG_ID=C5;ne.STAKE_INSTRUCTION_LAYOUTS=Ir;ne.SYSTEM_INSTRUCTION_LAYOUTS=Tt;ne.SYSVAR_CLOCK_PUBKEY=fi;ne.SYSVAR_EPOCH_SCHEDULE_PUBKEY=PK;ne.SYSVAR_INSTRUCTIONS_PUBKEY=BK;ne.SYSVAR_RECENT_BLOCKHASHES_PUBKEY=vy;ne.SYSVAR_RENT_PUBKEY=xf;ne.SYSVAR_REWARDS_PUBKEY=CK;ne.SYSVAR_SLOT_HASHES_PUBKEY=OK;ne.SYSVAR_SLOT_HISTORY_PUBKEY=DK;ne.SYSVAR_STAKE_HISTORY_PUBKEY=Ey;ne.Secp256k1Program=Dy;ne.SendTransactionError=a0;ne.SolanaJSONRPCError=me;ne.SolanaJSONRPCErrorCode=qK;ne.StakeAuthorizationLayout=pq;ne.StakeInstruction=x2;ne.StakeProgram=Sf;ne.Struct=n0;ne.SystemInstruction=f2;ne.SystemProgram=en;ne.Transaction=yt;ne.TransactionExpiredBlockheightExceededError=i0;ne.TransactionExpiredNonceInvalidError=aa;ne.TransactionExpiredTimeoutError=s0;ne.TransactionInstruction=mt;ne.TransactionMessage=a2;ne.VALIDATOR_INFO_KEY=O5;ne.VERSION_PREFIX_MASK=Ly;ne.VOTE_PROGRAM_ID=gq;ne.ValidatorInfo=A2;ne.VersionedMessage=I2;ne.VersionedTransaction=c2;ne.VoteAccount=S2;ne.VoteAuthorizationLayout=yq;ne.VoteInit=Ny;ne.VoteInstruction=w2;ne.VoteProgram=vf;ne.clusterApiUrl=Aq;ne.sendAndConfirmRawTransaction=Sq;ne.sendAndConfirmTransaction=Iy});var Mk=P(wm=>{"use strict";d();l();Object.defineProperty(wm,"__esModule",{value:!0});wm.version=void 0;wm.version="properties/5.7.0"});var yo=P(ur=>{"use strict";d();l();var ij=ur&&ur.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(h){try{u(n.next(h))}catch(f){s(f)}}function c(h){try{u(n.throw(h))}catch(f){s(f)}}function u(h){h.done?i(h.value):o(h.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},sj=ur&&ur.__generator||function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(ur,"__esModule",{value:!0});ur.Description=ur.deepCopy=ur.shallowCopy=ur.checkProperties=ur.resolveProperties=ur.getStatic=ur.defineReadOnly=void 0;var aj=cn(),cj=Mk(),Am=new aj.Logger(cj.version);function Fk(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}ur.defineReadOnly=Fk;function uj(t,e){for(var r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}ur.getStatic=uj;function fj(t){return ij(this,void 0,void 0,function(){var e,r;return sj(this,function(n){switch(n.label){case 0:return e=Object.keys(t).map(function(o){var i=t[o];return Promise.resolve(i).then(function(s){return{key:o,value:s}})}),[4,Promise.all(e)];case 1:return r=n.sent(),[2,r.reduce(function(o,i){return o[i.key]=i.value,o},{})]}})})}ur.resolveProperties=fj;function dj(t,e){(!t||typeof t!="object")&&Am.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(function(r){e[r]||Am.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}ur.checkProperties=dj;function lj(t){var e={};for(var r in t)e[r]=t[r];return e}ur.shallowCopy=lj;var hj={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Hk(t){if(t==null||hj[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;for(var e=Object.keys(t),r=0;r<e.length;r++){var n=null;try{n=t[e[r]]}catch{continue}if(!Hk(n))return!1}return!0}return Am.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function pj(t){if(Hk(t))return t;if(Array.isArray(t))return Object.freeze(t.map(function(o){return Sm(o)}));if(typeof t=="object"){var e={};for(var r in t){var n=t[r];n!==void 0&&Fk(e,r,Sm(n))}return e}return Am.throwArgumentError("Cannot deepCopy "+typeof t,"object",t)}function Sm(t){return pj(t)}ur.deepCopy=Sm;var yj=function(){function t(e){for(var r in e)this[r]=Sm(e[r])}return t}();ur.Description=yj});var Gk=P(Em=>{"use strict";d();l();Object.defineProperty(Em,"__esModule",{value:!0});Em.AddressZero=void 0;Em.AddressZero="0x0000000000000000000000000000000000000000"});var $k=P(Tr=>{"use strict";d();l();Object.defineProperty(Tr,"__esModule",{value:!0});Tr.MaxInt256=Tr.MinInt256=Tr.MaxUint256=Tr.WeiPerEther=Tr.Two=Tr.One=Tr.Zero=Tr.NegativeOne=void 0;var Aa=qu(),wj=Aa.BigNumber.from(-1);Tr.NegativeOne=wj;var Aj=Aa.BigNumber.from(0);Tr.Zero=Aj;var Sj=Aa.BigNumber.from(1);Tr.One=Sj;var vj=Aa.BigNumber.from(2);Tr.Two=vj;var Ej=Aa.BigNumber.from("1000000000000000000");Tr.WeiPerEther=Ej;var Ij=Aa.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");Tr.MaxUint256=Ij;var kj=Aa.BigNumber.from("-0x8000000000000000000000000000000000000000000000000000000000000000");Tr.MinInt256=kj;var Tj=Aa.BigNumber.from("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");Tr.MaxInt256=Tj});var Qk=P(Im=>{"use strict";d();l();Object.defineProperty(Im,"__esModule",{value:!0});Im.HashZero=void 0;Im.HashZero="0x0000000000000000000000000000000000000000000000000000000000000000"});var Yk=P(km=>{"use strict";d();l();Object.defineProperty(km,"__esModule",{value:!0});km.EtherSymbol=void 0;km.EtherSymbol="\u039E"});var tA=P(Ft=>{"use strict";d();l();Object.defineProperty(Ft,"__esModule",{value:!0});Ft.EtherSymbol=Ft.HashZero=Ft.MaxInt256=Ft.MinInt256=Ft.MaxUint256=Ft.WeiPerEther=Ft.Two=Ft.One=Ft.Zero=Ft.NegativeOne=Ft.AddressZero=void 0;var _j=Gk();Object.defineProperty(Ft,"AddressZero",{enumerable:!0,get:function(){return _j.AddressZero}});var Sa=$k();Object.defineProperty(Ft,"NegativeOne",{enumerable:!0,get:function(){return Sa.NegativeOne}});Object.defineProperty(Ft,"Zero",{enumerable:!0,get:function(){return Sa.Zero}});Object.defineProperty(Ft,"One",{enumerable:!0,get:function(){return Sa.One}});Object.defineProperty(Ft,"Two",{enumerable:!0,get:function(){return Sa.Two}});Object.defineProperty(Ft,"WeiPerEther",{enumerable:!0,get:function(){return Sa.WeiPerEther}});Object.defineProperty(Ft,"MaxUint256",{enumerable:!0,get:function(){return Sa.MaxUint256}});Object.defineProperty(Ft,"MinInt256",{enumerable:!0,get:function(){return Sa.MinInt256}});Object.defineProperty(Ft,"MaxInt256",{enumerable:!0,get:function(){return Sa.MaxInt256}});var Pj=Qk();Object.defineProperty(Ft,"HashZero",{enumerable:!0,get:function(){return Pj.HashZero}});var Bj=Yk();Object.defineProperty(Ft,"EtherSymbol",{enumerable:!0,get:function(){return Bj.EtherSymbol}})});var Jk=P(Tm=>{"use strict";d();l();Object.defineProperty(Tm,"__esModule",{value:!0});Tm.version=void 0;Tm.version="strings/5.7.0"});var Pm=P(nr=>{"use strict";d();l();Object.defineProperty(nr,"__esModule",{value:!0});nr.toUtf8CodePoints=nr.toUtf8String=nr._toUtf8String=nr._toEscapedUtf8String=nr.toUtf8Bytes=nr.Utf8ErrorFuncs=nr.Utf8ErrorReason=nr.UnicodeNormalizationForm=void 0;var Xk=vr(),Cj=cn(),Oj=Jk(),Zk=new Cj.Logger(Oj.version),_m;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(_m=nr.UnicodeNormalizationForm||(nr.UnicodeNormalizationForm={}));var go;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(go=nr.Utf8ErrorReason||(nr.Utf8ErrorReason={}));function Dj(t,e,r,n,o){return Zk.throwArgumentError("invalid codepoint at offset "+e+"; "+t,"bytes",r)}function eT(t,e,r,n,o){if(t===go.BAD_PREFIX||t===go.UNEXPECTED_CONTINUE){for(var i=0,s=e+1;s<r.length&&r[s]>>6===2;s++)i++;return i}return t===go.OVERRUN?r.length-e-1:0}function Rj(t,e,r,n,o){return t===go.OVERLONG?(n.push(o),0):(n.push(65533),eT(t,e,r,n,o))}nr.Utf8ErrorFuncs=Object.freeze({error:Dj,ignore:eT,replace:Rj});function nA(t,e){e==null&&(e=nr.Utf8ErrorFuncs.error),t=(0,Xk.arrayify)(t);for(var r=[],n=0;n<t.length;){var o=t[n++];if(!(o>>7)){r.push(o);continue}var i=null,s=null;if((o&224)===192)i=1,s=127;else if((o&240)===224)i=2,s=2047;else if((o&248)===240)i=3,s=65535;else{(o&192)===128?n+=e(go.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(go.BAD_PREFIX,n-1,t,r);continue}if(n-1+i>=t.length){n+=e(go.OVERRUN,n-1,t,r);continue}for(var a=o&(1<<8-i-1)-1,c=0;c<i;c++){var u=t[n];if((u&192)!=128){n+=e(go.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|u&63,n++}if(a!==null){if(a>1114111){n+=e(go.OUT_OF_RANGE,n-1-i,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(go.UTF16_SURROGATE,n-1-i,t,r,a);continue}if(a<=s){n+=e(go.OVERLONG,n-1-i,t,r,a);continue}r.push(a)}}return r}function tT(t,e){e===void 0&&(e=_m.current),e!=_m.current&&(Zk.checkNormalize(),t=t.normalize(e));for(var r=[],n=0;n<t.length;n++){var o=t.charCodeAt(n);if(o<128)r.push(o);else if(o<2048)r.push(o>>6|192),r.push(o&63|128);else if((o&64512)==55296){n++;var i=t.charCodeAt(n);if(n>=t.length||(i&64512)!==56320)throw new Error("invalid utf-8 string");var s=65536+((o&1023)<<10)+(i&1023);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128)}else r.push(o>>12|224),r.push(o>>6&63|128),r.push(o&63|128)}return(0,Xk.arrayify)(r)}nr.toUtf8Bytes=tT;function rA(t){var e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function Nj(t,e){return'"'+nA(t,e).map(function(r){if(r<256){switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(r>=32&&r<127)return String.fromCharCode(r)}return r<=65535?rA(r):(r-=65536,rA((r>>10&1023)+55296)+rA((r&1023)+56320))}).join("")+'"'}nr._toEscapedUtf8String=Nj;function rT(t){return t.map(function(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))}).join("")}nr._toUtf8String=rT;function Uj(t,e){return rT(nA(t,e))}nr.toUtf8String=Uj;function Lj(t,e){return e===void 0&&(e=_m.current),nA(tT(t,e))}nr.toUtf8CodePoints=Lj});var oT=P(Lf=>{"use strict";d();l();Object.defineProperty(Lf,"__esModule",{value:!0});Lf.parseBytes32String=Lf.formatBytes32String=void 0;var Mj=tA(),oA=vr(),nT=Pm();function Fj(t){var e=(0,nT.toUtf8Bytes)(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return(0,oA.hexlify)((0,oA.concat)([e,Mj.HashZero]).slice(0,32))}Lf.formatBytes32String=Fj;function Hj(t){var e=(0,oA.arrayify)(t);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");for(var r=31;e[r-1]===0;)r--;return(0,nT.toUtf8String)(e.slice(0,r))}Lf.parseBytes32String=Hj});var uT=P(xi=>{"use strict";d();l();Object.defineProperty(xi,"__esModule",{value:!0});xi.nameprep=xi._nameprepTableC=xi._nameprepTableB2=xi._nameprepTableA1=void 0;var R0=Pm();function Kj(t){if(t.length%4!==0)throw new Error("bad data");for(var e=[],r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}function iA(t,e){e||(e=function(o){return[parseInt(o,16)]});var r=0,n={};return t.split(",").forEach(function(o){var i=o.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])}),n}function iT(t){var e=0;return t.split(",").map(function(r){var n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");var o=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:o,h:e}})}function sA(t,e){for(var r=0,n=0;n<e.length;n++){var o=e[n];if(r+=o.l,t>=r&&t<=r+o.h&&(t-r)%(o.d||1)===0){if(o.e&&o.e.indexOf(t-r)!==-1)continue;return o}}return null}var Vj=iT("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),qj="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(function(t){return parseInt(t,16)}),zj=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],jj=iA("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Wj=iA("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Gj=iA("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Kj),$j=iT("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function Qj(t){return t.reduce(function(e,r){return r.forEach(function(n){e.push(n)}),e},[])}function sT(t){return!!sA(t,Vj)}xi._nameprepTableA1=sT;function aT(t){var e=sA(t,zj);if(e)return[t+e.s];var r=jj[t];if(r)return r;var n=Wj[t];if(n)return[t+n[0]];var o=Gj[t];return o||null}xi._nameprepTableB2=aT;function cT(t){return!!sA(t,$j)}xi._nameprepTableC=cT;function Yj(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();var e=(0,R0.toUtf8CodePoints)(t);e=Qj(e.map(function(n){if(qj.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];var o=aT(n);return o||[n]})),e=(0,R0.toUtf8CodePoints)((0,R0._toUtf8String)(e),R0.UnicodeNormalizationForm.NFKC),e.forEach(function(n){if(cT(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(function(n){if(sT(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});var r=(0,R0._toUtf8String)(e);if(r.substring(0,1)==="-"||r.substring(2,4)==="--"||r.substring(r.length-1)==="-")throw new Error("invalid hyphen");return r}xi.nameprep=Yj});var va=P(Xt=>{"use strict";d();l();Object.defineProperty(Xt,"__esModule",{value:!0});Xt.nameprep=Xt.parseBytes32String=Xt.formatBytes32String=Xt.UnicodeNormalizationForm=Xt.Utf8ErrorReason=Xt.Utf8ErrorFuncs=Xt.toUtf8String=Xt.toUtf8CodePoints=Xt.toUtf8Bytes=Xt._toEscapedUtf8String=void 0;var fT=oT();Object.defineProperty(Xt,"formatBytes32String",{enumerable:!0,get:function(){return fT.formatBytes32String}});Object.defineProperty(Xt,"parseBytes32String",{enumerable:!0,get:function(){return fT.parseBytes32String}});var Jj=uT();Object.defineProperty(Xt,"nameprep",{enumerable:!0,get:function(){return Jj.nameprep}});var $c=Pm();Object.defineProperty(Xt,"_toEscapedUtf8String",{enumerable:!0,get:function(){return $c._toEscapedUtf8String}});Object.defineProperty(Xt,"toUtf8Bytes",{enumerable:!0,get:function(){return $c.toUtf8Bytes}});Object.defineProperty(Xt,"toUtf8CodePoints",{enumerable:!0,get:function(){return $c.toUtf8CodePoints}});Object.defineProperty(Xt,"toUtf8String",{enumerable:!0,get:function(){return $c.toUtf8String}});Object.defineProperty(Xt,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return $c.UnicodeNormalizationForm}});Object.defineProperty(Xt,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return $c.Utf8ErrorFuncs}});Object.defineProperty(Xt,"Utf8ErrorReason",{enumerable:!0,get:function(){return $c.Utf8ErrorReason}})});var aA=P(Bm=>{"use strict";d();l();Object.defineProperty(Bm,"__esModule",{value:!0});Bm.id=void 0;var Xj=Ms(),Zj=va();function eW(t){return(0,Xj.keccak256)((0,Zj.toUtf8Bytes)(t))}Bm.id=eW});var cA=P(Cm=>{"use strict";d();l();Object.defineProperty(Cm,"__esModule",{value:!0});Cm.version=void 0;Cm.version="hash/5.7.0"});var lT=P(Mf=>{"use strict";d();l();Object.defineProperty(Mf,"__esModule",{value:!0});Mf.encode=Mf.decode=void 0;var dT=vr();function tW(t){t=atob(t);for(var e=[],r=0;r<t.length;r++)e.push(t.charCodeAt(r));return(0,dT.arrayify)(e)}Mf.decode=tW;function rW(t){t=(0,dT.arrayify)(t);for(var e="",r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}Mf.encode=rW});var pT=P(Ff=>{"use strict";d();l();Object.defineProperty(Ff,"__esModule",{value:!0});Ff.encode=Ff.decode=void 0;var hT=lT();Object.defineProperty(Ff,"decode",{enumerable:!0,get:function(){return hT.decode}});Object.defineProperty(Ff,"encode",{enumerable:!0,get:function(){return hT.encode}})});var fA=P(_r=>{"use strict";d();l();Object.defineProperty(_r,"__esModule",{value:!0});_r.read_emoji_trie=_r.read_zero_terminated_array=_r.read_mapped_map=_r.read_member_array=_r.signed=_r.read_compressed_payload=_r.read_payload=_r.decode_arithmetic=void 0;function mT(t,e){e==null&&(e=1);var r=[],n=r.forEach,o=function(i,s){n.call(i,function(a){s>0&&Array.isArray(a)?o(a,s-1):r.push(a)})};return o(t,e),r}function nW(t){for(var e={},r=0;r<t.length;r++){var n=t[r];e[n[0]]=n[1]}return e}function gT(t){var e=0;function r(){return t[e++]<<8|t[e++]}for(var n=r(),o=1,i=[0,1],s=1;s<n;s++)i.push(o+=r());var a=r(),c=e;e+=a;var u=0,h=0;function f(){return u==0&&(h=h<<8|t[e++],u=8),h>>--u&1}for(var p=31,m=Math.pow(2,p),g=m>>>1,x=g>>1,w=m-1,S=0,s=0;s<p;s++)S=S<<1|f();for(var k=[],A=0,T=m;;){for(var C=Math.floor(((S-A+1)*o-1)/T),W=0,oe=n;oe-W>1;){var Y=W+oe>>>1;C<i[Y]?oe=Y:W=Y}if(W==0)break;k.push(W);for(var G=A+Math.floor(T*i[W]/o),re=A+Math.floor(T*i[W+1]/o)-1;!((G^re)&g);)S=S<<1&w|f(),G=G<<1&w,re=re<<1&w|1;for(;G&~re&x;)S=S&g|S<<1&w>>>1|f(),G=G<<1^g,re=(re^g)<<1|g|1;A=G,T=1+re-G}var Z=n-4;return k.map(function(O){switch(O-Z){case 3:return Z+65792+(t[c++]<<16|t[c++]<<8|t[c++]);case 2:return Z+256+(t[c++]<<8|t[c++]);case 1:return Z+t[c++];default:return O-1}})}_r.decode_arithmetic=gT;function bT(t){var e=0;return function(){return t[e++]}}_r.read_payload=bT;function oW(t){return bT(gT(t))}_r.read_compressed_payload=oW;function xT(t){return t&1?~t>>1:t>>1}_r.signed=xT;function iW(t,e){for(var r=Array(t),n=0;n<t;n++)r[n]=1+e();return r}function yT(t,e){for(var r=Array(t),n=0,o=-1;n<t;n++)r[n]=o+=1+e();return r}function sW(t,e){for(var r=Array(t),n=0,o=0;n<t;n++)r[n]=o+=xT(e());return r}function uA(t,e){for(var r=yT(t(),t),n=t(),o=yT(n,t),i=iW(n,t),s=0;s<n;s++)for(var a=0;a<i[s];a++)r.push(o[s]+a);return e?r.map(function(c){return e[c]}):r}_r.read_member_array=uA;function aW(t){for(var e=[];;){var r=t();if(r==0)break;e.push(cW(r,t))}for(;;){var r=t()-1;if(r<0)break;e.push(uW(r,t))}return nW(mT(e))}_r.read_mapped_map=aW;function wT(t){for(var e=[];;){var r=t();if(r==0)break;e.push(r)}return e}_r.read_zero_terminated_array=wT;function AT(t,e,r){for(var n=Array(t).fill(void 0).map(function(){return[]}),o=0;o<e;o++)sW(t,r).forEach(function(i,s){return n[s].push(i)});return n}function cW(t,e){var r=1+e(),n=e(),o=wT(e),i=AT(o.length,1+t,e);return mT(i.map(function(s,a){var c=s[0],u=s.slice(1);return Array(o[a]).fill(void 0).map(function(h,f){var p=f*n;return[c+f*r,u.map(function(m){return m+p})]})}))}function uW(t,e){var r=1+e(),n=AT(r,1+t,e);return n.map(function(o){return[o[0],o.slice(1)]})}function fW(t){var e=uA(t).sort(function(n,o){return n-o});return r();function r(){for(var n=[];;){var o=uA(t,e);if(o.length==0)break;n.push({set:new Set(o),node:r()})}n.sort(function(h,f){return f.set.size-h.set.size});var i=t(),s=i%3;i=i/3|0;var a=!!(i&1);i>>=1;var c=i==1,u=i==2;return{branches:n,valid:s,fe0f:a,save:c,check:u}}}_r.read_emoji_trie=fW});var ST=P(Om=>{"use strict";d();l();Object.defineProperty(Om,"__esModule",{value:!0});Om.getData=void 0;var dW=pT(),lW=fA();function hW(){return(0,lW.read_compressed_payload)((0,dW.decode)("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}Om.getData=hW});var kT=P(Hf=>{"use strict";d();l();Object.defineProperty(Hf,"__esModule",{value:!0});Hf.ens_normalize=Hf.ens_normalize_post_check=void 0;var pW=va(),yW=ST(),Dm=(0,yW.getData)(),Rm=fA(),mW=new Set((0,Rm.read_member_array)(Dm)),gW=new Set((0,Rm.read_member_array)(Dm)),bW=(0,Rm.read_mapped_map)(Dm),xW=(0,Rm.read_emoji_trie)(Dm),vT=45,ET=95;function IT(t){return(0,pW.toUtf8CodePoints)(t)}function wW(t){return t.filter(function(e){return e!=65039})}function dA(t){for(var e=0,r=t.split(".");e<r.length;e++){var n=r[e],o=IT(n);try{for(var i=o.lastIndexOf(ET)-1;i>=0;i--)if(o[i]!==ET)throw new Error("underscore only allowed at start");if(o.length>=4&&o.every(function(s){return s<128})&&o[2]===vT&&o[3]===vT)throw new Error("invalid label extension")}catch(s){throw new Error('Invalid label "'+n+'": '+s.message)}}return t}Hf.ens_normalize_post_check=dA;function AW(t){return dA(SW(t,wW))}Hf.ens_normalize=AW;function SW(t,e){for(var r=IT(t).reverse(),n=[];r.length;){var o=EW(r);if(o){n.push.apply(n,e(o));continue}var i=r.pop();if(mW.has(i)){n.push(i);continue}if(!gW.has(i)){var s=bW[i];if(s){n.push.apply(n,s);continue}throw new Error("Disallowed codepoint: 0x"+i.toString(16).toUpperCase())}}return dA(vW(String.fromCodePoint.apply(String,n)))}function vW(t){return t.normalize("NFC")}function EW(t,e){var r,n=xW,o,i,s=[],a=t.length;e&&(e.length=0);for(var c=function(){var h=t[--a];if(n=(r=n.branches.find(function(f){return f.set.has(h)}))===null||r===void 0?void 0:r.node,!n)return"break";if(n.save)i=h;else if(n.check&&h===i)return"break";s.push(h),n.fe0f&&(s.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(o=s.slice(),n.valid==2&&o.splice(1,1),e&&e.push.apply(e,t.slice(a).reverse()),t.length=a)};a;){var u=c();if(u==="break")break}return o}});var lA=P(wi=>{"use strict";d();l();Object.defineProperty(wi,"__esModule",{value:!0});wi.dnsEncode=wi.namehash=wi.isValidName=wi.ensNormalize=void 0;var Nm=vr(),PT=va(),TT=Ms(),IW=cn(),kW=cA(),TW=new IW.Logger(kW.version),_W=kT(),BT=new Uint8Array(32);BT.fill(0);function _T(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function Um(t){var e=(0,PT.toUtf8Bytes)((0,_W.ens_normalize)(t)),r=[];if(t.length===0)return r;for(var n=0,o=0;o<e.length;o++){var i=e[o];i===46&&(r.push(_T(e.slice(n,o))),n=o+1)}if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(_T(e.slice(n))),r}function PW(t){return Um(t).map(function(e){return(0,PT.toUtf8String)(e)}).join(".")}wi.ensNormalize=PW;function BW(t){try{return Um(t).length!==0}catch{}return!1}wi.isValidName=BW;function CW(t){typeof t!="string"&&TW.throwArgumentError("invalid ENS name; not a string","name",t);for(var e=BT,r=Um(t);r.length;)e=(0,TT.keccak256)((0,Nm.concat)([e,(0,TT.keccak256)(r.pop())]));return(0,Nm.hexlify)(e)}wi.namehash=CW;function OW(t){return(0,Nm.hexlify)((0,Nm.concat)(Um(t).map(function(e){if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");var r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}wi.dnsEncode=OW});var CT=P(Qc=>{"use strict";d();l();Object.defineProperty(Qc,"__esModule",{value:!0});Qc.hashMessage=Qc.messagePrefix=void 0;var DW=vr(),RW=Ms(),hA=va();Qc.messagePrefix=`Ethereum Signed Message:
`;function NW(t){return typeof t=="string"&&(t=(0,hA.toUtf8Bytes)(t)),(0,RW.keccak256)((0,DW.concat)([(0,hA.toUtf8Bytes)(Qc.messagePrefix),(0,hA.toUtf8Bytes)(String(t.length)),t]))}Qc.hashMessage=NW});var HT=P(Ea=>{"use strict";d();l();var UW=Ea&&Ea.__awaiter||function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(h){try{u(n.next(h))}catch(f){s(f)}}function c(h){try{u(n.throw(h))}catch(f){s(f)}}function u(h){h.done?i(h.value):o(h.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},LW=Ea&&Ea.__generator||function(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(h){return c([u,h])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=u[0]&2?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,o=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],o=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(Ea,"__esModule",{value:!0});Ea.TypedDataEncoder=void 0;var NT=pl(),Jc=qu(),Mr=vr(),Kf=Ms(),Yc=yo(),MW=cn(),FW=cA(),jt=new MW.Logger(FW.version),UT=aA(),LT=new Uint8Array(32);LT.fill(0);var HW=Jc.BigNumber.from(-1),MT=Jc.BigNumber.from(0),FT=Jc.BigNumber.from(1),KW=Jc.BigNumber.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function VW(t){var e=(0,Mr.arrayify)(t),r=e.length%32;return r?(0,Mr.hexConcat)([e,LT.slice(r)]):(0,Mr.hexlify)(e)}var qW=(0,Mr.hexZeroPad)(FT.toHexString(),32),zW=(0,Mr.hexZeroPad)(MT.toHexString(),32),OT={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},pA=["name","version","chainId","verifyingContract","salt"];function DT(t){return function(e){return typeof e!="string"&&jt.throwArgumentError("invalid domain value for "+JSON.stringify(t),"domain."+t,e),e}}var jW={name:DT("name"),version:DT("version"),chainId:function(t){try{return Jc.BigNumber.from(t).toString()}catch{}return jt.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return(0,NT.getAddress)(t).toLowerCase()}catch{}return jt.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{var e=(0,Mr.arrayify)(t);if(e.length!==32)throw new Error("bad length");return(0,Mr.hexlify)(e)}catch{}return jt.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function yA(t){{var e=t.match(/^(u?)int(\d*)$/);if(e){var r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&jt.throwArgumentError("invalid numeric width","type",t);var o=KW.mask(r?n-1:n),i=r?o.add(FT).mul(HW):MT;return function(a){var c=Jc.BigNumber.from(a);return(c.lt(i)||c.gt(o))&&jt.throwArgumentError("value out-of-bounds for "+t,"value",a),(0,Mr.hexZeroPad)(c.toTwos(256).toHexString(),32)}}}{var e=t.match(/^bytes(\d+)$/);if(e){var s=parseInt(e[1]);return(s===0||s>32||e[1]!==String(s))&&jt.throwArgumentError("invalid bytes width","type",t),function(c){var u=(0,Mr.arrayify)(c);return u.length!==s&&jt.throwArgumentError("invalid length for "+t,"value",c),VW(c)}}}switch(t){case"address":return function(a){return(0,Mr.hexZeroPad)((0,NT.getAddress)(a),32)};case"bool":return function(a){return a?qW:zW};case"bytes":return function(a){return(0,Kf.keccak256)(a)};case"string":return function(a){return(0,UT.id)(a)}}return null}function RT(t,e){return t+"("+e.map(function(r){var n=r.name,o=r.type;return o+" "+n}).join(",")+")"}var WW=function(){function t(e){(0,Yc.defineReadOnly)(this,"types",Object.freeze((0,Yc.deepCopy)(e))),(0,Yc.defineReadOnly)(this,"_encoderCache",{}),(0,Yc.defineReadOnly)(this,"_types",{});var r={},n={},o={};Object.keys(e).forEach(function(f){r[f]={},n[f]=[],o[f]={}});var i=function(f){var p={};e[f].forEach(function(m){p[m.name]&&jt.throwArgumentError("duplicate variable name "+JSON.stringify(m.name)+" in "+JSON.stringify(f),"types",e),p[m.name]=!0;var g=m.type.match(/^([^\x5b]*)(\x5b|$)/)[1];g===f&&jt.throwArgumentError("circular type reference to "+JSON.stringify(g),"types",e);var x=yA(g);x||(n[g]||jt.throwArgumentError("unknown type "+JSON.stringify(g),"types",e),n[g].push(f),r[f][g]=!0)})};for(var s in e)i(s);var a=Object.keys(n).filter(function(f){return n[f].length===0});a.length===0?jt.throwArgumentError("missing primary type","types",e):a.length>1&&jt.throwArgumentError("ambiguous primary types or unused types: "+a.map(function(f){return JSON.stringify(f)}).join(", "),"types",e),(0,Yc.defineReadOnly)(this,"primaryType",a[0]);function c(f,p){p[f]&&jt.throwArgumentError("circular type reference to "+JSON.stringify(f),"types",e),p[f]=!0,Object.keys(r[f]).forEach(function(m){n[m]&&(c(m,p),Object.keys(p).forEach(function(g){o[g][m]=!0}))}),delete p[f]}c(this.primaryType,{});for(var u in o){var h=Object.keys(o[u]);h.sort(),this._types[u]=RT(u,e[u])+h.map(function(f){return RT(f,e[f])}).join("")}}return t.prototype.getEncoder=function(e){var r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r},t.prototype._getEncoder=function(e){var r=this;{var n=yA(e);if(n)return n}var o=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(o){var i=o[1],s=this.getEncoder(i),a=parseInt(o[3]);return function(h){a>=0&&h.length!==a&&jt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",h);var f=h.map(s);return r._types[i]&&(f=f.map(Kf.keccak256)),(0,Kf.keccak256)((0,Mr.hexConcat)(f))}}var c=this.types[e];if(c){var u=(0,UT.id)(this._types[e]);return function(h){var f=c.map(function(p){var m=p.name,g=p.type,x=r.getEncoder(g)(h[m]);return r._types[g]?(0,Kf.keccak256)(x):x});return f.unshift(u),(0,Mr.hexConcat)(f)}}return jt.throwArgumentError("unknown type: "+e,"type",e)},t.prototype.encodeType=function(e){var r=this._types[e];return r||jt.throwArgumentError("unknown type: "+JSON.stringify(e),"name",e),r},t.prototype.encodeData=function(e,r){return this.getEncoder(e)(r)},t.prototype.hashStruct=function(e,r){return(0,Kf.keccak256)(this.encodeData(e,r))},t.prototype.encode=function(e){return this.encodeData(this.primaryType,e)},t.prototype.hash=function(e){return this.hashStruct(this.primaryType,e)},t.prototype._visit=function(e,r,n){var o=this;{var i=yA(e);if(i)return n(e,r)}var s=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(s){var a=s[1],c=parseInt(s[3]);return c>=0&&r.length!==c&&jt.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(function(h){return o._visit(a,h,n)})}var u=this.types[e];return u?u.reduce(function(h,f){var p=f.name,m=f.type;return h[p]=o._visit(m,r[p],n),h},{}):jt.throwArgumentError("unknown type: "+e,"type",e)},t.prototype.visit=function(e,r){return this._visit(this.primaryType,e,r)},t.from=function(e){return new t(e)},t.getPrimaryType=function(e){return t.from(e).primaryType},t.hashStruct=function(e,r,n){return t.from(r).hashStruct(e,n)},t.hashDomain=function(e){var r=[];for(var n in e){var o=OT[n];o||jt.throwArgumentError("invalid typed-data domain key: "+JSON.stringify(n),"domain",e),r.push({name:n,type:o})}return r.sort(function(i,s){return pA.indexOf(i.name)-pA.indexOf(s.name)}),t.hashStruct("EIP712Domain",{EIP712Domain:r},e)},t.encode=function(e,r,n){return(0,Mr.hexConcat)(["0x1901",t.hashDomain(e),t.from(r).hash(n)])},t.hash=function(e,r,n){return(0,Kf.keccak256)(t.encode(e,r,n))},t.resolveNames=function(e,r,n,o){return UW(this,void 0,void 0,function(){var i,s,a,c,u,h,f,p;return LW(this,function(m){switch(m.label){case 0:e=(0,Yc.shallowCopy)(e),i={},e.verifyingContract&&!(0,Mr.isHexString)(e.verifyingContract,20)&&(i[e.verifyingContract]="0x"),s=t.from(r),s.visit(n,function(g,x){return g==="address"&&!(0,Mr.isHexString)(x,20)&&(i[x]="0x"),x}),a=[];for(c in i)a.push(c);u=0,m.label=1;case 1:return u<a.length?(h=a[u],f=i,p=h,[4,o(h)]):[3,4];case 2:f[p]=m.sent(),m.label=3;case 3:return u++,[3,1];case 4:return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),n=s.visit(n,function(g,x){return g==="address"&&i[x]?i[x]:x}),[2,{domain:e,value:n}]}})})},t.getPayload=function(e,r,n){t.hashDomain(e);var o={},i=[];pA.forEach(function(c){var u=e[c];u!=null&&(o[c]=jW[c](u),i.push({name:c,type:OT[c]}))});var s=t.from(r),a=(0,Yc.shallowCopy)(r);return a.EIP712Domain?jt.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=i,s.encode(n),{types:a,domain:o,primaryType:s.primaryType,message:s.visit(n,function(c,u){if(c.match(/^bytes(\d*)/))return(0,Mr.hexlify)((0,Mr.arrayify)(u));if(c.match(/^u?int/))return Jc.BigNumber.from(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return typeof u!="string"&&jt.throwArgumentError("invalid string","value",u),u}return jt.throwArgumentError("unsupported type","type",c)})}},t}();Ea.TypedDataEncoder=WW});var gA=P(Pr=>{"use strict";d();l();Object.defineProperty(Pr,"__esModule",{value:!0});Pr._TypedDataEncoder=Pr.hashMessage=Pr.messagePrefix=Pr.ensNormalize=Pr.isValidName=Pr.namehash=Pr.dnsEncode=Pr.id=void 0;var GW=aA();Object.defineProperty(Pr,"id",{enumerable:!0,get:function(){return GW.id}});var mA=lA();Object.defineProperty(Pr,"dnsEncode",{enumerable:!0,get:function(){return mA.dnsEncode}});Object.defineProperty(Pr,"isValidName",{enumerable:!0,get:function(){return mA.isValidName}});Object.defineProperty(Pr,"namehash",{enumerable:!0,get:function(){return mA.namehash}});var KT=CT();Object.defineProperty(Pr,"hashMessage",{enumerable:!0,get:function(){return KT.hashMessage}});Object.defineProperty(Pr,"messagePrefix",{enumerable:!0,get:function(){return KT.messagePrefix}});var $W=lA();Object.defineProperty(Pr,"ensNormalize",{enumerable:!0,get:function(){return $W.ensNormalize}});var QW=HT();Object.defineProperty(Pr,"_TypedDataEncoder",{enumerable:!0,get:function(){return QW.TypedDataEncoder}})});var wA=P(U0=>{"use strict";d();l();Object.defineProperty(U0,"__esModule",{value:!0});U0.SupportedAlgorithm=void 0;var YW;(function(t){t.sha256="sha256",t.sha512="sha512"})(YW=U0.SupportedAlgorithm||(U0.SupportedAlgorithm={}))});var VT=P(Mm=>{"use strict";d();l();Object.defineProperty(Mm,"__esModule",{value:!0});Mm.version=void 0;Mm.version="sha2/5.7.0"});var zT=P(bo=>{"use strict";d();l();var JW=bo&&bo.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bo,"__esModule",{value:!0});bo.computeHmac=bo.sha512=bo.sha256=bo.ripemd160=void 0;var L0=JW(v6()),M0=vr(),XW=wA(),qT=cn(),ZW=VT(),eG=new qT.Logger(ZW.version);function tG(t){return"0x"+L0.default.ripemd160().update((0,M0.arrayify)(t)).digest("hex")}bo.ripemd160=tG;function rG(t){return"0x"+L0.default.sha256().update((0,M0.arrayify)(t)).digest("hex")}bo.sha256=rG;function nG(t){return"0x"+L0.default.sha512().update((0,M0.arrayify)(t)).digest("hex")}bo.sha512=nG;function oG(t,e,r){return XW.SupportedAlgorithm[t]||eG.throwError("unsupported algorithm "+t,qT.Logger.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+L0.default.hmac(L0.default[t],(0,M0.arrayify)(e)).update((0,M0.arrayify)(r)).digest("hex")}bo.computeHmac=oG});var AA=P(xo=>{"use strict";d();l();Object.defineProperty(xo,"__esModule",{value:!0});xo.SupportedAlgorithm=xo.sha512=xo.sha256=xo.ripemd160=xo.computeHmac=void 0;var Fm=zT();Object.defineProperty(xo,"computeHmac",{enumerable:!0,get:function(){return Fm.computeHmac}});Object.defineProperty(xo,"ripemd160",{enumerable:!0,get:function(){return Fm.ripemd160}});Object.defineProperty(xo,"sha256",{enumerable:!0,get:function(){return Fm.sha256}});Object.defineProperty(xo,"sha512",{enumerable:!0,get:function(){return Fm.sha512}});var iG=wA();Object.defineProperty(xo,"SupportedAlgorithm",{enumerable:!0,get:function(){return iG.SupportedAlgorithm}})});var WA=P((jA,b_)=>{"use strict";d();l();(function(t){function e(B){return parseInt(B)===B}function r(B){if(!e(B.length))return!1;for(var R=0;R<B.length;R++)if(!e(B[R])||B[R]<0||B[R]>255)return!1;return!0}function n(B,R){if(B.buffer&&ArrayBuffer.isView(B)&&B.name==="Uint8Array")return R&&(B.slice?B=B.slice():B=Array.prototype.slice.call(B)),B;if(Array.isArray(B)){if(!r(B))throw new Error("Array contains invalid value: "+B);return new Uint8Array(B)}if(e(B.length)&&r(B))return new Uint8Array(B);throw new Error("unsupported array-like object")}function o(B){return new Uint8Array(B)}function i(B,R,X,L,M){(L!=null||M!=null)&&(B.slice?B=B.slice(L,M):B=Array.prototype.slice.call(B,L,M)),R.set(B,X)}var s=function(){function B(X){var L=[],M=0;for(X=encodeURI(X);M<X.length;){var ye=X.charCodeAt(M++);ye===37?(L.push(parseInt(X.substr(M,2),16)),M+=2):L.push(ye)}return n(L)}function R(X){for(var L=[],M=0;M<X.length;){var ye=X[M];ye<128?(L.push(String.fromCharCode(ye)),M++):ye>191&&ye<224?(L.push(String.fromCharCode((ye&31)<<6|X[M+1]&63)),M+=2):(L.push(String.fromCharCode((ye&15)<<12|(X[M+1]&63)<<6|X[M+2]&63)),M+=3)}return L.join("")}return{toBytes:B,fromBytes:R}}(),a=function(){function B(L){for(var M=[],ye=0;ye<L.length;ye+=2)M.push(parseInt(L.substr(ye,2),16));return M}var R="0123456789abcdef";function X(L){for(var M=[],ye=0;ye<L.length;ye++){var vt=L[ye];M.push(R[(vt&240)>>4]+R[vt&15])}return M.join("")}return{toBytes:B,fromBytes:X}}(),c={16:10,24:12,32:14},u=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],f=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],p=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],m=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],g=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],x=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],w=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],S=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],k=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],A=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],T=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],C=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],W=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],oe=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function Y(B){for(var R=[],X=0;X<B.length;X+=4)R.push(B[X]<<24|B[X+1]<<16|B[X+2]<<8|B[X+3]);return R}var G=function(B){if(!(this instanceof G))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:n(B,!0)}),this._prepare()};G.prototype._prepare=function(){var B=c[this.key.length];if(B==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var R=0;R<=B;R++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var X=(B+1)*4,L=this.key.length/4,M=Y(this.key),ye,R=0;R<L;R++)ye=R>>2,this._Ke[ye][R%4]=M[R],this._Kd[B-ye][R%4]=M[R];for(var vt=0,$e=L,H;$e<X;){if(H=M[L-1],M[0]^=h[H>>16&255]<<24^h[H>>8&255]<<16^h[H&255]<<8^h[H>>24&255]^u[vt]<<24,vt+=1,L!=8)for(var R=1;R<L;R++)M[R]^=M[R-1];else{for(var R=1;R<L/2;R++)M[R]^=M[R-1];H=M[L/2-1],M[L/2]^=h[H&255]^h[H>>8&255]<<8^h[H>>16&255]<<16^h[H>>24&255]<<24;for(var R=L/2+1;R<L;R++)M[R]^=M[R-1]}for(var R=0,Ee,_;R<L&&$e<X;)Ee=$e>>2,_=$e%4,this._Ke[Ee][_]=M[R],this._Kd[B-Ee][_]=M[R++],$e++}for(var Ee=1;Ee<B;Ee++)for(var _=0;_<4;_++)H=this._Kd[Ee][_],this._Kd[Ee][_]=T[H>>24&255]^C[H>>16&255]^W[H>>8&255]^oe[H&255]},G.prototype.encrypt=function(B){if(B.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var R=this._Ke.length-1,X=[0,0,0,0],L=Y(B),M=0;M<4;M++)L[M]^=this._Ke[0][M];for(var ye=1;ye<R;ye++){for(var M=0;M<4;M++)X[M]=p[L[M]>>24&255]^m[L[(M+1)%4]>>16&255]^g[L[(M+2)%4]>>8&255]^x[L[(M+3)%4]&255]^this._Ke[ye][M];L=X.slice()}for(var vt=o(16),$e,M=0;M<4;M++)$e=this._Ke[R][M],vt[4*M]=(h[L[M]>>24&255]^$e>>24)&255,vt[4*M+1]=(h[L[(M+1)%4]>>16&255]^$e>>16)&255,vt[4*M+2]=(h[L[(M+2)%4]>>8&255]^$e>>8)&255,vt[4*M+3]=(h[L[(M+3)%4]&255]^$e)&255;return vt},G.prototype.decrypt=function(B){if(B.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var R=this._Kd.length-1,X=[0,0,0,0],L=Y(B),M=0;M<4;M++)L[M]^=this._Kd[0][M];for(var ye=1;ye<R;ye++){for(var M=0;M<4;M++)X[M]=w[L[M]>>24&255]^S[L[(M+3)%4]>>16&255]^k[L[(M+2)%4]>>8&255]^A[L[(M+1)%4]&255]^this._Kd[ye][M];L=X.slice()}for(var vt=o(16),$e,M=0;M<4;M++)$e=this._Kd[R][M],vt[4*M]=(f[L[M]>>24&255]^$e>>24)&255,vt[4*M+1]=(f[L[(M+3)%4]>>16&255]^$e>>16)&255,vt[4*M+2]=(f[L[(M+2)%4]>>8&255]^$e>>8)&255,vt[4*M+3]=(f[L[(M+1)%4]&255]^$e)&255;return vt};var re=function(B){if(!(this instanceof re))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new G(B)};re.prototype.encrypt=function(B){if(B=n(B),B.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var R=o(B.length),X=o(16),L=0;L<B.length;L+=16)i(B,X,0,L,L+16),X=this._aes.encrypt(X),i(X,R,L);return R},re.prototype.decrypt=function(B){if(B=n(B),B.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var R=o(B.length),X=o(16),L=0;L<B.length;L+=16)i(B,X,0,L,L+16),X=this._aes.decrypt(X),i(X,R,L);return R};var Z=function(B,R){if(!(this instanceof Z))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!R)R=o(16);else if(R.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=n(R,!0),this._aes=new G(B)};Z.prototype.encrypt=function(B){if(B=n(B),B.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var R=o(B.length),X=o(16),L=0;L<B.length;L+=16){i(B,X,0,L,L+16);for(var M=0;M<16;M++)X[M]^=this._lastCipherblock[M];this._lastCipherblock=this._aes.encrypt(X),i(this._lastCipherblock,R,L)}return R},Z.prototype.decrypt=function(B){if(B=n(B),B.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var R=o(B.length),X=o(16),L=0;L<B.length;L+=16){i(B,X,0,L,L+16),X=this._aes.decrypt(X);for(var M=0;M<16;M++)R[L+M]=X[M]^this._lastCipherblock[M];i(B,this._lastCipherblock,0,L,L+16)}return R};var O=function(B,R,X){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!R)R=o(16);else if(R.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");X||(X=1),this.segmentSize=X,this._shiftRegister=n(R,!0),this._aes=new G(B)};O.prototype.encrypt=function(B){if(B.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var R=n(B,!0),X,L=0;L<R.length;L+=this.segmentSize){X=this._aes.encrypt(this._shiftRegister);for(var M=0;M<this.segmentSize;M++)R[L+M]^=X[M];i(this._shiftRegister,this._shiftRegister,0,this.segmentSize),i(R,this._shiftRegister,16-this.segmentSize,L,L+this.segmentSize)}return R},O.prototype.decrypt=function(B){if(B.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var R=n(B,!0),X,L=0;L<R.length;L+=this.segmentSize){X=this._aes.encrypt(this._shiftRegister);for(var M=0;M<this.segmentSize;M++)R[L+M]^=X[M];i(this._shiftRegister,this._shiftRegister,0,this.segmentSize),i(B,this._shiftRegister,16-this.segmentSize,L,L+this.segmentSize)}return R};var D=function(B,R){if(!(this instanceof D))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!R)R=o(16);else if(R.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=n(R,!0),this._lastPrecipherIndex=16,this._aes=new G(B)};D.prototype.encrypt=function(B){for(var R=n(B,!0),X=0;X<R.length;X++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),R[X]^=this._lastPrecipher[this._lastPrecipherIndex++];return R},D.prototype.decrypt=D.prototype.encrypt;var N=function(B){if(!(this instanceof N))throw Error("Counter must be instanitated with `new`");B!==0&&!B&&(B=1),typeof B=="number"?(this._counter=o(16),this.setValue(B)):this.setBytes(B)};N.prototype.setValue=function(B){if(typeof B!="number"||parseInt(B)!=B)throw new Error("invalid counter value (must be an integer)");for(var R=15;R>=0;--R)this._counter[R]=B%256,B=B>>8},N.prototype.setBytes=function(B){if(B=n(B,!0),B.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=B},N.prototype.increment=function(){for(var B=15;B>=0;B--)if(this._counter[B]===255)this._counter[B]=0;else{this._counter[B]++;break}};var Q=function(B,R){if(!(this instanceof Q))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",R instanceof N||(R=new N(R)),this._counter=R,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new G(B)};Q.prototype.encrypt=function(B){for(var R=n(B,!0),X=0;X<R.length;X++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),R[X]^=this._remainingCounter[this._remainingCounterIndex++];return R},Q.prototype.decrypt=Q.prototype.encrypt;function fe(B){B=n(B,!0);var R=16-B.length%16,X=o(B.length+R);i(B,X);for(var L=B.length;L<X.length;L++)X[L]=R;return X}function ae(B){if(B=n(B,!0),B.length<16)throw new Error("PKCS#7 invalid length");var R=B[B.length-1];if(R>16)throw new Error("PKCS#7 padding byte out of range");for(var X=B.length-R,L=0;L<R;L++)if(B[X+L]!==R)throw new Error("PKCS#7 invalid padding byte");var M=o(X);return i(B,M,0,0,X),M}var Ie={AES:G,Counter:N,ModeOfOperation:{ecb:re,cbc:Z,cfb:O,ofb:D,ctr:Q},utils:{hex:a,utf8:s},padding:{pkcs7:{pad:fe,strip:ae}},_arrayTest:{coerceArray:n,createArray:o,copyArray:i}};typeof jA<"u"?b_.exports=Ie:typeof define=="function"&&define.amd?define(Ie):(t.aesjs&&(Ie._aesjs=t.aesjs),t.aesjs=Ie)})(jA)});var k_=P((ZA,I_)=>{"use strict";d();l();(function(t){function r(m){let g=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),x=1779033703,w=3144134277,S=1013904242,k=2773480762,A=1359893119,T=2600822924,C=528734635,W=1541459225,oe=new Uint32Array(64);function Y(Q){let fe=0,ae=Q.length;for(;ae>=64;){let Ie=x,B=w,R=S,X=k,L=A,M=T,ye=C,vt=W,$e,H,Ee,_,F;for(H=0;H<16;H++)Ee=fe+H*4,oe[H]=(Q[Ee]&255)<<24|(Q[Ee+1]&255)<<16|(Q[Ee+2]&255)<<8|Q[Ee+3]&255;for(H=16;H<64;H++)$e=oe[H-2],_=($e>>>17|$e<<15)^($e>>>19|$e<<13)^$e>>>10,$e=oe[H-15],F=($e>>>7|$e<<25)^($e>>>18|$e<<14)^$e>>>3,oe[H]=(_+oe[H-7]|0)+(F+oe[H-16]|0)|0;for(H=0;H<64;H++)_=(((L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7))+(L&M^~L&ye)|0)+(vt+(g[H]+oe[H]|0)|0)|0,F=((Ie>>>2|Ie<<30)^(Ie>>>13|Ie<<19)^(Ie>>>22|Ie<<10))+(Ie&B^Ie&R^B&R)|0,vt=ye,ye=M,M=L,L=X+_|0,X=R,R=B,B=Ie,Ie=_+F|0;x=x+Ie|0,w=w+B|0,S=S+R|0,k=k+X|0,A=A+L|0,T=T+M|0,C=C+ye|0,W=W+vt|0,fe+=64,ae-=64}}Y(m);let G,re=m.length%64,Z=m.length/536870912|0,O=m.length<<3,D=re<56?56:120,N=m.slice(m.length-re,m.length);for(N.push(128),G=re+1;G<D;G++)N.push(0);return N.push(Z>>>24&255),N.push(Z>>>16&255),N.push(Z>>>8&255),N.push(Z>>>0&255),N.push(O>>>24&255),N.push(O>>>16&255),N.push(O>>>8&255),N.push(O>>>0&255),Y(N),[x>>>24&255,x>>>16&255,x>>>8&255,x>>>0&255,w>>>24&255,w>>>16&255,w>>>8&255,w>>>0&255,S>>>24&255,S>>>16&255,S>>>8&255,S>>>0&255,k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,A>>>24&255,A>>>16&255,A>>>8&255,A>>>0&255,T>>>24&255,T>>>16&255,T>>>8&255,T>>>0&255,C>>>24&255,C>>>16&255,C>>>8&255,C>>>0&255,W>>>24&255,W>>>16&255,W>>>8&255,W>>>0&255]}function n(m,g,x){m=m.length<=64?m:r(m);let w=64+g.length+4,S=new Array(w),k=new Array(64),A,T=[];for(A=0;A<64;A++)S[A]=54;for(A=0;A<m.length;A++)S[A]^=m[A];for(A=0;A<g.length;A++)S[64+A]=g[A];for(A=w-4;A<w;A++)S[A]=0;for(A=0;A<64;A++)k[A]=92;for(A=0;A<m.length;A++)k[A]^=m[A];function C(){for(let W=w-1;W>=w-4;W--){if(S[W]++,S[W]<=255)return;S[W]=0}}for(;x>=32;)C(),T=T.concat(r(k.concat(r(S)))),x-=32;return x>0&&(C(),T=T.concat(r(k.concat(r(S))).slice(0,x))),T}function o(m,g,x,w,S){let k;for(c(m,(2*x-1)*16,S,0,16),k=0;k<2*x;k++)a(m,k*16,S,16),s(S,w),c(S,0,m,g+k*16,16);for(k=0;k<x;k++)c(m,g+k*2*16,m,k*16,16);for(k=0;k<x;k++)c(m,g+(k*2+1)*16,m,(k+x)*16,16)}function i(m,g){return m<<g|m>>>32-g}function s(m,g){c(m,0,g,0,16);for(let x=8;x>0;x-=2)g[4]^=i(g[0]+g[12],7),g[8]^=i(g[4]+g[0],9),g[12]^=i(g[8]+g[4],13),g[0]^=i(g[12]+g[8],18),g[9]^=i(g[5]+g[1],7),g[13]^=i(g[9]+g[5],9),g[1]^=i(g[13]+g[9],13),g[5]^=i(g[1]+g[13],18),g[14]^=i(g[10]+g[6],7),g[2]^=i(g[14]+g[10],9),g[6]^=i(g[2]+g[14],13),g[10]^=i(g[6]+g[2],18),g[3]^=i(g[15]+g[11],7),g[7]^=i(g[3]+g[15],9),g[11]^=i(g[7]+g[3],13),g[15]^=i(g[11]+g[7],18),g[1]^=i(g[0]+g[3],7),g[2]^=i(g[1]+g[0],9),g[3]^=i(g[2]+g[1],13),g[0]^=i(g[3]+g[2],18),g[6]^=i(g[5]+g[4],7),g[7]^=i(g[6]+g[5],9),g[4]^=i(g[7]+g[6],13),g[5]^=i(g[4]+g[7],18),g[11]^=i(g[10]+g[9],7),g[8]^=i(g[11]+g[10],9),g[9]^=i(g[8]+g[11],13),g[10]^=i(g[9]+g[8],18),g[12]^=i(g[15]+g[14],7),g[13]^=i(g[12]+g[15],9),g[14]^=i(g[13]+g[12],13),g[15]^=i(g[14]+g[13],18);for(let x=0;x<16;++x)m[x]+=g[x]}function a(m,g,x,w){for(let S=0;S<w;S++)x[S]^=m[g+S]}function c(m,g,x,w,S){for(;S--;)x[w++]=m[g++]}function u(m){if(!m||typeof m.length!="number")return!1;for(let g=0;g<m.length;g++){let x=m[g];if(typeof x!="number"||x%1||x<0||x>=256)return!1}return!0}function h(m,g){if(typeof m!="number"||m%1)throw new Error("invalid "+g);return m}function f(m,g,x,w,S,k,A){if(x=h(x,"N"),w=h(w,"r"),S=h(S,"p"),k=h(k,"dkLen"),x===0||x&x-1)throw new Error("N must be power of 2");if(x>2147483647/128/w)throw new Error("N too large");if(w>2147483647/128/S)throw new Error("r too large");if(!u(m))throw new Error("password must be an array or buffer");if(m=Array.prototype.slice.call(m),!u(g))throw new Error("salt must be an array or buffer");g=Array.prototype.slice.call(g);let T=n(m,g,S*128*w),C=new Uint32Array(S*32*w);for(let L=0;L<C.length;L++){let M=L*4;C[L]=(T[M+3]&255)<<24|(T[M+2]&255)<<16|(T[M+1]&255)<<8|(T[M+0]&255)<<0}let W=new Uint32Array(64*w),oe=new Uint32Array(32*w*x),Y=32*w,G=new Uint32Array(16),re=new Uint32Array(16),Z=S*x*2,O=0,D=null,N=!1,Q=0,fe=0,ae,Ie,B=A?parseInt(1e3/w):4294967295,R=typeof setImmediate<"u"?setImmediate:setTimeout,X=function(){if(N)return A(new Error("cancelled"),O/Z);let L;switch(Q){case 0:Ie=fe*32*w,c(C,Ie,W,0,Y),Q=1,ae=0;case 1:L=x-ae,L>B&&(L=B);for(let ye=0;ye<L;ye++)c(W,0,oe,(ae+ye)*Y,Y),o(W,Y,w,G,re);if(ae+=L,O+=L,A){let ye=parseInt(1e3*O/Z);if(ye!==D){if(N=A(null,O/Z),N)break;D=ye}}if(ae<x)break;ae=0,Q=2;case 2:L=x-ae,L>B&&(L=B);for(let ye=0;ye<L;ye++){let vt=(2*w-1)*16,$e=W[vt]&x-1;a(oe,$e*Y,W,Y),o(W,Y,w,G,re)}if(ae+=L,O+=L,A){let ye=parseInt(1e3*O/Z);if(ye!==D){if(N=A(null,O/Z),N)break;D=ye}}if(ae<x)break;if(c(W,0,C,Ie,Y),fe++,fe<S){Q=0;break}T=[];for(let ye=0;ye<C.length;ye++)T.push(C[ye]>>0&255),T.push(C[ye]>>8&255),T.push(C[ye]>>16&255),T.push(C[ye]>>24&255);let M=n(m,T,k);return A&&A(null,1,M),M}A&&R(X)};if(!A)for(;;){let L=X();if(L!=null)return L}X()}let p={scrypt:function(m,g,x,w,S,k,A){return new Promise(function(T,C){let W=0;A&&A(0),f(m,g,x,w,S,k,function(oe,Y,G){if(oe)C(oe);else if(G)A&&W!==1&&A(1),T(new Uint8Array(G));else if(A&&Y!==W)return W=Y,A(Y)})})},syncScrypt:function(m,g,x,w,S,k){return new Uint8Array(f(m,g,x,w,S,k))}};typeof ZA<"u"?I_.exports=p:typeof define=="function"&&define.amd?define(p):t&&(t.scrypt&&(t._scrypt=t.scrypt),t.scrypt=p)})(ZA)});var yd=P(pd=>{"use strict";d();l();Object.defineProperty(pd,"__esModule",{value:!0});pd.bech32m=pd.bech32=void 0;var Kg="qpzry9x8gf2tvdw0s3jn54khce6mua7l",jP={};for(let t=0;t<Kg.length;t++){let e=Kg.charAt(t);jP[e]=t}function hd(t){let e=t>>25;return(t&33554431)<<5^-(e>>0&1)&996825010^-(e>>1&1)&642813549^-(e>>2&1)&513874426^-(e>>3&1)&1027748829^-(e>>4&1)&705979059}function zP(t){let e=1;for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+t+")";e=hd(e)^n>>5}e=hd(e);for(let r=0;r<t.length;++r){let n=t.charCodeAt(r);e=hd(e)^n&31}return e}function lv(t,e,r,n){let o=0,i=0,s=(1<<r)-1,a=[];for(let c=0;c<t.length;++c)for(o=o<<e|t[c],i+=e;i>=r;)i-=r,a.push(o>>i&s);if(n)i>0&&a.push(o<<r-i&s);else{if(i>=e)return"Excess padding";if(o<<r-i&s)return"Non-zero padding"}return a}function hY(t){return lv(t,8,5,!0)}function pY(t){let e=lv(t,5,8,!1);if(Array.isArray(e))return e}function yY(t){let e=lv(t,5,8,!1);if(Array.isArray(e))return e;throw new Error(e)}function WP(t){let e;t==="bech32"?e=1:e=734539939;function r(s,a,c){if(c=c||90,s.length+7+a.length>c)throw new TypeError("Exceeds length limit");s=s.toLowerCase();let u=zP(s);if(typeof u=="string")throw new Error(u);let h=s+"1";for(let f=0;f<a.length;++f){let p=a[f];if(p>>5)throw new Error("Non 5-bit word");u=hd(u)^p,h+=Kg.charAt(p)}for(let f=0;f<6;++f)u=hd(u);u^=e;for(let f=0;f<6;++f){let p=u>>(5-f)*5&31;h+=Kg.charAt(p)}return h}function n(s,a){if(a=a||90,s.length<8)return s+" too short";if(s.length>a)return"Exceeds length limit";let c=s.toLowerCase(),u=s.toUpperCase();if(s!==c&&s!==u)return"Mixed-case string "+s;s=c;let h=s.lastIndexOf("1");if(h===-1)return"No separator character for "+s;if(h===0)return"Missing prefix for "+s;let f=s.slice(0,h),p=s.slice(h+1);if(p.length<6)return"Data too short";let m=zP(f);if(typeof m=="string")return m;let g=[];for(let x=0;x<p.length;++x){let w=p.charAt(x),S=jP[w];if(S===void 0)return"Unknown character "+w;m=hd(m)^S,!(x+6>=p.length)&&g.push(S)}return m!==e?"Invalid checksum for "+s:{prefix:f,words:g}}function o(s,a){let c=n(s,a);if(typeof c=="object")return c}function i(s,a){let c=n(s,a);if(typeof c=="object")return c;throw new Error(c)}return{decodeUnsafe:o,decode:i,encode:r,toWords:hY,fromWordsUnsafe:pY,fromWords:yY}}pd.bech32=WP("bech32");pd.bech32m=WP("bech32m")});var ZP=P(pn=>{"use strict";d();l();Object.defineProperty(pn,"__esModule",{value:!0});pn.output=pn.exists=pn.hash=pn.bytes=pn.bool=pn.number=void 0;function Gg(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}pn.number=Gg;function QP(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}pn.bool=QP;function Av(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}pn.bytes=Av;function YP(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Gg(t.outputLen),Gg(t.blockLen)}pn.hash=YP;function JP(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}pn.exists=JP;function XP(t,e){Av(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}pn.output=XP;var kY={number:Gg,bool:QP,bytes:Av,hash:YP,exists:JP,output:XP};pn.default=kY});var e7=P($g=>{"use strict";d();l();Object.defineProperty($g,"__esModule",{value:!0});$g.crypto=void 0;$g.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var Ev=P(Ve=>{"use strict";d();l();Object.defineProperty(Ve,"__esModule",{value:!0});Ve.randomBytes=Ve.wrapConstructorWithOpts=Ve.wrapConstructor=Ve.checkOpts=Ve.Hash=Ve.concatBytes=Ve.toBytes=Ve.utf8ToBytes=Ve.asyncLoop=Ve.nextTick=Ve.hexToBytes=Ve.bytesToHex=Ve.isLE=Ve.rotr=Ve.createView=Ve.u32=Ve.u8=void 0;var Qg=e7(),TY=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Ve.u8=TY;var _Y=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Ve.u32=_Y;var PY=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Ve.createView=PY;var BY=(t,e)=>t<<32-e|t>>>e;Ve.rotr=BY;Ve.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Ve.isLE)throw new Error("Non little-endian hardware is not supported");var CY=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function OY(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=CY[t[r]];return e}Ve.bytesToHex=OY;function DY(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,o=t.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[r]=i}return e}Ve.hexToBytes=DY;var RY=async()=>{};Ve.nextTick=RY;async function NY(t,e,r){let n=Date.now();for(let o=0;o<t;o++){r(o);let i=Date.now()-n;i>=0&&i<e||(await(0,Ve.nextTick)(),n+=i)}}Ve.asyncLoop=NY;function t7(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}Ve.utf8ToBytes=t7;function vv(t){if(typeof t=="string"&&(t=t7(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Ve.toBytes=vv;function UY(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,o)=>n+o.length,0),r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let i=t[n];r.set(i,o),o+=i.length}return r}Ve.concatBytes=UY;var Sv=class{clone(){return this._cloneInto()}};Ve.Hash=Sv;var LY=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function MY(t,e){if(e!==void 0&&(typeof e!="object"||!LY(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}Ve.checkOpts=MY;function FY(t){let e=n=>t().update(vv(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Ve.wrapConstructor=FY;function HY(t){let e=(n,o)=>t(o).update(vv(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Ve.wrapConstructorWithOpts=HY;function KY(t=32){if(Qg.crypto.web)return Qg.crypto.web.getRandomValues(new Uint8Array(t));if(Qg.crypto.node)return new Uint8Array(Qg.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}Ve.randomBytes=KY});var r7=P(Yg=>{"use strict";d();l();Object.defineProperty(Yg,"__esModule",{value:!0});Yg.SHA2=void 0;var Iv=ZP(),th=Ev();function VY(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var kv=class extends th.Hash{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,th.createView)(this.buffer)}update(e){Iv.default.exists(this);let{view:r,buffer:n,blockLen:o}=this;e=(0,th.toBytes)(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=(0,th.createView)(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Iv.default.exists(this),Iv.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;VY(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=(0,th.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};Yg.SHA2=kv});var n7=P(gd=>{"use strict";d();l();Object.defineProperty(gd,"__esModule",{value:!0});gd.sha224=gd.sha256=void 0;var qY=r7(),ko=Ev(),zY=(t,e,r)=>t&e^~t&r,jY=(t,e,r)=>t&e^t&r^e&r,WY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ga=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),$a=new Uint32Array(64),Jg=class extends qY.SHA2{constructor(){super(64,32,8,!1),this.A=Ga[0]|0,this.B=Ga[1]|0,this.C=Ga[2]|0,this.D=Ga[3]|0,this.E=Ga[4]|0,this.F=Ga[5]|0,this.G=Ga[6]|0,this.H=Ga[7]|0}get(){let{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:c}=this;return[e,r,n,o,i,s,a,c]}set(e,r,n,o,i,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)$a[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=$a[f-15],m=$a[f-2],g=(0,ko.rotr)(p,7)^(0,ko.rotr)(p,18)^p>>>3,x=(0,ko.rotr)(m,17)^(0,ko.rotr)(m,19)^m>>>10;$a[f]=x+$a[f-7]+g+$a[f-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){let p=(0,ko.rotr)(a,6)^(0,ko.rotr)(a,11)^(0,ko.rotr)(a,25),m=h+p+zY(a,c,u)+WY[f]+$a[f]|0,x=((0,ko.rotr)(n,2)^(0,ko.rotr)(n,13)^(0,ko.rotr)(n,22))+jY(n,o,i)|0;h=u,u=c,c=a,a=s+m|0,s=i,i=o,o=n,n=m+x|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(n,o,i,s,a,c,u,h)}roundClean(){$a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Tv=class extends Jg{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};gd.sha256=(0,ko.wrapConstructor)(()=>new Jg);gd.sha224=(0,ko.wrapConstructor)(()=>new Tv)});var i7=P(($ve,o7)=>{"use strict";d();l();function GY(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var o=t.charAt(n),i=o.charCodeAt(0);if(e[i]!==255)throw new TypeError(o+" is ambiguous");e[i]=n}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function h(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,x=0,w=0,S=m.length;w!==S&&m[w]===0;)w++,g++;for(var k=(S-w)*u+1>>>0,A=new Uint8Array(k);w!==S;){for(var T=m[w],C=0,W=k-1;(T!==0||C<x)&&W!==-1;W--,C++)T+=256*A[W]>>>0,A[W]=T%s>>>0,T=T/s>>>0;if(T!==0)throw new Error("Non-zero carry");x=C,w++}for(var oe=k-x;oe!==k&&A[oe]===0;)oe++;for(var Y=a.repeat(g);oe<k;++oe)Y+=t.charAt(A[oe]);return Y}function f(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;for(var g=0,x=0,w=0;m[g]===a;)x++,g++;for(var S=(m.length-g)*c+1>>>0,k=new Uint8Array(S);m[g];){var A=e[m.charCodeAt(g)];if(A===255)return;for(var T=0,C=S-1;(A!==0||T<w)&&C!==-1;C--,T++)A+=s*k[C]>>>0,k[C]=A%256>>>0,A=A/256>>>0;if(A!==0)throw new Error("Non-zero carry");w=T,g++}for(var W=S-w;W!==S&&k[W]===0;)W++;for(var oe=new Uint8Array(x+(S-W)),Y=x;W!==S;)oe[Y++]=k[W++];return oe}function p(m){var g=f(m);if(g)return g;throw new Error("Non-base"+s+" character")}return{encode:h,decodeUnsafe:f,decode:p}}o7.exports=GY});var a7=P((Jve,s7)=>{d();l();var $Y=i7(),QY="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";s7.exports=$Y(QY)});var u7=P((eEe,c7)=>{"use strict";d();l();var _v=a7();c7.exports=function(t){function e(i){var s=Uint8Array.from(i),a=t(s),c=s.length+4,u=new Uint8Array(c);return u.set(s,0),u.set(a.subarray(0,4),s.length),_v.encode(u,c)}function r(i){var s=i.slice(0,-4),a=i.slice(-4),c=t(s);if(!(a[0]^c[0]|a[1]^c[1]|a[2]^c[2]|a[3]^c[3]))return s}function n(i){var s=_v.decodeUnsafe(i);if(s)return r(s)}function o(i){var s=_v.decode(i),a=r(s,t);if(!a)throw new Error("Invalid checksum");return a}return{encode:e,decode:o,decodeUnsafe:n}}});var bd=P((nEe,d7)=>{"use strict";d();l();var{sha256:f7}=n7(),YY=u7();function JY(t){return f7(f7(t))}d7.exports=YY(JY)});var h7=P((sEe,l7)=>{"use strict";d();l();var Pv=Ls(),XY=S6().Buffer;l7.exports=function(t){function e(i){var s=t(i);return Pv.encode(XY.concat([i,s],i.length+4))}function r(i){var s=i.slice(0,-4),a=i.slice(-4),c=t(s);if(!(a[0]^c[0]|a[1]^c[1]|a[2]^c[2]|a[3]^c[3]))return s}function n(i){var s=Pv.decodeUnsafe(i);if(s)return r(s)}function o(i){var s=Pv.decode(i),a=r(s,t);if(!a)throw new Error("Invalid checksum");return a}return{encode:e,decode:o,decodeUnsafe:n}}});var m7=P((uEe,y7)=>{"use strict";d();l();var p7=tU(),ZY=h7();function eJ(t){var e=p7("sha256").update(t).digest();return p7("sha256").update(e).digest()}y7.exports=ZY(eJ)});var Ov=P((lEe,b7)=>{d();l();var Bv=m7();function g7(t,e){if(e!==void 0&&t[0]!==e)throw new Error("Invalid network version");if(t.length===33)return{version:t[0],privateKey:t.slice(1,33),compressed:!1};if(t.length!==34)throw new Error("Invalid WIF length");if(t[33]!==1)throw new Error("Invalid compression flag");return{version:t[0],privateKey:t.slice(1,33),compressed:!0}}function Cv(t,e,r){var n=new Buffer(r?34:33);return n.writeUInt8(t,0),e.copy(n,1),r&&(n[33]=1),n}function tJ(t,e){return g7(Bv.decode(t),e)}function rJ(t,e,r){return typeof t=="number"?Bv.encode(Cv(t,e,r)):Bv.encode(Cv(t.version,t.privateKey,t.compressed))}b7.exports={decode:tJ,decodeRaw:g7,encode:rJ,encodeRaw:Cv}});var Nv=P(yn=>{"use strict";d();l();Object.defineProperty(yn,"__esModule",{value:!0});yn.output=yn.exists=yn.hash=yn.bytes=yn.bool=yn.number=void 0;function eb(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}yn.number=eb;function I7(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}yn.bool=I7;function Rv(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}yn.bytes=Rv;function k7(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");eb(t.outputLen),eb(t.blockLen)}yn.hash=k7;function T7(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}yn.exists=T7;function _7(t,e){Rv(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}yn.output=_7;var cJ={number:eb,bool:I7,bytes:Rv,hash:k7,exists:T7,output:_7};yn.default=cJ});var P7=P(tb=>{"use strict";d();l();Object.defineProperty(tb,"__esModule",{value:!0});tb.crypto=void 0;tb.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0});var nb=P(Fe=>{"use strict";d();l();Object.defineProperty(Fe,"__esModule",{value:!0});Fe.randomBytes=Fe.wrapXOFConstructorWithOpts=Fe.wrapConstructorWithOpts=Fe.wrapConstructor=Fe.checkOpts=Fe.Hash=Fe.concatBytes=Fe.toBytes=Fe.utf8ToBytes=Fe.asyncLoop=Fe.nextTick=Fe.hexToBytes=Fe.bytesToHex=Fe.isLE=Fe.rotr=Fe.createView=Fe.u32=Fe.u8=void 0;var Uv=P7(),Mv=t=>t instanceof Uint8Array,uJ=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);Fe.u8=uJ;var fJ=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));Fe.u32=fJ;var dJ=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);Fe.createView=dJ;var lJ=(t,e)=>t<<32-e|t>>>e;Fe.rotr=lJ;Fe.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Fe.isLE)throw new Error("Non little-endian hardware is not supported");var hJ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function pJ(t){if(!Mv(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=hJ[t[r]];return e}Fe.bytesToHex=pJ;function yJ(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let r=new Uint8Array(e/2);for(let n=0;n<r.length;n++){let o=n*2,i=t.slice(o,o+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[n]=s}return r}Fe.hexToBytes=yJ;var mJ=async()=>{};Fe.nextTick=mJ;async function gJ(t,e,r){let n=Date.now();for(let o=0;o<t;o++){r(o);let i=Date.now()-n;i>=0&&i<e||(await(0,Fe.nextTick)(),n+=i)}}Fe.asyncLoop=gJ;function B7(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}Fe.utf8ToBytes=B7;function rb(t){if(typeof t=="string"&&(t=B7(t)),!Mv(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}Fe.toBytes=rb;function bJ(...t){let e=new Uint8Array(t.reduce((n,o)=>n+o.length,0)),r=0;return t.forEach(n=>{if(!Mv(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}Fe.concatBytes=bJ;var Lv=class{clone(){return this._cloneInto()}};Fe.Hash=Lv;var xJ=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function wJ(t,e){if(e!==void 0&&(typeof e!="object"||!xJ(e)))throw new Error("Options should be object or undefined");return Object.assign(t,e)}Fe.checkOpts=wJ;function AJ(t){let e=n=>t().update(rb(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}Fe.wrapConstructor=AJ;function SJ(t){let e=(n,o)=>t(o).update(rb(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Fe.wrapConstructorWithOpts=SJ;function vJ(t){let e=(n,o)=>t(o).update(rb(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}Fe.wrapXOFConstructorWithOpts=vJ;function EJ(t=32){if(Uv.crypto&&typeof Uv.crypto.getRandomValues=="function")return Uv.crypto.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}Fe.randomBytes=EJ});var O7=P(du=>{"use strict";d();l();Object.defineProperty(du,"__esModule",{value:!0});du.hmac=du.HMAC=void 0;var ob=Nv(),C7=nb(),nh=class extends C7.Hash{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,ob.default.hash(e);let n=(0,C7.toBytes)(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return ob.default.exists(this),this.iHash.update(e),this}digestInto(e){ob.default.exists(this),ob.default.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};du.HMAC=nh;var IJ=(t,e,r)=>new nh(t,e).update(r).digest();du.hmac=IJ;du.hmac.create=(t,e)=>new nh(t,e)});var D7=P(ib=>{"use strict";d();l();Object.defineProperty(ib,"__esModule",{value:!0});ib.SHA2=void 0;var Fv=Nv(),oh=nb();function kJ(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var Hv=class extends oh.Hash{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,oh.createView)(this.buffer)}update(e){Fv.default.exists(this);let{view:r,buffer:n,blockLen:o}=this;e=(0,oh.toBytes)(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=(0,oh.createView)(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Fv.default.exists(this),Fv.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;kJ(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=(0,oh.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};ib.SHA2=Hv});var R7=P(xd=>{"use strict";d();l();Object.defineProperty(xd,"__esModule",{value:!0});xd.sha224=xd.sha256=void 0;var TJ=D7(),To=nb(),_J=(t,e,r)=>t&e^~t&r,PJ=(t,e,r)=>t&e^t&r^e&r,BJ=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Qa=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ya=new Uint32Array(64),sb=class extends TJ.SHA2{constructor(){super(64,32,8,!1),this.A=Qa[0]|0,this.B=Qa[1]|0,this.C=Qa[2]|0,this.D=Qa[3]|0,this.E=Qa[4]|0,this.F=Qa[5]|0,this.G=Qa[6]|0,this.H=Qa[7]|0}get(){let{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:c}=this;return[e,r,n,o,i,s,a,c]}set(e,r,n,o,i,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)Ya[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Ya[f-15],m=Ya[f-2],g=(0,To.rotr)(p,7)^(0,To.rotr)(p,18)^p>>>3,x=(0,To.rotr)(m,17)^(0,To.rotr)(m,19)^m>>>10;Ya[f]=x+Ya[f-7]+g+Ya[f-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){let p=(0,To.rotr)(a,6)^(0,To.rotr)(a,11)^(0,To.rotr)(a,25),m=h+p+_J(a,c,u)+BJ[f]+Ya[f]|0,x=((0,To.rotr)(n,2)^(0,To.rotr)(n,13)^(0,To.rotr)(n,22))+PJ(n,o,i)|0;h=u,u=c,c=a,a=s+m|0,s=i,i=o,o=n,n=m+x|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(n,o,i,s,a,c,u,h)}roundClean(){Ya.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},Kv=class extends sb{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};xd.sha256=(0,To.wrapConstructor)(()=>new sb);xd.sha224=(0,To.wrapConstructor)(()=>new Kv)});var $v=P(fr=>{"use strict";d();l();var CJ=Yw(),OJ=O7(),N7=R7();function DJ(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if(r!=="default"){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var dt=DJ(CJ);dt.utils.hmacSha256Sync=(t,...e)=>OJ.hmac(N7.sha256,t,dt.utils.concatBytes(...e));dt.utils.sha256Sync=(...t)=>N7.sha256(dt.utils.concatBytes(...t));var zv=dt.utils._normalizePrivateKey,RJ=32,NJ=32,Vv=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),UJ=32;function qv(t,e){for(let r=0;r<32;++r)if(t[r]!==e[r])return t[r]<e[r]?-1:1;return 0}function ih(t){return!(!(t instanceof Uint8Array)||t.length!==NJ||qv(t,Vv)>=0)}function U7(t){return t instanceof Uint8Array&&t.length===64&&qv(t.subarray(0,32),Vv)<0&&qv(t.subarray(32,64),Vv)<0}function ab(t){return t instanceof Uint8Array&&t.length===RJ}function L7(t){return t===void 0||t instanceof Uint8Array&&t.length===UJ}function M7(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function LJ(t){return M7(dt.utils.bytesToHex(t))}function jv(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>=0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==64)throw new Error("Expected 32 bytes of private scalar");e=M7(t)}else if(t instanceof Uint8Array){if(t.length!==32)throw new Error("Expected 32 bytes of private scalar");e=LJ(t)}else throw new TypeError("Expected valid private scalar");if(e<0)throw new Error("Expected private scalar >= 0");return e}var MJ=(t,e)=>{let r=zv(t),n=jv(e),o=dt.utils._bigintTo32Bytes(dt.utils.mod(r+n,dt.CURVE.n));return dt.utils.isValidPrivateKey(o)?o:null},FJ=(t,e)=>{let r=zv(t),n=jv(e),o=dt.utils._bigintTo32Bytes(dt.utils.mod(r-n,dt.CURVE.n));return dt.utils.isValidPrivateKey(o)?o:null},HJ=t=>{let e=zv(t),r=dt.utils._bigintTo32Bytes(dt.CURVE.n-e);return dt.utils.isValidPrivateKey(r)?r:null},F7=(t,e,r)=>{let n=dt.Point.fromHex(t),o=jv(e),i=dt.Point.BASE.multiplyAndAddUnsafe(n,o,1n);if(!i)throw new Error("Tweaked point at infinity");return i.toRawBytes(r)},KJ=(t,e,r)=>{let n=dt.Point.fromHex(t),o=typeof e=="string"?e:dt.utils.bytesToHex(e),i=BigInt(`0x${o}`);return n.multiply(i).toRawBytes(r)};function sh(t,e){return t===void 0?e!==void 0?H7(e):!0:!!t}function lu(t){try{return t()}catch{return null}}function Wv(t,e){if(t.length===32!==e)return!1;try{return!!dt.Point.fromHex(t)}catch{return!1}}function Ja(t){return Wv(t,!1)}function H7(t){return Wv(t,!1)&&t.length===33}function Xa(t){return dt.utils.isValidPrivateKey(t)}function Gv(t){return Wv(t,!0)}function VJ(t,e){if(!Gv(t))throw new Error("Expected Point");if(!ih(e))throw new Error("Expected Tweak");return lu(()=>{let r=F7(t,e,!0);return{parity:r[0]%2===1?1:0,xOnlyPubkey:r.slice(1)}})}function K7(t){if(!Ja(t))throw new Error("Expected Point");return t.slice(1,33)}function V7(t,e){if(!Xa(t))throw new Error("Expected Private");return lu(()=>dt.getPublicKey(t,sh(e)))}function qJ(t){if(!Xa(t))throw new Error("Expected Private");return K7(V7(t))}function zJ(t,e){if(!Ja(t))throw new Error("Expected Point");return dt.Point.fromHex(t).toRawBytes(sh(e,t))}function jJ(t,e,r){if(!Ja(t))throw new Error("Expected Point");if(!ih(e))throw new Error("Expected Tweak");return lu(()=>KJ(t,e,sh(r,t)))}function WJ(t,e,r){if(!Ja(t)||!Ja(e))throw new Error("Expected Point");return lu(()=>{let n=dt.Point.fromHex(t),o=dt.Point.fromHex(e);return n.equals(o.negate())?null:n.add(o).toRawBytes(sh(r,t))})}function GJ(t,e,r){if(!Ja(t))throw new Error("Expected Point");if(!ih(e))throw new Error("Expected Tweak");return lu(()=>F7(t,e,sh(r,t)))}function $J(t,e){if(Xa(t)===!1)throw new Error("Expected Private");if(ih(e)===!1)throw new Error("Expected Tweak");return lu(()=>MJ(t,e))}function QJ(t,e){if(Xa(t)===!1)throw new Error("Expected Private");if(ih(e)===!1)throw new Error("Expected Tweak");return lu(()=>FJ(t,e))}function YJ(t){if(Xa(t)===!1)throw new Error("Expected Private");return HJ(t)}function JJ(t,e,r){if(!Xa(e))throw new Error("Expected Private");if(!ab(t))throw new Error("Expected Scalar");if(!L7(r))throw new Error("Expected Extra Data (32 bytes)");return dt.signSync(t,e,{der:!1,extraEntropy:r})}function XJ(t,e,r=Buffer.alloc(32,0)){if(!Xa(e))throw new Error("Expected Private");if(!ab(t))throw new Error("Expected Scalar");if(!L7(r))throw new Error("Expected Extra Data (32 bytes)");return dt.schnorr.signSync(t,e,r)}function ZJ(t,e,r,n){if(!Ja(e))throw new Error("Expected Point");if(!U7(r))throw new Error("Expected Signature");if(!ab(t))throw new Error("Expected Scalar");return dt.verify(r,t,e,{strict:n})}function eX(t,e,r){if(!Gv(e))throw new Error("Expected Point");if(!U7(r))throw new Error("Expected Signature");if(!ab(t))throw new Error("Expected Scalar");return dt.schnorr.verifySync(r,t,e)}fr.isPoint=Ja;fr.isPointCompressed=H7;fr.isPrivate=Xa;fr.isXOnlyPoint=Gv;fr.pointAdd=WJ;fr.pointAddScalar=GJ;fr.pointCompress=zJ;fr.pointFromScalar=V7;fr.pointMultiply=jJ;fr.privateAdd=$J;fr.privateNegate=YJ;fr.privateSub=QJ;fr.sign=JJ;fr.signSchnorr=XJ;fr.verify=ZJ;fr.verifySchnorr=eX;fr.xOnlyPointAddTweak=VJ;fr.xOnlyPointFromPoint=K7;fr.xOnlyPointFromScalar=qJ});var _o=P(ec=>{"use strict";d();l();Object.defineProperty(ec,"__esModule",{value:!0});ec.testnet=ec.regtest=ec.bitcoin=void 0;ec.bitcoin={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128};ec.regtest={messagePrefix:`Bitcoin Signed Message:
`,bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239};ec.testnet={messagePrefix:`Bitcoin Signed Message:
`,bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}});var Yv=P(tc=>{"use strict";d();l();Object.defineProperty(tc,"__esModule",{value:!0});tc.encode=tc.decode=tc.check=void 0;function uX(t){if(t.length<8||t.length>72||t[0]!==48||t[1]!==t.length-2||t[2]!==2)return!1;let e=t[3];if(e===0||5+e>=t.length||t[4+e]!==2)return!1;let r=t[5+e];return!(r===0||6+e+r!==t.length||t[4]&128||e>1&&t[4]===0&&!(t[5]&128)||t[e+6]&128||r>1&&t[e+6]===0&&!(t[e+7]&128))}tc.check=uX;function fX(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(t[0]!==48)throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(t[2]!==2)throw new Error("Expected DER integer");let e=t[3];if(e===0)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(t[4+e]!==2)throw new Error("Expected DER integer (2)");let r=t[5+e];if(r===0)throw new Error("S length is zero");if(6+e+r!==t.length)throw new Error("S length is invalid");if(t[4]&128)throw new Error("R value is negative");if(e>1&&t[4]===0&&!(t[5]&128))throw new Error("R value excessively padded");if(t[e+6]&128)throw new Error("S value is negative");if(r>1&&t[e+6]===0&&!(t[e+7]&128))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}}tc.decode=fX;function dX(t,e){let r=t.length,n=e.length;if(r===0)throw new Error("R length is zero");if(n===0)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(n>33)throw new Error("S length is too long");if(t[0]&128)throw new Error("R value is negative");if(e[0]&128)throw new Error("S value is negative");if(r>1&&t[0]===0&&!(t[1]&128))throw new Error("R value excessively padded");if(n>1&&e[0]===0&&!(e[1]&128))throw new Error("S value excessively padded");let o=Buffer.allocUnsafe(6+r+n);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=t.length,t.copy(o,4),o[4+r]=2,o[5+r]=e.length,e.copy(o,6+r),o}tc.encode=dX});var ub=P(wd=>{"use strict";d();l();Object.defineProperty(wd,"__esModule",{value:!0});wd.REVERSE_OPS=wd.OPS=void 0;var Jv={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};wd.OPS=Jv;var Q7={};wd.REVERSE_OPS=Q7;for(let t of Object.keys(Jv)){let e=Jv[t];Q7[e]=t}});var J7=P(nc=>{"use strict";d();l();Object.defineProperty(nc,"__esModule",{value:!0});nc.decode=nc.encode=nc.encodingLength=void 0;var rc=ub();function Y7(t){return t<rc.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}nc.encodingLength=Y7;function lX(t,e,r){let n=Y7(e);return n===1?t.writeUInt8(e,r):n===2?(t.writeUInt8(rc.OPS.OP_PUSHDATA1,r),t.writeUInt8(e,r+1)):n===3?(t.writeUInt8(rc.OPS.OP_PUSHDATA2,r),t.writeUInt16LE(e,r+1)):(t.writeUInt8(rc.OPS.OP_PUSHDATA4,r),t.writeUInt32LE(e,r+1)),n}nc.encode=lX;function hX(t,e){let r=t.readUInt8(e),n,o;if(r<rc.OPS.OP_PUSHDATA1)n=r,o=1;else if(r===rc.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),o=2}else if(r===rc.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),o=3}else{if(e+5>t.length)return null;if(r!==rc.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),o=5}return{opcode:r,number:n,size:o}}nc.decode=hX});var X7=P(Ad=>{"use strict";d();l();Object.defineProperty(Ad,"__esModule",{value:!0});Ad.encode=Ad.decode=void 0;function pX(t,e,r){e=e||4,r=r===void 0?!0:r;let n=t.length;if(n===0)return 0;if(n>e)throw new TypeError("Script number overflow");if(r&&!(t[n-1]&127)&&(n<=1||!(t[n-2]&128)))throw new Error("Non-minimally encoded script number");if(n===5){let i=t.readUInt32LE(0),s=t.readUInt8(4);return s&128?-((s&-129)*4294967296+i):s*4294967296+i}let o=0;for(let i=0;i<n;++i)o|=t[i]<<8*i;return t[n-1]&128?-(o&~(128<<8*(n-1))):o}Ad.decode=pX;function yX(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}function mX(t){let e=Math.abs(t),r=yX(e),n=Buffer.allocUnsafe(r),o=t<0;for(let i=0;i<r;++i)n.writeUInt8(e&255,i),e>>=8;return n[r-1]&128?n.writeUInt8(o?128:0,r-1):o&&(n[r-1]|=128),n}Ad.encode=mX});var fb=P((B3e,Z7)=>{d();l();var ch={Array:function(t){return t!=null&&t.constructor===Array},Boolean:function(t){return typeof t=="boolean"},Function:function(t){return typeof t=="function"},Nil:function(t){return t==null},Number:function(t){return typeof t=="number"},Object:function(t){return typeof t=="object"},String:function(t){return typeof t=="string"},"":function(){return!0}};ch.Null=ch.Nil;for(Xv in ch)ch[Xv].toJSON=function(t){return t}.bind(null,Xv);var Xv;Z7.exports=ch});var tE=P((D3e,r9)=>{d();l();var hu=fb();function e9(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}function Zv(t){return hu.Nil(t)?"":e9(t.constructor)}function gX(t){return hu.Function(t)?"":hu.String(t)?JSON.stringify(t):t&&hu.Object(t)?"":t}function eE(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}function db(t){return hu.Function(t)?t.toJSON?t.toJSON():e9(t):hu.Array(t)?"Array":t&&hu.Object(t)?"Object":t!==void 0?t:""}function t9(t,e,r){var n=gX(e);return"Expected "+db(t)+", got"+(r!==""?" "+r:"")+(n!==""?" "+n:"")}function ys(t,e,r){r=r||Zv(e),this.message=t9(t,e,r),eE(this,ys),this.__type=t,this.__value=e,this.__valueTypeName=r}ys.prototype=Object.create(Error.prototype);ys.prototype.constructor=ys;function bX(t,e,r,n,o){var i='" of type ';return e==="key"&&(i='" with key type '),t9('property "'+db(r)+i+db(t),n,o)}function Sd(t,e,r,n,o){t?(o=o||Zv(n),this.message=bX(t,r,e,n,o)):this.message='Unexpected property "'+e+'"',eE(this,ys),this.__label=r,this.__property=e,this.__type=t,this.__value=n,this.__valueTypeName=o}Sd.prototype=Object.create(Error.prototype);Sd.prototype.constructor=ys;function xX(t,e){return new ys(t,{},e)}function wX(t,e,r){return t instanceof Sd?(e=e+"."+t.__property,t=new Sd(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof ys&&(t=new Sd(t.__type,e,r,t.__value,t.__valueTypeName)),eE(t),t}r9.exports={TfTypeError:ys,TfPropertyTypeError:Sd,tfCustomError:xX,tfSubError:wX,tfJSON:db,getValueTypeName:Zv}});var s9=P((U3e,i9)=>{d();l();var iE=fb(),AX=tE();function n9(t){return Buffer.isBuffer(t)}function o9(t){return typeof t=="string"&&/^([0-9a-f]{2})+$/i.test(t)}function lb(t,e){var r=t.toJSON();function n(o){if(!t(o))return!1;if(o.length===e)return!0;throw AX.tfCustomError(r+"(Length: "+e+")",r+"(Length: "+o.length+")")}return n.toJSON=function(){return r},n}var SX=lb.bind(null,iE.Array),vX=lb.bind(null,n9),EX=lb.bind(null,o9),IX=lb.bind(null,iE.String);function kX(t,e,r){r=r||iE.Number;function n(o,i){return r(o,i)&&o>t&&o<e}return n.toJSON=function(){return`${r.toJSON()} between [${t}, ${e}]`},n}var nE=Math.pow(2,53)-1;function TX(t){return typeof t=="number"&&isFinite(t)}function _X(t){return t<<24>>24===t}function PX(t){return t<<16>>16===t}function BX(t){return(t|0)===t}function CX(t){return typeof t=="number"&&t>=-nE&&t<=nE&&Math.floor(t)===t}function OX(t){return(t&255)===t}function DX(t){return(t&65535)===t}function RX(t){return t>>>0===t}function NX(t){return typeof t=="number"&&t>=0&&t<=nE&&Math.floor(t)===t}var oE={ArrayN:SX,Buffer:n9,BufferN:vX,Finite:TX,Hex:o9,HexN:EX,Int8:_X,Int16:PX,Int32:BX,Int53:CX,Range:kX,StringN:IX,UInt8:OX,UInt16:DX,UInt32:RX,UInt53:NX};for(rE in oE)oE[rE].toJSON=function(t){return t}.bind(null,rE);var rE;i9.exports=oE});var d9=P((F3e,f9)=>{d();l();var fh=tE(),Kr=fb(),ms=fh.tfJSON,c9=fh.TfTypeError,u9=fh.TfPropertyTypeError,uh=fh.tfSubError,UX=fh.getValueTypeName,gs={arrayOf:function(e,r){e=_i(e),r=r||{};function n(o,i){return!Kr.Array(o)||Kr.Nil(o)||r.minLength!==void 0&&o.length<r.minLength||r.maxLength!==void 0&&o.length>r.maxLength||r.length!==void 0&&o.length!==r.length?!1:o.every(function(s,a){try{return mn(e,s,i)}catch(c){throw uh(c,a)}})}return n.toJSON=function(){var o="["+ms(e)+"]";return r.length!==void 0?o+="{"+r.length+"}":(r.minLength!==void 0||r.maxLength!==void 0)&&(o+="{"+(r.minLength===void 0?0:r.minLength)+","+(r.maxLength===void 0?1/0:r.maxLength)+"}"),o},n},maybe:function t(e){e=_i(e);function r(n,o){return Kr.Nil(n)||e(n,o,t)}return r.toJSON=function(){return"?"+ms(e)},r},map:function(e,r){e=_i(e),r&&(r=_i(r));function n(o,i){if(!Kr.Object(o)||Kr.Nil(o))return!1;for(var s in o){try{r&&mn(r,s,i)}catch(c){throw uh(c,s,"key")}try{var a=o[s];mn(e,a,i)}catch(c){throw uh(c,s)}}return!0}return r?n.toJSON=function(){return"{"+ms(r)+": "+ms(e)+"}"}:n.toJSON=function(){return"{"+ms(e)+"}"},n},object:function(e){var r={};for(var n in e)r[n]=_i(e[n]);function o(i,s){if(!Kr.Object(i)||Kr.Nil(i))return!1;var a;try{for(a in r){var c=r[a],u=i[a];mn(c,u,s)}}catch(h){throw uh(h,a)}if(s){for(a in i)if(!r[a])throw new u9(void 0,a)}return!0}return o.toJSON=function(){return ms(r)},o},anyOf:function(){var e=[].slice.call(arguments).map(_i);function r(n,o){return e.some(function(i){try{return mn(i,n,o)}catch{return!1}})}return r.toJSON=function(){return e.map(ms).join("|")},r},allOf:function(){var e=[].slice.call(arguments).map(_i);function r(n,o){return e.every(function(i){try{return mn(i,n,o)}catch{return!1}})}return r.toJSON=function(){return e.map(ms).join(" & ")},r},quacksLike:function(e){function r(n){return e===UX(n)}return r.toJSON=function(){return e},r},tuple:function(){var e=[].slice.call(arguments).map(_i);function r(n,o){return Kr.Nil(n)||Kr.Nil(n.length)||o&&n.length!==e.length?!1:e.every(function(i,s){try{return mn(i,n[s],o)}catch(a){throw uh(a,s)}})}return r.toJSON=function(){return"("+e.map(ms).join(", ")+")"},r},value:function(e){function r(n){return n===e}return r.toJSON=function(){return e},r}};gs.oneOf=gs.anyOf;function _i(t){if(Kr.String(t))return t[0]==="?"?gs.maybe(t.slice(1)):Kr[t]||gs.quacksLike(t);if(t&&Kr.Object(t)){if(Kr.Array(t)){if(t.length!==1)throw new TypeError("Expected compile() parameter of type Array of length 1");return gs.arrayOf(t[0])}return gs.object(t)}else if(Kr.Function(t))return t;return gs.value(t)}function mn(t,e,r,n){if(Kr.Function(t)){if(t(e,r))return!0;throw new c9(n||t,e)}return mn(_i(t),e,r)}for(bs in Kr)mn[bs]=Kr[bs];var bs;for(bs in gs)mn[bs]=gs[bs];var a9=s9();for(bs in a9)mn[bs]=a9[bs];mn.compile=_i;mn.TfTypeError=c9;mn.TfPropertyTypeError=u9;f9.exports=mn});var Vr=P(te=>{"use strict";d();l();Object.defineProperty(te,"__esModule",{value:!0});te.oneOf=te.Null=te.BufferN=te.Function=te.UInt32=te.UInt8=te.tuple=te.maybe=te.Hex=te.Buffer=te.String=te.Boolean=te.Array=te.Number=te.Hash256bit=te.Hash160bit=te.Buffer256bit=te.isTaptree=te.isTapleaf=te.TAPLEAF_VERSION_MASK=te.Network=te.ECPoint=te.Satoshi=te.Signer=te.BIP32Path=te.UInt31=te.isPoint=te.typeforce=void 0;var hb=Hn();te.typeforce=d9();var l9=hb.Buffer.alloc(32,0),h9=hb.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");function LX(t){if(!hb.Buffer.isBuffer(t)||t.length<33)return!1;let e=t[0],r=t.slice(1,33);if(r.compare(l9)===0||r.compare(h9)>=0)return!1;if((e===2||e===3)&&t.length===33)return!0;let n=t.slice(33);return n.compare(l9)===0||n.compare(h9)>=0?!1:e===4&&t.length===65}te.isPoint=LX;var MX=Math.pow(2,31)-1;function FX(t){return te.typeforce.UInt32(t)&&t<=MX}te.UInt31=FX;function p9(t){return te.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}te.BIP32Path=p9;p9.toJSON=()=>"BIP32 derivation path";function HX(t){return(te.typeforce.Buffer(t.publicKey)||typeof t.getPublicKey=="function")&&typeof t.sign=="function"}te.Signer=HX;var KX=21*1e14;function VX(t){return te.typeforce.UInt53(t)&&t<=KX}te.Satoshi=VX;te.ECPoint=te.typeforce.quacksLike("Point");te.Network=te.typeforce.compile({messagePrefix:te.typeforce.oneOf(te.typeforce.Buffer,te.typeforce.String),bip32:{public:te.typeforce.UInt32,private:te.typeforce.UInt32},pubKeyHash:te.typeforce.UInt8,scriptHash:te.typeforce.UInt8,wif:te.typeforce.UInt8});te.TAPLEAF_VERSION_MASK=254;function y9(t){return!t||!("output"in t)||!hb.Buffer.isBuffer(t.output)?!1:t.version!==void 0?(t.version&te.TAPLEAF_VERSION_MASK)===t.version:!0}te.isTapleaf=y9;function m9(t){return(0,te.Array)(t)?t.length!==2?!1:t.every(e=>m9(e)):y9(t)}te.isTaptree=m9;te.Buffer256bit=te.typeforce.BufferN(32);te.Hash160bit=te.typeforce.BufferN(20);te.Hash256bit=te.typeforce.BufferN(32);te.Number=te.typeforce.Number;te.Array=te.typeforce.Array;te.Boolean=te.typeforce.Boolean;te.String=te.typeforce.String;te.Buffer=te.typeforce.Buffer;te.Hex=te.typeforce.Hex;te.maybe=te.typeforce.maybe;te.tuple=te.typeforce.tuple;te.UInt8=te.typeforce.UInt8;te.UInt32=te.typeforce.UInt32;te.Function=te.typeforce.Function;te.BufferN=te.typeforce.BufferN;te.Null=te.typeforce.Null;te.oneOf=te.typeforce.oneOf});var A9=P(Ed=>{"use strict";d();l();Object.defineProperty(Ed,"__esModule",{value:!0});Ed.encode=Ed.decode=void 0;var{Buffer:vd}=Hn(),w9=Yv(),sE=Vr(),{typeforce:qX}=sE,g9=vd.alloc(1,0);function b9(t){let e=0;for(;t[e]===0;)++e;return e===t.length?g9:(t=t.slice(e),t[0]&128?vd.concat([g9,t],1+t.length):t)}function x9(t){t[0]===0&&(t=t.slice(1));let e=vd.alloc(32,0),r=Math.max(0,32-t.length);return t.copy(e,r),e}function zX(t){let e=t.readUInt8(t.length-1),r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=w9.decode(t.slice(0,-1)),o=x9(n.r),i=x9(n.s);return{signature:vd.concat([o,i],64),hashType:e}}Ed.decode=zX;function jX(t,e){qX({signature:sE.BufferN(64),hashType:sE.UInt8},{signature:t,hashType:e});let r=e&-129;if(r<=0||r>=4)throw new Error("Invalid hashType "+e);let n=vd.allocUnsafe(1);n.writeUInt8(e,0);let o=b9(t.slice(0,32)),i=b9(t.slice(32,64));return vd.concat([w9.encode(o,i),n])}Ed.encode=jX});var gn=P(wt=>{"use strict";d();l();Object.defineProperty(wt,"__esModule",{value:!0});wt.signature=wt.number=wt.isCanonicalScriptSignature=wt.isDefinedHashType=wt.isCanonicalPubKey=wt.toStack=wt.fromASM=wt.toASM=wt.decompile=wt.compile=wt.countNonPushOnlyOPs=wt.isPushOnly=wt.OPS=void 0;var WX=Yv(),Nn=ub();Object.defineProperty(wt,"OPS",{enumerable:!0,get:function(){return Nn.OPS}});var aE=J7(),S9=X7(),GX=A9(),Pi=Vr(),{typeforce:dh}=Pi,v9=Nn.OPS.OP_RESERVED;function $X(t){return Pi.Number(t)&&(t===Nn.OPS.OP_0||t>=Nn.OPS.OP_1&&t<=Nn.OPS.OP_16||t===Nn.OPS.OP_1NEGATE)}function E9(t){return Pi.Buffer(t)||$X(t)}function I9(t){return Pi.Array(t)&&t.every(E9)}wt.isPushOnly=I9;function QX(t){return t.length-t.filter(E9).length}wt.countNonPushOnlyOPs=QX;function pb(t){if(t.length===0)return Nn.OPS.OP_0;if(t.length===1){if(t[0]>=1&&t[0]<=16)return v9+t[0];if(t[0]===129)return Nn.OPS.OP_1NEGATE}}function k9(t){return Buffer.isBuffer(t)}function YX(t){return Pi.Array(t)}function yb(t){return Buffer.isBuffer(t)}function T9(t){if(k9(t))return t;dh(Pi.Array,t);let e=t.reduce((o,i)=>yb(i)?i.length===1&&pb(i)!==void 0?o+1:o+aE.encodingLength(i.length)+i.length:o+1,0),r=Buffer.allocUnsafe(e),n=0;if(t.forEach(o=>{if(yb(o)){let i=pb(o);if(i!==void 0){r.writeUInt8(i,n),n+=1;return}n+=aE.encode(r,o.length,n),o.copy(r,n),n+=o.length}else r.writeUInt8(o,n),n+=1}),n!==r.length)throw new Error("Could not decode chunks");return r}wt.compile=T9;function cE(t){if(YX(t))return t;dh(Pi.Buffer,t);let e=[],r=0;for(;r<t.length;){let n=t[r];if(n>Nn.OPS.OP_0&&n<=Nn.OPS.OP_PUSHDATA4){let o=aE.decode(t,r);if(o===null||(r+=o.size,r+o.number>t.length))return null;let i=t.slice(r,r+o.number);r+=o.number;let s=pb(i);s!==void 0?e.push(s):e.push(i)}else e.push(n),r+=1}return e}wt.decompile=cE;function JX(t){return k9(t)&&(t=cE(t)),t.map(e=>{if(yb(e)){let r=pb(e);if(r===void 0)return e.toString("hex");e=r}return Nn.REVERSE_OPS[e]}).join(" ")}wt.toASM=JX;function XX(t){return dh(Pi.String,t),T9(t.split(" ").map(e=>Nn.OPS[e]!==void 0?Nn.OPS[e]:(dh(Pi.Hex,e),Buffer.from(e,"hex"))))}wt.fromASM=XX;function ZX(t){return t=cE(t),dh(I9,t),t.map(e=>yb(e)?e:e===Nn.OPS.OP_0?Buffer.allocUnsafe(0):S9.encode(e-v9))}wt.toStack=ZX;function eZ(t){return Pi.isPoint(t)}wt.isCanonicalPubKey=eZ;function _9(t){let e=t&-129;return e>0&&e<4}wt.isDefinedHashType=_9;function tZ(t){return!Buffer.isBuffer(t)||!_9(t[t.length-1])?!1:WX.check(t.slice(0,-1))}wt.isCanonicalScriptSignature=tZ;wt.number=S9;wt.signature=GX});var xs=P(Id=>{"use strict";d();l();Object.defineProperty(Id,"__esModule",{value:!0});Id.value=Id.prop=void 0;function rZ(t,e,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){let n=r.call(this);return this[e]=n,n},set(n){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:n,writable:!0})}})}Id.prop=rZ;function nZ(t){let e;return()=>(e!==void 0||(e=t()),e)}Id.value=nZ});var C9=P(gb=>{"use strict";d();l();Object.defineProperty(gb,"__esModule",{value:!0});gb.p2data=void 0;var oZ=_o(),mb=gn(),ws=Vr(),P9=xs(),B9=mb.OPS;function iZ(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function sZ(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,ws.typeforce)({network:ws.typeforce.maybe(ws.typeforce.Object),output:ws.typeforce.maybe(ws.typeforce.Buffer),data:ws.typeforce.maybe(ws.typeforce.arrayOf(ws.typeforce.Buffer))},t);let n={name:"embed",network:t.network||oZ.bitcoin};if(P9.prop(n,"output",()=>{if(t.data)return mb.compile([B9.OP_RETURN].concat(t.data))}),P9.prop(n,"data",()=>{if(t.output)return mb.decompile(t.output).slice(1)}),e.validate&&t.output){let o=mb.decompile(t.output);if(o[0]!==B9.OP_RETURN)throw new TypeError("Output is invalid");if(!o.slice(1).every(ws.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!iZ(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}gb.p2data=sZ});var D9=P(xb=>{"use strict";d();l();Object.defineProperty(xb,"__esModule",{value:!0});xb.p2ms=void 0;var aZ=_o(),kd=gn(),br=Vr(),oc=xs(),Td=kd.OPS,bb=Td.OP_RESERVED;function O9(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function cZ(t,e){if(!t.input&&!t.output&&!(t.pubkeys&&t.m!==void 0)&&!t.signatures)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{});function r(c){return kd.isCanonicalScriptSignature(c)||(e.allowIncomplete&&c===Td.OP_0)!==void 0}(0,br.typeforce)({network:br.typeforce.maybe(br.typeforce.Object),m:br.typeforce.maybe(br.typeforce.Number),n:br.typeforce.maybe(br.typeforce.Number),output:br.typeforce.maybe(br.typeforce.Buffer),pubkeys:br.typeforce.maybe(br.typeforce.arrayOf(br.isPoint)),signatures:br.typeforce.maybe(br.typeforce.arrayOf(r)),input:br.typeforce.maybe(br.typeforce.Buffer)},t);let o={network:t.network||aZ.bitcoin},i=[],s=!1;function a(c){s||(s=!0,i=kd.decompile(c),o.m=i[0]-bb,o.n=i[i.length-2]-bb,o.pubkeys=i.slice(1,-2))}if(oc.prop(o,"output",()=>{if(t.m&&o.n&&t.pubkeys)return kd.compile([].concat(bb+t.m,t.pubkeys,bb+o.n,Td.OP_CHECKMULTISIG))}),oc.prop(o,"m",()=>{if(o.output)return a(o.output),o.m}),oc.prop(o,"n",()=>{if(o.pubkeys)return o.pubkeys.length}),oc.prop(o,"pubkeys",()=>{if(t.output)return a(t.output),o.pubkeys}),oc.prop(o,"signatures",()=>{if(t.input)return kd.decompile(t.input).slice(1)}),oc.prop(o,"input",()=>{if(t.signatures)return kd.compile([Td.OP_0].concat(t.signatures))}),oc.prop(o,"witness",()=>{if(o.input)return[]}),oc.prop(o,"name",()=>{if(!(!o.m||!o.n))return`p2ms(${o.m} of ${o.n})`}),e.validate){if(t.output){if(a(t.output),!br.typeforce.Number(i[0]))throw new TypeError("Output is invalid");if(!br.typeforce.Number(i[i.length-2]))throw new TypeError("Output is invalid");if(i[i.length-1]!==Td.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(o.m<=0||o.n>16||o.m>o.n||o.n!==i.length-3)throw new TypeError("Output is invalid");if(!o.pubkeys.every(c=>(0,br.isPoint)(c)))throw new TypeError("Output is invalid");if(t.m!==void 0&&t.m!==o.m)throw new TypeError("m mismatch");if(t.n!==void 0&&t.n!==o.n)throw new TypeError("n mismatch");if(t.pubkeys&&!O9(t.pubkeys,o.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(t.n!==void 0&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(o.n=t.pubkeys.length,o.n<o.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<o.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>o.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==Td.OP_0)throw new TypeError("Input is invalid");if(o.signatures.length===0||!o.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!O9(t.signatures,o.signatures))throw new TypeError("Signature mismatch");if(t.m!==void 0&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(o,t)}xb.p2ms=cZ});var N9=P(wb=>{"use strict";d();l();Object.defineProperty(wb,"__esModule",{value:!0});wb.p2pk=void 0;var uZ=_o(),Pd=gn(),Xo=Vr(),_d=xs(),R9=Pd.OPS;function fZ(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Xo.typeforce)({network:Xo.typeforce.maybe(Xo.typeforce.Object),output:Xo.typeforce.maybe(Xo.typeforce.Buffer),pubkey:Xo.typeforce.maybe(Xo.isPoint),signature:Xo.typeforce.maybe(Pd.isCanonicalScriptSignature),input:Xo.typeforce.maybe(Xo.typeforce.Buffer)},t);let r=_d.value(()=>Pd.decompile(t.input)),o={name:"p2pk",network:t.network||uZ.bitcoin};if(_d.prop(o,"output",()=>{if(t.pubkey)return Pd.compile([t.pubkey,R9.OP_CHECKSIG])}),_d.prop(o,"pubkey",()=>{if(t.output)return t.output.slice(1,-1)}),_d.prop(o,"signature",()=>{if(t.input)return r()[0]}),_d.prop(o,"input",()=>{if(t.signature)return Pd.compile([t.signature])}),_d.prop(o,"witness",()=>{if(o.input)return[]}),e.validate){if(t.output){if(t.output[t.output.length-1]!==R9.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,Xo.isPoint)(o.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(o.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(o.input))throw new TypeError("Signature mismatch");if(t.input){if(r().length!==1)throw new TypeError("Input is invalid");if(!Pd.isCanonicalScriptSignature(o.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(o,t)}wb.p2pk=fZ});var H9=P(bn=>{"use strict";d();l();Object.defineProperty(bn,"__esModule",{value:!0});bn.output=bn.exists=bn.hash=bn.bytes=bn.bool=bn.number=void 0;function Ab(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}bn.number=Ab;function U9(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}bn.bool=U9;function uE(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}bn.bytes=uE;function L9(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Ab(t.outputLen),Ab(t.blockLen)}bn.hash=L9;function M9(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}bn.exists=M9;function F9(t,e){uE(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}bn.output=F9;var dZ={number:Ab,bool:U9,bytes:uE,hash:L9,exists:M9,output:F9};bn.default=dZ});var K9=P(Sb=>{"use strict";d();l();Object.defineProperty(Sb,"__esModule",{value:!0});Sb.crypto=void 0;Sb.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0}});var lh=P(qe=>{"use strict";d();l();Object.defineProperty(qe,"__esModule",{value:!0});qe.randomBytes=qe.wrapConstructorWithOpts=qe.wrapConstructor=qe.checkOpts=qe.Hash=qe.concatBytes=qe.toBytes=qe.utf8ToBytes=qe.asyncLoop=qe.nextTick=qe.hexToBytes=qe.bytesToHex=qe.isLE=qe.rotr=qe.createView=qe.u32=qe.u8=void 0;var vb=K9(),lZ=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);qe.u8=lZ;var hZ=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));qe.u32=hZ;var pZ=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);qe.createView=pZ;var yZ=(t,e)=>t<<32-e|t>>>e;qe.rotr=yZ;qe.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!qe.isLE)throw new Error("Non little-endian hardware is not supported");var mZ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function gZ(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=mZ[t[r]];return e}qe.bytesToHex=gZ;function bZ(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,o=t.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[r]=i}return e}qe.hexToBytes=bZ;var xZ=async()=>{};qe.nextTick=xZ;async function wZ(t,e,r){let n=Date.now();for(let o=0;o<t;o++){r(o);let i=Date.now()-n;i>=0&&i<e||(await(0,qe.nextTick)(),n+=i)}}qe.asyncLoop=wZ;function V9(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}qe.utf8ToBytes=V9;function dE(t){if(typeof t=="string"&&(t=V9(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}qe.toBytes=dE;function AZ(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,o)=>n+o.length,0),r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let i=t[n];r.set(i,o),o+=i.length}return r}qe.concatBytes=AZ;var fE=class{clone(){return this._cloneInto()}};qe.Hash=fE;var SZ=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function vZ(t,e){if(e!==void 0&&(typeof e!="object"||!SZ(e)))throw new TypeError("Options should be object or undefined");return Object.assign(t,e)}qe.checkOpts=vZ;function EZ(t){let e=n=>t().update(dE(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}qe.wrapConstructor=EZ;function IZ(t){let e=(n,o)=>t(o).update(dE(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}qe.wrapConstructorWithOpts=IZ;function kZ(t=32){if(vb.crypto.web)return vb.crypto.web.getRandomValues(new Uint8Array(t));if(vb.crypto.node)return new Uint8Array(vb.crypto.node.randomBytes(t).buffer);throw new Error("The environment doesn't have randomBytes function")}qe.randomBytes=kZ});var Ib=P(Eb=>{"use strict";d();l();Object.defineProperty(Eb,"__esModule",{value:!0});Eb.SHA2=void 0;var lE=H9(),hh=lh();function TZ(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var hE=class extends hh.Hash{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,hh.createView)(this.buffer)}update(e){lE.default.exists(this);let{view:r,buffer:n,blockLen:o}=this;e=(0,hh.toBytes)(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=(0,hh.createView)(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){lE.default.exists(this),lE.default.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;TZ(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=(0,hh.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};Eb.SHA2=hE});var W9=P(Bd=>{"use strict";d();l();Object.defineProperty(Bd,"__esModule",{value:!0});Bd.ripemd160=Bd.RIPEMD160=void 0;var _Z=Ib(),PZ=lh(),BZ=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),z9=Uint8Array.from({length:16},(t,e)=>e),CZ=z9.map(t=>(9*t+5)%16),pE=[z9],yE=[CZ];for(let t=0;t<4;t++)for(let e of[pE,yE])e.push(e[t].map(r=>BZ[r]));var j9=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),OZ=pE.map((t,e)=>t.map(r=>j9[e][r])),DZ=yE.map((t,e)=>t.map(r=>j9[e][r])),RZ=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),NZ=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),kb=(t,e)=>t<<e|t>>>32-e;function q9(t,e,r,n){return t===0?e^r^n:t===1?e&r|~e&n:t===2?(e|~r)^n:t===3?e&n|r&~n:e^(r|~n)}var Tb=new Uint32Array(16),_b=class extends _Z.SHA2{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:e,h1:r,h2:n,h3:o,h4:i}=this;return[e,r,n,o,i]}set(e,r,n,o,i){this.h0=e|0,this.h1=r|0,this.h2=n|0,this.h3=o|0,this.h4=i|0}process(e,r){for(let m=0;m<16;m++,r+=4)Tb[m]=e.getUint32(r,!0);let n=this.h0|0,o=n,i=this.h1|0,s=i,a=this.h2|0,c=a,u=this.h3|0,h=u,f=this.h4|0,p=f;for(let m=0;m<5;m++){let g=4-m,x=RZ[m],w=NZ[m],S=pE[m],k=yE[m],A=OZ[m],T=DZ[m];for(let C=0;C<16;C++){let W=kb(n+q9(m,i,a,u)+Tb[S[C]]+x,A[C])+f|0;n=f,f=u,u=kb(a,10)|0,a=i,i=W}for(let C=0;C<16;C++){let W=kb(o+q9(g,s,c,h)+Tb[k[C]]+w,T[C])+p|0;o=p,p=h,h=kb(c,10)|0,c=s,s=W}}this.set(this.h1+a+h|0,this.h2+u+p|0,this.h3+f+o|0,this.h4+n+s|0,this.h0+i+c|0)}roundClean(){Tb.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}};Bd.RIPEMD160=_b;Bd.ripemd160=(0,PZ.wrapConstructor)(()=>new _b)});var G9=P(Pb=>{"use strict";d();l();Object.defineProperty(Pb,"__esModule",{value:!0});Pb.sha1=void 0;var UZ=Ib(),LZ=lh(),mE=(t,e)=>t<<e|t>>>32-e>>>0,MZ=(t,e,r)=>t&e^~t&r,FZ=(t,e,r)=>t&e^t&r^e&r,ph=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),ic=new Uint32Array(80),gE=class extends UZ.SHA2{constructor(){super(64,20,8,!1),this.A=ph[0]|0,this.B=ph[1]|0,this.C=ph[2]|0,this.D=ph[3]|0,this.E=ph[4]|0}get(){let{A:e,B:r,C:n,D:o,E:i}=this;return[e,r,n,o,i]}set(e,r,n,o,i){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0}process(e,r){for(let c=0;c<16;c++,r+=4)ic[c]=e.getUint32(r,!1);for(let c=16;c<80;c++)ic[c]=mE(ic[c-3]^ic[c-8]^ic[c-14]^ic[c-16],1);let{A:n,B:o,C:i,D:s,E:a}=this;for(let c=0;c<80;c++){let u,h;c<20?(u=MZ(o,i,s),h=1518500249):c<40?(u=o^i^s,h=1859775393):c<60?(u=FZ(o,i,s),h=2400959708):(u=o^i^s,h=3395469782);let f=mE(n,5)+u+a+h+ic[c]|0;a=s,s=i,i=mE(o,30),o=n,n=f}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,this.set(n,o,i,s,a)}roundClean(){ic.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}};Pb.sha1=(0,LZ.wrapConstructor)(()=>new gE)});var $9=P(Cd=>{"use strict";d();l();Object.defineProperty(Cd,"__esModule",{value:!0});Cd.sha224=Cd.sha256=void 0;var HZ=Ib(),Po=lh(),KZ=(t,e,r)=>t&e^~t&r,VZ=(t,e,r)=>t&e^t&r^e&r,qZ=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),sc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ac=new Uint32Array(64),Bb=class extends HZ.SHA2{constructor(){super(64,32,8,!1),this.A=sc[0]|0,this.B=sc[1]|0,this.C=sc[2]|0,this.D=sc[3]|0,this.E=sc[4]|0,this.F=sc[5]|0,this.G=sc[6]|0,this.H=sc[7]|0}get(){let{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:c}=this;return[e,r,n,o,i,s,a,c]}set(e,r,n,o,i,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)ac[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=ac[f-15],m=ac[f-2],g=(0,Po.rotr)(p,7)^(0,Po.rotr)(p,18)^p>>>3,x=(0,Po.rotr)(m,17)^(0,Po.rotr)(m,19)^m>>>10;ac[f]=x+ac[f-7]+g+ac[f-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){let p=(0,Po.rotr)(a,6)^(0,Po.rotr)(a,11)^(0,Po.rotr)(a,25),m=h+p+KZ(a,c,u)+qZ[f]+ac[f]|0,x=((0,Po.rotr)(n,2)^(0,Po.rotr)(n,13)^(0,Po.rotr)(n,22))+VZ(n,o,i)|0;h=u,u=c,c=a,a=s+m|0,s=i,i=o,o=n,n=m+x|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(n,o,i,s,a,c,u,h)}roundClean(){ac.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},bE=class extends Bb{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Cd.sha256=(0,Po.wrapConstructor)(()=>new Bb);Cd.sha224=(0,Po.wrapConstructor)(()=>new bE)});var Bi=P(xr=>{"use strict";d();l();Object.defineProperty(xr,"__esModule",{value:!0});xr.taggedHash=xr.TAGGED_HASH_PREFIXES=xr.TAGS=xr.hash256=xr.hash160=xr.sha256=xr.sha1=xr.ripemd160=void 0;var{Buffer:xn}=Hn(),Q9=W9(),zZ=G9(),Cb=$9();function jZ(t){return xn.from((0,Q9.ripemd160)(Uint8Array.from(t)))}xr.ripemd160=jZ;function WZ(t){return xn.from((0,zZ.sha1)(Uint8Array.from(t)))}xr.sha1=WZ;function Y9(t){return xn.from((0,Cb.sha256)(Uint8Array.from(t)))}xr.sha256=Y9;function GZ(t){return xn.from((0,Q9.ripemd160)((0,Cb.sha256)(Uint8Array.from(t))))}xr.hash160=GZ;function $Z(t){return xn.from((0,Cb.sha256)((0,Cb.sha256)(Uint8Array.from(t))))}xr.hash256=$Z;xr.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"];xr.TAGGED_HASH_PREFIXES={"BIP0340/challenge":xn.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":xn.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":xn.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:xn.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:xn.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:xn.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:xn.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":xn.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":xn.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])};function QZ(t,e){return Y9(xn.concat([xr.TAGGED_HASH_PREFIXES[t],e]))}xr.taggedHash=QZ});var X9=P(Ob=>{"use strict";d();l();Object.defineProperty(Ob,"__esModule",{value:!0});Ob.p2pkh=void 0;var xE=Bi(),YZ=_o(),Od=gn(),wn=Vr(),As=xs(),J9=bd(),cc=Od.OPS;function JZ(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,wn.typeforce)({network:wn.typeforce.maybe(wn.typeforce.Object),address:wn.typeforce.maybe(wn.typeforce.String),hash:wn.typeforce.maybe(wn.typeforce.BufferN(20)),output:wn.typeforce.maybe(wn.typeforce.BufferN(25)),pubkey:wn.typeforce.maybe(wn.isPoint),signature:wn.typeforce.maybe(Od.isCanonicalScriptSignature),input:wn.typeforce.maybe(wn.typeforce.Buffer)},t);let r=As.value(()=>{let s=Buffer.from(J9.decode(t.address)),a=s.readUInt8(0),c=s.slice(1);return{version:a,hash:c}}),n=As.value(()=>Od.decompile(t.input)),o=t.network||YZ.bitcoin,i={name:"p2pkh",network:o};if(As.prop(i,"address",()=>{if(!i.hash)return;let s=Buffer.allocUnsafe(21);return s.writeUInt8(o.pubKeyHash,0),i.hash.copy(s,1),J9.encode(s)}),As.prop(i,"hash",()=>{if(t.output)return t.output.slice(3,23);if(t.address)return r().hash;if(t.pubkey||i.pubkey)return xE.hash160(t.pubkey||i.pubkey)}),As.prop(i,"output",()=>{if(i.hash)return Od.compile([cc.OP_DUP,cc.OP_HASH160,i.hash,cc.OP_EQUALVERIFY,cc.OP_CHECKSIG])}),As.prop(i,"pubkey",()=>{if(t.input)return n()[1]}),As.prop(i,"signature",()=>{if(t.input)return n()[0]}),As.prop(i,"input",()=>{if(t.pubkey&&t.signature)return Od.compile([t.signature,t.pubkey])}),As.prop(i,"witness",()=>{if(i.input)return[]}),e.validate){let s=Buffer.from([]);if(t.address){if(r().version!==o.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(r().hash.length!==20)throw new TypeError("Invalid address");s=r().hash}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==25||t.output[0]!==cc.OP_DUP||t.output[1]!==cc.OP_HASH160||t.output[2]!==20||t.output[23]!==cc.OP_EQUALVERIFY||t.output[24]!==cc.OP_CHECKSIG)throw new TypeError("Output is invalid");let a=t.output.slice(3,23);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");s=a}if(t.pubkey){let a=xE.hash160(t.pubkey);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");s=a}if(t.input){let a=n();if(a.length!==2)throw new TypeError("Input is invalid");if(!Od.isCanonicalScriptSignature(a[0]))throw new TypeError("Input has invalid signature");if(!(0,wn.isPoint)(a[1]))throw new TypeError("Input has invalid pubkey");if(t.signature&&!t.signature.equals(a[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(a[1]))throw new TypeError("Pubkey mismatch");let c=xE.hash160(a[1]);if(s.length>0&&!s.equals(c))throw new TypeError("Hash mismatch")}}return Object.assign(i,t)}Ob.p2pkh=JZ});var tB=P(Db=>{"use strict";d();l();Object.defineProperty(Db,"__esModule",{value:!0});Db.p2sh=void 0;var Z9=Bi(),XZ=_o(),Oi=gn(),Ht=Vr(),Ci=xs(),eB=bd(),yh=Oi.OPS;function ZZ(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function eee(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.input)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Ht.typeforce)({network:Ht.typeforce.maybe(Ht.typeforce.Object),address:Ht.typeforce.maybe(Ht.typeforce.String),hash:Ht.typeforce.maybe(Ht.typeforce.BufferN(20)),output:Ht.typeforce.maybe(Ht.typeforce.BufferN(23)),redeem:Ht.typeforce.maybe({network:Ht.typeforce.maybe(Ht.typeforce.Object),output:Ht.typeforce.maybe(Ht.typeforce.Buffer),input:Ht.typeforce.maybe(Ht.typeforce.Buffer),witness:Ht.typeforce.maybe(Ht.typeforce.arrayOf(Ht.typeforce.Buffer))}),input:Ht.typeforce.maybe(Ht.typeforce.Buffer),witness:Ht.typeforce.maybe(Ht.typeforce.arrayOf(Ht.typeforce.Buffer))},t);let r=t.network;r||(r=t.redeem&&t.redeem.network||XZ.bitcoin);let n={network:r},o=Ci.value(()=>{let a=Buffer.from(eB.decode(t.address)),c=a.readUInt8(0),u=a.slice(1);return{version:c,hash:u}}),i=Ci.value(()=>Oi.decompile(t.input)),s=Ci.value(()=>{let a=i(),c=a[a.length-1];return{network:r,output:c===yh.OP_FALSE?Buffer.from([]):c,input:Oi.compile(a.slice(0,-1)),witness:t.witness||[]}});if(Ci.prop(n,"address",()=>{if(!n.hash)return;let a=Buffer.allocUnsafe(21);return a.writeUInt8(n.network.scriptHash,0),n.hash.copy(a,1),eB.encode(a)}),Ci.prop(n,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return o().hash;if(n.redeem&&n.redeem.output)return Z9.hash160(n.redeem.output)}),Ci.prop(n,"output",()=>{if(n.hash)return Oi.compile([yh.OP_HASH160,n.hash,yh.OP_EQUAL])}),Ci.prop(n,"redeem",()=>{if(t.input)return s()}),Ci.prop(n,"input",()=>{if(!(!t.redeem||!t.redeem.input||!t.redeem.output))return Oi.compile([].concat(Oi.decompile(t.redeem.input),t.redeem.output))}),Ci.prop(n,"witness",()=>{if(n.redeem&&n.redeem.witness)return n.redeem.witness;if(n.input)return[]}),Ci.prop(n,"name",()=>{let a=["p2sh"];return n.redeem!==void 0&&n.redeem.name!==void 0&&a.push(n.redeem.name),a.join("-")}),e.validate){let a=Buffer.from([]);if(t.address){if(o().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(o().hash.length!==20)throw new TypeError("Invalid address");a=o().hash}if(t.hash){if(a.length>0&&!a.equals(t.hash))throw new TypeError("Hash mismatch");a=t.hash}if(t.output){if(t.output.length!==23||t.output[0]!==yh.OP_HASH160||t.output[1]!==20||t.output[22]!==yh.OP_EQUAL)throw new TypeError("Output is invalid");let u=t.output.slice(2,22);if(a.length>0&&!a.equals(u))throw new TypeError("Hash mismatch");a=u}let c=u=>{if(u.output){let h=Oi.decompile(u.output);if(!h||h.length<1)throw new TypeError("Redeem.output too short");if(u.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(Oi.countNonPushOnlyOPs(h)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let f=Z9.hash160(u.output);if(a.length>0&&!a.equals(f))throw new TypeError("Hash mismatch");a=f}if(u.input){let h=u.input.length>0,f=u.witness&&u.witness.length>0;if(!h&&!f)throw new TypeError("Empty input");if(h&&f)throw new TypeError("Input and witness provided");if(h){let p=Oi.decompile(u.input);if(!Oi.isPushOnly(p))throw new TypeError("Non push-only scriptSig")}}};if(t.input){let u=i();if(!u||u.length<1)throw new TypeError("Input too short");if(!Buffer.isBuffer(s().output))throw new TypeError("Input is invalid");c(s())}if(t.redeem){if(t.redeem.network&&t.redeem.network!==r)throw new TypeError("Network mismatch");if(t.input){let u=s();if(t.redeem.output&&!t.redeem.output.equals(u.output))throw new TypeError("Redeem.output mismatch");if(t.redeem.input&&!t.redeem.input.equals(u.input))throw new TypeError("Redeem.input mismatch")}c(t.redeem)}if(t.witness&&t.redeem&&t.redeem.witness&&!ZZ(t.redeem.witness,t.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(n,t)}Db.p2sh=eee});var nB=P(Ub=>{"use strict";d();l();Object.defineProperty(Ub,"__esModule",{value:!0});Ub.p2wpkh=void 0;var{Buffer:AE}=Hn(),wE=Bi(),tee=_o(),Nb=gn(),wr=Vr(),uc=xs(),Rb=yd(),rB=Nb.OPS,ree=AE.alloc(0);function nee(t,e){if(!t.address&&!t.hash&&!t.output&&!t.pubkey&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,wr.typeforce)({address:wr.typeforce.maybe(wr.typeforce.String),hash:wr.typeforce.maybe(wr.typeforce.BufferN(20)),input:wr.typeforce.maybe(wr.typeforce.BufferN(0)),network:wr.typeforce.maybe(wr.typeforce.Object),output:wr.typeforce.maybe(wr.typeforce.BufferN(22)),pubkey:wr.typeforce.maybe(wr.isPoint),signature:wr.typeforce.maybe(Nb.isCanonicalScriptSignature),witness:wr.typeforce.maybe(wr.typeforce.arrayOf(wr.typeforce.Buffer))},t);let r=uc.value(()=>{let i=Rb.bech32.decode(t.address),s=i.words.shift(),a=Rb.bech32.fromWords(i.words);return{version:s,prefix:i.prefix,data:AE.from(a)}}),n=t.network||tee.bitcoin,o={name:"p2wpkh",network:n};if(uc.prop(o,"address",()=>{if(!o.hash)return;let i=Rb.bech32.toWords(o.hash);return i.unshift(0),Rb.bech32.encode(n.bech32,i)}),uc.prop(o,"hash",()=>{if(t.output)return t.output.slice(2,22);if(t.address)return r().data;if(t.pubkey||o.pubkey)return wE.hash160(t.pubkey||o.pubkey)}),uc.prop(o,"output",()=>{if(o.hash)return Nb.compile([rB.OP_0,o.hash])}),uc.prop(o,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.witness)return t.witness[1]}),uc.prop(o,"signature",()=>{if(t.witness)return t.witness[0]}),uc.prop(o,"input",()=>{if(o.witness)return ree}),uc.prop(o,"witness",()=>{if(t.pubkey&&t.signature)return[t.signature,t.pubkey]}),e.validate){let i=AE.from([]);if(t.address){if(n&&n.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==20)throw new TypeError("Invalid address data");i=r().data}if(t.hash){if(i.length>0&&!i.equals(t.hash))throw new TypeError("Hash mismatch");i=t.hash}if(t.output){if(t.output.length!==22||t.output[0]!==rB.OP_0||t.output[1]!==20)throw new TypeError("Output is invalid");if(i.length>0&&!i.equals(t.output.slice(2)))throw new TypeError("Hash mismatch");i=t.output.slice(2)}if(t.pubkey){let s=wE.hash160(t.pubkey);if(i.length>0&&!i.equals(s))throw new TypeError("Hash mismatch");if(i=s,!(0,wr.isPoint)(t.pubkey)||t.pubkey.length!==33)throw new TypeError("Invalid pubkey for p2wpkh")}if(t.witness){if(t.witness.length!==2)throw new TypeError("Witness is invalid");if(!Nb.isCanonicalScriptSignature(t.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,wr.isPoint)(t.witness[1])||t.witness[1].length!==33)throw new TypeError("Witness has invalid pubkey");if(t.signature&&!t.signature.equals(t.witness[0]))throw new TypeError("Signature mismatch");if(t.pubkey&&!t.pubkey.equals(t.witness[1]))throw new TypeError("Pubkey mismatch");let s=wE.hash160(t.witness[1]);if(i.length>0&&!i.equals(s))throw new TypeError("Hash mismatch")}}return Object.assign(o,t)}Ub.p2wpkh=nee});var sB=P(Hb=>{"use strict";d();l();Object.defineProperty(Hb,"__esModule",{value:!0});Hb.p2wsh=void 0;var{Buffer:Fb}=Hn(),oB=Bi(),oee=_o(),vs=gn(),Dt=Vr(),Ss=xs(),Lb=yd(),iB=vs.OPS,SE=Fb.alloc(0);function iee(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}function Mb(t){return!!(Fb.isBuffer(t)&&t.length===65&&t[0]===4&&(0,Dt.isPoint)(t))}function see(t,e){if(!t.address&&!t.hash&&!t.output&&!t.redeem&&!t.witness)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Dt.typeforce)({network:Dt.typeforce.maybe(Dt.typeforce.Object),address:Dt.typeforce.maybe(Dt.typeforce.String),hash:Dt.typeforce.maybe(Dt.typeforce.BufferN(32)),output:Dt.typeforce.maybe(Dt.typeforce.BufferN(34)),redeem:Dt.typeforce.maybe({input:Dt.typeforce.maybe(Dt.typeforce.Buffer),network:Dt.typeforce.maybe(Dt.typeforce.Object),output:Dt.typeforce.maybe(Dt.typeforce.Buffer),witness:Dt.typeforce.maybe(Dt.typeforce.arrayOf(Dt.typeforce.Buffer))}),input:Dt.typeforce.maybe(Dt.typeforce.BufferN(0)),witness:Dt.typeforce.maybe(Dt.typeforce.arrayOf(Dt.typeforce.Buffer))},t);let r=Ss.value(()=>{let s=Lb.bech32.decode(t.address),a=s.words.shift(),c=Lb.bech32.fromWords(s.words);return{version:a,prefix:s.prefix,data:Fb.from(c)}}),n=Ss.value(()=>vs.decompile(t.redeem.input)),o=t.network;o||(o=t.redeem&&t.redeem.network||oee.bitcoin);let i={network:o};if(Ss.prop(i,"address",()=>{if(!i.hash)return;let s=Lb.bech32.toWords(i.hash);return s.unshift(0),Lb.bech32.encode(o.bech32,s)}),Ss.prop(i,"hash",()=>{if(t.output)return t.output.slice(2);if(t.address)return r().data;if(i.redeem&&i.redeem.output)return oB.sha256(i.redeem.output)}),Ss.prop(i,"output",()=>{if(i.hash)return vs.compile([iB.OP_0,i.hash])}),Ss.prop(i,"redeem",()=>{if(t.witness)return{output:t.witness[t.witness.length-1],input:SE,witness:t.witness.slice(0,-1)}}),Ss.prop(i,"input",()=>{if(i.witness)return SE}),Ss.prop(i,"witness",()=>{if(t.redeem&&t.redeem.input&&t.redeem.input.length>0&&t.redeem.output&&t.redeem.output.length>0){let s=vs.toStack(n());return i.redeem=Object.assign({witness:s},t.redeem),i.redeem.input=SE,[].concat(s,t.redeem.output)}if(t.redeem&&t.redeem.output&&t.redeem.witness)return[].concat(t.redeem.witness,t.redeem.output)}),Ss.prop(i,"name",()=>{let s=["p2wsh"];return i.redeem!==void 0&&i.redeem.name!==void 0&&s.push(i.redeem.name),s.join("-")}),e.validate){let s=Fb.from([]);if(t.address){if(r().prefix!==o.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==0)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");s=r().data}if(t.hash){if(s.length>0&&!s.equals(t.hash))throw new TypeError("Hash mismatch");s=t.hash}if(t.output){if(t.output.length!==34||t.output[0]!==iB.OP_0||t.output[1]!==32)throw new TypeError("Output is invalid");let a=t.output.slice(2);if(s.length>0&&!s.equals(a))throw new TypeError("Hash mismatch");s=a}if(t.redeem){if(t.redeem.network&&t.redeem.network!==o)throw new TypeError("Network mismatch");if(t.redeem.input&&t.redeem.input.length>0&&t.redeem.witness&&t.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(t.redeem.output){let a=vs.decompile(t.redeem.output);if(!a||a.length<1)throw new TypeError("Redeem.output is invalid");if(t.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(vs.countNonPushOnlyOPs(a)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");let c=oB.sha256(t.redeem.output);if(s.length>0&&!s.equals(c))throw new TypeError("Hash mismatch");s=c}if(t.redeem.input&&!vs.isPushOnly(n()))throw new TypeError("Non push-only scriptSig");if(t.witness&&t.redeem.witness&&!iee(t.witness,t.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(t.redeem.input&&n().some(Mb)||t.redeem.output&&(vs.decompile(t.redeem.output)||[]).some(Mb))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(t.witness&&t.witness.length>0){let a=t.witness[t.witness.length-1];if(t.redeem&&t.redeem.output&&!t.redeem.output.equals(a))throw new TypeError("Witness and redeem.output mismatch");if(t.witness.some(Mb)||(vs.decompile(a)||[]).some(Mb))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(i,t)}Hb.p2wsh=see});var Kb=P(Dd=>{"use strict";d();l();Object.defineProperty(Dd,"__esModule",{value:!0});Dd.getEccLib=Dd.initEccLib=void 0;var mh={};function aee(t){t?t!==mh.eccLib&&(uee(t),mh.eccLib=t):mh.eccLib=t}Dd.initEccLib=aee;function cee(){if(!mh.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return mh.eccLib}Dd.getEccLib=cee;var Es=t=>Buffer.from(t,"hex");function uee(t){Bo(typeof t.isXOnlyPoint=="function"),Bo(t.isXOnlyPoint(Es("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),Bo(t.isXOnlyPoint(Es("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),Bo(t.isXOnlyPoint(Es("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),Bo(t.isXOnlyPoint(Es("0000000000000000000000000000000000000000000000000000000000000001"))),Bo(!t.isXOnlyPoint(Es("0000000000000000000000000000000000000000000000000000000000000000"))),Bo(!t.isXOnlyPoint(Es("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),Bo(typeof t.xOnlyPointAddTweak=="function"),fee.forEach(e=>{let r=t.xOnlyPointAddTweak(Es(e.pubkey),Es(e.tweak));e.result===null?Bo(r===null):(Bo(r!==null),Bo(r.parity===e.parity),Bo(Buffer.from(r.xOnlyPubkey).equals(Es(e.result))))})}function Bo(t){if(!t)throw new Error("ecc library invalid")}var fee=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]});var uB=P(($8e,cB)=>{"use strict";d();l();var vE=S6().Buffer,dee=9007199254740991;function EE(t){if(t<0||t>dee||t%1!==0)throw new RangeError("value out of range")}function gh(t,e,r){if(EE(t),e||(e=vE.allocUnsafe(aB(t))),!vE.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),gh.bytes=1):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),gh.bytes=3):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),gh.bytes=5):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),gh.bytes=9),e}function bh(t,e){if(!vE.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);var r=t.readUInt8(e);if(r<253)return bh.bytes=1,r;if(r===253)return bh.bytes=3,t.readUInt16LE(e+1);if(r===254)return bh.bytes=5,t.readUInt32LE(e+1);bh.bytes=9;var n=t.readUInt32LE(e+1),o=t.readUInt32LE(e+5),i=o*4294967296+n;return EE(i),i}function aB(t){return EE(t),t<253?1:t<=65535?3:t<=4294967295?5:9}cB.exports={encode:gh,decode:bh,encodingLength:aB}});var wh=P(on=>{"use strict";d();l();Object.defineProperty(on,"__esModule",{value:!0});on.BufferReader=on.BufferWriter=on.cloneBuffer=on.reverseBuffer=on.writeUInt64LE=on.readUInt64LE=on.varuint=void 0;var pu=Vr(),{typeforce:fB}=pu,xh=uB();on.varuint=xh;function dB(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function lB(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,dB(n+r,9007199254740991),n+r}on.readUInt64LE=lB;function hB(t,e,r){return dB(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}on.writeUInt64LE=hB;function lee(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}on.reverseBuffer=lee;function hee(t){let e=Buffer.allocUnsafe(t.length);return t.copy(e),e}on.cloneBuffer=hee;var IE=class t{static withCapacity(e){return new t(Buffer.alloc(e))}constructor(e,r=0){this.buffer=e,this.offset=r,fB(pu.tuple(pu.Buffer,pu.UInt32),[e,r])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=hB(this.buffer,e,this.offset)}writeVarInt(e){xh.encode(e,this.buffer,this.offset),this.offset+=xh.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach(r=>this.writeVarSlice(r))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}};on.BufferWriter=IE;var kE=class{constructor(e,r=0){this.buffer=e,this.offset=r,fB(pu.tuple(pu.Buffer,pu.UInt32),[e,r])}readUInt8(){let e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){let e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){let e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){let e=lB(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){let e=xh.decode(this.buffer,this.offset);return this.offset+=xh.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");let r=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,r}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){let e=this.readVarInt(),r=[];for(let n=0;n<e;n++)r.push(this.readVarSlice());return r}};on.BufferReader=kE});var Vb=P(Ar=>{"use strict";d();l();Object.defineProperty(Ar,"__esModule",{value:!0});Ar.tweakKey=Ar.tapTweakHash=Ar.tapleafHash=Ar.findScriptPath=Ar.toHashTree=Ar.rootHashFromPath=Ar.MAX_TAPTREE_DEPTH=Ar.LEAF_VERSION_TAPSCRIPT=void 0;var fc=Hn(),pee=Kb(),BE=Bi(),pB=wh(),yee=Vr();Ar.LEAF_VERSION_TAPSCRIPT=192;Ar.MAX_TAPTREE_DEPTH=128;var mee=t=>"left"in t&&"right"in t;function gee(t,e){if(t.length<33)throw new TypeError(`The control-block length is too small. Got ${t.length}, expected min 33.`);let r=(t.length-33)/32,n=e;for(let o=0;o<r;o++){let i=t.slice(33+32*o,65+32*o);n.compare(i)<0?n=PE(n,i):n=PE(i,n)}return n}Ar.rootHashFromPath=gee;function TE(t){if((0,yee.isTapleaf)(t))return{hash:yB(t)};let e=[TE(t[0]),TE(t[1])];e.sort((o,i)=>o.hash.compare(i.hash));let[r,n]=e;return{hash:PE(r.hash,n.hash),left:r,right:n}}Ar.toHashTree=TE;function _E(t,e){if(mee(t)){let r=_E(t.left,e);if(r!==void 0)return[...r,t.right.hash];let n=_E(t.right,e);if(n!==void 0)return[...n,t.left.hash]}else if(t.hash.equals(e))return[]}Ar.findScriptPath=_E;function yB(t){let e=t.version||Ar.LEAF_VERSION_TAPSCRIPT;return BE.taggedHash("TapLeaf",fc.Buffer.concat([fc.Buffer.from([e]),xee(t.output)]))}Ar.tapleafHash=yB;function mB(t,e){return BE.taggedHash("TapTweak",fc.Buffer.concat(e?[t,e]:[t]))}Ar.tapTweakHash=mB;function bee(t,e){if(!fc.Buffer.isBuffer(t)||t.length!==32||e&&e.length!==32)return null;let r=mB(t,e),n=(0,pee.getEccLib)().xOnlyPointAddTweak(t,r);return!n||n.xOnlyPubkey===null?null:{parity:n.parity,x:fc.Buffer.from(n.xOnlyPubkey)}}Ar.tweakKey=bee;function PE(t,e){return BE.taggedHash("TapBranch",fc.Buffer.concat([t,e]))}function xee(t){let e=pB.varuint.encodingLength(t.length),r=fc.Buffer.allocUnsafe(e);return pB.varuint.encode(t.length,r),fc.Buffer.concat([r,t])}});var wB=P(jb=>{"use strict";d();l();Object.defineProperty(jb,"__esModule",{value:!0});jb.p2tr=void 0;var qb=Hn(),wee=_o(),CE=gn(),Ge=Vr(),gB=Kb(),Un=Vb(),Co=xs(),zb=yd(),bB=CE.OPS,xB=1,Aee=80;function See(t,e){if(!t.address&&!t.output&&!t.pubkey&&!t.internalPubkey&&!(t.witness&&t.witness.length>1))throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,Ge.typeforce)({address:Ge.typeforce.maybe(Ge.typeforce.String),input:Ge.typeforce.maybe(Ge.typeforce.BufferN(0)),network:Ge.typeforce.maybe(Ge.typeforce.Object),output:Ge.typeforce.maybe(Ge.typeforce.BufferN(34)),internalPubkey:Ge.typeforce.maybe(Ge.typeforce.BufferN(32)),hash:Ge.typeforce.maybe(Ge.typeforce.BufferN(32)),pubkey:Ge.typeforce.maybe(Ge.typeforce.BufferN(32)),signature:Ge.typeforce.maybe(Ge.typeforce.anyOf(Ge.typeforce.BufferN(64),Ge.typeforce.BufferN(65))),witness:Ge.typeforce.maybe(Ge.typeforce.arrayOf(Ge.typeforce.Buffer)),scriptTree:Ge.typeforce.maybe(Ge.isTaptree),redeem:Ge.typeforce.maybe({output:Ge.typeforce.maybe(Ge.typeforce.Buffer),redeemVersion:Ge.typeforce.maybe(Ge.typeforce.Number),witness:Ge.typeforce.maybe(Ge.typeforce.arrayOf(Ge.typeforce.Buffer))}),redeemVersion:Ge.typeforce.maybe(Ge.typeforce.Number)},t);let r=Co.value(()=>{let a=zb.bech32m.decode(t.address),c=a.words.shift(),u=zb.bech32m.fromWords(a.words);return{version:c,prefix:a.prefix,data:qb.Buffer.from(u)}}),n=Co.value(()=>{if(!(!t.witness||!t.witness.length))return t.witness.length>=2&&t.witness[t.witness.length-1][0]===Aee?t.witness.slice(0,-1):t.witness.slice()}),o=Co.value(()=>{if(t.scriptTree)return(0,Un.toHashTree)(t.scriptTree);if(t.hash)return{hash:t.hash}}),i=t.network||wee.bitcoin,s={name:"p2tr",network:i};if(Co.prop(s,"address",()=>{if(!s.pubkey)return;let a=zb.bech32m.toWords(s.pubkey);return a.unshift(xB),zb.bech32m.encode(i.bech32,a)}),Co.prop(s,"hash",()=>{let a=o();if(a)return a.hash;let c=n();if(c&&c.length>1){let u=c[c.length-1],h=u[0]&Ge.TAPLEAF_VERSION_MASK,f=c[c.length-2],p=(0,Un.tapleafHash)({output:f,version:h});return(0,Un.rootHashFromPath)(u,p)}return null}),Co.prop(s,"output",()=>{if(s.pubkey)return CE.compile([bB.OP_1,s.pubkey])}),Co.prop(s,"redeemVersion",()=>t.redeemVersion?t.redeemVersion:t.redeem&&t.redeem.redeemVersion!==void 0&&t.redeem.redeemVersion!==null?t.redeem.redeemVersion:Un.LEAF_VERSION_TAPSCRIPT),Co.prop(s,"redeem",()=>{let a=n();if(!(!a||a.length<2))return{output:a[a.length-2],witness:a.slice(0,-2),redeemVersion:a[a.length-1][0]&Ge.TAPLEAF_VERSION_MASK}}),Co.prop(s,"pubkey",()=>{if(t.pubkey)return t.pubkey;if(t.output)return t.output.slice(2);if(t.address)return r().data;if(s.internalPubkey){let a=(0,Un.tweakKey)(s.internalPubkey,s.hash);if(a)return a.x}}),Co.prop(s,"internalPubkey",()=>{if(t.internalPubkey)return t.internalPubkey;let a=n();if(a&&a.length>1)return a[a.length-1].slice(1,33)}),Co.prop(s,"signature",()=>{if(t.signature)return t.signature;let a=n();if(!(!a||a.length!==1))return a[0]}),Co.prop(s,"witness",()=>{if(t.witness)return t.witness;let a=o();if(a&&t.redeem&&t.redeem.output&&t.internalPubkey){let c=(0,Un.tapleafHash)({output:t.redeem.output,version:s.redeemVersion}),u=(0,Un.findScriptPath)(a,c);if(!u)return;let h=(0,Un.tweakKey)(t.internalPubkey,a.hash);if(!h)return;let f=qb.Buffer.concat([qb.Buffer.from([s.redeemVersion|h.parity]),t.internalPubkey].concat(u));return[t.redeem.output,f]}if(t.signature)return[t.signature]}),e.validate){let a=qb.Buffer.from([]);if(t.address){if(i&&i.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(r().version!==xB)throw new TypeError("Invalid address version");if(r().data.length!==32)throw new TypeError("Invalid address data");a=r().data}if(t.pubkey){if(a.length>0&&!a.equals(t.pubkey))throw new TypeError("Pubkey mismatch");a=t.pubkey}if(t.output){if(t.output.length!==34||t.output[0]!==bB.OP_1||t.output[1]!==32)throw new TypeError("Output is invalid");if(a.length>0&&!a.equals(t.output.slice(2)))throw new TypeError("Pubkey mismatch");a=t.output.slice(2)}if(t.internalPubkey){let h=(0,Un.tweakKey)(t.internalPubkey,s.hash);if(a.length>0&&!a.equals(h.x))throw new TypeError("Pubkey mismatch");a=h.x}if(a&&a.length&&!(0,gB.getEccLib)().isXOnlyPoint(a))throw new TypeError("Invalid pubkey for p2tr");let c=o();if(t.hash&&c&&!t.hash.equals(c.hash))throw new TypeError("Hash mismatch");if(t.redeem&&t.redeem.output&&c){let h=(0,Un.tapleafHash)({output:t.redeem.output,version:s.redeemVersion});if(!(0,Un.findScriptPath)(c,h))throw new TypeError("Redeem script not in tree")}let u=n();if(t.redeem&&s.redeem){if(t.redeem.redeemVersion&&t.redeem.redeemVersion!==s.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(t.redeem.output){if(CE.decompile(t.redeem.output).length===0)throw new TypeError("Redeem.output is invalid");if(s.redeem.output&&!t.redeem.output.equals(s.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(t.redeem.witness&&s.redeem.witness&&!vee(t.redeem.witness,s.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(u&&u.length)if(u.length===1){if(t.signature&&!t.signature.equals(u[0]))throw new TypeError("Signature mismatch")}else{let h=u[u.length-1];if(h.length<33)throw new TypeError(`The control-block length is too small. Got ${h.length}, expected min 33.`);if((h.length-33)%32!==0)throw new TypeError(`The control-block length of ${h.length} is incorrect!`);let f=(h.length-33)/32;if(f>128)throw new TypeError(`The script path is too long. Got ${f}, expected max 128.`);let p=h.slice(1,33);if(t.internalPubkey&&!t.internalPubkey.equals(p))throw new TypeError("Internal pubkey mismatch");if(!(0,gB.getEccLib)().isXOnlyPoint(p))throw new TypeError("Invalid internalPubkey for p2tr witness");let m=h[0]&Ge.TAPLEAF_VERSION_MASK,g=u[u.length-2],x=(0,Un.tapleafHash)({output:g,version:m}),w=(0,Un.rootHashFromPath)(h,x),S=(0,Un.tweakKey)(p,w);if(!S)throw new TypeError("Invalid outputKey for p2tr witness");if(a.length&&!a.equals(S.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(S.parity!==(h[0]&1))throw new Error("Incorrect parity")}}return Object.assign(s,t)}jb.p2tr=See;function vee(t,e){return t.length!==e.length?!1:t.every((r,n)=>r.equals(e[n]))}});var Rd=P(Or=>{"use strict";d();l();Object.defineProperty(Or,"__esModule",{value:!0});Or.p2tr=Or.p2wsh=Or.p2wpkh=Or.p2sh=Or.p2pkh=Or.p2pk=Or.p2ms=Or.embed=void 0;var Eee=C9();Object.defineProperty(Or,"embed",{enumerable:!0,get:function(){return Eee.p2data}});var Iee=D9();Object.defineProperty(Or,"p2ms",{enumerable:!0,get:function(){return Iee.p2ms}});var kee=N9();Object.defineProperty(Or,"p2pk",{enumerable:!0,get:function(){return kee.p2pk}});var Tee=X9();Object.defineProperty(Or,"p2pkh",{enumerable:!0,get:function(){return Tee.p2pkh}});var _ee=tB();Object.defineProperty(Or,"p2sh",{enumerable:!0,get:function(){return _ee.p2sh}});var Pee=nB();Object.defineProperty(Or,"p2wpkh",{enumerable:!0,get:function(){return Pee.p2wpkh}});var Bee=sB();Object.defineProperty(Or,"p2wsh",{enumerable:!0,get:function(){return Bee.p2wsh}});var Cee=wB();Object.defineProperty(Or,"p2tr",{enumerable:!0,get:function(){return Cee.p2tr}})});var OE=P(Ln=>{"use strict";d();l();Object.defineProperty(Ln,"__esModule",{value:!0});Ln.toOutputScript=Ln.fromOutputScript=Ln.toBech32=Ln.toBase58Check=Ln.fromBech32=Ln.fromBase58Check=void 0;var AB=_o(),Di=Rd(),SB=gn(),Wb=Vr(),Nd=yd(),vB=bd(),EB=40,IB=2,kB=16,TB=2,_B=80,PB="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function Oee(t,e){let r=t.slice(2);if(r.length<IB||r.length>EB)throw new TypeError("Invalid program length for segwit address");let n=t[0]-_B;if(n<TB||n>kB)throw new TypeError("Invalid version for segwit address");if(t[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(PB),OB(r,n,e.bech32)}function BB(t){let e=Buffer.from(vB.decode(t));if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");let r=e.readUInt8(0),n=e.slice(1);return{version:r,hash:n}}Ln.fromBase58Check=BB;function CB(t){let e,r;try{e=Nd.bech32.decode(t)}catch{}if(e){if(r=e.words[0],r!==0)throw new TypeError(t+" uses wrong encoding")}else if(e=Nd.bech32m.decode(t),r=e.words[0],r===0)throw new TypeError(t+" uses wrong encoding");let n=Nd.bech32.fromWords(e.words.slice(1));return{version:r,prefix:e.prefix,data:Buffer.from(n)}}Ln.fromBech32=CB;function Dee(t,e){(0,Wb.typeforce)((0,Wb.tuple)(Wb.Hash160bit,Wb.UInt8),arguments);let r=Buffer.allocUnsafe(21);return r.writeUInt8(e,0),t.copy(r,1),vB.encode(r)}Ln.toBase58Check=Dee;function OB(t,e,r){let n=Nd.bech32.toWords(t);return n.unshift(e),e===0?Nd.bech32.encode(r,n):Nd.bech32m.encode(r,n)}Ln.toBech32=OB;function Ree(t,e){e=e||AB.bitcoin;try{return Di.p2pkh({output:t,network:e}).address}catch{}try{return Di.p2sh({output:t,network:e}).address}catch{}try{return Di.p2wpkh({output:t,network:e}).address}catch{}try{return Di.p2wsh({output:t,network:e}).address}catch{}try{return Di.p2tr({output:t,network:e}).address}catch{}try{return Oee(t,e)}catch{}throw new Error(SB.toASM(t)+" has no matching Address")}Ln.fromOutputScript=Ree;function Nee(t,e){e=e||AB.bitcoin;let r,n;try{r=BB(t)}catch{}if(r){if(r.version===e.pubKeyHash)return Di.p2pkh({hash:r.hash}).output;if(r.version===e.scriptHash)return Di.p2sh({hash:r.hash}).output}else{try{n=CB(t)}catch{}if(n){if(n.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(n.version===0){if(n.data.length===20)return Di.p2wpkh({hash:n.data}).output;if(n.data.length===32)return Di.p2wsh({hash:n.data}).output}else if(n.version===1){if(n.data.length===32)return Di.p2tr({pubkey:n.data}).output}else if(n.version>=TB&&n.version<=kB&&n.data.length>=IB&&n.data.length<=EB)return console.warn(PB),SB.compile([n.version+_B,n.data])}}throw new Error(t+" has no matching Script")}Ln.toOutputScript=Nee});var DB=P(Gb=>{"use strict";d();l();Object.defineProperty(Gb,"__esModule",{value:!0});Gb.fastMerkleRoot=void 0;function Uee(t,e){if(!Array.isArray(t))throw TypeError("Expected values Array");if(typeof e!="function")throw TypeError("Expected digest Function");let r=t.length,n=t.concat();for(;r>1;){let o=0;for(let i=0;i<r;i+=2,++o){let s=n[i],a=i+1===r?s:n[i+1],c=Buffer.concat([s,a]);n[o]=e(c)}r=o}return n[0]}Gb.fastMerkleRoot=Uee});var Ud=P($b=>{"use strict";d();l();Object.defineProperty($b,"__esModule",{value:!0});$b.Transaction=void 0;var{Buffer:sn}=Hn(),dr=wh(),An=Bi(),RB=gn(),Lee=gn(),rt=Vr(),{typeforce:Ri}=rt;function Ni(t){let e=t.length;return dr.varuint.encodingLength(e)+e}function Mee(t){let e=t.length;return dr.varuint.encodingLength(e)+t.reduce((r,n)=>r+Ni(n),0)}var dc=sn.allocUnsafe(0),NB=[],DE=sn.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),UB=sn.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),Fee=sn.from("ffffffffffffffff","hex"),Hee={script:dc,valueBuffer:Fee};function Kee(t){return t.value!==void 0}var Zn=class t{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,r){let n=new dr.BufferReader(e),o=new t;o.version=n.readInt32();let i=n.readUInt8(),s=n.readUInt8(),a=!1;i===t.ADVANCED_TRANSACTION_MARKER&&s===t.ADVANCED_TRANSACTION_FLAG?a=!0:n.offset-=2;let c=n.readVarInt();for(let h=0;h<c;++h)o.ins.push({hash:n.readSlice(32),index:n.readUInt32(),script:n.readVarSlice(),sequence:n.readUInt32(),witness:NB});let u=n.readVarInt();for(let h=0;h<u;++h)o.outs.push({value:n.readUInt64(),script:n.readVarSlice()});if(a){for(let h=0;h<c;++h)o.ins[h].witness=n.readVector();if(!o.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(o.locktime=n.readUInt32(),r)return o;if(n.offset!==e.length)throw new Error("Transaction has unexpected data");return o}static fromHex(e){return t.fromBuffer(sn.from(e,"hex"),!1)}static isCoinbaseHash(e){Ri(rt.Hash256bit,e);for(let r=0;r<32;++r)if(e[r]!==0)return!1;return!0}isCoinbase(){return this.ins.length===1&&t.isCoinbaseHash(this.ins[0].hash)}addInput(e,r,n,o){return Ri(rt.tuple(rt.Hash256bit,rt.UInt32,rt.maybe(rt.UInt32),rt.maybe(rt.Buffer)),arguments),rt.Null(n)&&(n=t.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:r,script:o||dc,sequence:n,witness:NB})-1}addOutput(e,r){return Ri(rt.tuple(rt.Buffer,rt.Satoshi),arguments),this.outs.push({script:e,value:r})-1}hasWitnesses(){return this.ins.some(e=>e.witness.length!==0)}weight(){let e=this.byteLength(!1),r=this.byteLength(!0);return e*3+r}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){let r=e&&this.hasWitnesses();return(r?10:8)+dr.varuint.encodingLength(this.ins.length)+dr.varuint.encodingLength(this.outs.length)+this.ins.reduce((n,o)=>n+40+Ni(o.script),0)+this.outs.reduce((n,o)=>n+8+Ni(o.script),0)+(r?this.ins.reduce((n,o)=>n+Mee(o.witness),0):0)}clone(){let e=new t;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map(r=>({hash:r.hash,index:r.index,script:r.script,sequence:r.sequence,witness:r.witness})),e.outs=this.outs.map(r=>({script:r.script,value:r.value})),e}hashForSignature(e,r,n){if(Ri(rt.tuple(rt.UInt32,rt.Buffer,rt.Number),arguments),e>=this.ins.length)return UB;let o=RB.compile(RB.decompile(r).filter(a=>a!==Lee.OPS.OP_CODESEPARATOR)),i=this.clone();if((n&31)===t.SIGHASH_NONE)i.outs=[],i.ins.forEach((a,c)=>{c!==e&&(a.sequence=0)});else if((n&31)===t.SIGHASH_SINGLE){if(e>=this.outs.length)return UB;i.outs.length=e+1;for(let a=0;a<e;a++)i.outs[a]=Hee;i.ins.forEach((a,c)=>{c!==e&&(a.sequence=0)})}n&t.SIGHASH_ANYONECANPAY?(i.ins=[i.ins[e]],i.ins[0].script=o):(i.ins.forEach(a=>{a.script=dc}),i.ins[e].script=o);let s=sn.allocUnsafe(i.byteLength(!1)+4);return s.writeInt32LE(n,s.length-4),i.__toBuffer(s,0,!1),An.hash256(s)}hashForWitnessV1(e,r,n,o,i,s){if(Ri(rt.tuple(rt.UInt32,Ri.arrayOf(rt.Buffer),Ri.arrayOf(rt.Satoshi),rt.UInt32),arguments),n.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");let a=o===t.SIGHASH_DEFAULT?t.SIGHASH_ALL:o&t.SIGHASH_OUTPUT_MASK,u=(o&t.SIGHASH_INPUT_MASK)===t.SIGHASH_ANYONECANPAY,h=a===t.SIGHASH_NONE,f=a===t.SIGHASH_SINGLE,p=dc,m=dc,g=dc,x=dc,w=dc;if(!u){let T=dr.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach(C=>{T.writeSlice(C.hash),T.writeUInt32(C.index)}),p=An.sha256(T.end()),T=dr.BufferWriter.withCapacity(8*this.ins.length),n.forEach(C=>T.writeUInt64(C)),m=An.sha256(T.end()),T=dr.BufferWriter.withCapacity(r.map(Ni).reduce((C,W)=>C+W)),r.forEach(C=>T.writeVarSlice(C)),g=An.sha256(T.end()),T=dr.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach(C=>T.writeUInt32(C.sequence)),x=An.sha256(T.end())}if(h||f){if(f&&e<this.outs.length){let T=this.outs[e],C=dr.BufferWriter.withCapacity(8+Ni(T.script));C.writeUInt64(T.value),C.writeVarSlice(T.script),w=An.sha256(C.end())}}else{let T=this.outs.map(W=>8+Ni(W.script)).reduce((W,oe)=>W+oe),C=dr.BufferWriter.withCapacity(T);this.outs.forEach(W=>{C.writeUInt64(W.value),C.writeVarSlice(W.script)}),w=An.sha256(C.end())}let S=(i?2:0)+(s?1:0),k=174-(u?49:0)-(h?32:0)+(s?32:0)+(i?37:0),A=dr.BufferWriter.withCapacity(k);if(A.writeUInt8(o),A.writeInt32(this.version),A.writeUInt32(this.locktime),A.writeSlice(p),A.writeSlice(m),A.writeSlice(g),A.writeSlice(x),h||f||A.writeSlice(w),A.writeUInt8(S),u){let T=this.ins[e];A.writeSlice(T.hash),A.writeUInt32(T.index),A.writeUInt64(n[e]),A.writeVarSlice(r[e]),A.writeUInt32(T.sequence)}else A.writeUInt32(e);if(s){let T=dr.BufferWriter.withCapacity(Ni(s));T.writeVarSlice(s),A.writeSlice(An.sha256(T.end()))}return f&&A.writeSlice(w),i&&(A.writeSlice(i),A.writeUInt8(0),A.writeUInt32(4294967295)),An.taggedHash("TapSighash",sn.concat([sn.from([0]),A.end()]))}hashForWitnessV0(e,r,n,o){Ri(rt.tuple(rt.UInt32,rt.Buffer,rt.Satoshi,rt.UInt32),arguments);let i=sn.from([]),s,a=DE,c=DE,u=DE;if(o&t.SIGHASH_ANYONECANPAY||(i=sn.allocUnsafe(36*this.ins.length),s=new dr.BufferWriter(i,0),this.ins.forEach(f=>{s.writeSlice(f.hash),s.writeUInt32(f.index)}),c=An.hash256(i)),!(o&t.SIGHASH_ANYONECANPAY)&&(o&31)!==t.SIGHASH_SINGLE&&(o&31)!==t.SIGHASH_NONE&&(i=sn.allocUnsafe(4*this.ins.length),s=new dr.BufferWriter(i,0),this.ins.forEach(f=>{s.writeUInt32(f.sequence)}),u=An.hash256(i)),(o&31)!==t.SIGHASH_SINGLE&&(o&31)!==t.SIGHASH_NONE){let f=this.outs.reduce((p,m)=>p+8+Ni(m.script),0);i=sn.allocUnsafe(f),s=new dr.BufferWriter(i,0),this.outs.forEach(p=>{s.writeUInt64(p.value),s.writeVarSlice(p.script)}),a=An.hash256(i)}else if((o&31)===t.SIGHASH_SINGLE&&e<this.outs.length){let f=this.outs[e];i=sn.allocUnsafe(8+Ni(f.script)),s=new dr.BufferWriter(i,0),s.writeUInt64(f.value),s.writeVarSlice(f.script),a=An.hash256(i)}i=sn.allocUnsafe(156+Ni(r)),s=new dr.BufferWriter(i,0);let h=this.ins[e];return s.writeInt32(this.version),s.writeSlice(c),s.writeSlice(u),s.writeSlice(h.hash),s.writeUInt32(h.index),s.writeVarSlice(r),s.writeUInt64(n),s.writeUInt32(h.sequence),s.writeSlice(a),s.writeUInt32(this.locktime),s.writeUInt32(o),An.hash256(i)}getHash(e){return e&&this.isCoinbase()?sn.alloc(32,0):An.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,dr.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,r){return this.__toBuffer(e,r,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,r){Ri(rt.tuple(rt.Number,rt.Buffer),arguments),this.ins[e].script=r}setWitness(e,r){Ri(rt.tuple(rt.Number,[rt.Buffer]),arguments),this.ins[e].witness=r}__toBuffer(e,r,n=!1){e||(e=sn.allocUnsafe(this.byteLength(n)));let o=new dr.BufferWriter(e,r||0);o.writeInt32(this.version);let i=n&&this.hasWitnesses();return i&&(o.writeUInt8(t.ADVANCED_TRANSACTION_MARKER),o.writeUInt8(t.ADVANCED_TRANSACTION_FLAG)),o.writeVarInt(this.ins.length),this.ins.forEach(s=>{o.writeSlice(s.hash),o.writeUInt32(s.index),o.writeVarSlice(s.script),o.writeUInt32(s.sequence)}),o.writeVarInt(this.outs.length),this.outs.forEach(s=>{Kee(s)?o.writeUInt64(s.value):o.writeSlice(s.valueBuffer),o.writeVarSlice(s.script)}),i&&this.ins.forEach(s=>{o.writeVector(s.witness)}),o.writeUInt32(this.locktime),r!==void 0?e.slice(r,o.offset):e}};$b.Transaction=Zn;Zn.DEFAULT_SEQUENCE=4294967295;Zn.SIGHASH_DEFAULT=0;Zn.SIGHASH_ALL=1;Zn.SIGHASH_NONE=2;Zn.SIGHASH_SINGLE=3;Zn.SIGHASH_ANYONECANPAY=128;Zn.SIGHASH_OUTPUT_MASK=3;Zn.SIGHASH_INPUT_MASK=128;Zn.ADVANCED_TRANSACTION_MARKER=0;Zn.ADVANCED_TRANSACTION_FLAG=1});var HB=P(Qb=>{"use strict";d();l();Object.defineProperty(Qb,"__esModule",{value:!0});Qb.Block=void 0;var yu=wh(),RE=Bi(),Vee=DB(),qee=Ud(),FB=Vr(),{typeforce:zee}=FB,NE=new TypeError("Cannot compute merkle root for zero transactions"),LB=new TypeError("Cannot compute witness commit for non-segwit block"),UE=class t{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");let r=new yu.BufferReader(e),n=new t;if(n.version=r.readInt32(),n.prevHash=r.readSlice(32),n.merkleRoot=r.readSlice(32),n.timestamp=r.readUInt32(),n.bits=r.readUInt32(),n.nonce=r.readUInt32(),e.length===80)return n;let o=()=>{let a=qee.Transaction.fromBuffer(r.buffer.slice(r.offset),!0);return r.offset+=a.byteLength(),a},i=r.readVarInt();n.transactions=[];for(let a=0;a<i;++a){let c=o();n.transactions.push(c)}let s=n.getWitnessCommit();return s&&(n.witnessCommit=s),n}static fromHex(e){return t.fromBuffer(Buffer.from(e,"hex"))}static calculateTarget(e){let r=((e&4278190080)>>24)-3,n=e&8388607,o=Buffer.alloc(32,0);return o.writeUIntBE(n,29-r,3),o}static calculateMerkleRoot(e,r){if(zee([{getHash:FB.Function}],e),e.length===0)throw NE;if(r&&!MB(e))throw LB;let n=e.map(i=>i.getHash(r)),o=(0,Vee.fastMerkleRoot)(n,RE.hash256);return r?RE.hash256(Buffer.concat([o,e[0].ins[0].witness[0]])):o}getWitnessCommit(){if(!MB(this.transactions))return null;let e=this.transactions[0].outs.filter(n=>n.script.slice(0,6).equals(Buffer.from("6a24aa21a9ed","hex"))).map(n=>n.script.slice(6,38));if(e.length===0)return null;let r=e[e.length-1];return r instanceof Buffer&&r.length===32?r:null}hasWitnessCommit(){return this.witnessCommit instanceof Buffer&&this.witnessCommit.length===32||this.getWitnessCommit()!==null}hasWitness(){return jee(this.transactions)}weight(){let e=this.byteLength(!1,!1),r=this.byteLength(!1,!0);return e*3+r}byteLength(e,r=!0){return e||!this.transactions?80:80+yu.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((n,o)=>n+o.byteLength(r),0)}getHash(){return RE.hash256(this.toBuffer(!0))}getId(){return(0,yu.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){let e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){let r=Buffer.allocUnsafe(this.byteLength(e)),n=new yu.BufferWriter(r);return n.writeInt32(this.version),n.writeSlice(this.prevHash),n.writeSlice(this.merkleRoot),n.writeUInt32(this.timestamp),n.writeUInt32(this.bits),n.writeUInt32(this.nonce),e||!this.transactions||(yu.varuint.encode(this.transactions.length,r,n.offset),n.offset+=yu.varuint.encode.bytes,this.transactions.forEach(o=>{let i=o.byteLength();o.toBuffer(r,n.offset),n.offset+=i})),r}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){let e=this.hasWitnessCommit();return!e&&this.hasWitness()?!1:this.__checkMerkleRoot()&&(e?this.__checkWitnessCommit():!0)}checkProofOfWork(){let e=(0,yu.reverseBuffer)(this.getHash()),r=t.calculateTarget(this.bits);return e.compare(r)<=0}__checkMerkleRoot(){if(!this.transactions)throw NE;let e=t.calculateMerkleRoot(this.transactions);return this.merkleRoot.compare(e)===0}__checkWitnessCommit(){if(!this.transactions)throw NE;if(!this.hasWitnessCommit())throw LB;let e=t.calculateMerkleRoot(this.transactions,!0);return this.witnessCommit.compare(e)===0}};Qb.Block=UE;function MB(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}function jee(t){return t instanceof Array&&t.some(e=>typeof e=="object"&&e.ins instanceof Array&&e.ins.some(r=>typeof r=="object"&&r.witness instanceof Array&&r.witness.length>0))}});var Dr=P(Zo=>{"use strict";d();l();Object.defineProperty(Zo,"__esModule",{value:!0});var Wee;(function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"})(Wee=Zo.GlobalTypes||(Zo.GlobalTypes={}));Zo.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"];var Gee;(function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT",t[t.TAP_KEY_SIG=19]="TAP_KEY_SIG",t[t.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",t[t.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",t[t.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",t[t.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"})(Gee=Zo.InputTypes||(Zo.InputTypes={}));Zo.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"];var $ee;(function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION",t[t.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",t[t.TAP_TREE=6]="TAP_TREE",t[t.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"})($ee=Zo.OutputTypes||(Zo.OutputTypes={}));Zo.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]});var VB=P(mu=>{"use strict";d();l();Object.defineProperty(mu,"__esModule",{value:!0});var KB=Dr(),Qee=t=>[...Array(t).keys()];function Yee(t){if(t.key[0]!==KB.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(t.key.length!==79||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");let e=t.key.slice(1),r={masterFingerprint:t.value.slice(0,4),extendedPubkey:e,path:"m"};for(let n of Qee(t.value.length/4-1)){let o=t.value.readUInt32LE(n*4+4),i=!!(o&2147483648),s=o&2147483647;r.path+="/"+s.toString(10)+(i?"'":"")}return r}mu.decode=Yee;function Jee(t){let e=Buffer.from([KB.GlobalTypes.GLOBAL_XPUB]),r=Buffer.concat([e,t.extendedPubkey]),n=t.path.split("/"),o=Buffer.allocUnsafe(n.length*4);t.masterFingerprint.copy(o,0);let i=4;return n.slice(1).forEach(s=>{let a=s.slice(-1)==="'",c=2147483647&parseInt(a?s.slice(0,-1):s,10);a&&(c+=2147483648),o.writeUInt32LE(c,i),i+=4}),{key:r,value:o}}mu.encode=Jee;mu.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }";function Xee(t){let e=t.extendedPubkey,r=t.masterFingerprint,n=t.path;return Buffer.isBuffer(e)&&e.length===78&&[2,3].indexOf(e[45])>-1&&Buffer.isBuffer(r)&&r.length===4&&typeof n=="string"&&!!n.match(/^m(\/\d+'?)*$/)}mu.check=Xee;function Zee(t,e,r){let n=e.extendedPubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(o=>o.extendedPubkey.equals(e.extendedPubkey)).length===0)}mu.canAddToArray=Zee});var qB=P(LE=>{"use strict";d();l();Object.defineProperty(LE,"__esModule",{value:!0});var ete=Dr();function tte(t){return{key:Buffer.from([ete.GlobalTypes.UNSIGNED_TX]),value:t.toBuffer()}}LE.encode=tte});var jB=P(gu=>{"use strict";d();l();Object.defineProperty(gu,"__esModule",{value:!0});var zB=Dr();function rte(t){if(t.key[0]!==zB.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value}gu.decode=rte;function nte(t){return{key:Buffer.from([zB.InputTypes.FINAL_SCRIPTSIG]),value:t}}gu.encode=nte;gu.expected="Buffer";function ote(t){return Buffer.isBuffer(t)}gu.check=ote;function ite(t,e){return!!t&&!!e&&t.finalScriptSig===void 0}gu.canAdd=ite});var GB=P(bu=>{"use strict";d();l();Object.defineProperty(bu,"__esModule",{value:!0});var WB=Dr();function ste(t){if(t.key[0]!==WB.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value}bu.decode=ste;function ate(t){return{key:Buffer.from([WB.InputTypes.FINAL_SCRIPTWITNESS]),value:t}}bu.encode=ate;bu.expected="Buffer";function cte(t){return Buffer.isBuffer(t)}bu.check=cte;function ute(t,e){return!!t&&!!e&&t.finalScriptWitness===void 0}bu.canAdd=ute});var QB=P(xu=>{"use strict";d();l();Object.defineProperty(xu,"__esModule",{value:!0});var $B=Dr();function fte(t){if(t.key[0]!==$B.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value}xu.decode=fte;function dte(t){return{key:Buffer.from([$B.InputTypes.NON_WITNESS_UTXO]),value:t}}xu.encode=dte;xu.expected="Buffer";function lte(t){return Buffer.isBuffer(t)}xu.check=lte;function hte(t,e){return!!t&&!!e&&t.nonWitnessUtxo===void 0}xu.canAdd=hte});var JB=P(wu=>{"use strict";d();l();Object.defineProperty(wu,"__esModule",{value:!0});var YB=Dr();function pte(t){if(t.key[0]!==YB.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(!(t.key.length===34||t.key.length===66)||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}}wu.decode=pte;function yte(t){let e=Buffer.from([YB.InputTypes.PARTIAL_SIG]);return{key:Buffer.concat([e,t.pubkey]),value:t.signature}}wu.encode=yte;wu.expected="{ pubkey: Buffer; signature: Buffer; }";function mte(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.signature)&&[33,65].includes(t.pubkey.length)&&[2,3,4].includes(t.pubkey[0])&&gte(t.signature)}wu.check=mte;function gte(t){if(!Buffer.isBuffer(t)||t.length<9||t[0]!==48||t.length!==t[1]+3||t[2]!==2)return!1;let e=t[3];if(e>33||e<1||t[3+e+1]!==2)return!1;let r=t[3+e+2];return!(r>33||r<1||t.length!==3+e+2+r+2)}function bte(t,e,r){let n=e.pubkey.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(o=>o.pubkey.equals(e.pubkey)).length===0)}wu.canAddToArray=bte});var ZB=P(Au=>{"use strict";d();l();Object.defineProperty(Au,"__esModule",{value:!0});var XB=Dr();function xte(t){if(t.key[0]!==XB.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")}Au.decode=xte;function wte(t){return{key:Buffer.from([XB.InputTypes.POR_COMMITMENT]),value:Buffer.from(t,"utf8")}}Au.encode=wte;Au.expected="string";function Ate(t){return typeof t=="string"}Au.check=Ate;function Ste(t,e){return!!t&&!!e&&t.porCommitment===void 0}Au.canAdd=Ste});var tC=P(Su=>{"use strict";d();l();Object.defineProperty(Su,"__esModule",{value:!0});var eC=Dr();function vte(t){if(t.key[0]!==eC.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)}Su.decode=vte;function Ete(t){let e=Buffer.from([eC.InputTypes.SIGHASH_TYPE]),r=Buffer.allocUnsafe(4);return r.writeUInt32LE(t,0),{key:e,value:r}}Su.encode=Ete;Su.expected="number";function Ite(t){return typeof t=="number"}Su.check=Ite;function kte(t,e){return!!t&&!!e&&t.sighashType===void 0}Su.canAdd=kte});var oC=P(vu=>{"use strict";d();l();Object.defineProperty(vu,"__esModule",{value:!0});var rC=Dr();function Tte(t){if(t.key[0]!==rC.InputTypes.TAP_KEY_SIG||t.key.length!==1)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+t.key.toString("hex"));if(!nC(t.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return t.value}vu.decode=Tte;function _te(t){return{key:Buffer.from([rC.InputTypes.TAP_KEY_SIG]),value:t}}vu.encode=_te;vu.expected="Buffer";function nC(t){return Buffer.isBuffer(t)&&(t.length===64||t.length===65)}vu.check=nC;function Pte(t,e){return!!t&&!!e&&t.tapKeySig===void 0}vu.canAdd=Pte});var sC=P(Eu=>{"use strict";d();l();Object.defineProperty(Eu,"__esModule",{value:!0});var iC=Dr();function Bte(t){if(t.key[0]!==iC.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+t.key.toString("hex"));if((t.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+t.key.toString("hex"));let e=t.value[t.value.length-1];if((t.key[1]&254)!==e)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+t.key.toString("hex"));let r=t.value.slice(0,-1);return{controlBlock:t.key.slice(1),script:r,leafVersion:e}}Eu.decode=Bte;function Cte(t){let e=Buffer.from([iC.InputTypes.TAP_LEAF_SCRIPT]),r=Buffer.from([t.leafVersion]);return{key:Buffer.concat([e,t.controlBlock]),value:Buffer.concat([t.script,r])}}Eu.encode=Cte;Eu.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }";function Ote(t){return Buffer.isBuffer(t.controlBlock)&&(t.controlBlock.length-1)%32===0&&(t.controlBlock[0]&254)===t.leafVersion&&Buffer.isBuffer(t.script)}Eu.check=Ote;function Dte(t,e,r){let n=e.controlBlock.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(o=>o.controlBlock.equals(e.controlBlock)).length===0)}Eu.canAddToArray=Dte});var uC=P(Iu=>{"use strict";d();l();Object.defineProperty(Iu,"__esModule",{value:!0});var aC=Dr();function Rte(t){if(t.key[0]!==aC.InputTypes.TAP_MERKLE_ROOT||t.key.length!==1)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+t.key.toString("hex"));if(!cC(t.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return t.value}Iu.decode=Rte;function Nte(t){return{key:Buffer.from([aC.InputTypes.TAP_MERKLE_ROOT]),value:t}}Iu.encode=Nte;Iu.expected="Buffer";function cC(t){return Buffer.isBuffer(t)&&t.length===32}Iu.check=cC;function Ute(t,e){return!!t&&!!e&&t.tapMerkleRoot===void 0}Iu.canAdd=Ute});var dC=P(ku=>{"use strict";d();l();Object.defineProperty(ku,"__esModule",{value:!0});var fC=Dr();function Lte(t){if(t.key[0]!==fC.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+t.key.toString("hex"));if(t.key.length!==65)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+t.key.toString("hex"));if(t.value.length!==64&&t.value.length!==65)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+t.key.toString("hex"));let e=t.key.slice(1,33),r=t.key.slice(33);return{pubkey:e,leafHash:r,signature:t.value}}ku.decode=Lte;function Mte(t){let e=Buffer.from([fC.InputTypes.TAP_SCRIPT_SIG]);return{key:Buffer.concat([e,t.pubkey,t.leafHash]),value:t.signature}}ku.encode=Mte;ku.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }";function Fte(t){return Buffer.isBuffer(t.pubkey)&&Buffer.isBuffer(t.leafHash)&&Buffer.isBuffer(t.signature)&&t.pubkey.length===32&&t.leafHash.length===32&&(t.signature.length===64||t.signature.length===65)}ku.check=Fte;function Hte(t,e,r){let n=e.pubkey.toString("hex")+e.leafHash.toString("hex");return r.has(n)?!1:(r.add(n),t.filter(o=>o.pubkey.equals(e.pubkey)&&o.leafHash.equals(e.leafHash)).length===0)}ku.canAddToArray=Hte});var lc=P(vh=>{"use strict";d();l();Object.defineProperty(vh,"__esModule",{value:!0});var Kte=9007199254740991;function ME(t){if(t<0||t>Kte||t%1!==0)throw new RangeError("value out of range")}function Ah(t,e,r){if(ME(t),e||(e=Buffer.allocUnsafe(lC(t))),!Buffer.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");return r||(r=0),t<253?(e.writeUInt8(t,r),Object.assign(Ah,{bytes:1})):t<=65535?(e.writeUInt8(253,r),e.writeUInt16LE(t,r+1),Object.assign(Ah,{bytes:3})):t<=4294967295?(e.writeUInt8(254,r),e.writeUInt32LE(t,r+1),Object.assign(Ah,{bytes:5})):(e.writeUInt8(255,r),e.writeUInt32LE(t>>>0,r+1),e.writeUInt32LE(t/4294967296|0,r+5),Object.assign(Ah,{bytes:9})),e}vh.encode=Ah;function Sh(t,e){if(!Buffer.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");e||(e=0);let r=t.readUInt8(e);if(r<253)return Object.assign(Sh,{bytes:1}),r;if(r===253)return Object.assign(Sh,{bytes:3}),t.readUInt16LE(e+1);if(r===254)return Object.assign(Sh,{bytes:5}),t.readUInt32LE(e+1);{Object.assign(Sh,{bytes:9});let n=t.readUInt32LE(e+1),i=t.readUInt32LE(e+5)*4294967296+n;return ME(i),i}}vh.decode=Sh;function lC(t){return ME(t),t<253?1:t<=65535?3:t<=4294967295?5:9}vh.encodingLength=lC});var Jb=P(hc=>{"use strict";d();l();Object.defineProperty(hc,"__esModule",{value:!0});var Yb=lc();hc.range=t=>[...Array(t).keys()];function Vte(t){if(t.length<1)return t;let e=t.length-1,r=0;for(let n=0;n<t.length/2;n++)r=t[n],t[n]=t[e],t[e]=r,e--;return t}hc.reverseBuffer=Vte;function qte(t){let e=t.map(hC);return e.push(Buffer.from([0])),Buffer.concat(e)}hc.keyValsToBuffer=qte;function hC(t){let e=t.key.length,r=t.value.length,n=Yb.encodingLength(e),o=Yb.encodingLength(r),i=Buffer.allocUnsafe(n+e+o+r);return Yb.encode(e,i,0),t.key.copy(i,n),Yb.encode(r,i,n+e),t.value.copy(i,n+e+o),i}hc.keyValToBuffer=hC;function pC(t,e){if(typeof t!="number")throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function zte(t,e){let r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*=4294967296,pC(n+r,9007199254740991),n+r}hc.readUInt64LE=zte;function jte(t,e,r){return pC(e,9007199254740991),t.writeInt32LE(e&-1,r),t.writeUInt32LE(Math.floor(e/4294967296),r+4),r+8}hc.writeUInt64LE=jte});var gC=P(Tu=>{"use strict";d();l();Object.defineProperty(Tu,"__esModule",{value:!0});var yC=Dr(),mC=Jb(),Xb=lc();function Wte(t){if(t.key[0]!==yC.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));let e=mC.readUInt64LE(t.value,0),r=8,n=Xb.decode(t.value,r);r+=Xb.encodingLength(n);let o=t.value.slice(r);if(o.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:o,value:e}}Tu.decode=Wte;function Gte(t){let{script:e,value:r}=t,n=Xb.encodingLength(e.length),o=Buffer.allocUnsafe(8+n+e.length);return mC.writeUInt64LE(o,r,0),Xb.encode(e.length,o,8),e.copy(o,8+n),{key:Buffer.from([yC.InputTypes.WITNESS_UTXO]),value:o}}Tu.encode=Gte;Tu.expected="{ script: Buffer; value: number; }";function $te(t){return Buffer.isBuffer(t.script)&&typeof t.value=="number"}Tu.check=$te;function Qte(t,e){return!!t&&!!e&&t.witnessUtxo===void 0}Tu.canAdd=Qte});var xC=P(_u=>{"use strict";d();l();Object.defineProperty(_u,"__esModule",{value:!0});var bC=Dr(),FE=lc();function Yte(t){if(t.key[0]!==bC.OutputTypes.TAP_TREE||t.key.length!==1)throw new Error("Decode Error: could not decode tapTree with key 0x"+t.key.toString("hex"));let e=0,r=[];for(;e<t.value.length;){let n=t.value[e++],o=t.value[e++],i=FE.decode(t.value,e);e+=FE.encodingLength(i),r.push({depth:n,leafVersion:o,script:t.value.slice(e,e+i)}),e+=i}return{leaves:r}}_u.decode=Yte;function Jte(t){let e=Buffer.from([bC.OutputTypes.TAP_TREE]),r=[].concat(...t.leaves.map(n=>[Buffer.of(n.depth,n.leafVersion),FE.encode(n.script.length),n.script]));return{key:e,value:Buffer.concat(r)}}_u.encode=Jte;_u.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }";function Xte(t){return Array.isArray(t.leaves)&&t.leaves.every(e=>e.depth>=0&&e.depth<=128&&(e.leafVersion&254)===e.leafVersion&&Buffer.isBuffer(e.script))}_u.check=Xte;function Zte(t,e){return!!t&&!!e&&t.tapTree===void 0}_u.canAdd=Zte});var KE=P(HE=>{"use strict";d();l();Object.defineProperty(HE,"__esModule",{value:!0});var ere=t=>[...Array(t).keys()],tre=t=>t.length===33&&[2,3].includes(t[0])||t.length===65&&t[0]===4;function rre(t,e=tre){function r(a){if(a.key[0]!==t)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+a.key.toString("hex"));let c=a.key.slice(1);if(!e(c))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+a.key.toString("hex"));if(a.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");let u={masterFingerprint:a.value.slice(0,4),pubkey:c,path:"m"};for(let h of ere(a.value.length/4-1)){let f=a.value.readUInt32LE(h*4+4),p=!!(f&2147483648),m=f&2147483647;u.path+="/"+m.toString(10)+(p?"'":"")}return u}function n(a){let c=Buffer.from([t]),u=Buffer.concat([c,a.pubkey]),h=a.path.split("/"),f=Buffer.allocUnsafe(h.length*4);a.masterFingerprint.copy(f,0);let p=4;return h.slice(1).forEach(m=>{let g=m.slice(-1)==="'",x=2147483647&parseInt(g?m.slice(0,-1):m,10);g&&(x+=2147483648),f.writeUInt32LE(x,p),p+=4}),{key:u,value:f}}let o="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }";function i(a){return Buffer.isBuffer(a.pubkey)&&Buffer.isBuffer(a.masterFingerprint)&&typeof a.path=="string"&&e(a.pubkey)&&a.masterFingerprint.length===4}function s(a,c,u){let h=c.pubkey.toString("hex");return u.has(h)?!1:(u.add(h),a.filter(f=>f.pubkey.equals(c.pubkey)).length===0)}return{decode:r,encode:n,check:i,expected:o,canAddToArray:s}}HE.makeConverter=rre});var wC=P(VE=>{"use strict";d();l();Object.defineProperty(VE,"__esModule",{value:!0});function nre(t){return e;function e(r){let n;if(t.includes(r.key[0])&&(n=r.key.slice(1),!(n.length===33||n.length===65)||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+r.key.toString("hex"));return n}}VE.makeChecker=nre});var AC=P(qE=>{"use strict";d();l();Object.defineProperty(qE,"__esModule",{value:!0});function ore(t){function e(s){if(s.key[0]!==t)throw new Error("Decode Error: could not decode redeemScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function o(s){return Buffer.isBuffer(s)}function i(s,a){return!!s&&!!a&&s.redeemScript===void 0}return{decode:e,encode:r,check:o,expected:n,canAdd:i}}qE.makeConverter=ore});var SC=P(zE=>{"use strict";d();l();Object.defineProperty(zE,"__esModule",{value:!0});var Zb=lc(),ire=KE(),sre=t=>t.length===32;function are(t){let e=ire.makeConverter(t,sre);function r(s){let a=Zb.decode(s.value),c=Zb.encodingLength(a),u=e.decode({key:s.key,value:s.value.slice(c+a*32)}),h=new Array(a);for(let f=0,p=c;f<a;f++,p+=32)h[f]=s.value.slice(p,p+32);return Object.assign({},u,{leafHashes:h})}function n(s){let a=e.encode(s),c=Zb.encodingLength(s.leafHashes.length),u=Buffer.allocUnsafe(c);Zb.encode(s.leafHashes.length,u);let h=Buffer.concat([u,...s.leafHashes,a.value]);return Object.assign({},a,{value:h})}let o="{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }";function i(s){return Array.isArray(s.leafHashes)&&s.leafHashes.every(a=>Buffer.isBuffer(a)&&a.length===32)&&e.check(s)}return{decode:r,encode:n,check:i,expected:o,canAddToArray:e.canAddToArray}}zE.makeConverter=are});var vC=P(jE=>{"use strict";d();l();Object.defineProperty(jE,"__esModule",{value:!0});function cre(t){function e(s){if(s.key[0]!==t||s.key.length!==1)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+s.key.toString("hex"));if(s.value.length!==32)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function o(s){return Buffer.isBuffer(s)&&s.length===32}function i(s,a){return!!s&&!!a&&s.tapInternalKey===void 0}return{decode:e,encode:r,check:o,expected:n,canAdd:i}}jE.makeConverter=cre});var EC=P(WE=>{"use strict";d();l();Object.defineProperty(WE,"__esModule",{value:!0});function ure(t){function e(s){if(s.key[0]!==t)throw new Error("Decode Error: could not decode witnessScript with key 0x"+s.key.toString("hex"));return s.value}function r(s){return{key:Buffer.from([t]),value:s}}let n="Buffer";function o(s){return Buffer.isBuffer(s)}function i(s,a){return!!s&&!!a&&s.witnessScript===void 0}return{decode:e,encode:r,check:o,expected:n,canAdd:i}}WE.makeConverter=ure});var ex=P(Eh=>{"use strict";d();l();Object.defineProperty(Eh,"__esModule",{value:!0});var eo=Dr(),fre=VB(),dre=qB(),lre=jB(),hre=GB(),pre=QB(),yre=JB(),mre=ZB(),gre=tC(),bre=oC(),xre=sC(),wre=uC(),Are=dC(),Sre=gC(),vre=xC(),IC=KE(),GE=wC(),kC=AC(),TC=SC(),_C=vC(),PC=EC(),Ere={unsignedTx:dre,globalXpub:fre,checkPubkey:GE.makeChecker([])};Eh.globals=Ere;var Ire={nonWitnessUtxo:pre,partialSig:yre,sighashType:gre,finalScriptSig:lre,finalScriptWitness:hre,porCommitment:mre,witnessUtxo:Sre,bip32Derivation:IC.makeConverter(eo.InputTypes.BIP32_DERIVATION),redeemScript:kC.makeConverter(eo.InputTypes.REDEEM_SCRIPT),witnessScript:PC.makeConverter(eo.InputTypes.WITNESS_SCRIPT),checkPubkey:GE.makeChecker([eo.InputTypes.PARTIAL_SIG,eo.InputTypes.BIP32_DERIVATION]),tapKeySig:bre,tapScriptSig:Are,tapLeafScript:xre,tapBip32Derivation:TC.makeConverter(eo.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:_C.makeConverter(eo.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:wre};Eh.inputs=Ire;var kre={bip32Derivation:IC.makeConverter(eo.OutputTypes.BIP32_DERIVATION),redeemScript:kC.makeConverter(eo.OutputTypes.REDEEM_SCRIPT),witnessScript:PC.makeConverter(eo.OutputTypes.WITNESS_SCRIPT),checkPubkey:GE.makeChecker([eo.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:TC.makeConverter(eo.OutputTypes.TAP_BIP32_DERIVATION),tapTree:vre,tapInternalKey:_C.makeConverter(eo.OutputTypes.TAP_INTERNAL_KEY)};Eh.outputs=kre});var OC=P(Ih=>{"use strict";d();l();Object.defineProperty(Ih,"__esModule",{value:!0});var Rt=ex(),tx=Jb(),BC=lc(),Ne=Dr();function Tre(t,e){let r=0;function n(){let w=BC.decode(t,r);r+=BC.encodingLength(w);let S=t.slice(r,r+w);return r+=w,S}function o(){let w=t.readUInt32BE(r);return r+=4,w}function i(){let w=t.readUInt8(r);return r+=1,w}function s(){let w=n(),S=n();return{key:w,value:S}}function a(){if(r>=t.length)throw new Error("Format Error: Unexpected End of PSBT");let w=t.readUInt8(r)===0;return w&&r++,w}if(o()!==1886610036)throw new Error("Format Error: Invalid Magic Number");if(i()!==255)throw new Error("Format Error: Magic Number must be followed by 0xff separator");let c=[],u={};for(;!a();){let w=s(),S=w.key.toString("hex");if(u[S])throw new Error("Format Error: Keys must be unique for global keymap: key "+S);u[S]=1,c.push(w)}let h=c.filter(w=>w.key[0]===Ne.GlobalTypes.UNSIGNED_TX);if(h.length!==1)throw new Error("Format Error: Only one UNSIGNED_TX allowed");let f=e(h[0].value),{inputCount:p,outputCount:m}=f.getInputOutputCounts(),g=[],x=[];for(let w of tx.range(p)){let S={},k=[];for(;!a();){let A=s(),T=A.key.toString("hex");if(S[T])throw new Error("Format Error: Keys must be unique for each input: input index "+w+" key "+T);S[T]=1,k.push(A)}g.push(k)}for(let w of tx.range(m)){let S={},k=[];for(;!a();){let A=s(),T=A.key.toString("hex");if(S[T])throw new Error("Format Error: Keys must be unique for each output: output index "+w+" key "+T);S[T]=1,k.push(A)}x.push(k)}return CC(f,{globalMapKeyVals:c,inputKeyVals:g,outputKeyVals:x})}Ih.psbtFromBuffer=Tre;function qr(t,e,r){if(!e.equals(Buffer.from([r])))throw new Error(`Format Error: Invalid ${t} key: ${e.toString("hex")}`)}Ih.checkKeyBuffer=qr;function CC(t,{globalMapKeyVals:e,inputKeyVals:r,outputKeyVals:n}){let o={unsignedTx:t},i=0;for(let h of e)switch(h.key[0]){case Ne.GlobalTypes.UNSIGNED_TX:if(qr("global",h.key,Ne.GlobalTypes.UNSIGNED_TX),i>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");i++;break;case Ne.GlobalTypes.GLOBAL_XPUB:o.globalXpub===void 0&&(o.globalXpub=[]),o.globalXpub.push(Rt.globals.globalXpub.decode(h));break;default:o.unknownKeyVals||(o.unknownKeyVals=[]),o.unknownKeyVals.push(h)}let s=r.length,a=n.length,c=[],u=[];for(let h of tx.range(s)){let f={};for(let p of r[h])switch(Rt.inputs.checkPubkey(p),p.key[0]){case Ne.InputTypes.NON_WITNESS_UTXO:if(qr("input",p.key,Ne.InputTypes.NON_WITNESS_UTXO),f.nonWitnessUtxo!==void 0)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");f.nonWitnessUtxo=Rt.inputs.nonWitnessUtxo.decode(p);break;case Ne.InputTypes.WITNESS_UTXO:if(qr("input",p.key,Ne.InputTypes.WITNESS_UTXO),f.witnessUtxo!==void 0)throw new Error("Format Error: Input has multiple WITNESS_UTXO");f.witnessUtxo=Rt.inputs.witnessUtxo.decode(p);break;case Ne.InputTypes.PARTIAL_SIG:f.partialSig===void 0&&(f.partialSig=[]),f.partialSig.push(Rt.inputs.partialSig.decode(p));break;case Ne.InputTypes.SIGHASH_TYPE:if(qr("input",p.key,Ne.InputTypes.SIGHASH_TYPE),f.sighashType!==void 0)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");f.sighashType=Rt.inputs.sighashType.decode(p);break;case Ne.InputTypes.REDEEM_SCRIPT:if(qr("input",p.key,Ne.InputTypes.REDEEM_SCRIPT),f.redeemScript!==void 0)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");f.redeemScript=Rt.inputs.redeemScript.decode(p);break;case Ne.InputTypes.WITNESS_SCRIPT:if(qr("input",p.key,Ne.InputTypes.WITNESS_SCRIPT),f.witnessScript!==void 0)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");f.witnessScript=Rt.inputs.witnessScript.decode(p);break;case Ne.InputTypes.BIP32_DERIVATION:f.bip32Derivation===void 0&&(f.bip32Derivation=[]),f.bip32Derivation.push(Rt.inputs.bip32Derivation.decode(p));break;case Ne.InputTypes.FINAL_SCRIPTSIG:qr("input",p.key,Ne.InputTypes.FINAL_SCRIPTSIG),f.finalScriptSig=Rt.inputs.finalScriptSig.decode(p);break;case Ne.InputTypes.FINAL_SCRIPTWITNESS:qr("input",p.key,Ne.InputTypes.FINAL_SCRIPTWITNESS),f.finalScriptWitness=Rt.inputs.finalScriptWitness.decode(p);break;case Ne.InputTypes.POR_COMMITMENT:qr("input",p.key,Ne.InputTypes.POR_COMMITMENT),f.porCommitment=Rt.inputs.porCommitment.decode(p);break;case Ne.InputTypes.TAP_KEY_SIG:qr("input",p.key,Ne.InputTypes.TAP_KEY_SIG),f.tapKeySig=Rt.inputs.tapKeySig.decode(p);break;case Ne.InputTypes.TAP_SCRIPT_SIG:f.tapScriptSig===void 0&&(f.tapScriptSig=[]),f.tapScriptSig.push(Rt.inputs.tapScriptSig.decode(p));break;case Ne.InputTypes.TAP_LEAF_SCRIPT:f.tapLeafScript===void 0&&(f.tapLeafScript=[]),f.tapLeafScript.push(Rt.inputs.tapLeafScript.decode(p));break;case Ne.InputTypes.TAP_BIP32_DERIVATION:f.tapBip32Derivation===void 0&&(f.tapBip32Derivation=[]),f.tapBip32Derivation.push(Rt.inputs.tapBip32Derivation.decode(p));break;case Ne.InputTypes.TAP_INTERNAL_KEY:qr("input",p.key,Ne.InputTypes.TAP_INTERNAL_KEY),f.tapInternalKey=Rt.inputs.tapInternalKey.decode(p);break;case Ne.InputTypes.TAP_MERKLE_ROOT:qr("input",p.key,Ne.InputTypes.TAP_MERKLE_ROOT),f.tapMerkleRoot=Rt.inputs.tapMerkleRoot.decode(p);break;default:f.unknownKeyVals||(f.unknownKeyVals=[]),f.unknownKeyVals.push(p)}c.push(f)}for(let h of tx.range(a)){let f={};for(let p of n[h])switch(Rt.outputs.checkPubkey(p),p.key[0]){case Ne.OutputTypes.REDEEM_SCRIPT:if(qr("output",p.key,Ne.OutputTypes.REDEEM_SCRIPT),f.redeemScript!==void 0)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");f.redeemScript=Rt.outputs.redeemScript.decode(p);break;case Ne.OutputTypes.WITNESS_SCRIPT:if(qr("output",p.key,Ne.OutputTypes.WITNESS_SCRIPT),f.witnessScript!==void 0)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");f.witnessScript=Rt.outputs.witnessScript.decode(p);break;case Ne.OutputTypes.BIP32_DERIVATION:f.bip32Derivation===void 0&&(f.bip32Derivation=[]),f.bip32Derivation.push(Rt.outputs.bip32Derivation.decode(p));break;case Ne.OutputTypes.TAP_INTERNAL_KEY:qr("output",p.key,Ne.OutputTypes.TAP_INTERNAL_KEY),f.tapInternalKey=Rt.outputs.tapInternalKey.decode(p);break;case Ne.OutputTypes.TAP_TREE:qr("output",p.key,Ne.OutputTypes.TAP_TREE),f.tapTree=Rt.outputs.tapTree.decode(p);break;case Ne.OutputTypes.TAP_BIP32_DERIVATION:f.tapBip32Derivation===void 0&&(f.tapBip32Derivation=[]),f.tapBip32Derivation.push(Rt.outputs.tapBip32Derivation.decode(p));break;default:f.unknownKeyVals||(f.unknownKeyVals=[]),f.unknownKeyVals.push(p)}u.push(f)}return{globalMap:o,inputs:c,outputs:u}}Ih.psbtFromKeyVals=CC});var NC=P(rx=>{"use strict";d();l();Object.defineProperty(rx,"__esModule",{value:!0});var $E=ex(),DC=Jb();function _re({globalMap:t,inputs:e,outputs:r}){let{globalKeyVals:n,inputKeyVals:o,outputKeyVals:i}=RC({globalMap:t,inputs:e,outputs:r}),s=DC.keyValsToBuffer(n),a=f=>f.length===0?[Buffer.from([0])]:f.map(DC.keyValsToBuffer),c=a(o),u=a(i),h=Buffer.allocUnsafe(5);return h.writeUIntBE(482972169471,0,5),Buffer.concat([h,s].concat(c,u))}rx.psbtToBuffer=_re;var Pre=(t,e)=>t.key.compare(e.key);function QE(t,e){let r=new Set,n=Object.entries(t).reduce((i,[s,a])=>{if(s==="unknownKeyVals")return i;let c=e[s];if(c===void 0)return i;let u=(Array.isArray(a)?a:[a]).map(c.encode);return u.map(f=>f.key.toString("hex")).forEach(f=>{if(r.has(f))throw new Error("Serialize Error: Duplicate key: "+f);r.add(f)}),i.concat(u)},[]),o=t.unknownKeyVals?t.unknownKeyVals.filter(i=>!r.has(i.key.toString("hex"))):[];return n.concat(o).sort(Pre)}function RC({globalMap:t,inputs:e,outputs:r}){return{globalKeyVals:QE(t,$E.globals),inputKeyVals:e.map(n=>QE(n,$E.inputs)),outputKeyVals:r.map(n=>QE(n,$E.outputs))}}rx.psbtToKeyVals=RC});var YE=P(nx=>{"use strict";d();l();function UC(t){for(var e in t)nx.hasOwnProperty(e)||(nx[e]=t[e])}Object.defineProperty(nx,"__esModule",{value:!0});UC(OC());UC(NC())});var MC=P(ZE=>{"use strict";d();l();Object.defineProperty(ZE,"__esModule",{value:!0});var JE=YE();function Bre(t){let e=t[0],r=JE.psbtToKeyVals(e),n=t.slice(1);if(n.length===0)throw new Error("Combine: Nothing to combine");let o=LC(e);if(o===void 0)throw new Error("Combine: Self missing transaction");let i=Ld(r.globalKeyVals),s=r.inputKeyVals.map(Ld),a=r.outputKeyVals.map(Ld);for(let c of n){let u=LC(c);if(u===void 0||!u.toBuffer().equals(o.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");let h=JE.psbtToKeyVals(c);Ld(h.globalKeyVals).forEach(XE(i,r.globalKeyVals,h.globalKeyVals)),h.inputKeyVals.map(Ld).forEach((g,x)=>g.forEach(XE(s[x],r.inputKeyVals[x],h.inputKeyVals[x]))),h.outputKeyVals.map(Ld).forEach((g,x)=>g.forEach(XE(a[x],r.outputKeyVals[x],h.outputKeyVals[x])))}return JE.psbtFromKeyVals(o,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}ZE.combine=Bre;function XE(t,e,r){return n=>{if(t.has(n))return;let o=r.filter(i=>i.key.toString("hex")===n)[0];e.push(o),t.add(n)}}function LC(t){return t.globalMap.unsignedTx}function Ld(t){let e=new Set;return t.forEach(r=>{let n=r.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)}),e}});var t3=P(an=>{"use strict";d();l();Object.defineProperty(an,"__esModule",{value:!0});var Cre=ex();function HC(t,e){let r=t[e];if(r===void 0)throw new Error(`No input #${e}`);return r}an.checkForInput=HC;function KC(t,e){let r=t[e];if(r===void 0)throw new Error(`No output #${e}`);return r}an.checkForOutput=KC;function Ore(t,e,r){if(t.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&e.filter(n=>n.key.equals(t.key)).length!==0)throw new Error(`Duplicate Key: ${t.key.toString("hex")}`)}an.checkHasKey=Ore;function Dre(t){let e=0;return Object.keys(t).forEach(r=>{Number(isNaN(Number(r)))&&e++}),e}an.getEnumLength=Dre;function Rre(t,e){let r=!1;if(e.nonWitnessUtxo||e.witnessUtxo){let n=!!e.redeemScript,o=!!e.witnessScript,i=!n||!!e.finalScriptSig,s=!o||!!e.finalScriptWitness,a=!!e.finalScriptSig||!!e.finalScriptWitness;r=i&&s&&a}if(r===!1)throw new Error(`Input #${t} has too much or too little data to clean`)}an.inputCheckUncleanFinalized=Rre;function FC(t,e,r,n){throw new Error(`Data for ${t} key ${e} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function e3(t){return(e,r)=>{for(let n of Object.keys(e)){let o=e[n],{canAdd:i,canAddToArray:s,check:a,expected:c}=Cre[t+"s"][n]||{},u=!!s;if(a)if(u){if(!Array.isArray(o)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);o.every(a)||FC(t,n,c,o);let h=r[n]||[],f=new Set;if(!o.every(p=>s(h,p,f)))throw new Error("Can not add duplicate data to array");r[n]=h.concat(o)}else{if(a(o)||FC(t,n,c,o),!i(r,o))throw new Error(`Can not add duplicate data to ${t}`);r[n]=o}}}}an.updateGlobal=e3("global");an.updateInput=e3("input");an.updateOutput=e3("output");function Nre(t,e){let r=t.length-1,n=HC(t,r);an.updateInput(e,n)}an.addInputAttributes=Nre;function Ure(t,e){let r=t.length-1,n=KC(t,r);an.updateOutput(e,n)}an.addOutputAttributes=Ure;function Lre(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Version: Invalid Transaction");return e.writeUInt32LE(t,0),e}an.defaultVersionSetter=Lre;function Mre(t,e){if(!Buffer.isBuffer(e)||e.length<4)throw new Error("Set Locktime: Invalid Transaction");return e.writeUInt32LE(t,e.length-4),e}an.defaultLocktimeSetter=Mre});var qC=P(o3=>{"use strict";d();l();Object.defineProperty(o3,"__esModule",{value:!0});var Fre=MC(),VC=YE(),r3=Dr(),zr=t3(),n3=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,r){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r){let n=VC.psbtFromBuffer(e,r),o=new this(n.globalMap.unsignedTx);return Object.assign(o,n),o}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return VC.psbtToBuffer(this)}updateGlobal(e){return zr.updateGlobal(e,this.globalMap),this}updateInput(e,r){let n=zr.checkForInput(this.inputs,e);return zr.updateInput(r,n),this}updateOutput(e,r){let n=zr.checkForOutput(this.outputs,e);return zr.updateOutput(r,n),this}addUnknownKeyValToGlobal(e){return zr.checkHasKey(e,this.globalMap.unknownKeyVals,zr.getEnumLength(r3.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,r){let n=zr.checkForInput(this.inputs,e);return zr.checkHasKey(r,n.unknownKeyVals,zr.getEnumLength(r3.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addUnknownKeyValToOutput(e,r){let n=zr.checkForOutput(this.outputs,e);return zr.checkHasKey(r,n.unknownKeyVals,zr.getEnumLength(r3.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(r),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.inputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(o=>this.addUnknownKeyValToInput(n,o)),zr.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});let r=e.unknownKeyVals||[],n=this.outputs.length-1;if(!Array.isArray(r))throw new Error("unknownKeyVals must be an Array");return r.forEach(o=>this.addUnknownKeyValToOutput(n,o)),zr.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){let r=zr.checkForInput(this.inputs,e);zr.inputCheckUncleanFinalized(e,r);for(let n of Object.keys(r))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(n)||delete r[n];return this}combine(...e){let r=Fre.combine([this].concat(e));return Object.assign(this,r),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}};o3.Psbt=n3});var ix=P(_t=>{"use strict";d();l();Object.defineProperty(_t,"__esModule",{value:!0});_t.signatureBlocksAction=_t.checkInputForSig=_t.pubkeyInScript=_t.pubkeyPositionInScript=_t.witnessStackToScriptWitness=_t.isP2TR=_t.isP2SHScript=_t.isP2WSHScript=_t.isP2WPKH=_t.isP2PKH=_t.isP2PK=_t.isP2MS=void 0;var zC=lc(),kh=gn(),ox=Ud(),Hre=Bi(),Pu=Rd();function Bu(t){return e=>{try{return t({output:e}),!0}catch{return!1}}}_t.isP2MS=Bu(Pu.p2ms);_t.isP2PK=Bu(Pu.p2pk);_t.isP2PKH=Bu(Pu.p2pkh);_t.isP2WPKH=Bu(Pu.p2wpkh);_t.isP2WSHScript=Bu(Pu.p2wsh);_t.isP2SHScript=Bu(Pu.p2sh);_t.isP2TR=Bu(Pu.p2tr);function Kre(t){let e=Buffer.allocUnsafe(0);function r(s){e=Buffer.concat([e,Buffer.from(s)])}function n(s){let a=e.length,c=zC.encodingLength(s);e=Buffer.concat([e,Buffer.allocUnsafe(c)]),zC.encode(s,e,a)}function o(s){n(s.length),r(s)}function i(s){n(s.length),s.forEach(o)}return i(t),e}_t.witnessStackToScriptWitness=Kre;function jC(t,e){let r=(0,Hre.hash160)(t),n=t.slice(1,33),o=kh.decompile(e);if(o===null)throw new Error("Unknown script error");return o.findIndex(i=>typeof i=="number"?!1:i.equals(t)||i.equals(r)||i.equals(n))}_t.pubkeyPositionInScript=jC;function Vre(t,e){return jC(t,e)!==-1}_t.pubkeyInScript=Vre;function qre(t,e){return zre(t).some(n=>WC(n,kh.signature.decode,e))}_t.checkInputForSig=qre;function WC(t,e,r){let{hashType:n}=e(t),o=[];switch(n&ox.Transaction.SIGHASH_ANYONECANPAY&&o.push("addInput"),n&31){case ox.Transaction.SIGHASH_ALL:break;case ox.Transaction.SIGHASH_SINGLE:case ox.Transaction.SIGHASH_NONE:o.push("addOutput"),o.push("setInputSequence");break}return o.indexOf(r)===-1}_t.signatureBlocksAction=WC;function zre(t){let e=[];if((t.partialSig||[]).length===0){if(!t.finalScriptSig&&!t.finalScriptWitness)return[];e=jre(t)}else e=t.partialSig;return e.map(r=>r.signature)}function jre(t){let e=t.finalScriptSig?kh.decompile(t.finalScriptSig)||[]:[],r=t.finalScriptWitness?kh.decompile(t.finalScriptWitness)||[]:[];return e.concat(r).filter(n=>Buffer.isBuffer(n)&&kh.isCanonicalScriptSignature(n)).map(n=>({signature:n}))}});var $C=P(Kt=>{"use strict";d();l();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.checkTaprootInputForSigs=Kt.tapTreeFromList=Kt.tapTreeToList=Kt.tweakInternalPubKey=Kt.checkTaprootOutputFields=Kt.checkTaprootInputFields=Kt.isTaprootOutput=Kt.isTaprootInput=Kt.serializeTaprootSignature=Kt.tapScriptFinalizer=Kt.toXOnly=void 0;var c3=Vr(),Wre=Ud(),cx=ix(),pc=Vb(),Gre=Rd(),$re=ix(),Qre=t=>t.length===32?t:t.slice(1,33);Kt.toXOnly=Qre;function Yre(t,e,r){let n=pne(e,t,r);try{let i=lne(e,n).concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,cx.witnessStackToScriptWitness)(i)}}catch(o){throw new Error(`Can not finalize taproot input #${t}: ${o}`)}}Kt.tapScriptFinalizer=Yre;function Jre(t,e){let r=e?Buffer.from([e]):Buffer.from([]);return Buffer.concat([t,r])}Kt.serializeTaprootSignature=Jre;function sx(t){return t&&!!(t.tapInternalKey||t.tapMerkleRoot||t.tapLeafScript&&t.tapLeafScript.length||t.tapBip32Derivation&&t.tapBip32Derivation.length||t.witnessUtxo&&(0,cx.isP2TR)(t.witnessUtxo.script))}Kt.isTaprootInput=sx;function ax(t,e){return t&&!!(t.tapInternalKey||t.tapTree||t.tapBip32Derivation&&t.tapBip32Derivation.length||e&&(0,cx.isP2TR)(e))}Kt.isTaprootOutput=ax;function Xre(t,e,r){une(t,e,r),dne(t,e,r)}Kt.checkTaprootInputFields=Xre;function Zre(t,e,r){fne(t,e,r),ene(t,e)}Kt.checkTaprootOutputFields=Zre;function ene(t,e){if(!e.tapTree&&!e.tapInternalKey)return;let r=e.tapInternalKey||t.tapInternalKey,n=e.tapTree||t.tapTree;if(r){let{script:o}=t,i=tne(r,n);if(o&&!o.equals(i))throw new Error("Error adding output. Script or address missmatch.")}}function tne(t,e){let r=e&&GC(e.leaves),{output:n}=(0,Gre.p2tr)({internalPubkey:t,scriptTree:r});return n}function rne(t,e){let r=e.tapInternalKey,n=r&&(0,pc.tweakKey)(r,e.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${t}. Public key: ${r&&r.toString("hex")}`);return n.x}Kt.tweakInternalPubKey=rne;function nne(t){if(!(0,c3.isTaptree)(t))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return s3(t)}Kt.tapTreeToList=nne;function GC(t=[]){return t.length===1&&t[0].depth===0?{output:t[0].script,version:t[0].leafVersion}:cne(t)}Kt.tapTreeFromList=GC;function one(t,e){return sne(t).some(n=>(0,$re.signatureBlocksAction)(n,ine,e))}Kt.checkTaprootInputForSigs=one;function ine(t){return{signature:t.slice(0,64),hashType:t.slice(64)[0]||Wre.Transaction.SIGHASH_DEFAULT}}function sne(t){let e=[];if(t.tapKeySig&&e.push(t.tapKeySig),t.tapScriptSig&&e.push(...t.tapScriptSig.map(r=>r.signature)),!e.length){let r=ane(t.finalScriptWitness);r&&e.push(r)}return e}function ane(t){if(!t)return;let e=t.slice(2);if(e.length===64||e.length===65)return e}function s3(t,e=[],r=0){if(r>pc.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return t?(0,c3.isTapleaf)(t)?(e.push({depth:r,leafVersion:t.version||pc.LEAF_VERSION_TAPSCRIPT,script:t.output}),e):(t[0]&&s3(t[0],e,r+1),t[1]&&s3(t[1],e,r+1),e):[]}function cne(t){let e;for(let r of t)if(e=a3(r,e),!e)throw new Error("No room left to insert tapleaf in tree");return e}function a3(t,e,r=0){if(r>pc.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(t.depth===r)return e?void 0:{output:t.script,version:t.leafVersion};if((0,c3.isTapleaf)(e))return;let n=a3(t,e&&e[0],r+1);if(n)return[n,e&&e[1]];let o=a3(t,e&&e[1],r+1);if(o)return[e&&e[0],o]}function une(t,e,r){let n=sx(t)&&Md(e),o=Md(t)&&sx(e),i=t===e&&sx(e)&&Md(e);if(n||o||i)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function fne(t,e,r){let n=ax(t)&&Md(e),o=Md(t)&&ax(e),i=t===e&&ax(e)&&Md(e);if(n||o||i)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}function dne(t,e,r){if(e.tapMerkleRoot){let n=(e.tapLeafScript||[]).every(i=>i3(i,e.tapMerkleRoot)),o=(t.tapLeafScript||[]).every(i=>i3(i,e.tapMerkleRoot));if(!n||!o)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(t.tapMerkleRoot&&!(e.tapLeafScript||[]).every(o=>i3(o,t.tapMerkleRoot)))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}function i3(t,e){if(!e)return!0;let r=(0,pc.tapleafHash)({output:t.script,version:t.leafVersion});return(0,pc.rootHashFromPath)(t.controlBlock,r).equals(e)}function lne(t,e){let r=(0,pc.tapleafHash)({output:e.script,version:e.leafVersion});return(t.tapScriptSig||[]).filter(n=>n.leafHash.equals(r)).map(n=>hne(e.script,n)).sort((n,o)=>o.positionInScript-n.positionInScript).map(n=>n.signature)}function hne(t,e){return Object.assign({positionInScript:(0,cx.pubkeyPositionInScript)(e.pubkey,t)},e)}function pne(t,e,r){if(!t.tapScriptSig||!t.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${e}. No tapleaf script signature provided.`);let n=(t.tapLeafScript||[]).sort((o,i)=>o.controlBlock.length-i.controlBlock.length).find(o=>yne(o,t.tapScriptSig,r));if(!n)throw new Error(`Can not finalize taproot input #${e}. Signature for tapleaf script not found.`);return n}function yne(t,e,r){let n=(0,pc.tapleafHash)({output:t.script,version:t.leafVersion});return(!r||r.equals(n))&&e.find(i=>i.leafHash.equals(n))!==void 0}function Md(t){return t&&!!(t.redeemScript||t.witnessScript||t.bip32Derivation&&t.bip32Derivation.length)}});var bO=P(yx=>{"use strict";d();l();Object.defineProperty(yx,"__esModule",{value:!0});yx.Psbt=void 0;var QC=qC(),YC=lc(),Sn=t3(),JC=OE(),fx=wh(),mne=_o(),Oo=Rd(),gne=Vb(),Is=gn(),jr=Ud(),Qt=$C(),lr=ix(),bne={network:mne.bitcoin,maximumFeeRate:5e3},f3=class t{static fromBase64(e,r={}){let n=Buffer.from(e,"base64");return this.fromBuffer(n,r)}static fromHex(e,r={}){let n=Buffer.from(e,"hex");return this.fromBuffer(n,r)}static fromBuffer(e,r={}){let n=QC.Psbt.fromBuffer(e,xne),o=new t(r,n);return Ene(o.__CACHE.__TX,o.__CACHE),o}constructor(e={},r=new QC.Psbt(new dx)){this.data=r,this.opts=Object.assign({},bne,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},this.data.inputs.length===0&&this.setVersion(2);let n=(o,i,s,a)=>Object.defineProperty(o,i,{enumerable:s,writable:a});n(this,"__CACHE",!1,!0),n(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map(e=>({hash:(0,fx.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence}))}get txOutputs(){return this.__CACHE.__TX.outs.map(e=>{let r;try{r=(0,JC.fromOutputScript)(e.script,this.opts.network)}catch{}return{script:(0,fx.cloneBuffer)(e.script),value:e.value,address:r}})}combine(...e){return this.data.combine(...e.map(r=>r.data)),this}clone(){let e=t.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){ux(e),this.opts.maximumFeeRate=e}setVersion(e){ux(e),Th(this.data.inputs,"setVersion");let r=this.__CACHE;return r.__TX.version=e,r.__EXTRACTED_TX=void 0,this}setLocktime(e){ux(e),Th(this.data.inputs,"setLocktime");let r=this.__CACHE;return r.__TX.locktime=e,r.__EXTRACTED_TX=void 0,this}setInputSequence(e,r){ux(r),Th(this.data.inputs,"setInputSequence");let n=this.__CACHE;if(n.__TX.ins.length<=e)throw new Error("Input index too high");return n.__TX.ins[e].sequence=r,n.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach(r=>this.addInput(r)),this}addInput(e){if(arguments.length>1||!e||e.hash===void 0||e.index===void 0)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,Qt.checkTaprootInputFields)(e,e,"addInput"),Th(this.data.inputs,"addInput"),e.witnessScript&&lx(e.witnessScript);let r=this.__CACHE;this.data.addInput(e);let n=r.__TX.ins[r.__TX.ins.length-1];cO(r,n);let o=this.data.inputs.length-1,i=this.data.inputs[o];return i.nonWitnessUtxo&&l3(this.__CACHE,i,o),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach(r=>this.addOutput(r)),this}addOutput(e){if(arguments.length>1||!e||e.value===void 0||e.address===void 0&&e.script===void 0)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");Th(this.data.inputs,"addOutput");let{address:r}=e;if(typeof r=="string"){let{network:o}=this.opts,i=(0,JC.toOutputScript)(r,o);e=Object.assign(e,{script:i})}(0,Qt.checkTaprootOutputFields)(e,e,"addOutput");let n=this.__CACHE;return this.data.addOutput(e),n.__FEE=void 0,n.__FEE_RATE=void 0,n.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(sO))throw new Error("Not finalized");let r=this.__CACHE;if(e||Ane(this,r,this.opts),r.__EXTRACTED_TX)return r.__EXTRACTED_TX;let n=r.__TX.clone();return pO(this.data.inputs,n,r,!0),n}getFeeRate(){return rO("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return rO("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,Sn.checkForInput)(this.data.inputs,0),_h(this.data.inputs.length).forEach(e=>this.finalizeInput(e)),this}finalizeInput(e,r){let n=(0,Sn.checkForInput)(this.data.inputs,e);return(0,Qt.isTaprootInput)(n)?this._finalizeTaprootInput(e,n,void 0,r):this._finalizeInput(e,n,r)}finalizeTaprootInput(e,r,n=Qt.tapScriptFinalizer){let o=(0,Sn.checkForInput)(this.data.inputs,e);if((0,Qt.isTaprootInput)(o))return this._finalizeTaprootInput(e,o,r,n);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,r,n=Ine){let{script:o,isP2SH:i,isP2WSH:s,isSegwit:a}=Pne(e,r,this.__CACHE);if(!o)throw new Error(`No script found for input #${e}`);Sne(r);let{finalScriptSig:c,finalScriptWitness:u}=n(e,r,o,a,i,s);if(c&&this.data.updateInput(e,{finalScriptSig:c}),u&&this.data.updateInput(e,{finalScriptWitness:u}),!c&&!u)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,r,n,o=Qt.tapScriptFinalizer){if(!r.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(r.tapKeySig){let i=Oo.p2tr({output:r.witnessUtxo.script,signature:r.tapKeySig}),s=(0,lr.witnessStackToScriptWitness)(i.witness);this.data.updateInput(e,{finalScriptWitness:s})}else{let{finalScriptWitness:i}=o(e,r,n);this.data.updateInput(e,{finalScriptWitness:i})}return this.data.clearFinalizedInput(e),this}getInputType(e){let r=(0,Sn.checkForInput)(this.data.inputs,e),n=yO(e,r,this.__CACHE),o=px(n,e,"input",r.redeemScript||Rne(r.finalScriptSig),r.witnessScript||Nne(r.finalScriptWitness)),i=o.type==="raw"?"":o.type+"-",s=gO(o.meaningfulScript);return i+s}inputHasPubkey(e,r){let n=(0,Sn.checkForInput)(this.data.inputs,e);return One(r,n,e,this.__CACHE)}inputHasHDKey(e,r){let n=(0,Sn.checkForInput)(this.data.inputs,e),o=ZC(r);return!!n.bip32Derivation&&n.bip32Derivation.some(o)}outputHasPubkey(e,r){let n=(0,Sn.checkForOutput)(this.data.outputs,e);return Dne(r,n,e,this.__CACHE)}outputHasHDKey(e,r){let n=(0,Sn.checkForOutput)(this.data.outputs,e),o=ZC(r);return!!n.bip32Derivation&&n.bip32Derivation.some(o)}validateSignaturesOfAllInputs(e){return(0,Sn.checkForInput)(this.data.inputs,0),_h(this.data.inputs.length).map(n=>this.validateSignaturesOfInput(n,e)).reduce((n,o)=>o===!0&&n,!0)}validateSignaturesOfInput(e,r,n){let o=this.data.inputs[e];return(0,Qt.isTaprootInput)(o)?this.validateSignaturesOfTaprootInput(e,r,n):this._validateSignaturesOfInput(e,r,n)}_validateSignaturesOfInput(e,r,n){let o=this.data.inputs[e],i=(o||{}).partialSig;if(!o||!i||i.length<1)throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");let s=n?i.filter(f=>f.pubkey.equals(n)):i;if(s.length<1)throw new Error("No signatures for this pubkey");let a=[],c,u,h;for(let f of s){let p=Is.signature.decode(f.signature),{hash:m,script:g}=h!==p.hashType?fO(e,Object.assign({},o,{sighashType:p.hashType}),this.__CACHE,!0):{hash:c,script:u};h=p.hashType,c=m,u=g,aO(f.pubkey,g,"verify"),a.push(r(f.pubkey,m,p.signature))}return a.every(f=>f===!0)}validateSignaturesOfTaprootInput(e,r,n){let o=this.data.inputs[e],i=(o||{}).tapKeySig,s=(o||{}).tapScriptSig;if(!o&&!i&&!(s&&!s.length))throw new Error("No signatures to validate");if(typeof r!="function")throw new Error("Need validator function to validate signatures");n=n&&(0,Qt.toXOnly)(n);let a=n?d3(e,o,this.data.inputs,n,this.__CACHE):Tne(e,o,this.data.inputs,this.__CACHE);if(!a.length)throw new Error("No signatures for this pubkey");let c=a.find(h=>!h.leafHash),u=0;if(i&&c){if(!r(c.pubkey,c.hash,oO(i)))return!1;u++}if(s)for(let h of s){let f=a.find(p=>h.pubkey.equals(p.pubkey));if(f){if(!r(h.pubkey,f.hash,oO(h.signature)))return!1;u++}}return u>0}signAllInputsHD(e,r=[jr.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");let n=[];for(let o of _h(this.data.inputs.length))try{this.signInputHD(o,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(o=>o===!1))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,r=[jr.Transaction.SIGHASH_ALL]){return new Promise((n,o)=>{if(!e||!e.publicKey||!e.fingerprint)return o(new Error("Need HDSigner to sign input"));let i=[],s=[];for(let a of _h(this.data.inputs.length))s.push(this.signInputHDAsync(a,e,r).then(()=>{i.push(!0)},()=>{i.push(!1)}));return Promise.all(s).then(()=>{if(i.every(a=>a===!1))return o(new Error("No inputs were signed"));n()})})}signInputHD(e,r,n=[jr.Transaction.SIGHASH_ALL]){if(!r||!r.publicKey||!r.fingerprint)throw new Error("Need HDSigner to sign input");return iO(e,this.data.inputs,r).forEach(i=>this.signInput(e,i,n)),this}signInputHDAsync(e,r,n=[jr.Transaction.SIGHASH_ALL]){return new Promise((o,i)=>{if(!r||!r.publicKey||!r.fingerprint)return i(new Error("Need HDSigner to sign input"));let a=iO(e,this.data.inputs,r).map(c=>this.signInputAsync(e,c,n));return Promise.all(a).then(()=>{o()}).catch(i)})}signAllInputs(e,r){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");let n=[];for(let o of _h(this.data.inputs.length))try{this.signInput(o,e,r),n.push(!0)}catch{n.push(!1)}if(n.every(o=>o===!1))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,r){return new Promise((n,o)=>{if(!e||!e.publicKey)return o(new Error("Need Signer to sign input"));let i=[],s=[];for(let[a]of this.data.inputs.entries())s.push(this.signInputAsync(a,e,r).then(()=>{i.push(!0)},()=>{i.push(!1)}));return Promise.all(s).then(()=>{if(i.every(a=>a===!1))return o(new Error("No inputs were signed"));n()})})}signInput(e,r,n){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let o=(0,Sn.checkForInput)(this.data.inputs,e);return(0,Qt.isTaprootInput)(o)?this._signTaprootInput(e,o,r,void 0,n):this._signInput(e,r,n)}signTaprootInput(e,r,n,o){if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,Sn.checkForInput)(this.data.inputs,e);if((0,Qt.isTaprootInput)(i))return this._signTaprootInput(e,i,r,n,o);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,r,n=[jr.Transaction.SIGHASH_ALL]){let{hash:o,sighashType:i}=nO(this.data.inputs,e,r.publicKey,this.__CACHE,n),s=[{pubkey:r.publicKey,signature:Is.signature.encode(r.sign(o),i)}];return this.data.updateInput(e,{partialSig:s}),this}_signTaprootInput(e,r,n,o,i=[jr.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(e,r,n,o,i),a=s.filter(u=>!u.leafHash).map(u=>(0,Qt.serializeTaprootSignature)(n.signSchnorr(u.hash),r.sighashType))[0],c=s.filter(u=>!!u.leafHash).map(u=>({pubkey:(0,Qt.toXOnly)(n.publicKey),signature:(0,Qt.serializeTaprootSignature)(n.signSchnorr(u.hash),r.sighashType),leafHash:u.leafHash}));return a&&this.data.updateInput(e,{tapKeySig:a}),c.length&&this.data.updateInput(e,{tapScriptSig:c}),this}signInputAsync(e,r,n){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let o=(0,Sn.checkForInput)(this.data.inputs,e);return(0,Qt.isTaprootInput)(o)?this._signTaprootInputAsync(e,o,r,void 0,n):this._signInputAsync(e,r,n)})}signTaprootInputAsync(e,r,n,o){return Promise.resolve().then(()=>{if(!r||!r.publicKey)throw new Error("Need Signer to sign input");let i=(0,Sn.checkForInput)(this.data.inputs,e);if((0,Qt.isTaprootInput)(i))return this._signTaprootInputAsync(e,i,r,n,o);throw new Error(`Input #${e} is not of type Taproot.`)})}_signInputAsync(e,r,n=[jr.Transaction.SIGHASH_ALL]){let{hash:o,sighashType:i}=nO(this.data.inputs,e,r.publicKey,this.__CACHE,n);return Promise.resolve(r.sign(o)).then(s=>{let a=[{pubkey:r.publicKey,signature:Is.signature.encode(s,i)}];this.data.updateInput(e,{partialSig:a})})}async _signTaprootInputAsync(e,r,n,o,i=[jr.Transaction.SIGHASH_DEFAULT]){let s=this.checkTaprootHashesForSig(e,r,n,o,i),a=[],c=s.filter(h=>!h.leafHash)[0];if(c){let h=Promise.resolve(n.signSchnorr(c.hash)).then(f=>({tapKeySig:(0,Qt.serializeTaprootSignature)(f,r.sighashType)}));a.push(h)}let u=s.filter(h=>!!h.leafHash);if(u.length){let h=u.map(f=>Promise.resolve(n.signSchnorr(f.hash)).then(p=>({tapScriptSig:[{pubkey:(0,Qt.toXOnly)(n.publicKey),signature:(0,Qt.serializeTaprootSignature)(p,r.sighashType),leafHash:f.leafHash}]})));a.push(...h)}return Promise.all(a).then(h=>{h.forEach(f=>this.data.updateInput(e,f))})}checkTaprootHashesForSig(e,r,n,o,i){if(typeof n.signSchnorr!="function")throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);let s=d3(e,r,this.data.inputs,n.publicKey,this.__CACHE,o,i);if(!s||!s.length)throw new Error(`Can not sign for input #${e} with the key ${n.publicKey.toString("hex")}`);return s}toBuffer(){return u3(this.__CACHE),this.data.toBuffer()}toHex(){return u3(this.__CACHE),this.data.toHex()}toBase64(){return u3(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,r){return r.witnessScript&&lx(r.witnessScript),(0,Qt.checkTaprootInputFields)(this.data.inputs[e],r,"updateInput"),this.data.updateInput(e,r),r.nonWitnessUtxo&&l3(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,r){let n=this.data.outputs[e];return(0,Qt.checkTaprootOutputFields)(n,r,"updateOutput"),this.data.updateOutput(e,r),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,r){return this.data.addUnknownKeyValToInput(e,r),this}addUnknownKeyValToOutput(e,r){return this.data.addUnknownKeyValToOutput(e,r),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}};yx.Psbt=f3;var xne=t=>new dx(t),dx=class{constructor(e=Buffer.from([2,0,0,0,0,0,0,0,0,0])){this.tx=jr.Transaction.fromBuffer(e),vne(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(e.hash===void 0||e.index===void 0||!Buffer.isBuffer(e.hash)&&typeof e.hash!="string"||typeof e.index!="number")throw new Error("Error adding input.");let r=typeof e.hash=="string"?(0,fx.reverseBuffer)(Buffer.from(e.hash,"hex")):e.hash;this.tx.addInput(r,e.index,e.sequence)}addOutput(e){if(e.script===void 0||e.value===void 0||!Buffer.isBuffer(e.script)||typeof e.value!="number")throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}};function wne(t,e,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return XC(1,t.partialSig);case"multisig":let n=Oo.p2ms({output:e});return XC(n.m,t.partialSig,n.pubkeys);default:return!1}}function u3(t){if(t.__UNSAFE_SIGN_NONSEGWIT!==!1)throw new Error("Not BIP174 compliant, can not export")}function XC(t,e,r){if(!e)return!1;let n;if(r?n=r.map(o=>{let i=Une(o);return e.find(s=>s.pubkey.equals(i))}).filter(o=>!!o):n=e,n.length>t)throw new Error("Too many signatures");return n.length===t}function sO(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function ZC(t){return e=>!(!e.masterFingerprint.equals(t.fingerprint)||!t.derivePath(e.path).publicKey.equals(e.pubkey))}function ux(t){if(typeof t!="number"||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function Ane(t,e,r){let n=e.__FEE_RATE||t.getFeeRate(),o=e.__EXTRACTED_TX.virtualSize(),i=n*o;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(i/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${o} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}function Th(t,e){t.forEach(r=>{if((0,Qt.isTaprootInput)(r)?(0,Qt.checkTaprootInputForSigs)(r,e):(0,lr.checkInputForSig)(r,e))throw new Error("Can not modify transaction, signatures exist.")})}function Sne(t){if(!t.sighashType||!t.partialSig)return;let{partialSig:e,sighashType:r}=t;e.forEach(n=>{let{hashType:o}=Is.signature.decode(n.signature);if(r!==o)throw new Error("Signature sighash does not match input sighash type")})}function aO(t,e,r){if(!(0,lr.pubkeyInScript)(t,e))throw new Error(`Can not ${r} for this input with the key ${t.toString("hex")}`)}function vne(t){if(!t.ins.every(r=>r.script&&r.script.length===0&&r.witness&&r.witness.length===0))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function Ene(t,e){t.ins.forEach(r=>{cO(e,r)})}function cO(t,e){let r=(0,fx.reverseBuffer)(Buffer.from(e.hash)).toString("hex")+":"+e.index;if(t.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");t.__TX_IN_CACHE[r]=1}function uO(t,e){return(r,n,o,i)=>{let s=t({redeem:{output:o}}).output;if(!n.equals(s))throw new Error(`${e} for ${i} #${r} doesn't match the scriptPubKey in the prevout`)}}var eO=uO(Oo.p2sh,"Redeem script"),tO=uO(Oo.p2wsh,"Witness script");function rO(t,e,r,n){if(!r.every(sO))throw new Error(`PSBT must be finalized to calculate ${e}`);if(t==="__FEE_RATE"&&n.__FEE_RATE)return n.__FEE_RATE;if(t==="__FEE"&&n.__FEE)return n.__FEE;let o,i=!0;if(n.__EXTRACTED_TX?(o=n.__EXTRACTED_TX,i=!1):o=n.__TX.clone(),pO(r,o,n,i),t==="__FEE_RATE")return n.__FEE_RATE;if(t==="__FEE")return n.__FEE}function Ine(t,e,r,n,o,i){let s=gO(r);if(!wne(e,r,s))throw new Error(`Can not finalize input #${t}`);return kne(r,s,e.partialSig,n,o,i)}function kne(t,e,r,n,o,i){let s,a,c=_ne(t,e,r),u=i?Oo.p2wsh({redeem:c}):null,h=o?Oo.p2sh({redeem:u||c}):null;return n?(u?a=(0,lr.witnessStackToScriptWitness)(u.witness):a=(0,lr.witnessStackToScriptWitness)(c.witness),h&&(s=h.input)):h?s=h.input:s=c.input,{finalScriptSig:s,finalScriptWitness:a}}function nO(t,e,r,n,o){let i=(0,Sn.checkForInput)(t,e),{hash:s,sighashType:a,script:c}=fO(e,i,n,!1,o);return aO(r,c,"sign"),{hash:s,sighashType:a}}function fO(t,e,r,n,o){let i=r.__TX,s=e.sighashType||jr.Transaction.SIGHASH_ALL;lO(s,o);let a,c;if(e.nonWitnessUtxo){let f=hx(r,e,t),p=i.ins[t].hash,m=f.getHash();if(!p.equals(m))throw new Error(`Non-witness UTXO hash for input #${t} doesn't match the hash specified in the prevout`);let g=i.ins[t].index;c=f.outs[g]}else if(e.witnessUtxo)c=e.witnessUtxo;else throw new Error("Need a Utxo input item for signing");let{meaningfulScript:u,type:h}=px(c.script,t,"input",e.redeemScript,e.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(h)>=0)a=i.hashForWitnessV0(t,u,c.value,s);else if((0,lr.isP2WPKH)(u)){let f=Oo.p2pkh({hash:u.slice(2)}).output;a=i.hashForWitnessV0(t,f,c.value,s)}else{if(e.nonWitnessUtxo===void 0&&r.__UNSAFE_SIGN_NONSEGWIT===!1)throw new Error(`Input #${t} has witnessUtxo but non-segwit script: ${u.toString("hex")}`);!n&&r.__UNSAFE_SIGN_NONSEGWIT!==!1&&console.warn(`Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.
*********************
PROCEED WITH CAUTION!
*********************`),a=i.hashForSignature(t,u,s)}return{script:u,sighashType:s,hash:a}}function Tne(t,e,r,n){let o=[];if(e.tapInternalKey){let s=dO(t,e,n);s&&o.push(s)}if(e.tapScriptSig){let s=e.tapScriptSig.map(a=>a.pubkey);o.push(...s)}return o.map(s=>d3(t,e,r,s,n)).flat()}function dO(t,e,r){let{script:n}=h3(t,e,r);return(0,lr.isP2TR)(n)?n.subarray(2,34):null}function oO(t){return t.length===64?t:t.subarray(0,64)}function d3(t,e,r,n,o,i,s){let a=o.__TX,c=e.sighashType||jr.Transaction.SIGHASH_DEFAULT;lO(c,s);let u=r.map((g,x)=>h3(x,g,o)),h=u.map(g=>g.script),f=u.map(g=>g.value),p=[];if(e.tapInternalKey&&!i){let g=dO(t,e,o)||Buffer.from([]);if((0,Qt.toXOnly)(n).equals(g)){let x=a.hashForWitnessV1(t,h,f,c);p.push({pubkey:n,hash:x})}}let m=(e.tapLeafScript||[]).filter(g=>(0,lr.pubkeyInScript)(n,g.script)).map(g=>{let x=(0,gne.tapleafHash)({output:g.script,version:g.leafVersion});return Object.assign({hash:x},g)}).filter(g=>!i||i.equals(g.hash)).map(g=>{let x=a.hashForWitnessV1(t,h,f,jr.Transaction.SIGHASH_DEFAULT,g.hash);return{pubkey:n,hash:x,leafHash:g.hash}});return p.concat(m)}function lO(t,e){if(e&&e.indexOf(t)<0){let r=Cne(t);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${r}`)}}function _ne(t,e,r){let n;switch(e){case"multisig":let o=Bne(t,r);n=Oo.p2ms({output:t,signatures:o});break;case"pubkey":n=Oo.p2pk({output:t,signature:r[0].signature});break;case"pubkeyhash":n=Oo.p2pkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=Oo.p2wpkh({output:t,pubkey:r[0].pubkey,signature:r[0].signature});break}return n}function Pne(t,e,r){let n=r.__TX,o={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(o.isP2SH=!!e.redeemScript,o.isP2WSH=!!e.witnessScript,e.witnessScript)o.script=e.witnessScript;else if(e.redeemScript)o.script=e.redeemScript;else if(e.nonWitnessUtxo){let i=hx(r,e,t),s=n.ins[t].index;o.script=i.outs[s].script}else e.witnessUtxo&&(o.script=e.witnessUtxo.script);return(e.witnessScript||(0,lr.isP2WPKH)(o.script))&&(o.isSegwit=!0),o}function iO(t,e,r){let n=(0,Sn.checkForInput)(e,t);if(!n.bip32Derivation||n.bip32Derivation.length===0)throw new Error("Need bip32Derivation to sign with HD");let o=n.bip32Derivation.map(s=>{if(s.masterFingerprint.equals(r.fingerprint))return s}).filter(s=>!!s);if(o.length===0)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return o.map(s=>{let a=r.derivePath(s.path);if(!s.pubkey.equals(a.publicKey))throw new Error("pubkey did not match bip32Derivation");return a})}function Bne(t,e){return Oo.p2ms({output:t}).pubkeys.map(n=>(e.filter(o=>o.pubkey.equals(n))[0]||{}).signature).filter(n=>!!n)}function hO(t){let e=0;function r(s){return e+=s,t.slice(e-s,e)}function n(){let s=YC.decode(t,e);return e+=YC.decode.bytes,s}function o(){return r(n())}function i(){let s=n(),a=[];for(let c=0;c<s;c++)a.push(o());return a}return i()}function Cne(t){let e=t&jr.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(t&31){case jr.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case jr.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case jr.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE";break}return e}function l3(t,e,r){t.__NON_WITNESS_UTXO_BUF_CACHE[r]=e.nonWitnessUtxo;let n=jr.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[r]=n;let o=t,i=r;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get(){let s=o.__NON_WITNESS_UTXO_BUF_CACHE[i],a=o.__NON_WITNESS_UTXO_TX_CACHE[i];if(s!==void 0)return s;{let c=a.toBuffer();return o.__NON_WITNESS_UTXO_BUF_CACHE[i]=c,c}},set(s){o.__NON_WITNESS_UTXO_BUF_CACHE[i]=s}})}function pO(t,e,r,n){let o=0;t.forEach((c,u)=>{if(n&&c.finalScriptSig&&(e.ins[u].script=c.finalScriptSig),n&&c.finalScriptWitness&&(e.ins[u].witness=hO(c.finalScriptWitness)),c.witnessUtxo)o+=c.witnessUtxo.value;else if(c.nonWitnessUtxo){let h=hx(r,c,u),f=e.ins[u].index,p=h.outs[f];o+=p.value}});let i=e.outs.reduce((c,u)=>c+u.value,0),s=o-i;if(s<0)throw new Error("Outputs are spending more than Inputs");let a=e.virtualSize();r.__FEE=s,r.__EXTRACTED_TX=e,r.__FEE_RATE=Math.floor(s/a)}function hx(t,e,r){let n=t.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||l3(t,e,r),n[r]}function yO(t,e,r){let{script:n}=h3(t,e,r);return n}function h3(t,e,r){if(e.witnessUtxo!==void 0)return{script:e.witnessUtxo.script,value:e.witnessUtxo.value};if(e.nonWitnessUtxo!==void 0){let o=hx(r,e,t).outs[r.__TX.ins[t].index];return{script:o.script,value:o.value}}else throw new Error("Can't find pubkey in input without Utxo data")}function One(t,e,r,n){let o=yO(r,e,n),{meaningfulScript:i}=px(o,r,"input",e.redeemScript,e.witnessScript);return(0,lr.pubkeyInScript)(t,i)}function Dne(t,e,r,n){let o=n.__TX.outs[r].script,{meaningfulScript:i}=px(o,r,"output",e.redeemScript,e.witnessScript);return(0,lr.pubkeyInScript)(t,i)}function Rne(t){if(!t)return;let e=Is.decompile(t);if(!e)return;let r=e[e.length-1];if(!(!Buffer.isBuffer(r)||mO(r)||Lne(r)||!Is.decompile(r)))return r}function Nne(t){if(!t)return;let e=hO(t),r=e[e.length-1];if(!(mO(r)||!Is.decompile(r)))return r}function Une(t){if(t.length===65){let e=t[64]&1,r=t.slice(0,33);return r[0]=2|e,r}return t.slice()}function mO(t){return t.length===33&&Is.isCanonicalPubKey(t)}function Lne(t){return Is.isCanonicalScriptSignature(t)}function px(t,e,r,n,o){let i=(0,lr.isP2SHScript)(t),s=i&&n&&(0,lr.isP2WSHScript)(n),a=(0,lr.isP2WSHScript)(t);if(i&&n===void 0)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((a||s)&&o===void 0)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let c;return s?(c=o,eO(e,t,n,r),tO(e,n,o,r),lx(c)):a?(c=o,tO(e,t,o,r),lx(c)):i?(c=n,eO(e,t,n,r)):c=t,{meaningfulScript:c,type:s?"p2sh-p2wsh":i?"p2sh":a?"p2wsh":"raw"}}function lx(t){if((0,lr.isP2WPKH)(t)||(0,lr.isP2SHScript)(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function gO(t){return(0,lr.isP2WPKH)(t)?"witnesspubkeyhash":(0,lr.isP2PKH)(t)?"pubkeyhash":(0,lr.isP2MS)(t)?"multisig":(0,lr.isP2PK)(t)?"pubkey":"nonstandard"}function _h(t){return[...Array(t).keys()]}});var p3=P(Zt=>{"use strict";d();l();Object.defineProperty(Zt,"__esModule",{value:!0});Zt.initEccLib=Zt.Transaction=Zt.opcodes=Zt.Psbt=Zt.Block=Zt.script=Zt.payments=Zt.networks=Zt.crypto=Zt.address=void 0;var Mne=OE();Zt.address=Mne;var Fne=Bi();Zt.crypto=Fne;var Hne=_o();Zt.networks=Hne;var Kne=Rd();Zt.payments=Kne;var Vne=gn();Zt.script=Vne;var qne=HB();Object.defineProperty(Zt,"Block",{enumerable:!0,get:function(){return qne.Block}});var zne=bO();Object.defineProperty(Zt,"Psbt",{enumerable:!0,get:function(){return zne.Psbt}});var jne=ub();Object.defineProperty(Zt,"opcodes",{enumerable:!0,get:function(){return jne.OPS}});var Wne=Ud();Object.defineProperty(Zt,"Transaction",{enumerable:!0,get:function(){return Wne.Transaction}});var Gne=Kb();Object.defineProperty(Zt,"initEccLib",{enumerable:!0,get:function(){return Gne.initEccLib}})});var Wd=P(Dx=>{"use strict";d();l();Object.defineProperty(Dx,"__esModule",{value:!0});Dx.AppAuthError=void 0;var koe=function(){function t(e,r){this.message=e,this.extras=r}return t}();Dx.AppAuthError=koe});var Rx=P(Li=>{"use strict";d();l();Object.defineProperty(Li,"__esModule",{value:!0});Li.DefaultCrypto=Li.textEncodeLite=Li.urlSafe=Li.bufferToString=void 0;var Toe=A6(),dD=Wd(),lD=typeof self<"u"&&!!self.crypto,_oe=lD&&!!self.crypto.subtle,z3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function hD(t){for(var e=[],r=0;r<t.byteLength;r+=1){var n=t[r]%z3.length;e.push(z3[n])}return e.join("")}Li.bufferToString=hD;function pD(t){var e=Toe.fromByteArray(new Uint8Array(t));return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}Li.urlSafe=pD;function yD(t){for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r}Li.textEncodeLite=yD;var Poe=function(){function t(){}return t.prototype.generateRandom=function(e){var r=new Uint8Array(e);if(lD)self.crypto.getRandomValues(r);else for(var n=0;n<e;n+=1)r[n]=Math.random()*z3.length|0;return hD(r)},t.prototype.deriveChallenge=function(e){return e.length<43||e.length>128?Promise.reject(new dD.AppAuthError("Invalid code length.")):_oe?new Promise(function(r,n){self.crypto.subtle.digest("SHA-256",yD(e)).then(function(o){return r(pD(new Uint8Array(o)))},function(o){return n(o)})}):Promise.reject(new dD.AppAuthError("window.crypto.subtle is unavailable."))},t}();Li.DefaultCrypto=Poe});var j3=P(ro=>{"use strict";d();l();Object.defineProperty(ro,"__esModule",{value:!0});ro.IS_PROFILE=ro.IS_LOG=ro.setFlag=ro.Flags=void 0;ro.Flags={IS_LOG:!0,IS_PROFILE:!1};function Boe(t,e){ro.Flags[t]=e}ro.setFlag=Boe;ro.IS_LOG=ro.Flags.IS_LOG,ro.IS_PROFILE=ro.Flags.IS_PROFILE});var Uh=P(bc=>{"use strict";d();l();var W3=bc&&bc.__spreadArray||function(t,e,r){if(r||arguments.length===2)for(var n=0,o=e.length,i;n<o;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))};Object.defineProperty(bc,"__esModule",{value:!0});bc.profile=bc.log=void 0;var mD=j3();function G3(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(mD.Flags.IS_LOG){var n=e?e.length:0;n>0?console.log.apply(console,W3([t],e,!1)):console.log(t)}}bc.log=G3;var Coe=typeof self<"u"&&!!self.performance&&!!console.profile;function Ooe(t,e,r){return mD.Flags.IS_PROFILE?Doe(t,e,r):r}bc.profile=Ooe;function Doe(t,e,r){var n=r.value,o=n.name;return o||(o="anonymous function"),Coe?r.value=function(i){console.profile(o);var s=self.performance.now(),a=n.call.apply(n,W3([this||self],i,!1)),c=self.performance.now()-s;return console.log("".concat(o," took ").concat(c," ms")),console.profileEnd(),a}:r.value=function(i){G3("Profile start ".concat(o));var s=Date.now(),a=n.call.apply(n,W3([this||self],i,!1)),c=Date.now()-s;return G3("Profile end ".concat(o," took ").concat(c," ms.")),a},r}});var $3=P(Nx=>{"use strict";d();l();Object.defineProperty(Nx,"__esModule",{value:!0});Nx.AuthorizationRequest=void 0;var Roe=Rx(),Noe=Uh(),Uoe=10,Loe=function(t){return t.generateRandom(Uoe)},Moe=function(){function t(e,r,n){r===void 0&&(r=new Roe.DefaultCrypto),n===void 0&&(n=!0),this.crypto=r,this.usePkce=n,this.clientId=e.client_id,this.redirectUri=e.redirect_uri,this.scope=e.scope,this.responseType=e.response_type||t.RESPONSE_TYPE_CODE,this.state=e.state||Loe(r),this.extras=e.extras,this.internal=e.internal}return t.prototype.setupCodeVerifier=function(){var e=this;if(this.usePkce){var r=this.crypto.generateRandom(128),n=this.crypto.deriveChallenge(r).catch(function(o){(0,Noe.log)("Unable to generate PKCE challenge. Not using PKCE",o)});return n.then(function(o){o&&(e.internal=e.internal||{},e.internal.code_verifier=r,e.extras=e.extras||{},e.extras.code_challenge=o,e.extras.code_challenge_method="S256")})}else return Promise.resolve()},t.prototype.toJson=function(){var e=this;return this.setupCodeVerifier().then(function(){return{response_type:e.responseType,client_id:e.clientId,redirect_uri:e.redirectUri,scope:e.scope,state:e.state,extras:e.extras,internal:e.internal}})},t.RESPONSE_TYPE_TOKEN="token",t.RESPONSE_TYPE_CODE="code",t}();Nx.AuthorizationRequest=Moe});var gD=P(Ux=>{"use strict";d();l();Object.defineProperty(Ux,"__esModule",{value:!0});Ux.requireValidUrl=void 0;var Foe=Wd();function Hoe(t){try{return new URL(t),t}catch{throw new Foe.AppAuthError("Invalid input url ".concat(t))}}Ux.requireValidUrl=Hoe});var Y3=P(_s=>{"use strict";d();l();Object.defineProperty(_s,"__esModule",{value:!0});_s.AuthorizationRequestHandler=_s.BUILT_IN_PARAMETERS=_s.AuthorizationNotifier=void 0;var Q3=Uh(),Koe=gD(),Voe=function(){function t(){this.listener=null}return t.prototype.setAuthorizationListener=function(e){this.listener=e},t.prototype.onAuthorizationComplete=function(e,r,n){this.listener&&this.listener(e,r,n)},t}();_s.AuthorizationNotifier=Voe;_s.BUILT_IN_PARAMETERS=["redirect_uri","client_id","response_type","state","scope"];var qoe=function(){function t(e,r){this.utils=e,this.crypto=r,this.notifier=null}return t.prototype.buildRequestUrl=function(e,r){var n={redirect_uri:r.redirectUri,client_id:r.clientId,response_type:r.responseType,state:r.state,scope:r.scope};if(r.extras)for(var o in r.extras)r.extras.hasOwnProperty(o)&&_s.BUILT_IN_PARAMETERS.indexOf(o)<0&&(n[o]=r.extras[o]);var i=this.utils.stringify(n),s=(0,Koe.requireValidUrl)(e.authorizationEndpoint),a="".concat(s,"?").concat(i);return a},t.prototype.completeAuthorizationRequestIfPossible=function(){var e=this;return(0,Q3.log)("Checking to see if there is an authorization response to be delivered."),this.notifier||(0,Q3.log)(`Notifier is not present on AuthorizationRequest handler.
          No delivery of result will be possible`),this.completeAuthorizationRequest().then(function(r){r||(0,Q3.log)("No result is available yet."),r&&e.notifier&&e.notifier.onAuthorizationComplete(r.request,r.response,r.error)})},t.prototype.setAuthorizationNotifier=function(e){return this.notifier=e,this},t}();_s.AuthorizationRequestHandler=qoe});var J3=P(Gd=>{"use strict";d();l();Object.defineProperty(Gd,"__esModule",{value:!0});Gd.AuthorizationError=Gd.AuthorizationResponse=void 0;var zoe=function(){function t(e){this.code=e.code,this.state=e.state}return t.prototype.toJson=function(){return{code:this.code,state:this.state}},t}();Gd.AuthorizationResponse=zoe;var joe=function(){function t(e){this.error=e.error,this.errorDescription=e.error_description,this.errorUri=e.error_uri,this.state=e.state}return t.prototype.toJson=function(){return{error:this.error,error_description:this.errorDescription,error_uri:this.errorUri,state:this.state}},t}();Gd.AuthorizationError=joe});var Mx=P(Do=>{"use strict";d();l();var Z3=Do&&Do.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Do,"__esModule",{value:!0});Do.TestRequestor=Do.FetchRequestor=Do.JQueryRequestor=Do.Requestor=void 0;var X3=Wd(),Lx=function(){function t(){}return t}();Do.Requestor=Lx;var Woe=function(t){Z3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.xhr=function(r){var n=$.ajax(r);return new Promise(function(o,i){n.then(function(s,a,c){o(s)},function(s,a,c){i(new X3.AppAuthError(c))})})},e}(Lx);Do.JQueryRequestor=Woe;var Goe=function(t){Z3(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.xhr=function(r){if(!r.url)return Promise.reject(new X3.AppAuthError("A URL must be provided."));var n=new URL(r.url),o={};if(o.method=r.method,o.mode="cors",r.data)if(r.method&&r.method.toUpperCase()==="POST")o.body=r.data;else{var i=new URLSearchParams(r.data);i.forEach(function(c,u){n.searchParams.append(u,c)})}if(o.headers={},r.headers)for(var s in r.headers)r.headers.hasOwnProperty(s)&&(o.headers[s]=r.headers[s]);var a=r.dataType&&r.dataType.toLowerCase()==="json";return a&&(o.headers.Accept="application/json, text/javascript, */*; q=0.01"),fetch(n.toString(),o).then(function(c){if(c.status>=200&&c.status<300){var u=c.headers.get("content-type");return a||u&&u.indexOf("application/json")!==-1?c.json():c.text()}else return Promise.reject(new X3.AppAuthError(c.status.toString(),c.statusText))})},e}(Lx);Do.FetchRequestor=Goe;var $oe=function(t){Z3(e,t);function e(r){var n=t.call(this)||this;return n.promise=r,n}return e.prototype.xhr=function(r){return this.promise},e}(Lx);Do.TestRequestor=$oe});var bD=P(Fx=>{"use strict";d();l();Object.defineProperty(Fx,"__esModule",{value:!0});Fx.AuthorizationServiceConfiguration=void 0;var Qoe=Mx(),Yoe=".well-known",Joe="openid-configuration",Xoe=function(){function t(e){this.authorizationEndpoint=e.authorization_endpoint,this.tokenEndpoint=e.token_endpoint,this.revocationEndpoint=e.revocation_endpoint,this.userInfoEndpoint=e.userinfo_endpoint,this.endSessionEndpoint=e.end_session_endpoint}return t.prototype.toJson=function(){return{authorization_endpoint:this.authorizationEndpoint,token_endpoint:this.tokenEndpoint,revocation_endpoint:this.revocationEndpoint,end_session_endpoint:this.endSessionEndpoint,userinfo_endpoint:this.userInfoEndpoint}},t.fetchFromIssuer=function(e,r){var n="".concat(e,"/").concat(Yoe,"/").concat(Joe),o=r||new Qoe.JQueryRequestor;return o.xhr({url:n,dataType:"json",method:"GET"}).then(function(i){return new t(i)})},t}();Fx.AuthorizationServiceConfiguration=Xoe});var Kx=P(Hx=>{"use strict";d();l();Object.defineProperty(Hx,"__esModule",{value:!0});Hx.BasicQueryStringUtils=void 0;var Zoe=function(){function t(){}return t.prototype.parse=function(e,r){return r?this.parseQueryString(e.hash):this.parseQueryString(e.search)},t.prototype.parseQueryString=function(e){var r={};e=e.trim().replace(/^(\?|#|&)/,"");for(var n=e.split("&"),o=0;o<n.length;o+=1){var i=n[o],s=i.split("=");if(s.length>=2){var a=decodeURIComponent(s.shift()),c=s.length>0?s.join("="):null;c&&(r[a]=decodeURIComponent(c))}}return r},t.prototype.stringify=function(e){var r=[];for(var n in e)e.hasOwnProperty(n)&&e[n]&&r.push("".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e[n])));return r.join("&")},t}();Hx.BasicQueryStringUtils=Zoe});var e8=P(xc=>{"use strict";d();l();var eie=xc&&xc.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(xc,"__esModule",{value:!0});xc.LocalStorageBackend=xc.StorageBackend=void 0;var xD=function(){function t(){}return t}();xc.StorageBackend=xD;var tie=function(t){eie(e,t);function e(r){var n=t.call(this)||this;return n.storage=r||self.localStorage,n}return e.prototype.getItem=function(r){var n=this;return new Promise(function(o,i){var s=n.storage.getItem(r);o(s||null)})},e.prototype.removeItem=function(r){var n=this;return new Promise(function(o,i){n.storage.removeItem(r),o()})},e.prototype.clear=function(){var r=this;return new Promise(function(n,o){r.storage.clear(),n()})},e.prototype.setItem=function(r,n){var o=this;return new Promise(function(i,s){o.storage.setItem(r,n),i()})},e}(xD);xc.LocalStorageBackend=tie});var SD=P($d=>{"use strict";d();l();var rie=$d&&$d.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty($d,"__esModule",{value:!0});$d.RedirectRequestHandler=void 0;var nie=$3(),oie=Y3(),wD=J3(),iie=Rx(),Vx=Uh(),sie=Kx(),aie=e8(),t8=function(t){return"".concat(t,"_appauth_authorization_request")},AD=function(t){return"".concat(t,"_appauth_authorization_service_configuration")},r8="appauth_current_authorization_request",cie=function(t){rie(e,t);function e(r,n,o,i){r===void 0&&(r=new aie.LocalStorageBackend),n===void 0&&(n=new sie.BasicQueryStringUtils),o===void 0&&(o=self.location),i===void 0&&(i=new iie.DefaultCrypto);var s=t.call(this,n,i)||this;return s.storageBackend=r,s.locationLike=o,s}return e.prototype.performAuthorizationRequest=function(r,n){var o=this,i=this.crypto.generateRandom(10),s=Promise.all([this.storageBackend.setItem(r8,i),n.toJson().then(function(a){return o.storageBackend.setItem(t8(i),JSON.stringify(a))}),this.storageBackend.setItem(AD(i),JSON.stringify(r.toJson()))]);s.then(function(){var a=o.buildRequestUrl(r,n);(0,Vx.log)("Making a request to ",n,a),o.locationLike.assign(a)})},e.prototype.completeAuthorizationRequest=function(){var r=this;return this.storageBackend.getItem(r8).then(function(n){return n?r.storageBackend.getItem(t8(n)).then(function(o){return JSON.parse(o)}).then(function(o){return new nie.AuthorizationRequest(o)}).then(function(o){var i="".concat(r.locationLike.origin).concat(r.locationLike.pathname),s=r.utils.parse(r.locationLike,!0),a=s.state,c=s.code,u=s.error;(0,Vx.log)("Potential authorization request ",i,s,a,c,u);var h=a===o.state,f=null,p=null;if(h){if(u){var m=s.error_uri,g=s.error_description;p=new wD.AuthorizationError({error:u,error_description:g,error_uri:m,state:a})}else f=new wD.AuthorizationResponse({code:c,state:a});return Promise.all([r.storageBackend.removeItem(r8),r.storageBackend.removeItem(t8(n)),r.storageBackend.removeItem(AD(n))]).then(function(){return(0,Vx.log)("Delivering authorization response"),{request:o,response:f,error:p}})}else return(0,Vx.log)("Mismatched request (state and request_uri) dont match."),Promise.resolve(null)}):null})},e}(oie.AuthorizationRequestHandler);$d.RedirectRequestHandler=cie});var vD=P(qx=>{"use strict";d();l();Object.defineProperty(qx,"__esModule",{value:!0});qx.RevokeTokenRequest=void 0;var uie=function(){function t(e){this.token=e.token,this.tokenTypeHint=e.token_type_hint,this.clientId=e.client_id,this.clientSecret=e.client_secret}return t.prototype.toJson=function(){var e={token:this.token};return this.tokenTypeHint&&(e.token_type_hint=this.tokenTypeHint),this.clientId&&(e.client_id=this.clientId),this.clientSecret&&(e.client_secret=this.clientSecret),e},t.prototype.toStringMap=function(){var e=this.toJson();return e},t}();qx.RevokeTokenRequest=uie});var ED=P(wc=>{"use strict";d();l();Object.defineProperty(wc,"__esModule",{value:!0});wc.TokenRequest=wc.GRANT_TYPE_REFRESH_TOKEN=wc.GRANT_TYPE_AUTHORIZATION_CODE=void 0;wc.GRANT_TYPE_AUTHORIZATION_CODE="authorization_code";wc.GRANT_TYPE_REFRESH_TOKEN="refresh_token";var fie=function(){function t(e){this.clientId=e.client_id,this.redirectUri=e.redirect_uri,this.grantType=e.grant_type,this.code=e.code,this.refreshToken=e.refresh_token,this.extras=e.extras}return t.prototype.toJson=function(){return{grant_type:this.grantType,code:this.code,refresh_token:this.refreshToken,redirect_uri:this.redirectUri,client_id:this.clientId,extras:this.extras}},t.prototype.toStringMap=function(){var e={grant_type:this.grantType,client_id:this.clientId,redirect_uri:this.redirectUri};if(this.code&&(e.code=this.code),this.refreshToken&&(e.refresh_token=this.refreshToken),this.extras)for(var r in this.extras)this.extras.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=this.extras[r]);return e},t}();wc.TokenRequest=fie});var n8=P(Mi=>{"use strict";d();l();Object.defineProperty(Mi,"__esModule",{value:!0});Mi.TokenError=Mi.TokenResponse=Mi.nowInSeconds=void 0;var die=10*60*-1,lie=function(){return Math.round(new Date().getTime()/1e3)};Mi.nowInSeconds=lie;var hie=function(){function t(e){this.accessToken=e.access_token,this.tokenType=e.token_type||"bearer",e.expires_in&&(this.expiresIn=parseInt(e.expires_in,10)),this.refreshToken=e.refresh_token,this.scope=e.scope,this.idToken=e.id_token,this.issuedAt=e.issued_at||(0,Mi.nowInSeconds)()}return t.prototype.toJson=function(){var e;return{access_token:this.accessToken,id_token:this.idToken,refresh_token:this.refreshToken,scope:this.scope,token_type:this.tokenType,issued_at:this.issuedAt,expires_in:(e=this.expiresIn)===null||e===void 0?void 0:e.toString()}},t.prototype.isValid=function(e){if(e===void 0&&(e=die),this.expiresIn){var r=(0,Mi.nowInSeconds)();return r<this.issuedAt+this.expiresIn+e}else return!0},t}();Mi.TokenResponse=hie;var pie=function(){function t(e){this.error=e.error,this.errorDescription=e.error_description,this.errorUri=e.error_uri}return t.prototype.toJson=function(){return{error:this.error,error_description:this.errorDescription,error_uri:this.errorUri}},t}();Mi.TokenError=pie});var kD=P(zx=>{"use strict";d();l();Object.defineProperty(zx,"__esModule",{value:!0});zx.BaseTokenRequestHandler=void 0;var yie=Wd(),mie=Kx(),ID=n8(),gie=Mx(),bie=function(){function t(e,r){e===void 0&&(e=new gie.JQueryRequestor),r===void 0&&(r=new mie.BasicQueryStringUtils),this.requestor=e,this.utils=r}return t.prototype.isTokenResponse=function(e){return e.error===void 0},t.prototype.performRevokeTokenRequest=function(e,r){var n=this.requestor.xhr({url:e.revocationEndpoint,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:this.utils.stringify(r.toStringMap())});return n.then(function(o){return!0})},t.prototype.performTokenRequest=function(e,r){var n=this,o=this.requestor.xhr({url:e.tokenEndpoint,method:"POST",dataType:"json",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:this.utils.stringify(r.toStringMap())});return o.then(function(i){return n.isTokenResponse(i)?new ID.TokenResponse(i):Promise.reject(new yie.AppAuthError(i.error,new ID.TokenError(i)))})},t}();zx.BaseTokenRequestHandler=bie});var _D=P(TD=>{"use strict";d();l();Object.defineProperty(TD,"__esModule",{value:!0})});var o8=P(Yt=>{"use strict";d();l();var xie=Yt&&Yt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var o=Object.getOwnPropertyDescriptor(e,r);(!o||("get"in o?!e.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,o)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Gr=Yt&&Yt.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&xie(e,t,r)};Object.defineProperty(Yt,"__esModule",{value:!0});Gr($3(),Yt);Gr(Y3(),Yt);Gr(J3(),Yt);Gr(bD(),Yt);Gr(Rx(),Yt);Gr(Wd(),Yt);Gr(j3(),Yt);Gr(Uh(),Yt);Gr(Kx(),Yt);Gr(SD(),Yt);Gr(vD(),Yt);Gr(e8(),Yt);Gr(ED(),Yt);Gr(kD(),Yt);Gr(n8(),Yt);Gr(_D(),Yt);Gr(Mx(),Yt)});d();l();var zc=j(Hn()),er=j(Hy()),os=j(Ls());d();l();yl.config({EXPONENTIAL_AT:1e3,DECIMAL_PLACES:78});d();l();var Eq=(t,e)=>t+e,D5=t=>t.reduce(Eq,0);var R5=zc.Buffer.alloc(64).fill(0),P2=t=>lo(t)?zc.Buffer.from(t.message.serialize()):t.serializeMessage(),Ky=t=>os.default.encode(P2(t)),N5=t=>{try{return Ky(If(t,"bs58"))}catch{return Ky(If(t,"base64"))}},U5=t=>{try{return If(t,"bs58").version}catch{return If(t,"base64").version}},L5=t=>B2(O2(t)),lo=t=>t&&"version"in t,Vy=(t,e)=>lo(t)?zc.Buffer.from(t.serialize()):t.serialize(e??{requireAllSignatures:!1,verifySignatures:!1}),B2=(t,e)=>os.default.encode(Vy(t,e)),M5=(t,e)=>Vy(t,e).toString("base64"),If=(t,e)=>{let r;if(e==="base64")r=zc.Buffer.from(t,"base64");else if(e==="bs58")r=os.default.decode(t);else throw new Error("Unsupported encoding");return er.VersionedTransaction.deserialize(r)};function C2(t){return lo(t)?t.signatures.filter(r=>r.every(o=>o===0)===!1).length>0:t.signatures.filter(({signature:r})=>r?r.find(o=>o!==0)!==void 0:!1).length>0}var F5=t=>{let e=t.map(r=>er.VersionedMessage.deserialize(os.default.decode(r)));return D5(e.map(r=>r.header.numRequiredSignatures))},O2=t=>{let e=os.default.decode(t);if(er.VersionedMessage.deserializeMessageVersion(e)==="legacy"){let o=er.Message.from(e);return er.Transaction.populate(o,[])}let n=er.VersionedMessage.deserialize(e);return new er.VersionedTransaction(n)},H5=(t,e=[])=>{let r=os.default.decode(t);if(er.VersionedMessage.deserializeMessageVersion(r)==="legacy"){let o=er.Message.from(r);return er.Transaction.populate(o,e.map(s=>s?os.default.encode(s):os.default.encode(R5)))}else{let o=er.VersionedMessage.deserialize(r);return new er.VersionedTransaction(o,e.map(s=>s||R5))}},K5=t=>t.compileMessage().accountKeys,D2=t=>lo(t)?t.message.recentBlockhash:t.recentBlockhash,V5=(t,e)=>{lo(t)?t.message.recentBlockhash=e:t.recentBlockhash=e},q5=async(t,e)=>{if(D2(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;V5(t,r)},z5=async(t,e)=>{if(C2(t))return;let r=(await e.getLatestBlockhash("confirmed")).blockhash;V5(t,r)},R2=(t,e)=>{lo(t)||(t.feePayer=e)},N2=t=>lo(t)?t.message.staticAccountKeys[0]:t.feePayer,j5=(t,e)=>{N2(t)||R2(t,e)},W5=(t,e)=>{lo(t)?t.sign(e):t.partialSign(...e)},G5=t=>lo(t)?t.message.staticAccountKeys:t.signatures.map(e=>e.publicKey),$5=t=>lo(t)?t.signatures.map(e=>zc.Buffer.from(e)):t.signatures.map(e=>e.signature).filter(e=>e!==null);function Q5(t){if(!Iq(zc.Buffer.from(t)))return!1;let e;try{e=er.Message.from(t)}catch{e=void 0}let r;try{r=er.VersionedMessage.deserialize(t)}catch{r=void 0}return!e&&!r||(e?.instructions?.length??0)===0&&(r?.compiledInstructions?.length??0)===0}function Iq(t){let e=t.length,r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}var Y5=t=>yl(t).dividedBy(er.LAMPORTS_PER_SOL),J5=t=>yl(t).multipliedBy(er.LAMPORTS_PER_SOL);var Wn={};ZN(Wn,{BufferLayout:()=>Pq,Message:()=>On.Message,MessageV0:()=>On.MessageV0,Transaction:()=>On.Transaction,TransactionInstruction:()=>On.TransactionInstruction,TransactionMessage:()=>On.TransactionMessage,VersionedMessage:()=>On.VersionedMessage,VersionedTransaction:()=>On.VersionedTransaction,getAccountsFromTransaction:()=>K5,getFeePayer:()=>N2,getRecentBlockhash:()=>D2,getRequiredSignatures:()=>F5,getSignaturePubKeys:()=>G5,getSignatures:()=>$5,isAlreadySigned:()=>C2,isSafeMessage:()=>Q5,isVersionedTransaction:()=>lo,lamportsToSolana:()=>Y5,messageAndSignaturesToTransaction:()=>H5,messageStringToTransaction:()=>O2,messageStringToTransactionString:()=>L5,setFeePayer:()=>R2,setFeePayerIfNotExists:()=>j5,setRecentBlockhashIfNotExists:()=>q5,setRecentBlockhashIfNotSigned:()=>z5,signWithAdditionalSigners:()=>W5,solanaInstructionEncodeData:()=>rk,solanaToLamports:()=>J5,transactionStringToMessageString:()=>N5,transactionStringToTransaction:()=>If,transactionStringToVersion:()=>U5,transactionToBase58TransactionString:()=>B2,transactionToBase64TransactionString:()=>M5,transactionToMessageString:()=>Ky,transactionToSerializedMessage:()=>P2,transactionToSerializedTransaction:()=>Vy,u64:()=>ek});d();l();var Pq=j(Bl()),On=j(Hy());ji(Wn,j(Hy()));d();l();var X5=j(xl()),Z5=j(Bl()),qy=j(vw()),kq=t=>{let e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},zy=t=>e=>{let r=(0,Z5.blob)(t,e),{encode:n,decode:o}=kq(r),i=r;return i.decode=(s,a)=>{let c=o(s,a);return(0,qy.toBigIntLE)(X5.Buffer.from(c))},i.encode=(s,a,c)=>{let u=(0,qy.toBufferLE)(s,t);return n(u,a,c)},i},ek=zy(8),Yde=zy(16),Jde=zy(24),Xde=zy(32);d();l();var tk=j(xl());d();l();var Tq=j(xl()),kf=j(Bl());function U2(t,e){let r=o=>{if(o.span>=0)return o.span;if(typeof o.alloc=="function")return o.alloc(e[o.property]);if("count"in o&&"elementLayout"in o){let i=e[o.property];if(Array.isArray(i))return i.length*r(o.elementLayout)}else if("fields"in o)return U2({layout:o},e[o.property]);return 0},n=0;return t.layout.fields.forEach(o=>{n+=r(o)}),n}function rk(t,e){let r=t.layout.span>=0?t.layout.span:U2(t,e),n=tk.Buffer.alloc(r),o=Object.assign({instruction:t.index},e);return t.layout.encode(o,n),n}d();l();d();l();d();l();d();l();var Bq=j(np(),1);var kr=BigInt(0),Ze=BigInt(1),la=BigInt(2),Cq=BigInt(8),nk=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Bt=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:nk,n:nk,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});var ck=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),h0=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),hle=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),Oq=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),Dq=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),Rq=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),Nq=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),mr=class t{constructor(e,r,n,o){this.x=e,this.y=r,this.z=n,this.t=o}static fromAffine(e){if(!(e instanceof tr))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(tr.ZERO)?t.ZERO:new t(e.x,e.y,Ze,J(e.x*e.y))}static toAffineBatch(e){let r=Mq(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(r[o]))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){ik(e);let{x:r,y:n,z:o}=this,{x:i,y:s,z:a}=e,c=J(r*a),u=J(i*o),h=J(n*a),f=J(s*o);return c===u&&h===f}negate(){return new t(J(-this.x),this.y,this.z,J(-this.t))}double(){let{x:e,y:r,z:n}=this,{a:o}=Bt,i=J(e*e),s=J(r*r),a=J(la*J(n*n)),c=J(o*i),u=e+r,h=J(J(u*u)-i-s),f=c+s,p=f-a,m=c-s,g=J(h*p),x=J(f*m),w=J(h*m),S=J(p*f);return new t(g,x,S,w)}add(e){ik(e);let{x:r,y:n,z:o,t:i}=this,{x:s,y:a,z:c,t:u}=e,h=J((n-r)*(a+s)),f=J((n+r)*(a-s)),p=J(f-h);if(p===kr)return this.double();let m=J(o*la*u),g=J(i*la*c),x=g+m,w=f+h,S=g-m,k=J(x*p),A=J(w*S),T=J(x*S),C=J(p*w);return new t(k,A,C,T)}subtract(e){return this.add(e.negate())}precomputeWindow(e){let r=1+256/e,n=[],o=this,i=o;for(let s=0;s<r;s++){i=o,n.push(i);for(let a=1;a<2**(e-1);a++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=tr.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=r&&H2.get(r);o||(o=this.precomputeWindow(n),r&&n!==1&&(o=t.normalizeZ(o),H2.set(r,o)));let i=t.ZERO,s=t.BASE,a=1+256/n,c=2**(n-1),u=BigInt(2**n-1),h=2**n,f=BigInt(n);for(let p=0;p<a;p++){let m=p*c,g=Number(e&u);e>>=f,g>c&&(g-=h,e+=Ze);let x=m,w=m+Math.abs(g)-1,S=p%2!==0,k=g<0;g===0?s=s.add(ok(S,o[x])):i=i.add(ok(k,o[w]))}return t.normalizeZ([i,s])[0]}multiply(e,r){return this.wNAF(Wy(e,Bt.l),r)}multiplyUnsafe(e){let r=Wy(e,Bt.l,!1),n=t.BASE,o=t.ZERO;if(r===kr)return o;if(this.equals(o)||r===Ze)return this;if(this.equals(n))return this.wNAF(r);let i=o,s=this;for(;r>kr;)r&Ze&&(i=i.add(s)),s=s.double(),r>>=Ze;return i}isSmallOrder(){return this.multiplyUnsafe(Bt.h).equals(t.ZERO)}isTorsionFree(){let e=this.multiplyUnsafe(Bt.l/la).double();return Bt.l%la&&(e=e.add(this)),e.equals(t.ZERO)}toAffine(e){let{x:r,y:n,z:o}=this,i=this.equals(t.ZERO);e==null&&(e=i?Cq:$y(o));let s=J(r*e),a=J(n*e),c=J(o*e);if(i)return tr.ZERO;if(c!==Ze)throw new Error("invZ was invalid");return new tr(s,a)}fromRistrettoBytes(){M2()}toRistrettoBytes(){M2()}fromRistrettoHash(){M2()}};mr.BASE=new mr(Bt.Gx,Bt.Gy,Ze,J(Bt.Gx*Bt.Gy));mr.ZERO=new mr(kr,Ze,Ze,kr);function ok(t,e){let r=e.negate();return t?r:e}function ik(t){if(!(t instanceof mr))throw new TypeError("ExtendedPoint expected")}function L2(t){if(!(t instanceof jc))throw new TypeError("RistrettoPoint expected")}function M2(){throw new Error("Legacy method: switch to RistrettoPoint")}var jc=class t{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){let{d:r}=Bt,n=J(h0*e*e),o=J((n+Ze)*Rq),i=BigInt(-1),s=J((i-r*n)*J(n+r)),{isValid:a,value:c}=V2(o,s),u=J(c*e);da(u)||(u=J(-u)),a||(c=u),a||(i=n);let h=J(i*(n-Ze)*Nq-s),f=c*c,p=J((c+c)*s),m=J(h*Oq),g=J(Ze-f),x=J(Ze+f);return new mr(J(p*x),J(g*m),J(m*x),J(p*g))}static hashToCurve(e){e=ha(e,64);let r=F2(e.slice(0,32)),n=this.calcElligatorRistrettoMap(r),o=F2(e.slice(32,64)),i=this.calcElligatorRistrettoMap(o);return new t(n.add(i))}static fromHex(e){e=ha(e,32);let{a:r,d:n}=Bt,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=F2(e);if(!Hq(m0(i),e)||da(i))throw new Error(o);let s=J(i*i),a=J(Ze+r*s),c=J(Ze-r*s),u=J(a*a),h=J(c*c),f=J(r*n*u-h),{isValid:p,value:m}=ak(J(f*h)),g=J(m*c),x=J(m*g*f),w=J((i+i)*g);da(w)&&(w=J(-w));let S=J(a*x),k=J(w*S);if(!p||da(k)||S===kr)throw new Error(o);return new t(new mr(w,S,Ze,k))}toRawBytes(){let{x:e,y:r,z:n,t:o}=this.ep,i=J(J(n+r)*J(n-r)),s=J(e*r),a=J(s*s),{value:c}=ak(J(i*a)),u=J(c*i),h=J(c*s),f=J(u*h*o),p;if(da(o*f)){let g=J(r*h0),x=J(e*h0);e=g,r=x,p=J(u*Dq)}else p=h;da(e*f)&&(r=J(-r));let m=J((n-r)*p);return da(m)&&(m=J(-m)),m0(m)}toHex(){return g0(this.toRawBytes())}toString(){return this.toHex()}equals(e){L2(e);let r=this.ep,n=e.ep,o=J(r.x*n.y)===J(r.y*n.x),i=J(r.y*n.y)===J(r.x*n.x);return o||i}add(e){return L2(e),new t(this.ep.add(e.ep))}subtract(e){return L2(e),new t(this.ep.subtract(e.ep))}multiply(e){return new t(this.ep.multiply(e))}multiplyUnsafe(e){return new t(this.ep.multiplyUnsafe(e))}};jc.BASE=new jc(mr.BASE);jc.ZERO=new jc(mr.ZERO);var H2=new WeakMap,tr=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,H2.delete(this)}static fromHex(e,r=!0){let{d:n,P:o}=Bt;e=ha(e,32);let i=e.slice();i[31]=e[31]&-129;let s=b0(i);if(r&&s>=o)throw new Error("Expected 0 < hex < P");if(!r&&s>=ck)throw new Error("Expected 0 < hex < 2**256");let a=J(s*s),c=J(a-Ze),u=J(n*a+Ze),{isValid:h,value:f}=V2(c,u);if(!h)throw new Error("Point.fromHex: invalid y coordinate");let p=(f&Ze)===Ze;return(e[31]&128)!==0!==p&&(f=J(-f)),new t(f,s)}static async fromPrivateKey(e){return(await lk(e)).point}toRawBytes(){let e=m0(this.y);return e[31]|=this.x&Ze?128:0,e}toHex(){return g0(this.toRawBytes())}toX25519(){let{y:e}=this,r=J((Ze+e)*$y(Ze-e));return m0(r)}isTorsionFree(){return mr.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(J(-this.x),this.y)}add(e){return mr.fromAffine(this).add(mr.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return mr.fromAffine(this).multiply(e,this).toAffine()}};tr.BASE=new tr(Bt.Gx,Bt.Gy);tr.ZERO=new tr(kr,Ze);var y0=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=ha(e,64),n=tr.fromHex(r.slice(0,32),!1),o=b0(r.slice(32,64));return new t(n,o)}assertValidity(){let{r:e,s:r}=this;if(!(e instanceof tr))throw new Error("Expected Point instance");return Wy(r,Bt.l,!1),this}toRawBytes(){let e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(m0(this.s),32),e}toHex(){return g0(this.toRawBytes())}};function sk(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(t.length===1)return t[0];let e=t.reduce((n,o)=>n+o.length,0),r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let i=t[n];r.set(i,o),o+=i.length}return r}var Uq=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function g0(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=Uq[t[r]];return e}function K2(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,o=t.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[r]=i}return e}function uk(t){let r=t.toString(16).padStart(64,"0");return K2(r)}function m0(t){return uk(t).reverse()}function da(t){return(J(t)&Ze)===Ze}function b0(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+g0(Uint8Array.from(t).reverse()))}var Lq=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function F2(t){return J(b0(t)&Lq)}function J(t,e=Bt.P){let r=t%e;return r>=kr?r:e+r}function $y(t,e=Bt.P){if(t===kr||e<=kr)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=J(t,e),n=e,o=kr,i=Ze,s=Ze,a=kr;for(;r!==kr;){let u=n/r,h=n%r,f=o-s*u,p=i-a*u;n=r,r=h,o=s,i=a,s=f,a=p}if(n!==Ze)throw new Error("invert: does not exist");return J(o,e)}function Mq(t,e=Bt.P){let r=new Array(t.length),n=t.reduce((i,s,a)=>s===kr?i:(r[a]=i,J(i*s,e)),Ze),o=$y(n,e);return t.reduceRight((i,s,a)=>s===kr?i:(r[a]=J(i*r[a],e),J(i*s,e)),o),r}function yi(t,e){let{P:r}=Bt,n=t;for(;e-- >kr;)n*=n,n%=r;return n}function Fq(t){let{P:e}=Bt,r=BigInt(5),n=BigInt(10),o=BigInt(20),i=BigInt(40),s=BigInt(80),c=t*t%e*t%e,u=yi(c,la)*c%e,h=yi(u,Ze)*t%e,f=yi(h,r)*h%e,p=yi(f,n)*f%e,m=yi(p,o)*p%e,g=yi(m,i)*m%e,x=yi(g,s)*g%e,w=yi(x,s)*g%e,S=yi(w,n)*f%e;return{pow_p_5_8:yi(S,la)*t%e,b2:c}}function V2(t,e){let r=J(e*e*e),n=J(r*r*e),o=Fq(t*n).pow_p_5_8,i=J(t*r*o),s=J(e*i*i),a=i,c=J(i*h0),u=s===t,h=s===J(-t),f=s===J(-t*h0);return u&&(i=a),(h||f)&&(i=c),da(i)&&(i=J(-i)),{isValid:u||h,value:i}}function ak(t){return V2(Ze,t)}function jy(t){return J(b0(t),Bt.l)}function Hq(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function ha(t,e){let r=t instanceof Uint8Array?Uint8Array.from(t):K2(t);if(typeof e=="number"&&r.length!==e)throw new Error(`Expected ${e} bytes`);return r}function Wy(t,e,r=!0){if(!e)throw new TypeError("Specify max value");if(typeof t=="number"&&Number.isSafeInteger(t)&&(t=BigInt(t)),typeof t=="bigint"&&t<e){if(r){if(kr<t)return t}else if(kr<=t)return t}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function Kq(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function fk(t){if(t=typeof t=="bigint"||typeof t=="number"?uk(Wy(t,ck)):ha(t),t.length!==32)throw new Error("Expected 32 bytes");return t}function dk(t){let e=Kq(t.slice(0,32)),r=t.slice(32,64),n=jy(e),o=tr.BASE.multiply(n),i=o.toRawBytes();return{head:e,prefix:r,scalar:n,point:o,pointBytes:i}}var p0;function Gy(...t){if(typeof p0!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return p0(...t)}async function lk(t){return dk(await is.sha512(fk(t)))}function q2(t){return dk(Gy(fk(t)))}function Vq(t){return q2(t).pointBytes}function qq(t,e){t=ha(t);let{prefix:r,scalar:n,pointBytes:o}=q2(e),i=jy(Gy(r,t)),s=tr.BASE.multiply(i),a=jy(Gy(s.toRawBytes(),o,t)),c=J(i+a*n,Bt.l);return new y0(s,c).toRawBytes()}function zq(t,e,r){e=ha(e),r instanceof tr||(r=tr.fromHex(r,!1));let{r:n,s:o}=t instanceof y0?t.assertValidity():y0.fromHex(t),i=mr.BASE.multiplyUnsafe(o);return{r:n,s:o,SB:i,pub:r,msg:e}}function jq(t,e,r,n){let o=jy(n),i=mr.fromAffine(t).multiplyUnsafe(o);return mr.fromAffine(e).add(i).subtract(r).multiplyUnsafe(Bt.h).equals(mr.ZERO)}function Wq(t,e,r){let{r:n,SB:o,msg:i,pub:s}=zq(t,e,r),a=Gy(n.toRawBytes(),s.toRawBytes(),i);return jq(s,n,o,a)}var Qy={getExtendedPublicKey:q2,getPublicKey:Vq,sign:qq,verify:Wq};tr.BASE._setWindowSize(8);var fa={node:Bq,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},is={bytesToHex:g0,hexToBytes:K2,concatBytes:sk,getExtendedPublicKey:lk,mod:J,invert:$y,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{if(t=ha(t),t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return J(b0(t),Bt.l-Ze)+Ze},randomBytes:(t=32)=>{if(fa.web)return fa.web.getRandomValues(new Uint8Array(t));if(fa.node){let{randomBytes:e}=fa.node;return new Uint8Array(e(t).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>is.randomBytes(32),sha512:async(...t)=>{let e=sk(...t);if(fa.web){let r=await fa.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(r)}else{if(fa.node)return Uint8Array.from(fa.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=tr.BASE){let r=e.equals(tr.BASE)?e:new tr(e.x,e.y);return r._setWindowSize(t),r.multiply(la),r},sha512Sync:void 0};Object.defineProperties(is,{sha512Sync:{configurable:!1,get(){return p0},set(t){p0||(p0=t)}}});d();l();d();l();d();l();function z2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Gq(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function hk(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function $q(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");z2(t.outputLen),z2(t.blockLen)}function Qq(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Yq(t,e){hk(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var Jq={number:z2,bool:Gq,bytes:hk,hash:$q,exists:Qq,output:Yq},ss=Jq;d();l();d();l();var Xq={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var Yy=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var Zq=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Zq)throw new Error("Non little-endian hardware is not supported");var Ele=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ez(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function x0(t){if(typeof t=="string"&&(t=ez(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var Tf=class{clone(){return this._cloneInto()}};function w0(t){let e=n=>t().update(x0(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function tz(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var Jy=class extends Tf{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Yy(this.buffer)}update(e){ss.exists(this);let{view:r,buffer:n,blockLen:o}=this;e=x0(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=Yy(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ss.exists(this),ss.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;tz(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=Yy(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};d();l();var Xy=BigInt(4294967295),j2=BigInt(32);function pk(t,e=!1){return e?{h:Number(t&Xy),l:Number(t>>j2&Xy)}:{h:Number(t>>j2&Xy)|0,l:Number(t&Xy)|0}}function rz(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){let{h:i,l:s}=pk(t[o],e);[r[o],n[o]]=[i,s]}return[r,n]}var nz=(t,e)=>BigInt(t>>>0)<<j2|BigInt(e>>>0),oz=(t,e,r)=>t>>>r,iz=(t,e,r)=>t<<32-r|e>>>r,sz=(t,e,r)=>t>>>r|e<<32-r,az=(t,e,r)=>t<<32-r|e>>>r,cz=(t,e,r)=>t<<64-r|e>>>r-32,uz=(t,e,r)=>t>>>r-32|e<<64-r,fz=(t,e)=>e,dz=(t,e)=>t,lz=(t,e,r)=>t<<r|e>>>32-r,hz=(t,e,r)=>e<<r|t>>>32-r,pz=(t,e,r)=>e<<r-32|t>>>64-r,yz=(t,e,r)=>t<<r-32|e>>>64-r;function mz(t,e,r,n){let o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}var gz=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),bz=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,xz=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),wz=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,Az=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),Sz=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0,vz={fromBig:pk,split:rz,toBig:nz,shrSH:oz,shrSL:iz,rotrSH:sz,rotrSL:az,rotrBH:cz,rotrBL:uz,rotr32H:fz,rotr32L:dz,rotlSH:lz,rotlSL:hz,rotlBH:pz,rotlBL:yz,add:mz,add3L:gz,add3H:bz,add4L:xz,add4H:wz,add5H:Sz,add5L:Az},De=vz;var[Ez,Iz]=De.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),pa=new Uint32Array(80),ya=new Uint32Array(80),_f=class extends Jy{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:o,Ch:i,Cl:s,Dh:a,Dl:c,Eh:u,El:h,Fh:f,Fl:p,Gh:m,Gl:g,Hh:x,Hl:w}=this;return[e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w]}set(e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=g|0,this.Hh=x|0,this.Hl=w|0}process(e,r){for(let A=0;A<16;A++,r+=4)pa[A]=e.getUint32(r),ya[A]=e.getUint32(r+=4);for(let A=16;A<80;A++){let T=pa[A-15]|0,C=ya[A-15]|0,W=De.rotrSH(T,C,1)^De.rotrSH(T,C,8)^De.shrSH(T,C,7),oe=De.rotrSL(T,C,1)^De.rotrSL(T,C,8)^De.shrSL(T,C,7),Y=pa[A-2]|0,G=ya[A-2]|0,re=De.rotrSH(Y,G,19)^De.rotrBH(Y,G,61)^De.shrSH(Y,G,6),Z=De.rotrSL(Y,G,19)^De.rotrBL(Y,G,61)^De.shrSL(Y,G,6),O=De.add4L(oe,Z,ya[A-7],ya[A-16]),D=De.add4H(O,W,re,pa[A-7],pa[A-16]);pa[A]=D|0,ya[A]=O|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:a,Cl:c,Dh:u,Dl:h,Eh:f,El:p,Fh:m,Fl:g,Gh:x,Gl:w,Hh:S,Hl:k}=this;for(let A=0;A<80;A++){let T=De.rotrSH(f,p,14)^De.rotrSH(f,p,18)^De.rotrBH(f,p,41),C=De.rotrSL(f,p,14)^De.rotrSL(f,p,18)^De.rotrBL(f,p,41),W=f&m^~f&x,oe=p&g^~p&w,Y=De.add5L(k,C,oe,Iz[A],ya[A]),G=De.add5H(Y,S,T,W,Ez[A],pa[A]),re=Y|0,Z=De.rotrSH(n,o,28)^De.rotrBH(n,o,34)^De.rotrBH(n,o,39),O=De.rotrSL(n,o,28)^De.rotrBL(n,o,34)^De.rotrBL(n,o,39),D=n&i^n&a^i&a,N=o&s^o&c^s&c;S=x|0,k=w|0,x=m|0,w=g|0,m=f|0,g=p|0,{h:f,l:p}=De.add(u|0,h|0,G|0,re|0),u=a|0,h=c|0,a=i|0,c=s|0,i=n|0,s=o|0;let Q=De.add3L(re,O,N);n=De.add3H(Q,G,Z,D),o=Q|0}({h:n,l:o}=De.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=De.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=De.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:h}=De.add(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:p}=De.add(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:g}=De.add(this.Fh|0,this.Fl|0,m|0,g|0),{h:x,l:w}=De.add(this.Gh|0,this.Gl|0,x|0,w|0),{h:S,l:k}=De.add(this.Hh|0,this.Hl|0,S|0,k|0),this.set(n,o,i,s,a,c,u,h,f,p,m,g,x,w,S,k)}roundClean(){pa.fill(0),ya.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},W2=class extends _f{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},G2=class extends _f{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},$2=class extends _f{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},ma=w0(()=>new _f),Fle=w0(()=>new W2),Hle=w0(()=>new G2),Kle=w0(()=>new $2);d();l();var kz=j(np(),1);var st=BigInt(0),Lt=BigInt(1),ba=BigInt(2),v0=BigInt(3),yk=BigInt(8),Mt=Object.freeze({a:st,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Lt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),mk=(t,e)=>(t+e/ba)/e,Zy={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){let{n:e}=Mt,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Lt*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=r,s=BigInt("0x100000000000000000000000000000000"),a=mk(i*t,e),c=mk(-n*t,e),u=le(t-a*r-c*o,e),h=le(-a*n-c*i,e),f=u>s,p=h>s;if(f&&(u=e-u),p&&(h=e-h),u>s||h>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:p,k2:h}}},Pf=32,I0=32;var gk=Pf+1,bk=2*Pf+1;function xk(t){let{a:e,b:r}=Mt,n=le(t*t),o=le(n*t);return le(o+e*t+r)}var em=Mt.a===st,om=class extends Error{constructor(e){super(e)}};function wk(t){if(!(t instanceof ln))throw new TypeError("JacobianPoint expected")}var ln=class t{constructor(e,r,n){this.x=e,this.y=r,this.z=n}static fromAffine(e){if(!(e instanceof rr))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(rr.ZERO)?t.ZERO:new t(e.x,e.y,Lt)}static toAffineBatch(e){let r=Cz(e.map(n=>n.z));return e.map((n,o)=>n.toAffine(r[o]))}static normalizeZ(e){return t.toAffineBatch(e).map(t.fromAffine)}equals(e){wk(e);let{x:r,y:n,z:o}=this,{x:i,y:s,z:a}=e,c=le(o*o),u=le(a*a),h=le(r*u),f=le(i*c),p=le(le(n*a)*u),m=le(le(s*o)*c);return h===f&&p===m}negate(){return new t(this.x,le(-this.y),this.z)}double(){let{x:e,y:r,z:n}=this,o=le(e*e),i=le(r*r),s=le(i*i),a=e+i,c=le(ba*(le(a*a)-o-s)),u=le(v0*o),h=le(u*u),f=le(h-ba*c),p=le(u*(c-f)-yk*s),m=le(ba*r*n);return new t(f,p,m)}add(e){wk(e);let{x:r,y:n,z:o}=this,{x:i,y:s,z:a}=e;if(i===st||s===st)return this;if(r===st||n===st)return e;let c=le(o*o),u=le(a*a),h=le(r*u),f=le(i*c),p=le(le(n*a)*u),m=le(le(s*o)*c),g=le(f-h),x=le(m-p);if(g===st)return x===st?this.double():t.ZERO;let w=le(g*g),S=le(g*w),k=le(h*w),A=le(x*x-S-ba*k),T=le(x*(k-A)-p*S),C=le(o*a*g);return new t(A,T,C)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){let r=t.ZERO;if(typeof e=="bigint"&&e===st)return r;let n=vk(e);if(n===Lt)return this;if(!em){let f=r,p=this;for(;n>st;)n&Lt&&(f=f.add(p)),p=p.double(),n>>=Lt;return f}let{k1neg:o,k1:i,k2neg:s,k2:a}=Zy.splitScalar(n),c=r,u=r,h=this;for(;i>st||a>st;)i&Lt&&(c=c.add(h)),a&Lt&&(u=u.add(h)),h=h.double(),i>>=Lt,a>>=Lt;return o&&(c=c.negate()),s&&(u=u.negate()),u=new t(le(u.x*Zy.beta),u.y,u.z),c.add(u)}precomputeWindow(e){let r=em?128/e+1:256/e+1,n=[],o=this,i=o;for(let s=0;s<r;s++){i=o,n.push(i);for(let a=1;a<2**(e-1);a++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(e,r){!r&&this.equals(t.BASE)&&(r=rr.BASE);let n=r&&r._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=r&&Y2.get(r);o||(o=this.precomputeWindow(n),r&&n!==1&&(o=t.normalizeZ(o),Y2.set(r,o)));let i=t.ZERO,s=t.BASE,a=1+(em?128/n:256/n),c=2**(n-1),u=BigInt(2**n-1),h=2**n,f=BigInt(n);for(let p=0;p<a;p++){let m=p*c,g=Number(e&u);e>>=f,g>c&&(g-=h,e+=Lt);let x=m,w=m+Math.abs(g)-1,S=p%2!==0,k=g<0;g===0?s=s.add(tm(S,o[x])):i=i.add(tm(k,o[w]))}return{p:i,f:s}}multiply(e,r){let n=vk(e),o,i;if(em){let{k1neg:s,k1:a,k2neg:c,k2:u}=Zy.splitScalar(n),{p:h,f}=this.wNAF(a,r),{p,f:m}=this.wNAF(u,r);h=tm(s,h),p=tm(c,p),p=new t(le(p.x*Zy.beta),p.y,p.z),o=h.add(p),i=f.add(m)}else{let{p:s,f:a}=this.wNAF(n,r);o=s,i=a}return t.normalizeZ([o,i])[0]}toAffine(e){let{x:r,y:n,z:o}=this,i=this.equals(t.ZERO);e==null&&(e=i?yk:cm(o));let s=e,a=le(s*s),c=le(a*s),u=le(r*a),h=le(n*c),f=le(o*s);if(i)return rr.ZERO;if(f!==Lt)throw new Error("invZ was invalid");return new rr(u,h)}};ln.BASE=new ln(Mt.Gx,Mt.Gy,Lt);ln.ZERO=new ln(st,Lt,st);function tm(t,e){let r=e.negate();return t?r:e}var Y2=new WeakMap,rr=class t{constructor(e,r){this.x=e,this.y=r}_setWindowSize(e){this._WINDOW_SIZE=e,Y2.delete(this)}hasEvenY(){return this.y%ba===st}static fromCompressedHex(e){let r=e.length===32,n=po(r?e:e.subarray(1));if(!nm(n))throw new Error("Point is not on curve");let o=xk(n),i=Bz(o),s=(i&Lt)===Lt;r?s&&(i=le(-i)):(e[0]&1)===1!==s&&(i=le(-i));let a=new t(n,i);return a.assertValidity(),a}static fromUncompressedHex(e){let r=po(e.subarray(1,Pf+1)),n=po(e.subarray(Pf+1,Pf*2+1)),o=new t(r,n);return o.assertValidity(),o}static fromHex(e){let r=Wc(e),n=r.length,o=r[0];if(n===Pf)return this.fromCompressedHex(r);if(n===gk&&(o===2||o===3))return this.fromCompressedHex(r);if(n===bk&&o===4)return this.fromUncompressedHex(r);throw new Error(`Point.fromHex: received invalid point. Expected 32-${gk} compressed bytes or ${bk} uncompressed bytes, not ${n}`)}static fromPrivateKey(e){return t.BASE.multiply(_0(e))}static fromSignature(e,r,n){let{r:o,s:i}=Nz(r);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");let s=Dz(Wc(e)),{n:a}=Mt,c=n===2||n===3?o+a:o,u=cm(c,a),h=le(-s*u,a),f=le(i*u,a),p=n&1?"03":"02",m=t.fromHex(p+xa(c)),g=t.BASE.multiplyAndAddUnsafe(m,h,f);if(!g)throw new Error("Cannot recover signature: point at infinify");return g.assertValidity(),g}toRawBytes(e=!1){return wa(this.toHex(e))}toHex(e=!1){let r=xa(this.x);return e?`${this.hasEvenY()?"02":"03"}${r}`:`04${r}${xa(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){let e="Point is not on elliptic curve",{x:r,y:n}=this;if(!nm(r)||!nm(n))throw new Error(e);let o=le(n*n),i=xk(r);if(le(o-i)!==st)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new t(this.x,le(-this.y))}double(){return ln.fromAffine(this).double().toAffine()}add(e){return ln.fromAffine(this).add(ln.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return ln.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,r,n){let o=ln.fromAffine(this),i=r===st||r===Lt||this!==t.BASE?o.multiplyUnsafe(r):o.multiply(r),s=ln.fromAffine(e).multiplyUnsafe(n),a=i.add(s);return a.equals(ln.ZERO)?void 0:a.toAffine()}};rr.BASE=new rr(Mt.Gx,Mt.Gy);rr.ZERO=new rr(st,st);function Ak(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function Sk(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Cf(t)}`);let e=t[1],r=t.subarray(2,e+2);if(!e||r.length!==e)throw new Error("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:po(r),left:t.subarray(e+2)}}function Tz(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Cf(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");let{data:e,left:r}=Sk(t.subarray(2)),{data:n,left:o}=Sk(r);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${Cf(o)}`);return{r:e,s:n}}var E0=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromCompact(e){let r=e instanceof Uint8Array,n="Signature.fromCompact";if(typeof e!="string"&&!r)throw new TypeError(`${n}: Expected string or Uint8Array`);let o=r?Cf(e):e;if(o.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new t(im(o.slice(0,64)),im(o.slice(64,128)))}static fromDER(e){let r=e instanceof Uint8Array;if(typeof e!="string"&&!r)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");let{r:n,s:o}=Tz(r?e:wa(e));return new t(n,o)}static fromHex(e){return this.fromDER(e)}assertValidity(){let{r:e,s:r}=this;if(!T0(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!T0(r))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){let e=Mt.n>>Lt;return this.s>e}normalizeS(){return this.hasHighS()?new t(this.r,le(-this.s,Mt.n)):this}toDERRawBytes(){return wa(this.toDERHex())}toDERHex(){let e=Ak(S0(this.s)),r=Ak(S0(this.r)),n=e.length/2,o=r.length/2,i=S0(n),s=S0(o);return`30${S0(o+n+4)}02${s}${r}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return wa(this.toCompactHex())}toCompactHex(){return xa(this.r)+xa(this.s)}};function A0(...t){if(!t.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];let e=t.reduce((n,o)=>n+o.length,0),r=new Uint8Array(e);for(let n=0,o=0;n<t.length;n++){let i=t[n];r.set(i,o),o+=i.length}return r}var _z=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Cf(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let r=0;r<t.length;r++)e+=_z[t[r]];return e}var Pz=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function xa(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(st<=t&&t<Pz))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function k0(t){let e=wa(xa(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function S0(t){let e=t.toString(16);return e.length&1?`0${e}`:e}function im(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function wa(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=r*2,o=t.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");e[r]=i}return e}function po(t){return im(Cf(t))}function Wc(t){return t instanceof Uint8Array?Uint8Array.from(t):wa(t)}function vk(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&T0(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function le(t,e=Mt.P){let r=t%e;return r>=st?r:e+r}function ho(t,e){let{P:r}=Mt,n=t;for(;e-- >st;)n*=n,n%=r;return n}function Bz(t){let{P:e}=Mt,r=BigInt(6),n=BigInt(11),o=BigInt(22),i=BigInt(23),s=BigInt(44),a=BigInt(88),c=t*t*t%e,u=c*c*t%e,h=ho(u,v0)*u%e,f=ho(h,v0)*u%e,p=ho(f,ba)*c%e,m=ho(p,n)*p%e,g=ho(m,o)*m%e,x=ho(g,s)*g%e,w=ho(x,a)*x%e,S=ho(w,s)*g%e,k=ho(S,v0)*u%e,A=ho(k,i)*m%e,T=ho(A,r)*c%e,C=ho(T,ba);if(C*C%e!==t)throw new Error("Cannot find square root");return C}function cm(t,e=Mt.P){if(t===st||e<=st)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=le(t,e),n=e,o=st,i=Lt,s=Lt,a=st;for(;r!==st;){let u=n/r,h=n%r,f=o-s*u,p=i-a*u;n=r,r=h,o=s,i=a,s=f,a=p}if(n!==Lt)throw new Error("invert: does not exist");return le(o,e)}function Cz(t,e=Mt.P){let r=new Array(t.length),n=t.reduce((i,s,a)=>s===st?i:(r[a]=i,le(i*s,e)),Lt),o=cm(n,e);return t.reduceRight((i,s,a)=>s===st?i:(r[a]=le(i*r[a],e),le(i*s,e)),o),r}function Oz(t){let e=t.length*8-I0*8,r=po(t);return e>0?r>>BigInt(e):r}function Dz(t,e=!1){let r=Oz(t);if(e)return r;let{n}=Mt;return r>=n?r-n:r}var Bf,Q2;function T0(t){return st<t&&t<Mt.n}function nm(t){return st<t&&t<Mt.P}function _0(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*I0)throw new Error("Expected 32 bytes of private key");e=im(t)}else if(t instanceof Uint8Array){if(t.length!==I0)throw new Error("Expected 32 bytes of private key");e=po(t)}else throw new TypeError("Expected valid private key");if(!T0(e))throw new Error("Expected private key: 0 < key < n");return e}function Rz(t){return t instanceof rr?(t.assertValidity(),t):rr.fromHex(t)}function Nz(t){if(t instanceof E0)return t.assertValidity(),t;try{return E0.fromDER(t)}catch{return E0.fromCompact(t)}}function Df(t,e=!1){return rr.fromPrivateKey(t).toRawBytes(e)}function sm(t){return le(po(t),Mt.n)}var Of=class t{constructor(e,r){this.r=e,this.s=r,this.assertValidity()}static fromHex(e){let r=Wc(e);if(r.length!==64)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${r.length}`);let n=po(r.subarray(0,32)),o=po(r.subarray(32,64));return new t(n,o)}assertValidity(){let{r:e,s:r}=this;if(!nm(e)||!T0(r))throw new Error("Invalid signature")}toHex(){return xa(this.r)+xa(this.s)}toRawBytes(){return wa(this.toHex())}};function Uz(t){return rr.fromPrivateKey(t).toRawX()}var am=class{constructor(e,r,n=mi.randomBytes()){if(e==null)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=Wc(e);let{x:o,scalar:i}=this.getScalar(_0(r));if(this.px=o,this.d=i,this.rand=Wc(n),this.rand.length!==32)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){let r=rr.fromPrivateKey(e),n=r.hasEvenY()?e:Mt.n-e;return{point:r,scalar:n,x:r.toRawX()}}initNonce(e,r){return k0(e^po(r))}finalizeNonce(e){let r=le(po(e),Mt.n);if(r===st)throw new Error("sign: Creation of signature failed. k is zero");let{point:n,x:o,scalar:i}=this.getScalar(r);return{R:n,rx:o,k:i}}finalizeSig(e,r,n,o){return new Of(e.x,le(r+n*o,Mt.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){let{m:e,d:r,px:n,rand:o}=this,i=mi.taggedHash,s=this.initNonce(r,await i(ga.aux,o)),{R:a,rx:c,k:u}=this.finalizeNonce(await i(ga.nonce,s,n,e)),h=sm(await i(ga.challenge,c,n,e)),f=this.finalizeSig(a,u,h,r);return await kk(f,e,n)||this.error(),f}calcSync(){let{m:e,d:r,px:n,rand:o}=this,i=mi.taggedHashSync,s=this.initNonce(r,i(ga.aux,o)),{R:a,rx:c,k:u}=this.finalizeNonce(i(ga.nonce,s,n,e)),h=sm(i(ga.challenge,c,n,e)),f=this.finalizeSig(a,u,h,r);return Tk(f,e,n)||this.error(),f}};async function Lz(t,e,r){return new am(t,e,r).calc()}function Mz(t,e,r){return new am(t,e,r).calcSync()}function Ek(t,e,r){let n=t instanceof Of,o=n?t:Of.fromHex(t);return n&&o.assertValidity(),{...o,m:Wc(e),P:Rz(r)}}function Ik(t,e,r,n){let o=rr.BASE.multiplyAndAddUnsafe(e,_0(r),le(-n,Mt.n));return!(!o||!o.hasEvenY()||o.x!==t)}async function kk(t,e,r){try{let{r:n,s:o,m:i,P:s}=Ek(t,e,r),a=sm(await mi.taggedHash(ga.challenge,k0(n),s.toRawX(),i));return Ik(n,s,o,a)}catch{return!1}}function Tk(t,e,r){try{let{r:n,s:o,m:i,P:s}=Ek(t,e,r),a=sm(mi.taggedHashSync(ga.challenge,k0(n),s.toRawX(),i));return Ik(n,s,o,a)}catch(n){if(n instanceof om)throw n;return!1}}var jle={Signature:Of,getPublicKey:Uz,sign:Lz,verify:kk,signSync:Mz,verifySync:Tk};rr.BASE._setWindowSize(8);var Gn={node:kz,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},ga={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},rm={},mi={bytesToHex:Cf,hexToBytes:wa,concatBytes:A0,mod:le,invert:cm,isValidPrivateKey(t){try{return _0(t),!0}catch{return!1}},_bigintTo32Bytes:k0,_normalizePrivateKey:_0,hashToPrivateKey:t=>{t=Wc(t);let e=I0+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");let r=le(po(t),Mt.n-Lt)+Lt;return k0(r)},randomBytes:(t=32)=>{if(Gn.web)return Gn.web.getRandomValues(new Uint8Array(t));if(Gn.node){let{randomBytes:e}=Gn.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>mi.hashToPrivateKey(mi.randomBytes(I0+8)),precompute(t=8,e=rr.BASE){let r=e===rr.BASE?e:new rr(e.x,e.y);return r._setWindowSize(t),r.multiply(v0),r},sha256:async(...t)=>{if(Gn.web){let e=await Gn.web.subtle.digest("SHA-256",A0(...t));return new Uint8Array(e)}else if(Gn.node){let{createHash:e}=Gn.node,r=e("sha256");return t.forEach(n=>r.update(n)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(Gn.web){let r=await Gn.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=A0(...e),o=await Gn.web.subtle.sign("HMAC",r,n);return new Uint8Array(o)}else if(Gn.node){let{createHmac:r}=Gn.node,n=r("sha256",t);return e.forEach(o=>n.update(o)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let r=rm[t];if(r===void 0){let n=await mi.sha256(Uint8Array.from(t,o=>o.charCodeAt(0)));r=A0(n,n),rm[t]=r}return mi.sha256(r,...e)},taggedHashSync:(t,...e)=>{if(typeof Bf!="function")throw new om("sha256Sync is undefined, you need to set it");let r=rm[t];if(r===void 0){let n=Bf(Uint8Array.from(t,o=>o.charCodeAt(0)));r=A0(n,n),rm[t]=r}return Bf(r,...e)},_JacobianPoint:ln};Object.defineProperties(mi,{sha256Sync:{configurable:!1,get(){return Bf},set(t){Bf||(Bf=t)}},hmacSha256Sync:{configurable:!1,get(){return Q2},set(t){Q2||(Q2=t)}}});d();l();var _k=new RegExp("^[0-9]+'?$"),Rf=2147483648;d();l();d();l();var um=class extends Tf{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,ss.hash(e);let n=x0(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return ss.exists(this),this.iHash.update(e),this}digestInto(e){ss.exists(this),ss.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Gc=(t,e,r)=>new um(t,e).update(r).digest();Gc.create=(t,e)=>new um(t,e);var s0e=new RegExp("^m(\\/[0-9]+')+$");var Fz="ed25519 seed",Pk=t=>{let e=Buffer.from(Gc(ma,Buffer.from(Fz),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:Buffer.from(r,"hex"),chainCode:Buffer.from(n,"hex")}},Bk=({key:t,chainCode:e},r)=>{let n=Buffer.allocUnsafe(4);n.writeUInt32BE(r,0);let o=Buffer.concat([Buffer.alloc(1,0),t,n]),i=Buffer.from(Gc(ma,e,o)).toString("hex"),s=i.slice(0,64),a=i.slice(64);return{key:Buffer.from(s,"hex"),chainCode:Buffer.from(a,"hex")}};d();l();var as=j(Hn()),fm=j(qu()),Nf=j(vr());var Hz=as.Buffer.from("Bitcoin seed"),Ck=fm.BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ok=t=>{let e=as.Buffer.from(Gc(ma,as.Buffer.from(Hz),t)).toString("hex"),r=e.slice(0,64),n=e.slice(64);return{key:as.Buffer.from(r,"hex"),chainCode:as.Buffer.from(n,"hex")}},Dk=(t,e)=>{let{key:r,chainCode:n}=t,o=new Uint8Array(37);if(e&Rf)o.set(r,1);else{let f=Df(r,!0);o.set((0,Nf.arrayify)(f))}for(let f=24;f>=0;f-=8)o[33+(f>>3)]=e>>24-f&255;let i=as.Buffer.from(Gc(ma,n,o)).toString("hex"),s=i.slice(0,64),a=i.slice(64),c=fm.BigNumber.from(`0x${s}`);if(c.gte(Ck))throw new Error("Invalid private key");let u=c.add(`0x${r.toString("hex")}`).mod(Ck);if(u.eq(fm.BigNumber.from(0)))throw new Error("Invalid private key");let h=(0,Nf.hexZeroPad)((0,Nf.hexlify)(u),32);return{key:as.Buffer.from(h.replace("0x",""),"hex"),chainCode:as.Buffer.from(a,"hex")}};d();l();var J2=v.string().refine(t=>{if(typeof t!="string")return!1;let e=t.split("/");if(e.length<2||e[0]!=="m")return!1;for(let r=1;r<e.length;++r)if(!_k.test(e[r]))return!1;return!0},{message:"Value is not a valid derivation path."});var P0=v.union([v.literal("bitcoinTaproot"),v.literal("bitcoinNativeSegwit"),v.literal("bitcoinNestedSegwit"),v.literal("bitcoinLegacy")]),B0=v.union([v.literal("bip44RootEthereum"),v.literal("bip44Ethereum"),v.literal("bip44EthereumSecondary"),v.literal("bip44EthereumTertiary")]),C0=v.union([v.literal("bip44Root"),v.literal("bip44"),v.literal("bip44Change"),v.literal("deprecated")]),X2=v.literal("bip44Sui");d();l();var Kz=v.union([v.literal("bip44Change"),v.literal("bip44"),v.literal("deprecated")]),Vz=v.union([v.literal("bip44Ethereum"),v.literal("bip44EthereumSecondary"),v.literal("bip44EthereumTertiary")]),qz=v.union([v.literal("bitcoinTaproot"),v.literal("bitcoinNativeSegwit"),v.literal("bitcoinNestedSegwit"),v.literal("bitcoinLegacy")]),zz=v.literal("bip44Sui"),dm=v.number().int().min(0),jz=v.object({pathType:v.literal("bip44Root"),index:v.number().optional()}),Wz=v.object({pathType:Kz,index:dm}),Gz=v.object({pathType:v.literal("bip44RootEthereum"),index:v.number().optional()}),$z=v.object({pathType:Vz,index:dm}),Qz=v.object({pathType:qz,index:dm}),Yz=v.object({pathType:zz,index:dm}),Nk=v.union([jz,Wz,Gz,$z,Qz,Yz]),O0=new Error("Invalid derivation path."),Uk=new Error("Unsupported derivation path."),Jz=t=>{if(!Nk.safeParse(t).success)throw O0;switch(t.pathType){case"bitcoinTaproot":return`m/86'/0'/0'/0/${t.index}`;case"bitcoinNativeSegwit":return`m/84'/0'/0'/0/${t.index}`;case"bitcoinNestedSegwit":return`m/46'/0'/0'/0/${t.index}`;case"bitcoinLegacy":return`m/44'/0'/0'/0/${t.index}`;case"bip44RootEthereum":return"m/44'/60'";case"bip44Ethereum":return`m/44'/60'/0'/0/${t.index}`;case"bip44EthereumSecondary":return`m/44'/60'/1'/0/${t.index}`;case"bip44EthereumTertiary":return`m/44'/60'/2'/0/${t.index}`;case"bip44Root":return"m/44'/501'";case"deprecated":return`m/501'/${t.index}'/0/0`;case"bip44":return`m/44'/501'/${t.index}'`;case"bip44Change":return`m/44'/501'/${t.index}'/0'`;case"bip44Sui":return`m/44'/784'/${t.index}'/0'/0'`}},Rk=1<<31>>>0,Xz=t=>{try{let e=t.replace("0x","").match(/.{1,2}/g)??[];if(e.length===0)throw O0;let r=parseInt(e[0],16),n="m";for(let o=0;o<r;o++){let i="";for(let c=0;c<4;c++)i+=e[1+o*4+c];let s=parseInt(i,16),a=s>=Rk;a&&(s-=Rk),n+=`/${s.toString(10)}${a?"'":""}`}return n}catch{throw O0}},Zz=t=>{let e,r=J2.safeParse(`m/${t.replace("m/","")}`);if(r.success)e=r.data;else try{e=Xz(t)}catch{throw O0}if(e==="m/44'/501'")return{pathType:"bip44Root"};if(e==="m/44'/60'")return{pathType:"bip44RootEthereum"};let n=e.replace("m/","").split("/");try{if(n.length===5&&n[0]==="86'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinTaproot",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="84'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinNativeSegwit",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="46'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinNestedSegwit",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="0'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bitcoinLegacy",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="0'"&&n[3]==="0")return{pathType:"bip44Ethereum",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="1'"&&n[3]==="0")return{pathType:"bip44EthereumSecondary",index:parseInt(n[4],10)};if(n.length===5&&n[0]==="44'"&&n[1]==="60'"&&n[2]==="2'"&&n[3]==="0")return{pathType:"bip44EthereumTertiary",index:parseInt(n[4],10)};if(n.length===4&&n[0]==="44'"&&n[1]==="501'"&&n[3]==="0'")return{pathType:"bip44Change",index:parseInt(n[2],10)};if(n.length===3&&n[0]==="44'"&&n[1]==="501'")return{pathType:"bip44",index:parseInt(n[2],10)};if(n.length===4&&n[0]==="501'"&&n[2]==="0"&&n[3]==="0")return{pathType:"deprecated",index:parseInt(n[1],10)}}catch{}throw Uk};d();l();var _0e=new Error("Unsupported path."),ej=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return!0;case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Root":case"bip44":case"bip44Change":case"deprecated":case"bip44Sui":return!1}},tj=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":return!1;case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":return!0;case"bip44Root":case"bip44":case"bip44Change":case"deprecated":case"bip44Sui":return!1}},rj=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return!1;case"bip44Root":case"bip44":case"bip44Change":case"deprecated":return!0}},nj=t=>{switch(t){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Root":case"bip44":case"bip44Change":case"deprecated":return!1;case"bip44Sui":return!0}};is.sha512Sync=(...t)=>ma(is.concatBytes(...t));var{getPublicKey:oj}=Qy,gi=class{#e;#t;constructor(e){this.#e={ellipticCurve:"ed25519",value:Pk(e),nodes:{}},this.#t={ellipticCurve:"secp256k1",value:Ok(e),nodes:{}}}derivePathType(e,r){switch(e){case"bitcoinTaproot":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/86'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinNativeSegwit":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/84'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinNestedSegwit":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/46'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bitcoinLegacy":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/0'/0'/0/${r}`,useCompressedPublicKey:!0});case"bip44Ethereum":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/0'/0/${r}`});case"bip44EthereumSecondary":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/1'/0/${r}`});case"bip44EthereumTertiary":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/44'/60'/2'/0/${r}`});case"bip44RootEthereum":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:"m/44'/60'"});case"bip44Change":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'/0'`,bytesInPrivateKey:64});case"bip44":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/501'/${r}'`,bytesInPrivateKey:64});case"deprecated":return this.derivePath({ellipticCurve:"secp256k1",derivationPath:`m/501'/${r}'/0/0`});case"bip44Root":return this.derivePath({ellipticCurve:"ed25519",derivationPath:"m/44'/501'",bytesInPrivateKey:64});case"bip44Sui":return this.derivePath({ellipticCurve:"ed25519",derivationPath:`m/44'/784'/${r}'/0'/0'`,bytesInPrivateKey:32})}}derivePath(e){return e.ellipticCurve==="ed25519"?this.deriveED25519Path(e):e.ellipticCurve==="secp256k1"?this.deriveSECP256K1Path(e):nt(e)}deriveED25519Path(e){let{ellipticCurve:r,derivationPath:n,bytesInPrivateKey:o}=e,i=n.split("/"),s=this.#e;for(let u of i){if(u==="m")continue;if(!s)throw new Error("Cannot derive path, no current node.");let h=s.nodes?.[u]??null;if(!h){let f={ellipticCurve:r,value:Bk(s.value,parseInt(u,10)+Rf),nodes:{}};h=f,s.nodes[u]=f}s=h}if(!s)throw new Error(`Unable to derive ${n} on curve ${r}.`);let a=oj(s.value.key),c;switch(o){case 32:return c=new Uint8Array(32),c.set(s.value.key),{publicKey:a,secretKey:c};case 64:return c=new Uint8Array(64),c.set(s.value.key),c.set(a,32),{publicKey:a,secretKey:c}}}deriveSECP256K1Path(e){let{ellipticCurve:r,derivationPath:n,useCompressedPublicKey:o=!1}=e,i=n.split("/"),s=this.#t;for(let u of i){if(u==="m")continue;if(!s)throw new Error("Cannot derive path, no current node.");let h=s.nodes?.[u]??null;if(!h){let f=0;u.endsWith("'")&&(f=Rf);let p={ellipticCurve:r,value:Dk(s.value,parseInt(u,10)+f),nodes:{}};h=p,s.nodes[u]=p}s=h}if(!s)throw new Error(`Unable to derive ${n} on curve ${r}.`);let a=s.value.key;return{publicKey:Df(a,o),secretKey:new Uint8Array(a)}}cleanUpTree(e){if(e){e.value.key.fill(0),e.value.chainCode.fill(0);let r=Object.values(e.nodes);for(let n of r)this.cleanUpTree(n)}}cleanup(){this.cleanUpTree(this.#e),this.cleanUpTree(this.#t),this.#e=null,this.#t=null}};d();l();var Be=(a=>(a.BitcoinTaproot="bip122_p2tr",a.BitcoinNativeSegwit="bip122_p2wpkh",a.BitcoinNestedSegwit="bip122_p2sh",a.BitcoinLegacy="bip122_p2pkh",a.Solana="solana",a.EVM="eip155",a.Sui="sui",a))(Be||{}),Lk=["bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"],Z2=v.enum(Lk);var lm=class{type="bip122_p2pkh";displayName="Legacy";defaultDerivationPathType="bitcoinLegacy";otherDerivationPathType=[]};d();l();var hm=class{type="bip122_p2wpkh";displayName="Native Segwit";defaultDerivationPathType="bitcoinNativeSegwit";otherDerivationPathType=[]};d();l();var pm=class{type="bip122_p2sh";displayName="Nested Segwit";defaultDerivationPathType="bitcoinNestedSegwit";otherDerivationPathType=[]};d();l();var ym=class{type="bip122_p2tr";displayName="Taproot";defaultDerivationPathType="bitcoinTaproot";otherDerivationPathType=[]};d();l();var mm=class{type="eip155";displayName="Ethereum";defaultDerivationPathType="bip44Ethereum";otherDerivationPathType=["bip44RootEthereum","bip44EthereumSecondary","bip44EthereumTertiary"]};d();l();var gm=class{type="solana";displayName="Solana";defaultDerivationPathType="bip44Change";otherDerivationPathType=["bip44Root","bip44","deprecated"]};d();l();var bm=class{type="sui";displayName="Sui";defaultDerivationPathType="bip44Sui";otherDerivationPathType=[]};var eA=class{bip122_p2tr=new ym;bip122_p2wpkh=new hm;bip122_p2sh=new pm;bip122_p2pkh=new lm;eip155=new mm;solana=new gm;sui=new bm;allAddressTypes=Object.values(Be);allAddressTypeDefinitions=this.allAddressTypes.map(e=>this[e]);addressTypeByDerivationPathType={};constructor(){this.allAddressTypeDefinitions.forEach(e=>{this.addressTypeByDerivationPathType[e.defaultDerivationPathType]=e.type,e.otherDerivationPathType.forEach(r=>{this.addressTypeByDerivationPathType[r]=e.type})})}getAll(){return this.allAddressTypes}getDisplayName(e){return this[e].displayName}getAddressType(e){return this.addressTypeByDerivationPathType[e]}},Ko=new eA;d();l();d();l();d();l();var xm=class{addressTypes=["bip122_p2tr","bip122_p2wpkh","bip122_p2sh","bip122_p2pkh"];generateKeypairFromPrivateKey(e){let r=e.fold(o=>Buffer.from(o));return{publicKey:Df(r,!0),privateKey:r}}generateKeypairFromSeed(e,r,n){let o=e.fold(i=>new gi(i));try{let i=o.derivePathType(n,r);return{publicKey:i.publicKey,privateKey:i.secretKey}}finally{o.cleanup()}}};d();l();d();l();var iS=j(pl());d();l();var qk=j(qu());var Uf=j(yo()),zk=j(cn());d();l();var Kk="abstract-provider/5.7.0";var mj=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(h){try{u(n.next(h))}catch(f){s(f)}}function c(h){try{u(n.throw(h))}catch(f){s(f)}}function u(h){h.done?i(h.value):o(h.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},gj=new zk.Logger(Kk),Vk=class extends Uf.Description{static isForkEvent(e){return!!(e&&e._isForkEvent)}};var vm=class t{constructor(){gj.checkAbstract(new.target,t),(0,Uf.defineReadOnly)(this,"_isProvider",!0)}getFeeData(){return mj(this,void 0,void 0,function*(){let{block:e,gasPrice:r}=yield(0,Uf.resolveProperties)({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(s=>null)}),n=null,o=null,i=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,i=qk.BigNumber.from("1500000000"),o=e.baseFeePerGas.mul(2).add(i)),{lastBaseFeePerGas:n,maxFeePerGas:o,maxPriorityFeePerGas:i,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}};d();l();var qo=j(yo()),bi=j(cn());d();l();var jk="abstract-signer/5.7.0";var Vo=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(h){try{u(n.next(h))}catch(f){s(f)}}function c(h){try{u(n.throw(h))}catch(f){s(f)}}function u(h){h.done?i(h.value):o(h.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},mo=new bi.Logger(jk),bj=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],xj=[bi.Logger.errors.INSUFFICIENT_FUNDS,bi.Logger.errors.NONCE_EXPIRED,bi.Logger.errors.REPLACEMENT_UNDERPRICED],D0=class t{constructor(){mo.checkAbstract(new.target,t),(0,qo.defineReadOnly)(this,"_isSigner",!0)}getBalance(e){return Vo(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Vo(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Vo(this,void 0,void 0,function*(){this._checkProvider("estimateGas");let r=yield(0,qo.resolveProperties)(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Vo(this,void 0,void 0,function*(){this._checkProvider("call");let n=yield(0,qo.resolveProperties)(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Vo(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");let r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Vo(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Vo(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Vo(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Vo(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(let n in e)bj.indexOf(n)===-1&&mo.throwArgumentError("invalid transaction key: "+n,"transaction",e);let r=(0,qo.shallowCopy)(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&mo.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Vo(this,void 0,void 0,function*(){let r=yield(0,qo.resolveProperties)(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(o=>Vo(this,void 0,void 0,function*(){if(o==null)return null;let i=yield this.resolveName(o);return i==null&&mo.throwArgumentError("provided ENS name resolves to null","tx.to",o),i})),r.to.catch(o=>{}));let n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?mo.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&mo.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{let o=yield this.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){let i=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=i,r.maxPriorityFeePerGas=i}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(n&&mo.throwError("network does not support EIP-1559",bi.Logger.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):mo.throwError("failed to get consistent fee data",bi.Logger.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(o=>{if(xj.indexOf(o.code)>=0)throw o;return mo.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",bi.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:o,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(o=>(o[1]!==0&&o[0]!==o[1]&&mo.throwArgumentError("chainId address mismatch","transaction",e),o[0])),yield(0,qo.resolveProperties)(r)})}_checkProvider(e){this.provider||mo.throwError("missing provider",bi.Logger.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}},Wk=class t extends D0{constructor(e,r){super(),(0,qo.defineReadOnly)(this,"address",e),(0,qo.defineReadOnly)(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{mo.throwError(e,bi.Logger.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new t(this.address,e)}};var jo=j(vr()),q0=j(gA());d();l();d();l();var bA=j(vr()),N0=j(yo()),Lm=class{constructor(e){(0,N0.defineReadOnly)(this,"alphabet",e),(0,N0.defineReadOnly)(this,"base",e.length),(0,N0.defineReadOnly)(this,"_alphabetMap",{}),(0,N0.defineReadOnly)(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=(0,bA.arrayify)(e);if(r.length===0)return"";let n=[0];for(let i=0;i<r.length;++i){let s=r[i];for(let a=0;a<n.length;++a)s+=n[a]<<8,n[a]=s%this.base,s=s/this.base|0;for(;s>0;)n.push(s%this.base),s=s/this.base|0}let o="";for(let i=0;r[i]===0&&i<r.length-1;++i)o+=this._leader;for(let i=n.length-1;i>=0;--i)o+=this.alphabet[n[i]];return o}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let o=this._alphabetMap[e[n]];if(o===void 0)throw new Error("Non-base"+this.base+" character");let i=o;for(let s=0;s<r.length;++s)i+=r[s]*this.base,r[s]=i&255,i>>=8;for(;i>0;)r.push(i&255),i>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return(0,bA.arrayify)(new Uint8Array(r.reverse()))}},Eye=new Lm("abcdefghijklmnopqrstuvwxyz234567"),xA=new Lm("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var tt=j(vr()),HA=j(qu()),tu=j(va());d();l();d();l();var Ia=j(vr()),SA=j(AA());function Xc(t,e,r,n,o){t=(0,Ia.arrayify)(t),e=(0,Ia.arrayify)(e);let i,s=1,a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let u,h;for(let f=1;f<=s;f++){c[e.length]=f>>24&255,c[e.length+1]=f>>16&255,c[e.length+2]=f>>8&255,c[e.length+3]=f&255;let p=(0,Ia.arrayify)((0,SA.computeHmac)(o,t,c));i||(i=p.length,h=new Uint8Array(i),s=Math.ceil(n/i),u=n-(s-1)*i),h.set(p);for(let x=1;x<r;x++){p=(0,Ia.arrayify)((0,SA.computeHmac)(o,t,p));for(let w=0;w<i;w++)h[w]^=p[w]}let m=(f-1)*i,g=f===s?u:i;a.set((0,Ia.arrayify)(h).slice(0,g),m)}return(0,Ia.hexlify)(a)}var Hr=j(yo());d();l();d();l();var Ce=j(M1()),Ai=j(v6());function Vf(t,e,r){return r={path:e,exports:{},require:function(n,o){return sG(n,o??r.path)}},t(r,r.exports),r.exports}function sG(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var kA=WT;function WT(t,e){if(!t)throw new Error(e||"Assertion failed")}WT.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var zo=Vf(function(t,e){"use strict";var r=e;function n(s,a){if(Array.isArray(s))return s.slice();if(!s)return[];var c=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)c[u]=s[u]|0;return c}if(a==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)c.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var h=s.charCodeAt(u),f=h>>8,p=h&255;f?c.push(f,p):c.push(p)}return c}r.toArray=n;function o(s){return s.length===1?"0"+s:s}r.zero2=o;function i(s){for(var a="",c=0;c<s.length;c++)a+=o(s[c].toString(16));return a}r.toHex=i,r.encode=function(a,c){return c==="hex"?i(a):a}}),Qn=Vf(function(t,e){"use strict";var r=e;r.assert=kA,r.toArray=zo.toArray,r.zero2=zo.zero2,r.toHex=zo.toHex,r.encode=zo.encode;function n(c,u,h){var f=new Array(Math.max(c.bitLength(),h)+1);f.fill(0);for(var p=1<<u+1,m=c.clone(),g=0;g<f.length;g++){var x,w=m.andln(p-1);m.isOdd()?(w>(p>>1)-1?x=(p>>1)-w:x=w,m.isubn(x)):x=0,f[g]=x,m.iushrn(1)}return f}r.getNAF=n;function o(c,u){var h=[[],[]];c=c.clone(),u=u.clone();for(var f=0,p=0,m;c.cmpn(-f)>0||u.cmpn(-p)>0;){var g=c.andln(3)+f&3,x=u.andln(3)+p&3;g===3&&(g=-1),x===3&&(x=-1);var w;g&1?(m=c.andln(7)+f&7,(m===3||m===5)&&x===2?w=-g:w=g):w=0,h[0].push(w);var S;x&1?(m=u.andln(7)+p&7,(m===3||m===5)&&g===2?S=-x:S=x):S=0,h[1].push(S),2*f===w+1&&(f=1-f),2*p===S+1&&(p=1-p),c.iushrn(1),u.iushrn(1)}return h}r.getJSF=o;function i(c,u,h){var f="_"+u;c.prototype[u]=function(){return this[f]!==void 0?this[f]:this[f]=h.call(this)}}r.cachedProperty=i;function s(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=s;function a(c){return new Ce.default(c,"hex","le")}r.intFromLE=a}),Vm=Qn.getNAF,aG=Qn.getJSF,qm=Qn.assert;function Ta(t,e){this.type=t,this.p=new Ce.default(e.p,16),this.red=e.prime?Ce.default.red(e.prime):Ce.default.mont(this.p),this.zero=new Ce.default(0).toRed(this.red),this.one=new Ce.default(1).toRed(this.red),this.two=new Ce.default(2).toRed(this.red),this.n=e.n&&new Ce.default(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Zc=Ta;Ta.prototype.point=function(){throw new Error("Not implemented")};Ta.prototype.validate=function(){throw new Error("Not implemented")};Ta.prototype._fixedNafMul=function(e,r){qm(e.precomputed);var n=e._getDoubles(),o=Vm(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var s=[],a,c;for(a=0;a<o.length;a+=n.step){c=0;for(var u=a+n.step-1;u>=a;u--)c=(c<<1)+o[u];s.push(c)}for(var h=this.jpoint(null,null,null),f=this.jpoint(null,null,null),p=i;p>0;p--){for(a=0;a<s.length;a++)c=s[a],c===p?f=f.mixedAdd(n.points[a]):c===-p&&(f=f.mixedAdd(n.points[a].neg()));h=h.add(f)}return h.toP()};Ta.prototype._wnafMul=function(e,r){var n=4,o=e._getNAFPoints(n);n=o.wnd;for(var i=o.points,s=Vm(r,n,this._bitLength),a=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var u=0;c>=0&&s[c]===0;c--)u++;if(c>=0&&u++,a=a.dblp(u),c<0)break;var h=s[c];qm(h!==0),e.type==="affine"?h>0?a=a.mixedAdd(i[h-1>>1]):a=a.mixedAdd(i[-h-1>>1].neg()):h>0?a=a.add(i[h-1>>1]):a=a.add(i[-h-1>>1].neg())}return e.type==="affine"?a.toP():a};Ta.prototype._wnafMulAdd=function(e,r,n,o,i){var s=this._wnafT1,a=this._wnafT2,c=this._wnafT3,u=0,h,f,p;for(h=0;h<o;h++){p=r[h];var m=p._getNAFPoints(e);s[h]=m.wnd,a[h]=m.points}for(h=o-1;h>=1;h-=2){var g=h-1,x=h;if(s[g]!==1||s[x]!==1){c[g]=Vm(n[g],s[g],this._bitLength),c[x]=Vm(n[x],s[x],this._bitLength),u=Math.max(c[g].length,u),u=Math.max(c[x].length,u);continue}var w=[r[g],null,null,r[x]];r[g].y.cmp(r[x].y)===0?(w[1]=r[g].add(r[x]),w[2]=r[g].toJ().mixedAdd(r[x].neg())):r[g].y.cmp(r[x].y.redNeg())===0?(w[1]=r[g].toJ().mixedAdd(r[x]),w[2]=r[g].add(r[x].neg())):(w[1]=r[g].toJ().mixedAdd(r[x]),w[2]=r[g].toJ().mixedAdd(r[x].neg()));var S=[-3,-1,-5,-7,0,7,5,1,3],k=aG(n[g],n[x]);for(u=Math.max(k[0].length,u),c[g]=new Array(u),c[x]=new Array(u),f=0;f<u;f++){var A=k[0][f]|0,T=k[1][f]|0;c[g][f]=S[(A+1)*3+(T+1)],c[x][f]=0,a[g]=w}}var C=this.jpoint(null,null,null),W=this._wnafT4;for(h=u;h>=0;h--){for(var oe=0;h>=0;){var Y=!0;for(f=0;f<o;f++)W[f]=c[f][h]|0,W[f]!==0&&(Y=!1);if(!Y)break;oe++,h--}if(h>=0&&oe++,C=C.dblp(oe),h<0)break;for(f=0;f<o;f++){var G=W[f];G!==0&&(G>0?p=a[f][G-1>>1]:G<0&&(p=a[f][-G-1>>1].neg()),p.type==="affine"?C=C.mixedAdd(p):C=C.add(p))}}for(h=0;h<o;h++)a[h]=null;return i?C:C.toP()};function Ao(t,e){this.curve=t,this.type=e,this.precomputed=null}Ta.BasePoint=Ao;Ao.prototype.eq=function(){throw new Error("Not implemented")};Ao.prototype.validate=function(){return this.curve.validate(this)};Ta.prototype.decodePoint=function(e,r){e=Qn.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?qm(e[e.length-1]%2===0):e[0]===7&&qm(e[e.length-1]%2===1);var o=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return o}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ao.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ao.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Ao.prototype.encode=function(e,r){return Qn.encode(this._encode(r),e)};Ao.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Ao.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Ao.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],o=this,i=0;i<r;i+=e){for(var s=0;s<e;s++)o=o.dbl();n.push(o)}return{step:e,points:n}};Ao.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,o=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(o);return{wnd:e,points:r}};Ao.prototype._getBeta=function(){return null};Ao.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var TA=Vf(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var o=function(){};o.prototype=n.prototype,r.prototype=new o,r.prototype.constructor=r}}}),cG=Qn.assert;function So(t){Zc.call(this,"short",t),this.a=new Ce.default(t.a,16).toRed(this.red),this.b=new Ce.default(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}TA(So,Zc);var uG=So;So.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Ce.default(e.beta,16).toRed(this.red);else{var o=this._getEndoRoots(this.p);r=o[0].cmp(o[1])<0?o[0]:o[1],r=r.toRed(this.red)}if(e.lambda)n=new Ce.default(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],cG(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var s;return e.basis?s=e.basis.map(function(a){return{a:new Ce.default(a.a,16),b:new Ce.default(a.b,16)}}):s=this._getEndoBasis(n),{beta:r,lambda:n,basis:s}}};So.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ce.default.mont(e),n=new Ce.default(2).toRed(r).redInvm(),o=n.redNeg(),i=new Ce.default(3).toRed(r).redNeg().redSqrt().redMul(n),s=o.redAdd(i).fromRed(),a=o.redSub(i).fromRed();return[s,a]};So.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,o=this.n.clone(),i=new Ce.default(1),s=new Ce.default(0),a=new Ce.default(0),c=new Ce.default(1),u,h,f,p,m,g,x,w=0,S,k;n.cmpn(0)!==0;){var A=o.div(n);S=o.sub(A.mul(n)),k=a.sub(A.mul(i));var T=c.sub(A.mul(s));if(!f&&S.cmp(r)<0)u=x.neg(),h=i,f=S.neg(),p=k;else if(f&&++w===2)break;x=S,o=n,n=S,a=i,i=k,c=s,s=T}m=S.neg(),g=k;var C=f.sqr().add(p.sqr()),W=m.sqr().add(g.sqr());return W.cmp(C)>=0&&(m=u,g=h),f.negative&&(f=f.neg(),p=p.neg()),m.negative&&(m=m.neg(),g=g.neg()),[{a:f,b:p},{a:m,b:g}]};So.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],o=r[1],i=o.b.mul(e).divRound(this.n),s=n.b.neg().mul(e).divRound(this.n),a=i.mul(n.a),c=s.mul(o.a),u=i.mul(n.b),h=s.mul(o.b),f=e.sub(a).sub(c),p=u.add(h).neg();return{k1:f,k2:p}};So.prototype.pointFromX=function(e,r){e=new Ce.default(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),o=n.redSqrt();if(o.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=o.fromRed().isOdd();return(r&&!i||!r&&i)&&(o=o.redNeg()),this.point(e,o)};So.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,o=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(o).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};So.prototype._endoWnafMulAdd=function(e,r,n){for(var o=this._endoWnafT1,i=this._endoWnafT2,s=0;s<e.length;s++){var a=this._endoSplit(r[s]),c=e[s],u=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),o[s*2]=c,o[s*2+1]=u,i[s*2]=a.k1,i[s*2+1]=a.k2}for(var h=this._wnafMulAdd(1,o,i,s*2,n),f=0;f<s*2;f++)o[f]=null,i[f]=null;return h};function Br(t,e,r,n){Zc.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ce.default(e,16),this.y=new Ce.default(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}TA(Br,Zc.BasePoint);So.prototype.point=function(e,r,n){return new Br(this,e,r,n)};So.prototype.pointFromJSON=function(e,r){return Br.fromJSON(this,e,r)};Br.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,o=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(o)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(o)}}}return r}};Br.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Br.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var o=e.point(r[0],r[1],n);if(!r[2])return o;function i(a){return e.point(a[0],a[1],n)}var s=r[2];return o.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[o].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[o].concat(s.naf.points.map(i))}},o};Br.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Br.prototype.isInfinity=function(){return this.inf};Br.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),o=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,o)};Br.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),o=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(o),s=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,a)};Br.prototype.getX=function(){return this.x.fromRed()};Br.prototype.getY=function(){return this.y.fromRed()};Br.prototype.mul=function(e){return e=new Ce.default(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Br.prototype.mulAdd=function(e,r,n){var o=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i):this.curve._wnafMulAdd(1,o,i,2)};Br.prototype.jmulAdd=function(e,r,n){var o=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(o,i,!0):this.curve._wnafMulAdd(1,o,i,2,!0)};Br.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Br.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,o=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(o)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(o)}}}return r};Br.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Fr(t,e,r,n){Zc.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ce.default(0)):(this.x=new Ce.default(e,16),this.y=new Ce.default(r,16),this.z=new Ce.default(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}TA(Fr,Zc.BasePoint);So.prototype.jpoint=function(e,r,n){return new Fr(this,e,r,n)};Fr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),o=this.y.redMul(r).redMul(e);return this.curve.point(n,o)};Fr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Fr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),o=this.x.redMul(r),i=e.x.redMul(n),s=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=o.redSub(i),u=s.redSub(a);if(c.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=c.redSqr(),f=h.redMul(c),p=o.redMul(h),m=u.redSqr().redIAdd(f).redISub(p).redISub(p),g=u.redMul(p.redISub(m)).redISub(s.redMul(f)),x=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(m,g,x)};Fr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,o=e.x.redMul(r),i=this.y,s=e.y.redMul(r).redMul(this.z),a=n.redSub(o),c=i.redSub(s);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),h=u.redMul(a),f=n.redMul(u),p=c.redSqr().redIAdd(h).redISub(f).redISub(f),m=c.redMul(f.redISub(p)).redISub(i.redMul(h)),g=this.z.redMul(a);return this.curve.jpoint(p,m,g)};Fr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var o=this.curve.a,i=this.curve.tinv,s=this.x,a=this.y,c=this.z,u=c.redSqr().redSqr(),h=a.redAdd(a);for(r=0;r<e;r++){var f=s.redSqr(),p=h.redSqr(),m=p.redSqr(),g=f.redAdd(f).redIAdd(f).redIAdd(o.redMul(u)),x=s.redMul(p),w=g.redSqr().redISub(x.redAdd(x)),S=x.redISub(w),k=g.redMul(S);k=k.redIAdd(k).redISub(m);var A=h.redMul(c);r+1<e&&(u=u.redMul(m)),s=w,c=A,h=k}return this.curve.jpoint(s,h.redMul(i),c)};Fr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Fr.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(o).redISub(s);a=a.redIAdd(a);var c=o.redAdd(o).redIAdd(o),u=c.redSqr().redISub(a).redISub(a),h=s.redIAdd(s);h=h.redIAdd(h),h=h.redIAdd(h),e=u,r=c.redMul(a.redISub(u)).redISub(h),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),p=this.y.redSqr(),m=p.redSqr(),g=this.x.redAdd(p).redSqr().redISub(f).redISub(m);g=g.redIAdd(g);var x=f.redAdd(f).redIAdd(f),w=x.redSqr(),S=m.redIAdd(m);S=S.redIAdd(S),S=S.redIAdd(S),e=w.redISub(g).redISub(g),r=x.redMul(g.redISub(e)).redISub(S),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Fr.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var o=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(o).redISub(s);a=a.redIAdd(a);var c=o.redAdd(o).redIAdd(o).redIAdd(this.curve.a),u=c.redSqr().redISub(a).redISub(a);e=u;var h=s.redIAdd(s);h=h.redIAdd(h),h=h.redIAdd(h),r=c.redMul(a.redISub(u)).redISub(h),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),p=this.y.redSqr(),m=this.x.redMul(p),g=this.x.redSub(f).redMul(this.x.redAdd(f));g=g.redAdd(g).redIAdd(g);var x=m.redIAdd(m);x=x.redIAdd(x);var w=x.redAdd(x);e=g.redSqr().redISub(w),n=this.y.redAdd(this.z).redSqr().redISub(p).redISub(f);var S=p.redSqr();S=S.redIAdd(S),S=S.redIAdd(S),S=S.redIAdd(S),r=g.redMul(x.redISub(e)).redISub(S)}return this.curve.jpoint(e,r,n)};Fr.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,o=this.z,i=o.redSqr().redSqr(),s=r.redSqr(),a=n.redSqr(),c=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(i)),u=r.redAdd(r);u=u.redIAdd(u);var h=u.redMul(a),f=c.redSqr().redISub(h.redAdd(h)),p=h.redISub(f),m=a.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var g=c.redMul(p).redISub(m),x=n.redAdd(n).redMul(o);return this.curve.jpoint(f,g,x)};Fr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),o=r.redSqr(),i=e.redAdd(e).redIAdd(e),s=i.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(o);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(s);var c=a.redSqr(),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var h=i.redIAdd(a).redSqr().redISub(s).redISub(c).redISub(u),f=r.redMul(h);f=f.redIAdd(f),f=f.redIAdd(f);var p=this.x.redMul(c).redISub(f);p=p.redIAdd(p),p=p.redIAdd(p);var m=this.y.redMul(h.redMul(u.redISub(h)).redISub(a.redMul(c)));m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m);var g=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(p,m,g)};Fr.prototype.mul=function(e,r){return e=new Ce.default(e,r),this.curve._wnafMul(this,e)};Fr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var o=r.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(o)).cmpn(0)===0};Fr.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var o=e.clone(),i=this.curve.redN.redMul(r);;){if(o.iadd(this.curve.n),o.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};Fr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Fr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Hm=Vf(function(t,e){"use strict";var r=e;r.base=Zc,r.short=uG,r.mont=null,r.edwards=null}),Km=Vf(function(t,e){"use strict";var r=e,n=Qn.assert;function o(a){a.type==="short"?this.curve=new Hm.short(a):a.type==="edwards"?this.curve=new Hm.edwards(a):this.curve=new Hm.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=o;function i(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var u=new o(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:u}),u}})}i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ai.default.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ai.default.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ai.default.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ai.default.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ai.default.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ai.default.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ai.default.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var s;try{s=null.crash()}catch{s=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ai.default.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",s]})});function ka(t){if(!(this instanceof ka))return new ka(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=zo.toArray(t.entropy,t.entropyEnc||"hex"),r=zo.toArray(t.nonce,t.nonceEnc||"hex"),n=zo.toArray(t.pers,t.persEnc||"hex");kA(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var GT=ka;ka.prototype._init=function(e,r,n){var o=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(o),this._reseed=1,this.reseedInterval=281474976710656};ka.prototype._hmac=function(){return new Ai.default.hmac(this.hash,this.K)};ka.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};ka.prototype.reseed=function(e,r,n,o){typeof r!="string"&&(o=n,n=r,r=null),e=zo.toArray(e,r),n=zo.toArray(n,o),kA(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};ka.prototype.generate=function(e,r,n,o){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(o=n,n=r,r=null),n&&(n=zo.toArray(n,o||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,e);return this._update(n),this._reseed++,zo.encode(s,r)};var IA=Qn.assert;function tn(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var _A=tn;tn.fromPublic=function(e,r,n){return r instanceof tn?r:new tn(e,{pub:r,pubEnc:n})};tn.fromPrivate=function(e,r,n){return r instanceof tn?r:new tn(e,{priv:r,privEnc:n})};tn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};tn.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};tn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};tn.prototype._importPrivate=function(e,r){this.priv=new Ce.default(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};tn.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?IA(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&IA(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};tn.prototype.derive=function(e){return e.validate()||IA(e.validate(),"public point not validated"),e.mul(this.priv).getX()};tn.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};tn.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};tn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var fG=Qn.assert;function zm(t,e){if(t instanceof zm)return t;this._importDER(t,e)||(fG(t.r&&t.s,"Signature without r or s"),this.r=new Ce.default(t.r,16),this.s=new Ce.default(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var jm=zm;function dG(){this.place=0}function vA(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var o=0,i=0,s=e.place;i<n;i++,s++)o<<=8,o|=t[s],o>>>=0;return o<=127?!1:(e.place=s,o)}function jT(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}zm.prototype._importDER=function(e,r){e=Qn.toArray(e,r);var n=new dG;if(e[n.place++]!==48)return!1;var o=vA(e,n);if(o===!1||o+n.place!==e.length||e[n.place++]!==2)return!1;var i=vA(e,n);if(i===!1)return!1;var s=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var a=vA(e,n);if(a===!1||e.length!==a+n.place)return!1;var c=e.slice(n.place,a+n.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Ce.default(s),this.s=new Ce.default(c),this.recoveryParam=null,!0};function EA(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}zm.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=jT(r),n=jT(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var o=[2];EA(o,r.length),o=o.concat(r),o.push(2),EA(o,n.length);var i=o.concat(n),s=[48];return EA(s,i.length),s=s.concat(i),Qn.encode(s,e)};var lG=function(){throw new Error("unsupported")},$T=Qn.assert;function wo(t){if(!(this instanceof wo))return new wo(t);typeof t=="string"&&($T(Object.prototype.hasOwnProperty.call(Km,t),"Unknown curve "+t),t=Km[t]),t instanceof Km.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var hG=wo;wo.prototype.keyPair=function(e){return new _A(this,e)};wo.prototype.keyFromPrivate=function(e,r){return _A.fromPrivate(this,e,r)};wo.prototype.keyFromPublic=function(e,r){return _A.fromPublic(this,e,r)};wo.prototype.genKeyPair=function(e){e||(e={});for(var r=new GT({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||lG(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new Ce.default(2));;){var i=new Ce.default(r.generate(n));if(!(i.cmp(o)>0))return i.iaddn(1),this.keyFromPrivate(i)}};wo.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};wo.prototype.sign=function(e,r,n,o){typeof n=="object"&&(o=n,n=null),o||(o={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Ce.default(e,16));for(var i=this.n.byteLength(),s=r.getPrivate().toArray("be",i),a=e.toArray("be",i),c=new GT({hash:this.hash,entropy:s,nonce:a,pers:o.pers,persEnc:o.persEnc||"utf8"}),u=this.n.sub(new Ce.default(1)),h=0;;h++){var f=o.k?o.k(h):new Ce.default(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(u)>=0)){var p=this.g.mul(f);if(!p.isInfinity()){var m=p.getX(),g=m.umod(this.n);if(g.cmpn(0)!==0){var x=f.invm(this.n).mul(g.mul(r.getPrivate()).iadd(e));if(x=x.umod(this.n),x.cmpn(0)!==0){var w=(p.getY().isOdd()?1:0)|(m.cmp(g)!==0?2:0);return o.canonical&&x.cmp(this.nh)>0&&(x=this.n.sub(x),w^=1),new jm({r:g,s:x,recoveryParam:w})}}}}}};wo.prototype.verify=function(e,r,n,o){e=this._truncateToN(new Ce.default(e,16)),n=this.keyFromPublic(n,o),r=new jm(r,"hex");var i=r.r,s=r.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),c=a.mul(e).umod(this.n),u=a.mul(i).umod(this.n),h;return this.curve._maxwellTrick?(h=this.g.jmulAdd(c,n.getPublic(),u),h.isInfinity()?!1:h.eqXToP(i)):(h=this.g.mulAdd(c,n.getPublic(),u),h.isInfinity()?!1:h.getX().umod(this.n).cmp(i)===0)};wo.prototype.recoverPubKey=function(t,e,r,n){$T((3&r)===r,"The recovery param is more than two bits"),e=new jm(e,n);var o=this.n,i=new Ce.default(t),s=e.r,a=e.s,c=r&1,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?s=this.curve.pointFromX(s.add(this.curve.n),c):s=this.curve.pointFromX(s,c);var h=e.r.invm(o),f=o.sub(i).mul(h).umod(o),p=a.mul(h).umod(o);return this.g.mulAdd(f,s,p)};wo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new jm(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var o=0;o<4;o++){var i;try{i=this.recoverPubKey(t,e,o)}catch{continue}if(i.eq(r))return o}throw new Error("Unable to find valid recovery factor")};var pG=Vf(function(t,e){"use strict";var r=e;r.version="6.5.4",r.utils=Qn,r.rand=function(){throw new Error("unsupported")},r.curve=Hm,r.curves=Km,r.ec=hG,r.eddsa=null}),QT=pG.ec;var Ct=j(vr()),qf=j(yo()),JT=j(cn());d();l();var YT="signing-key/5.7.0";var BA=new JT.Logger(YT),PA=null;function Si(){return PA||(PA=new QT("secp256k1")),PA}var vi=class{constructor(e){(0,qf.defineReadOnly)(this,"curve","secp256k1"),(0,qf.defineReadOnly)(this,"privateKey",(0,Ct.hexlify)(e)),(0,Ct.hexDataLength)(this.privateKey)!==32&&BA.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");let r=Si().keyFromPrivate((0,Ct.arrayify)(this.privateKey));(0,qf.defineReadOnly)(this,"publicKey","0x"+r.getPublic(!1,"hex")),(0,qf.defineReadOnly)(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),(0,qf.defineReadOnly)(this,"_isSigningKey",!0)}_addPoint(e){let r=Si().keyFromPublic((0,Ct.arrayify)(this.publicKey)),n=Si().keyFromPublic((0,Ct.arrayify)(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){let r=Si().keyFromPrivate((0,Ct.arrayify)(this.privateKey)),n=(0,Ct.arrayify)(e);n.length!==32&&BA.throwArgumentError("bad digest length","digest",e);let o=r.sign(n,{canonical:!0});return(0,Ct.splitSignature)({recoveryParam:o.recoveryParam,r:(0,Ct.hexZeroPad)("0x"+o.r.toString(16),32),s:(0,Ct.hexZeroPad)("0x"+o.s.toString(16),32)})}computeSharedSecret(e){let r=Si().keyFromPrivate((0,Ct.arrayify)(this.privateKey)),n=Si().keyFromPublic((0,Ct.arrayify)(CA(e)));return(0,Ct.hexZeroPad)("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function XT(t,e){let r=(0,Ct.splitSignature)(e),n={r:(0,Ct.arrayify)(r.r),s:(0,Ct.arrayify)(r.s)};return"0x"+Si().recoverPubKey((0,Ct.arrayify)(t),n,r.recoveryParam).encode("hex",!1)}function CA(t,e){let r=(0,Ct.arrayify)(t);if(r.length===32){let n=new vi(r);return e?"0x"+Si().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?(0,Ct.hexlify)(r):"0x"+Si().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+Si().keyFromPublic(r).getPublic(!0,"hex"):(0,Ct.hexlify)(r)}return BA.throwArgumentError("invalid public or private key","key","[REDACTED]")}var Dn=j(AA());d();l();var zf=j(pl()),_a=j(qu()),Pe=j(vr()),t_=j(tA()),eu=j(Ms()),r_=j(yo()),Ei=j(rU());var Wm=j(cn());d();l();var ZT="transactions/5.7.0";var nn=new Wm.Logger(ZT),e_;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(e_||(e_={}));function DA(t){return t==="0x"?null:(0,zf.getAddress)(t)}function rn(t){return t==="0x"?t_.Zero:_a.BigNumber.from(t)}var yG=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],mG={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Ii(t){let e=CA(t);return(0,zf.getAddress)((0,Pe.hexDataSlice)((0,eu.keccak256)((0,Pe.hexDataSlice)(e,1)),12))}function RA(t,e){return Ii(XT((0,Pe.arrayify)(t),e))}function Yn(t,e){let r=(0,Pe.stripZeros)(_a.BigNumber.from(t).toHexString());return r.length>32&&nn.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function OA(t,e){return{address:(0,zf.getAddress)(t),storageKeys:(e||[]).map((r,n)=>((0,Pe.hexDataLength)(r)!==32&&nn.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function NA(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&nn.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),OA(r[0],r[1])):OA(r.address,r.storageKeys));let e=Object.keys(t).map(r=>{let n=t[r].reduce((o,i)=>(o[i]=!0,o),{});return OA(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function n_(t){return NA(t).map(e=>[e.address,e.storageKeys])}function o_(t,e){if(t.gasPrice!=null){let n=_a.BigNumber.from(t.gasPrice),o=_a.BigNumber.from(t.maxFeePerGas||0);n.eq(o)||nn.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:o})}let r=[Yn(t.chainId||0,"chainId"),Yn(t.nonce||0,"nonce"),Yn(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Yn(t.maxFeePerGas||0,"maxFeePerGas"),Yn(t.gasLimit||0,"gasLimit"),t.to!=null?(0,zf.getAddress)(t.to):"0x",Yn(t.value||0,"value"),t.data||"0x",n_(t.accessList||[])];if(e){let n=(0,Pe.splitSignature)(e);r.push(Yn(n.recoveryParam,"recoveryParam")),r.push((0,Pe.stripZeros)(n.r)),r.push((0,Pe.stripZeros)(n.s))}return(0,Pe.hexConcat)(["0x02",Ei.encode(r)])}function i_(t,e){let r=[Yn(t.chainId||0,"chainId"),Yn(t.nonce||0,"nonce"),Yn(t.gasPrice||0,"gasPrice"),Yn(t.gasLimit||0,"gasLimit"),t.to!=null?(0,zf.getAddress)(t.to):"0x",Yn(t.value||0,"value"),t.data||"0x",n_(t.accessList||[])];if(e){let n=(0,Pe.splitSignature)(e);r.push(Yn(n.recoveryParam,"recoveryParam")),r.push((0,Pe.stripZeros)(n.r)),r.push((0,Pe.stripZeros)(n.s))}return(0,Pe.hexConcat)(["0x01",Ei.encode(r)])}function gG(t,e){(0,r_.checkProperties)(t,mG);let r=[];yG.forEach(function(s){let a=t[s.name]||[],c={};s.numeric&&(c.hexPad="left"),a=(0,Pe.arrayify)((0,Pe.hexlify)(a,c)),s.length&&a.length!==s.length&&a.length>0&&nn.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a),s.maxLength&&(a=(0,Pe.stripZeros)(a),a.length>s.maxLength&&nn.throwArgumentError("invalid length for "+s.name,"transaction:"+s.name,a)),r.push((0,Pe.hexlify)(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&nn.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!(0,Pe.isBytesLike)(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push((0,Pe.hexlify)(n)),r.push("0x"),r.push("0x")),!e)return Ei.encode(r);let o=(0,Pe.splitSignature)(e),i=27+o.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),i+=n*2+8,o.v>28&&o.v!==i&&nn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):o.v!==i&&nn.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push((0,Pe.hexlify)(i)),r.push((0,Pe.stripZeros)((0,Pe.arrayify)(o.r))),r.push((0,Pe.stripZeros)((0,Pe.arrayify)(o.s))),Ei.encode(r)}function UA(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&nn.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),gG(t,e);switch(t.type){case 1:return i_(t,e);case 2:return o_(t,e);default:break}return nn.throwError(`unsupported transaction type: ${t.type}`,Wm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function s_(t,e,r){try{let n=rn(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{nn.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=(0,Pe.hexZeroPad)(e[1],32),t.s=(0,Pe.hexZeroPad)(e[2],32);try{let n=(0,eu.keccak256)(r(t));t.from=RA(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function bG(t){let e=Ei.decode(t.slice(1));e.length!==9&&e.length!==12&&nn.throwArgumentError("invalid component count for transaction type: 2","payload",(0,Pe.hexlify)(t));let r=rn(e[2]),n=rn(e[3]),o={type:2,chainId:rn(e[0]).toNumber(),nonce:rn(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:rn(e[4]),to:DA(e[5]),value:rn(e[6]),data:e[7],accessList:NA(e[8])};return e.length===9||(o.hash=(0,eu.keccak256)(t),s_(o,e.slice(9),o_)),o}function xG(t){let e=Ei.decode(t.slice(1));e.length!==8&&e.length!==11&&nn.throwArgumentError("invalid component count for transaction type: 1","payload",(0,Pe.hexlify)(t));let r={type:1,chainId:rn(e[0]).toNumber(),nonce:rn(e[1]).toNumber(),gasPrice:rn(e[2]),gasLimit:rn(e[3]),to:DA(e[4]),value:rn(e[5]),data:e[6],accessList:NA(e[7])};return e.length===8||(r.hash=(0,eu.keccak256)(t),s_(r,e.slice(8),i_)),r}function wG(t){let e=Ei.decode(t);e.length!==9&&e.length!==6&&nn.throwArgumentError("invalid raw transaction","rawTransaction",t);let r={nonce:rn(e[0]).toNumber(),gasPrice:rn(e[1]),gasLimit:rn(e[2]),to:DA(e[3]),value:rn(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=_a.BigNumber.from(e[6]).toNumber()}catch{return r}if(r.r=(0,Pe.hexZeroPad)(e[7],32),r.s=(0,Pe.hexZeroPad)(e[8],32),_a.BigNumber.from(r.r).isZero()&&_a.BigNumber.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27,o=e.slice(0,6);r.chainId!==0&&(o.push((0,Pe.hexlify)(r.chainId)),o.push("0x"),o.push("0x"),n-=r.chainId*2+8);let i=(0,eu.keccak256)(Ei.encode(o));try{r.from=RA(i,{r:(0,Pe.hexlify)(r.r),s:(0,Pe.hexlify)(r.s),recoveryParam:n})}catch{}r.hash=(0,eu.keccak256)(t)}return r.type=null,r}function ume(t){let e=(0,Pe.arrayify)(t);if(e[0]>127)return wG(e);switch(e[0]){case 1:return xG(e);case 2:return bG(e);default:break}return nn.throwError(`unsupported transaction type: ${e[0]}`,Wm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}d();l();d();l();var c_=j(gA()),LA=j(yo()),u_=j(cn());d();l();var a_="wordlists/5.7.0";var AG=!1,SG=new u_.Logger(a_),jf=class t{constructor(e){SG.checkAbstract(new.target,t),(0,LA.defineReadOnly)(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){let r=[];for(let n=0;n<2048;n++){let o=e.getWord(n);if(n!==e.getWordIndex(o))return"0x";r.push(o)}return(0,c_.id)(r.join(`
`)+`
`)}static register(e,r){if(r||(r=e.locale),AG)try{let n=self;n._ethers&&n._ethers.wordlists&&(n._ethers.wordlists[r]||(0,LA.defineReadOnly)(n._ethers.wordlists,r,e))}catch{}}};d();l();d();l();var vG="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo",F0=null;function f_(t){if(F0==null&&(F0=vG.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),jf.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw F0=null,new Error("BIP39 Wordlist for en (English) FAILED")}var MA=class extends jf{constructor(){super("en")}getWord(e){return f_(this),F0[e]}getWordIndex(e){return f_(this),F0.indexOf(e)}},FA=new MA;jf.register(FA);var Gm={en:FA};var h_=j(cn());d();l();var d_="hdnode/5.7.0";var Qm=new h_.Logger(d_),EG=HA.BigNumber.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),IG=(0,tu.toUtf8Bytes)("Bitcoin seed"),H0=2147483648;function p_(t){return(1<<t)-1<<8-t}function kG(t){return(1<<t)-1}function $m(t){return(0,tt.hexZeroPad)((0,tt.hexlify)(t),32)}function l_(t){return xA.encode((0,tt.concat)([t,(0,tt.hexDataSlice)((0,Dn.sha256)((0,Dn.sha256)(t)),0,4)]))}function KA(t){if(t==null)return Gm.en;if(typeof t=="string"){let e=Gm[t];return e==null&&Qm.throwArgumentError("unknown locale","wordlist",t),e}return t}var Wf={},ru="m/44'/60'/0'/0/0",Pa=class t{constructor(e,r,n,o,i,s,a,c){if(e!==Wf)throw new Error("HDNode constructor cannot be called directly");if(r){let u=new vi(r);(0,Hr.defineReadOnly)(this,"privateKey",u.privateKey),(0,Hr.defineReadOnly)(this,"publicKey",u.compressedPublicKey)}else(0,Hr.defineReadOnly)(this,"privateKey",null),(0,Hr.defineReadOnly)(this,"publicKey",(0,tt.hexlify)(n));(0,Hr.defineReadOnly)(this,"parentFingerprint",o),(0,Hr.defineReadOnly)(this,"fingerprint",(0,tt.hexDataSlice)((0,Dn.ripemd160)((0,Dn.sha256)(this.publicKey)),0,4)),(0,Hr.defineReadOnly)(this,"address",Ii(this.publicKey)),(0,Hr.defineReadOnly)(this,"chainCode",i),(0,Hr.defineReadOnly)(this,"index",s),(0,Hr.defineReadOnly)(this,"depth",a),c==null?((0,Hr.defineReadOnly)(this,"mnemonic",null),(0,Hr.defineReadOnly)(this,"path",null)):typeof c=="string"?((0,Hr.defineReadOnly)(this,"mnemonic",null),(0,Hr.defineReadOnly)(this,"path",c)):((0,Hr.defineReadOnly)(this,"mnemonic",c),(0,Hr.defineReadOnly)(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return l_((0,tt.concat)([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",(0,tt.hexlify)(this.depth),this.parentFingerprint,(0,tt.hexZeroPad)((0,tt.hexlify)(this.index),4),this.chainCode,this.privateKey!=null?(0,tt.concat)(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new t(Wf,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~H0));let n=new Uint8Array(37);if(e&H0){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set((0,tt.arrayify)(this.privateKey),1),r&&(r+="'")}else n.set((0,tt.arrayify)(this.publicKey));for(let f=24;f>=0;f-=8)n[33+(f>>3)]=e>>24-f&255;let o=(0,tt.arrayify)((0,Dn.computeHmac)(Dn.SupportedAlgorithm.sha512,this.chainCode,n)),i=o.slice(0,32),s=o.slice(32),a=null,c=null;this.privateKey?a=$m(HA.BigNumber.from(i).add(this.privateKey).mod(EG)):c=new vi((0,tt.hexlify)(i))._addPoint(this.publicKey);let u=r,h=this.mnemonic;return h&&(u=Object.freeze({phrase:h.phrase,path:r,locale:h.locale||"en"})),new t(Wf,a,c,this.fingerprint,$m(s),e,this.depth+1,u)}derivePath(e){let r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let o=0;o<r.length;o++){let i=r[o];if(i.match(/^[0-9]+'$/)){let s=parseInt(i.substring(0,i.length-1));if(s>=H0)throw new Error("invalid path index - "+i);n=n._derive(H0+s)}else if(i.match(/^[0-9]+$/)){let s=parseInt(i);if(s>=H0)throw new Error("invalid path index - "+i);n=n._derive(s)}else throw new Error("invalid path component - "+i)}return n}static _fromSeed(e,r){let n=(0,tt.arrayify)(e);if(n.length<16||n.length>64)throw new Error("invalid seed");let o=(0,tt.arrayify)((0,Dn.computeHmac)(Dn.SupportedAlgorithm.sha512,IG,n));return new t(Wf,$m(o.slice(0,32)),null,"0x00000000",$m(o.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=KA(n),e=K0(VA(e,n),n),t._fromSeed(TG(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return t._fromSeed(e,null)}static fromExtendedKey(e){let r=xA.decode(e);(r.length!==82||l_(r.slice(0,78))!==e)&&Qm.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");let n=r[4],o=(0,tt.hexlify)(r.slice(5,9)),i=parseInt((0,tt.hexlify)(r.slice(9,13)).substring(2),16),s=(0,tt.hexlify)(r.slice(13,45)),a=r.slice(45,78);switch((0,tt.hexlify)(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new t(Wf,null,(0,tt.hexlify)(a),o,s,i,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new t(Wf,(0,tt.hexlify)(a.slice(1)),null,o,s,i,n,null)}return Qm.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function TG(t,e){e||(e="");let r=(0,tu.toUtf8Bytes)("mnemonic"+e,tu.UnicodeNormalizationForm.NFKD);return Xc((0,tu.toUtf8Bytes)(t,tu.UnicodeNormalizationForm.NFKD),r,2048,64,"sha512")}function VA(t,e){e=KA(e),Qm.checkNormalize();let r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");let n=(0,tt.arrayify)(new Uint8Array(Math.ceil(11*r.length/8))),o=0;for(let u=0;u<r.length;u++){let h=e.getWordIndex(r[u].normalize("NFKD"));if(h===-1)throw new Error("invalid mnemonic");for(let f=0;f<11;f++)h&1<<10-f&&(n[o>>3]|=1<<7-o%8),o++}let i=32*r.length/3,s=r.length/3,a=p_(s);if(((0,tt.arrayify)((0,Dn.sha256)(n.slice(0,i/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return(0,tt.hexlify)(n.slice(0,i/8))}function K0(t,e){if(e=KA(e),t=(0,tt.arrayify)(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");let r=[0],n=11;for(let s=0;s<t.length;s++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[s],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[s]>>8-n,r.push(t[s]&kG(8-n)),n+=3);let o=t.length/4,i=(0,tt.arrayify)((0,Dn.sha256)(t))[0]&p_(o);return r[r.length-1]<<=o,r[r.length-1]|=i>>8-o,e.join(r.map(s=>e.getWord(s)))}var sS=j(Ms()),vo=j(yo());d();l();d();l();var g_=j(vr()),zA=j(cn());d();l();var y_="random/5.7.0";var qA=new zA.Logger(y_);function _G(){if(typeof self<"u"||typeof self<"u"||typeof self<"u")return self;throw new Error("unable to locate global object")}var m_=_G(),Ym=m_.crypto||m_.msCrypto;(!Ym||!Ym.getRandomValues)&&(qA.warn("WARNING: Missing strong random number source"),Ym={getRandomValues:function(t){return qA.throwError("no secure random source avaialble",zA.Logger.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Ba(t){(t<=0||t>1024||t%1||t!=t)&&qA.throwArgumentError("invalid length","length",t);let e=new Uint8Array(t);return Ym.getRandomValues(e),(0,g_.arrayify)(e)}d();l();d();l();var GA=j(WA()),w_=j(pl()),$A=j(vr()),A_=j(Ms());var S_=j(va()),v_=j(yo()),E_=j(cn());d();l();var Jm="json-wallets/5.7.0";d();l();var Gf=j(vr()),Xm=j(va());function cs(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),(0,Gf.arrayify)(t)}function $f(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function V0(t){return typeof t=="string"?(0,Xm.toUtf8Bytes)(t,Xm.UnicodeNormalizationForm.NFKC):(0,Gf.arrayify)(t)}function Wt(t,e){let r=t,n=e.toLowerCase().split("/");for(let o=0;o<n.length;o++){let i=null;for(let s in r)if(s.toLowerCase()===n[o]){i=r[s];break}if(i===null)return null;r=i}return r}function x_(t){let e=(0,Gf.arrayify)(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;let r=(0,Gf.hexlify)(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}var PG=new E_.Logger(Jm),QA=class extends v_.Description{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function YA(t,e){let r=JSON.parse(t);e=V0(e);let n=(0,w_.getAddress)(Wt(r,"ethaddr")),o=cs(Wt(r,"encseed"));(!o||o.length%16!==0)&&PG.throwArgumentError("invalid encseed","json",t);let i=(0,$A.arrayify)(Xc(e,e,2e3,32,"sha256")).slice(0,16),s=o.slice(0,16),a=o.slice(16),c=new GA.default.ModeOfOperation.cbc(i,s),u=GA.default.padding.pkcs7.strip((0,$A.arrayify)(c.decrypt(a))),h="";for(let m=0;m<u.length;m++)h+=String.fromCharCode(u[m]);let f=(0,S_.toUtf8Bytes)(h),p=(0,A_.keccak256)(f);return new QA({_isCrowdsaleAccount:!0,address:n,privateKey:p})}d();l();function JA(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function XA(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}d();l();var us=j(WA()),eg=j(k_()),rS=j(pl()),Gt=j(vr());var nS=j(Ms());var __=j(yo());var Zm=j(cn());var BG=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(h){try{u(n.next(h))}catch(f){s(f)}}function c(h){try{u(n.throw(h))}catch(f){s(f)}}function u(h){h.done?i(h.value):o(h.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},eS=new Zm.Logger(Jm);function T_(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}var tS=class extends __.Description{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function CG(t,e,r){if(Wt(t,"crypto/cipher")==="aes-128-ctr"){let o=cs(Wt(t,"crypto/cipherparams/iv")),i=new us.default.Counter(o),s=new us.default.ModeOfOperation.ctr(e,i);return(0,Gt.arrayify)(s.decrypt(r))}return null}function P_(t,e){let r=cs(Wt(t,"crypto/ciphertext"));if((0,Gt.hexlify)((0,nS.keccak256)((0,Gt.concat)([e.slice(16,32),r]))).substring(2)!==Wt(t,"crypto/mac").toLowerCase())throw new Error("invalid password");let o=CG(t,e.slice(0,16),r);o||eS.throwError("unsupported cipher",Zm.Logger.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});let i=e.slice(32,64),s=Ii(o);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),(0,rS.getAddress)(c)!==s)throw new Error("address mismatch")}let a={_isKeystoreAccount:!0,address:s,privateKey:(0,Gt.hexlify)(o)};if(Wt(t,"x-ethers/version")==="0.1"){let c=cs(Wt(t,"x-ethers/mnemonicCiphertext")),u=cs(Wt(t,"x-ethers/mnemonicCounter")),h=new us.default.Counter(u),f=new us.default.ModeOfOperation.ctr(i,h),p=Wt(t,"x-ethers/path")||ru,m=Wt(t,"x-ethers/locale")||"en",g=(0,Gt.arrayify)(f.decrypt(c));try{let x=K0(g,m),w=Pa.fromMnemonic(x,null,m).derivePath(p);if(w.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=w.mnemonic}catch(x){if(x.code!==Zm.Logger.errors.INVALID_ARGUMENT||x.argument!=="wordlist")throw x}}return new tS(a)}function B_(t,e,r,n,o){return(0,Gt.arrayify)(Xc(t,e,r,n,o))}function OG(t,e,r,n,o){return Promise.resolve(B_(t,e,r,n,o))}function C_(t,e,r,n,o){let i=V0(e),s=Wt(t,"crypto/kdf");if(s&&typeof s=="string"){let a=function(c,u){return eS.throwArgumentError("invalid key-derivation function parameters",c,u)};if(s.toLowerCase()==="scrypt"){let c=cs(Wt(t,"crypto/kdfparams/salt")),u=parseInt(Wt(t,"crypto/kdfparams/n")),h=parseInt(Wt(t,"crypto/kdfparams/r")),f=parseInt(Wt(t,"crypto/kdfparams/p"));(!u||!h||!f)&&a("kdf",s),u&u-1&&a("N",u);let p=parseInt(Wt(t,"crypto/kdfparams/dklen"));return p!==32&&a("dklen",p),n(i,c,u,h,f,64,o)}else if(s.toLowerCase()==="pbkdf2"){let c=cs(Wt(t,"crypto/kdfparams/salt")),u=null,h=Wt(t,"crypto/kdfparams/prf");h==="hmac-sha256"?u="sha256":h==="hmac-sha512"?u="sha512":a("prf",h);let f=parseInt(Wt(t,"crypto/kdfparams/c")),p=parseInt(Wt(t,"crypto/kdfparams/dklen"));return p!==32&&a("dklen",p),r(i,c,f,p,u)}}return eS.throwArgumentError("unsupported key-derivation function","kdf",s)}function O_(t,e){let r=JSON.parse(t),n=C_(r,e,B_,eg.default.syncScrypt);return P_(r,n)}function D_(t,e,r){return BG(this,void 0,void 0,function*(){let n=JSON.parse(t),o=yield C_(n,e,OG,eg.default.scrypt,r);return P_(n,o)})}function oS(t,e,r,n){try{if((0,rS.getAddress)(t.address)!==Ii(t.privateKey))throw new Error("address/privateKey mismatch");if(T_(t)){let w=t.mnemonic;if(Pa.fromMnemonic(w.phrase,null,w.locale).derivePath(w.path||ru).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(w){return Promise.reject(w)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});let o=(0,Gt.arrayify)(t.privateKey),i=V0(e),s=null,a=null,c=null;if(T_(t)){let w=t.mnemonic;s=(0,Gt.arrayify)(VA(w.phrase,w.locale||"en")),a=w.path||ru,c=w.locale||"en"}let u=r.client;u||(u="ethers.js");let h=null;r.salt?h=(0,Gt.arrayify)(r.salt):h=Ba(32);let f=null;if(r.iv){if(f=(0,Gt.arrayify)(r.iv),f.length!==16)throw new Error("invalid iv")}else f=Ba(16);let p=null;if(r.uuid){if(p=(0,Gt.arrayify)(r.uuid),p.length!==16)throw new Error("invalid uuid")}else p=Ba(16);let m=1<<17,g=8,x=1;return r.scrypt&&(r.scrypt.N&&(m=r.scrypt.N),r.scrypt.r&&(g=r.scrypt.r),r.scrypt.p&&(x=r.scrypt.p)),eg.default.scrypt(i,h,m,g,x,64,n).then(w=>{w=(0,Gt.arrayify)(w);let S=w.slice(0,16),k=w.slice(16,32),A=w.slice(32,64),T=new us.default.Counter(f),C=new us.default.ModeOfOperation.ctr(S,T),W=(0,Gt.arrayify)(C.encrypt(o)),oe=(0,nS.keccak256)((0,Gt.concat)([k,W])),Y={address:t.address.substring(2).toLowerCase(),id:x_(p),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:(0,Gt.hexlify)(f).substring(2)},ciphertext:(0,Gt.hexlify)(W).substring(2),kdf:"scrypt",kdfparams:{salt:(0,Gt.hexlify)(h).substring(2),n:m,dklen:32,p:x,r:g},mac:oe.substring(2)}};if(s){let G=Ba(16),re=new us.default.Counter(G),Z=new us.default.ModeOfOperation.ctr(A,re),O=(0,Gt.arrayify)(Z.encrypt(s)),D=new Date,N=D.getUTCFullYear()+"-"+$f(D.getUTCMonth()+1,2)+"-"+$f(D.getUTCDate(),2)+"T"+$f(D.getUTCHours(),2)+"-"+$f(D.getUTCMinutes(),2)+"-"+$f(D.getUTCSeconds(),2)+".0Z";Y["x-ethers"]={client:u,gethFilename:"UTC--"+N+"--"+Y.address,mnemonicCounter:(0,Gt.hexlify)(G).substring(2),mnemonicCiphertext:(0,Gt.hexlify)(O).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(Y)})}function R_(t,e,r){if(JA(t)){r&&r(0);let n=YA(t,e);return r&&r(1),Promise.resolve(n)}return XA(t)?D_(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function N_(t,e){if(JA(t))return YA(t,e);if(XA(t))return O_(t,e);throw new Error("invalid JSON wallet")}var aS=j(cn());d();l();var U_="wallet/5.7.0";var L_=function(t,e,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function a(h){try{u(n.next(h))}catch(f){s(f)}}function c(h){try{u(n.throw(h))}catch(f){s(f)}}function u(h){h.done?i(h.value):o(h.value).then(a,c)}u((n=n.apply(t,e||[])).next())})},Qf=new aS.Logger(U_);function DG(t){return t!=null&&(0,jo.isHexString)(t.privateKey,32)&&t.address!=null}function RG(t){let e=t.mnemonic;return e&&e.phrase}var Yf=class t extends D0{constructor(e,r){if(super(),DG(e)){let n=new vi(e.privateKey);if((0,vo.defineReadOnly)(this,"_signingKey",()=>n),(0,vo.defineReadOnly)(this,"address",Ii(this.publicKey)),this.address!==(0,iS.getAddress)(e.address)&&Qf.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),RG(e)){let o=e.mnemonic;(0,vo.defineReadOnly)(this,"_mnemonic",()=>({phrase:o.phrase,path:o.path||ru,locale:o.locale||"en"}));let i=this.mnemonic,s=Pa.fromMnemonic(i.phrase,null,i.locale).derivePath(i.path);Ii(s.privateKey)!==this.address&&Qf.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else(0,vo.defineReadOnly)(this,"_mnemonic",()=>null)}else{if(vi.isSigningKey(e))e.curve!=="secp256k1"&&Qf.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),(0,vo.defineReadOnly)(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);let n=new vi(e);(0,vo.defineReadOnly)(this,"_signingKey",()=>n)}(0,vo.defineReadOnly)(this,"_mnemonic",()=>null),(0,vo.defineReadOnly)(this,"address",Ii(this.publicKey))}r&&!vm.isProvider(r)&&Qf.throwArgumentError("invalid provider","provider",r),(0,vo.defineReadOnly)(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new t(this,e)}signTransaction(e){return(0,vo.resolveProperties)(e).then(r=>{r.from!=null&&((0,iS.getAddress)(r.from)!==this.address&&Qf.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);let n=this._signingKey().signDigest((0,sS.keccak256)(UA(r)));return UA(r,n)})}signMessage(e){return L_(this,void 0,void 0,function*(){return(0,jo.joinSignature)(this._signingKey().signDigest((0,q0.hashMessage)(e)))})}_signTypedData(e,r,n){return L_(this,void 0,void 0,function*(){let o=yield q0._TypedDataEncoder.resolveNames(e,r,n,i=>(this.provider==null&&Qf.throwError("cannot resolve ENS names without a provider",aS.Logger.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:i}),this.provider.resolveName(i)));return(0,jo.joinSignature)(this._signingKey().signDigest(q0._TypedDataEncoder.hash(o.domain,r,o.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),oS(this,e,r,n)}static createRandom(e){let r=Ba(16);e||(e={}),e.extraEntropy&&(r=(0,jo.arrayify)((0,jo.hexDataSlice)((0,sS.keccak256)((0,jo.concat)([r,e.extraEntropy])),0,16)));let n=K0(r,e.locale);return t.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return R_(e,r,n).then(o=>new t(o))}static fromEncryptedJsonSync(e,r){return new t(N_(e,r))}static fromMnemonic(e,r,n){return r||(r=ru),new t(Pa.fromMnemonic(e,null,n).derivePath(r))}};var tg=class{addressTypes=["eip155"];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new Yf(new Uint8Array(n)));return{publicKey:new Uint8Array(Buffer.from(r.publicKey.slice(2),"hex")),privateKey:new Uint8Array(Buffer.from(r.privateKey.slice(2),"hex"))}}generateKeypairFromSeed(e,r,n){let o=e.fold(i=>new gi(i));try{let i=o.derivePathType(n,r);return{publicKey:i.publicKey,privateKey:i.secretKey}}finally{o.cleanup()}}};d();l();d();l();d();l();d();l();d();l();function cS(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function NG(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function M_(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function UG(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");cS(t.outputLen),cS(t.blockLen)}function LG(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function MG(t,e){M_(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var FG={number:cS,bool:NG,bytes:M_,hash:UG,exists:LG,output:MG},Wo=FG;d();l();d();l();var HG={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var F_=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),rg=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var KG=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!KG)throw new Error("Non little-endian hardware is not supported");var ube=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function VG(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function Xf(t){if(typeof t=="string"&&(t=VG(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var Jf=class{clone(){return this._cloneInto()}};function nu(t){let e=n=>t().update(Xf(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function H_(t){let e=(n,o)=>t(o).update(Xf(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function qG(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var ng=class extends Jf{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=rg(this.buffer)}update(e){Wo.exists(this);let{view:r,buffer:n,blockLen:o}=this;e=Xf(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=rg(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Wo.exists(this),Wo.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;qG(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=rg(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};d();l();var og=BigInt(4294967295),uS=BigInt(32);function K_(t,e=!1){return e?{h:Number(t&og),l:Number(t>>uS&og)}:{h:Number(t>>uS&og)|0,l:Number(t&og)|0}}function zG(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){let{h:i,l:s}=K_(t[o],e);[r[o],n[o]]=[i,s]}return[r,n]}var jG=(t,e)=>BigInt(t>>>0)<<uS|BigInt(e>>>0),WG=(t,e,r)=>t>>>r,GG=(t,e,r)=>t<<32-r|e>>>r,$G=(t,e,r)=>t>>>r|e<<32-r,QG=(t,e,r)=>t<<32-r|e>>>r,YG=(t,e,r)=>t<<64-r|e>>>r-32,JG=(t,e,r)=>t>>>r-32|e<<64-r,XG=(t,e)=>e,ZG=(t,e)=>t,e$=(t,e,r)=>t<<r|e>>>32-r,t$=(t,e,r)=>e<<r|t>>>32-r,r$=(t,e,r)=>e<<r-32|t>>>64-r,n$=(t,e,r)=>t<<r-32|e>>>64-r;function o$(t,e,r,n){let o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}var i$=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),s$=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,a$=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),c$=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,u$=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),f$=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0,d$={fromBig:K_,split:zG,toBig:jG,shrSH:WG,shrSL:GG,rotrSH:$G,rotrSL:QG,rotrBH:YG,rotrBL:JG,rotr32H:XG,rotr32L:ZG,rotlSH:e$,rotlSL:t$,rotlBH:r$,rotlBL:n$,add:o$,add3L:i$,add3H:s$,add4L:a$,add4H:c$,add5H:f$,add5L:u$},_e=d$;var[l$,h$]=_e.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ca=new Uint32Array(80),Oa=new Uint32Array(80),Zf=class extends ng{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:o,Ch:i,Cl:s,Dh:a,Dl:c,Eh:u,El:h,Fh:f,Fl:p,Gh:m,Gl:g,Hh:x,Hl:w}=this;return[e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w]}set(e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=g|0,this.Hh=x|0,this.Hl=w|0}process(e,r){for(let A=0;A<16;A++,r+=4)Ca[A]=e.getUint32(r),Oa[A]=e.getUint32(r+=4);for(let A=16;A<80;A++){let T=Ca[A-15]|0,C=Oa[A-15]|0,W=_e.rotrSH(T,C,1)^_e.rotrSH(T,C,8)^_e.shrSH(T,C,7),oe=_e.rotrSL(T,C,1)^_e.rotrSL(T,C,8)^_e.shrSL(T,C,7),Y=Ca[A-2]|0,G=Oa[A-2]|0,re=_e.rotrSH(Y,G,19)^_e.rotrBH(Y,G,61)^_e.shrSH(Y,G,6),Z=_e.rotrSL(Y,G,19)^_e.rotrBL(Y,G,61)^_e.shrSL(Y,G,6),O=_e.add4L(oe,Z,Oa[A-7],Oa[A-16]),D=_e.add4H(O,W,re,Ca[A-7],Ca[A-16]);Ca[A]=D|0,Oa[A]=O|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:a,Cl:c,Dh:u,Dl:h,Eh:f,El:p,Fh:m,Fl:g,Gh:x,Gl:w,Hh:S,Hl:k}=this;for(let A=0;A<80;A++){let T=_e.rotrSH(f,p,14)^_e.rotrSH(f,p,18)^_e.rotrBH(f,p,41),C=_e.rotrSL(f,p,14)^_e.rotrSL(f,p,18)^_e.rotrBL(f,p,41),W=f&m^~f&x,oe=p&g^~p&w,Y=_e.add5L(k,C,oe,h$[A],Oa[A]),G=_e.add5H(Y,S,T,W,l$[A],Ca[A]),re=Y|0,Z=_e.rotrSH(n,o,28)^_e.rotrBH(n,o,34)^_e.rotrBH(n,o,39),O=_e.rotrSL(n,o,28)^_e.rotrBL(n,o,34)^_e.rotrBL(n,o,39),D=n&i^n&a^i&a,N=o&s^o&c^s&c;S=x|0,k=w|0,x=m|0,w=g|0,m=f|0,g=p|0,{h:f,l:p}=_e.add(u|0,h|0,G|0,re|0),u=a|0,h=c|0,a=i|0,c=s|0,i=n|0,s=o|0;let Q=_e.add3L(re,O,N);n=_e.add3H(Q,G,Z,D),o=Q|0}({h:n,l:o}=_e.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=_e.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=_e.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:h}=_e.add(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:p}=_e.add(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:g}=_e.add(this.Fh|0,this.Fl|0,m|0,g|0),{h:x,l:w}=_e.add(this.Gh|0,this.Gl|0,x|0,w|0),{h:S,l:k}=_e.add(this.Hh|0,this.Hl|0,S|0,k|0),this.set(n,o,i,s,a,c,u,h,f,p,m,g,x,w,S,k)}roundClean(){Ca.fill(0),Oa.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},fS=class extends Zf{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},dS=class extends Zf{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},lS=class extends Zf{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}},V_=nu(()=>new Zf),Ebe=nu(()=>new fS),Ibe=nu(()=>new dS),kbe=nu(()=>new lS);is.sha512Sync=(...t)=>V_(is.concatBytes(...t));var{getPublicKey:p$}=Qy,hS=t=>{let e=p$(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}};var ig=class{addressTypes=["solana"];generateKeypairFromPrivateKey(e){let r=e.fold(n=>new Wn.Account(new Uint8Array(n)));return{publicKey:r.publicKey.toBytes(),privateKey:r.secretKey}}generateKeypairFromSeed(e,r,n){let o=e.fold(i=>new gi(i));try{let i=o.derivePathType(n,r);switch(n){case"bitcoinTaproot":case"bitcoinNativeSegwit":case"bitcoinNestedSegwit":case"bitcoinLegacy":case"bip44Root":case"bip44":case"bip44Change":case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":case"bip44Sui":return{publicKey:i.publicKey,privateKey:i.secretKey};case"deprecated":{let s=hS(i.secretKey);return{publicKey:s.publicKey,privateKey:s.secretKey}}}}finally{o.cleanup()}}};d();l();d();l();d();l();d();l();d();l();d();l();d();l();function y$(t){if(t.length>=255)throw new TypeError("Alphabet too long");let e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){let h=t.charAt(u),f=h.charCodeAt(0);if(e[f]!==255)throw new TypeError(h+" is ambiguous");e[f]=u}let r=t.length,n=t.charAt(0),o=Math.log(r)/Math.log(256),i=Math.log(256)/Math.log(r);function s(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let h=0,f=0,p=0,m=u.length;for(;p!==m&&u[p]===0;)p++,h++;let g=(m-p)*i+1>>>0,x=new Uint8Array(g);for(;p!==m;){let k=u[p],A=0;for(let T=g-1;(k!==0||A<f)&&T!==-1;T--,A++)k+=256*x[T]>>>0,x[T]=k%r>>>0,k=k/r>>>0;if(k!==0)throw new Error("Non-zero carry");f=A,p++}let w=g-f;for(;w!==g&&x[w]===0;)w++;let S=n.repeat(h);for(;w<g;++w)S+=t.charAt(x[w]);return S}function a(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let h=0,f=0,p=0;for(;u[h]===n;)f++,h++;let m=(u.length-h)*o+1>>>0,g=new Uint8Array(m);for(;u[h];){let k=e[u.charCodeAt(h)];if(k===255)return;let A=0;for(let T=m-1;(k!==0||A<p)&&T!==-1;T--,A++)k+=r*g[T]>>>0,g[T]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");p=A,h++}let x=m-p;for(;x!==m&&g[x]===0;)x++;let w=new Uint8Array(f+(m-x)),S=f;for(;x!==m;)w[S++]=g[x++];return w}function c(u){let h=a(u);if(h)return h;throw new Error("Non-base"+r+" character")}return{encode:s,decodeUnsafe:a,decode:c}}var q_=y$;var m$="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",pS=q_(m$);var ou=t=>pS.encode(t),iu=t=>pS.decode(t);d();l();function Cr(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}var yS=8192;function $t(t){if(t.length<yS)return btoa(String.fromCharCode(...t));let e="";for(var r=0;r<t.length;r+=yS){let n=t.slice(r,r+yS);e+=String.fromCharCode(...n)}return btoa(e)}d();l();d();l();function Da(t){let e=t.startsWith("0x")?t.slice(2):t,n=(e.length%2===0?e:`0${e}}`).match(/.{2}/g)?.map(o=>parseInt(o,16))??[];return Uint8Array.from(n)}function Eo(t){return t.reduce((e,r)=>e+r.toString(16).padStart(2,"0"),"")}d();l();d();l();function ed(t){let e=[],r=0;if(t===0)return[0];for(;t>0;)e[r]=t&127,(t>>=7)&&(e[r]|=128),r+=1;return e}function z_(t){let e=0,r=0,n=0;for(;;){let o=t[n];if(n+=1,e|=(o&127)<<r,!(o&128))break;r+=7}return{value:e,length:n}}var sg=class{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),n=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+n).toString(10)}read128(){let e=BigInt(this.read64()),n=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+n).toString(10)}read256(){let e=BigInt(this.read128()),n=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+n).toString(10)}readBytes(e){let r=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,r,e);return this.shift(e),n}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,e),{value:n,length:o}=z_(r);return this.shift(o),n}readVec(e){let r=this.readULEB(),n=[];for(let o=0;o<r;o++)n.push(e(this,o,r));return n}};d();l();d();l();function mS(t,e){switch(e){case"base58":return ou(t);case"base64":return $t(t);case"hex":return Eo(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function gS(t,e=["<",">"]){let[r,n]=e,o=[],i="",s=0;for(let a=0;a<t.length;a++){let c=t[a];if(c===r&&s++,c===n&&s--,s===0&&c===","){o.push(i.trim()),i="";continue}i+=c}return o.push(i.trim()),o}var ag=class{constructor({initialSize:e=1024,maxSize:r=1/0,allocateSize:n=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=r,this.allocateSize=n,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){let r=this.bytePosition+e;if(r>this.size){let n=Math.min(this.maxSize,this.size+this.allocateSize);if(r>n)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${r}`);this.size=n;let o=new ArrayBuffer(this.size);new Uint8Array(o).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(o)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return bS(BigInt(e),8).forEach(r=>this.write8(r)),this}write128(e){return bS(BigInt(e),16).forEach(r=>this.write8(r)),this}write256(e){return bS(BigInt(e),32).forEach(r=>this.write8(r)),this}writeULEB(e){return ed(e).forEach(r=>this.write8(r)),this}writeVec(e,r){return this.writeULEB(e.length),Array.from(e).forEach((n,o)=>r(this,n,o,e.length)),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return mS(this.toBytes(),e)}};function bS(t,e){let r=new Uint8Array(e),n=0;for(;t>0;)r[n]=Number(t%BigInt(256)),t=t/BigInt(256),n+=1;return r}var j_=t=>{throw TypeError(t)},W_=(t,e,r)=>e.has(t)||j_("Cannot "+r),Go=(t,e,r)=>(W_(t,e,"read from private field"),r?r.call(t):e.get(t)),ug=(t,e,r)=>e.has(t)?j_("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),fg=(t,e,r,n)=>(W_(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),td,z0,cg,Ra,g$=class G_{constructor(e){ug(this,td),ug(this,z0),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),fg(this,td,e.write),fg(this,z0,e.serialize??((r,n)=>{let o=new ag({initialSize:this.serializedSize(r)??void 0,...n});return Go(this,td).call(this,r,o),o.toBytes()})),this.validate=e.validate??(()=>{})}write(e,r){this.validate(e),Go(this,td).call(this,e,r)}serialize(e,r){return this.validate(e),new xS(this,Go(this,z0).call(this,e,r))}parse(e){let r=new sg(e);return this.read(r)}fromHex(e){return this.parse(Da(e))}fromBase58(e){return this.parse(iu(e))}fromBase64(e){return this.parse(Cr(e))}transform({name:e,input:r,output:n,validate:o}){return new G_({name:e??this.name,read:i=>n(this.read(i)),write:(i,s)=>Go(this,td).call(this,r(i),s),serializedSize:i=>this.serializedSize(r(i)),serialize:(i,s)=>Go(this,z0).call(this,r(i),s),validate:i=>{o?.(i),this.validate(r(i))}})}};td=new WeakMap;z0=new WeakMap;var ki=g$,b$=Symbol.for("@mysten/serialized-bcs");var xS=class{constructor(e,r){ug(this,cg),ug(this,Ra),fg(this,cg,e),fg(this,Ra,r)}get[b$](){return!0}toBytes(){return Go(this,Ra)}toHex(){return Eo(Go(this,Ra))}toBase64(){return $t(Go(this,Ra))}toBase58(){return ou(Go(this,Ra))}parse(){return Go(this,cg).parse(Go(this,Ra))}};cg=new WeakMap;Ra=new WeakMap;function j0({size:t,...e}){return new ki({...e,serializedSize:()=>t})}function dg({readMethod:t,writeMethod:e,...r}){return j0({...r,read:n=>n[t](),write:(n,o)=>o[e](n),validate:n=>{if(n<0||n>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${n}. Expected value in range 0-${r.maxValue}`);r.validate?.(n)}})}function lg({readMethod:t,writeMethod:e,...r}){return j0({...r,read:n=>n[t](),write:(n,o)=>o[e](BigInt(n)),validate:n=>{let o=BigInt(n);if(o<0||o>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${o}. Expected value in range 0-${r.maxValue}`);r.validate?.(o)}})}function $_({serialize:t,...e}){let r=new ki({...e,serialize:t,write:(n,o)=>{for(let i of r.serialize(n).toBytes())o.write8(i)}});return r}function Q_({toBytes:t,fromBytes:e,...r}){return new ki({...r,read:n=>{let o=n.readULEB(),i=n.readBytes(o);return e(i)},write:(n,o)=>{let i=t(n);o.writeULEB(i.length);for(let s=0;s<i.length;s++)o.write8(i[s])},serialize:n=>{let o=t(n),i=ed(o.length),s=new Uint8Array(i.length+o.length);return s.set(i,0),s.set(o,i.length),s},validate:n=>{if(typeof n!="string")throw new TypeError(`Invalid ${r.name} value: ${n}. Expected string`);r.validate?.(n)}})}function Y_(t){let e=null;function r(){return e||(e=t()),e}return new ki({name:"lazy",read:n=>r().read(n),serializedSize:n=>r().serializedSize(n),write:(n,o)=>r().write(n,o),serialize:(n,o)=>r().serialize(n,o).toBytes()})}d();l();var E={u8(t){return dg({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:2**8-1,...t})},u16(t){return dg({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:2**16-1,...t})},u32(t){return dg({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...t})},u64(t){return lg({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...t})},u128(t){return lg({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...t})},u256(t){return lg({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...t})},bool(t){return j0({name:"bool",size:1,read:e=>e.read8()===1,write:(e,r)=>r.write8(e?1:0),...t,validate:e=>{if(t?.validate?.(e),typeof e!="boolean")throw new TypeError(`Expected boolean, found ${typeof e}`)}})},uleb128(t){return $_({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(ed(e)),...t})},bytes(t,e){return j0({name:`bytes[${t}]`,size:t,read:r=>r.readBytes(t),write:(r,n)=>{let o=new Uint8Array(r);for(let i=0;i<t;i++)n.write8(o[i]??0)},...e,validate:r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t)throw new TypeError(`Expected array of length ${t}, found ${r.length}`)}})},string(t){return Q_({name:"string",toBytes:e=>new TextEncoder().encode(e),fromBytes:e=>new TextDecoder().decode(e),...t})},fixedArray(t,e,r){return new ki({name:`${e.name}[${t}]`,read:n=>{let o=new Array(t);for(let i=0;i<t;i++)o[i]=e.read(n);return o},write:(n,o)=>{for(let i of n)e.write(i,o)},...r,validate:n=>{if(r?.validate?.(n),!n||typeof n!="object"||!("length"in n))throw new TypeError(`Expected array, found ${typeof n}`);if(n.length!==t)throw new TypeError(`Expected array of length ${t}, found ${n.length}`)}})},option(t){return E.enum(`Option<${t.name}>`,{None:null,Some:t}).transform({input:e=>e==null?{None:!0}:{Some:e},output:e=>e.$kind==="Some"?e.Some:null})},vector(t,e){return new ki({name:`vector<${t.name}>`,read:r=>{let n=r.readULEB(),o=new Array(n);for(let i=0;i<n;i++)o[i]=t.read(r);return o},write:(r,n)=>{n.writeULEB(r.length);for(let o of r)t.write(o,n)},...e,validate:r=>{if(e?.validate?.(r),!r||typeof r!="object"||!("length"in r))throw new TypeError(`Expected array, found ${typeof r}`)}})},tuple(t,e){return new ki({name:`(${t.map(r=>r.name).join(", ")})`,serializedSize:r=>{let n=0;for(let o=0;o<t.length;o++){let i=t[o].serializedSize(r[o]);if(i==null)return null;n+=i}return n},read:r=>{let n=[];for(let o of t)n.push(o.read(r));return n},write:(r,n)=>{for(let o=0;o<t.length;o++)t[o].write(r[o],n)},...e,validate:r=>{if(e?.validate?.(r),!Array.isArray(r))throw new TypeError(`Expected array, found ${typeof r}`);if(r.length!==t.length)throw new TypeError(`Expected array of length ${t.length}, found ${r.length}`)}})},struct(t,e,r){let n=Object.entries(e);return new ki({name:t,serializedSize:o=>{let i=0;for(let[s,a]of n){let c=a.serializedSize(o[s]);if(c==null)return null;i+=c}return i},read:o=>{let i={};for(let[s,a]of n)i[s]=a.read(o);return i},write:(o,i)=>{for(let[s,a]of n)a.write(o[s],i)},...r,validate:o=>{if(r?.validate?.(o),typeof o!="object"||o==null)throw new TypeError(`Expected object, found ${typeof o}`)}})},enum(t,e,r){let n=Object.entries(e);return new ki({name:t,read:o=>{let i=o.readULEB(),s=n[i];if(!s)throw new TypeError(`Unknown value ${i} for enum ${t}`);let[a,c]=s;return{[a]:c?.read(o)??!0,$kind:a}},write:(o,i)=>{let[s,a]=Object.entries(o).filter(([c])=>Object.hasOwn(e,c))[0];for(let c=0;c<n.length;c++){let[u,h]=n[c];if(u===s){i.writeULEB(c),h?.write(a,i);return}}},...r,validate:o=>{if(r?.validate?.(o),typeof o!="object"||o==null)throw new TypeError(`Expected object, found ${typeof o}`);let i=Object.keys(o).filter(a=>o[a]!==void 0&&Object.hasOwn(e,a));if(i.length!==1)throw new TypeError(`Expected object with one key, but found ${i.length} for type ${t}}`);let[s]=i;if(!Object.hasOwn(e,s))throw new TypeError(`Invalid enum variant ${s}`)}})},map(t,e){return E.vector(E.tuple([t,e])).transform({name:`Map<${t.name}, ${e.name}>`,input:r=>[...r.entries()],output:r=>{let n=new Map;for(let[o,i]of r)n.set(o,i);return n}})},lazy(t){return Y_(t)}};d();l();d();l();d();l();var Na=32;function J_(t){return x$(t)&&w$(t)===Na}function Ti(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(Na*2,"0")}`}function x$(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function w$(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}d();l();var A$=/^vector<(.+)>$/,S$=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,W0=class t{static parseFromStr(e,r=!1){if(e==="address")return{address:null};if(e==="bool")return{bool:null};if(e==="u8")return{u8:null};if(e==="u16")return{u16:null};if(e==="u32")return{u32:null};if(e==="u64")return{u64:null};if(e==="u128")return{u128:null};if(e==="u256")return{u256:null};if(e==="signer")return{signer:null};let n=e.match(A$);if(n)return{vector:t.parseFromStr(n[1],r)};let o=e.match(S$);if(o)return{struct:{address:r?Ti(o[1]):o[1],module:o[2],name:o[3],typeParams:o[5]===void 0?[]:t.parseStructTypeArgs(o[5],r)}};throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,r=!1){return gS(e).map(n=>t.parseFromStr(n,r))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${t.tagToString(e.vector)}>`;if("struct"in e){let r=e.struct,n=r.typeParams.map(t.tagToString).join(", ");return`${r.address}::${r.module}::${r.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}};function v$(t){return E.u64({name:"unsafe_u64",...t}).transform({input:e=>e,output:e=>Number(e)})}function E$(t){return E.enum("Option",{None:null,Some:t})}var Ot=E.bytes(Na).transform({validate:t=>{let e=typeof t=="string"?t:Eo(t);if(!e||!J_(Ti(e)))throw new Error(`Invalid Sui address ${e}`)},input:t=>typeof t=="string"?Da(Ti(t)):t,output:t=>Ti(Eo(t))}),Jn=E.vector(E.u8()).transform({name:"ObjectDigest",input:t=>iu(t),output:t=>ou(new Uint8Array(t)),validate:t=>{if(iu(t).length!==32)throw new Error("ObjectDigest must be 32 bytes")}}),Rn=E.struct("SuiObjectRef",{objectId:Ot,version:E.u64(),digest:Jn}),wS=E.struct("SharedObjectRef",{objectId:Ot,initialSharedVersion:E.u64(),mutable:E.bool()}),AS=E.enum("ObjectArg",{ImmOrOwnedObject:Rn,SharedObject:wS,Receiving:Rn}),SS=E.enum("CallArg",{Pure:E.struct("Pure",{bytes:E.vector(E.u8()).transform({input:t=>typeof t=="string"?Cr(t):t,output:t=>$t(new Uint8Array(t))})}),Object:AS}),vS=E.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:E.lazy(()=>vS),struct:E.lazy(()=>PS),u16:null,u32:null,u256:null}),hg=vS.transform({input:t=>typeof t=="string"?W0.parseFromStr(t,!0):t,output:t=>W0.tagToString(t)}),$o=E.enum("Argument",{GasCoin:null,Input:E.u16(),Result:E.u16(),NestedResult:E.tuple([E.u16(),E.u16()])}),ES=E.struct("ProgrammableMoveCall",{package:Ot,module:E.string(),function:E.string(),typeArguments:E.vector(hg),arguments:E.vector($o)}),IS=E.enum("Command",{MoveCall:ES,TransferObjects:E.struct("TransferObjects",{objects:E.vector($o),address:$o}),SplitCoins:E.struct("SplitCoins",{coin:$o,amounts:E.vector($o)}),MergeCoins:E.struct("MergeCoins",{destination:$o,sources:E.vector($o)}),Publish:E.struct("Publish",{modules:E.vector(E.vector(E.u8()).transform({input:t=>typeof t=="string"?Cr(t):t,output:t=>$t(new Uint8Array(t))})),dependencies:E.vector(Ot)}),MakeMoveVec:E.struct("MakeMoveVec",{type:E$(hg).transform({input:t=>t===null?{None:!0}:{Some:t},output:t=>t.Some??null}),elements:E.vector($o)}),Upgrade:E.struct("Upgrade",{modules:E.vector(E.vector(E.u8()).transform({input:t=>typeof t=="string"?Cr(t):t,output:t=>$t(new Uint8Array(t))})),dependencies:E.vector(Ot),package:Ot,ticket:$o})}),kS=E.struct("ProgrammableTransaction",{inputs:E.vector(SS),commands:E.vector(IS)}),TS=E.enum("TransactionKind",{ProgrammableTransaction:kS,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),_S=E.enum("TransactionExpiration",{None:null,Epoch:v$()}),PS=E.struct("StructTag",{address:Ot,module:E.string(),name:E.string(),typeParams:E.vector(vS)}),BS=E.struct("GasData",{payment:E.vector(Rn),owner:Ot,price:E.u64(),budget:E.u64()}),CS=E.struct("TransactionDataV1",{kind:TS,sender:Ot,gasData:BS,expiration:_S}),OS=E.enum("TransactionData",{V1:CS}),DS=E.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),RS=E.enum("IntentVersion",{V0:null}),NS=E.enum("AppId",{Sui:null}),US=E.struct("Intent",{scope:DS,version:RS,appId:NS});function LS(t){return E.struct(`IntentMessage<${t.name}>`,{intent:US,value:t})}var MS=E.enum("CompressedSignature",{ED25519:E.fixedArray(64,E.u8()),Secp256k1:E.fixedArray(64,E.u8()),Secp256r1:E.fixedArray(64,E.u8()),ZkLogin:E.vector(E.u8())}),FS=E.enum("PublicKey",{ED25519:E.fixedArray(32,E.u8()),Secp256k1:E.fixedArray(33,E.u8()),Secp256r1:E.fixedArray(33,E.u8()),ZkLogin:E.vector(E.u8())}),HS=E.struct("MultiSigPkMap",{pubKey:FS,weight:E.u8()}),KS=E.struct("MultiSigPublicKey",{pk_map:E.vector(HS),threshold:E.u16()}),X_=E.struct("MultiSig",{sigs:E.vector(MS),bitmap:E.u16(),multisig_pk:KS}),I$=E.vector(E.u8()).transform({input:t=>typeof t=="string"?Cr(t):t,output:t=>$t(new Uint8Array(t))}),VS=E.struct("SenderSignedTransaction",{intentMessage:LS(OS),txSignatures:E.vector(I$)}),Z_=E.vector(VS,{name:"SenderSignedData"});d();l();var k$=E.enum("PackageUpgradeError",{UnableToFetchPackage:E.struct("UnableToFetchPackage",{packageId:Ot}),NotAPackage:E.struct("NotAPackage",{objectId:Ot}),IncompatibleUpgrade:null,DigestDoesNotMatch:E.struct("DigestDoesNotMatch",{digest:E.vector(E.u8())}),UnknownUpgradePolicy:E.struct("UnknownUpgradePolicy",{policy:E.u8()}),PackageIDDoesNotMatch:E.struct("PackageIDDoesNotMatch",{packageId:Ot,ticketId:Ot})}),T$=E.struct("ModuleId",{address:Ot,name:E.string()}),eP=E.struct("MoveLocation",{module:T$,function:E.u16(),instruction:E.u16(),functionName:E.option(E.string())}),_$=E.enum("CommandArgumentError",{TypeMismatch:null,InvalidBCSBytes:null,InvalidUsageOfPureArg:null,InvalidArgumentToPrivateEntryFunction:null,IndexOutOfBounds:E.struct("IndexOutOfBounds",{idx:E.u16()}),SecondaryIndexOutOfBounds:E.struct("SecondaryIndexOutOfBounds",{resultIdx:E.u16(),secondaryIdx:E.u16()}),InvalidResultArity:E.struct("InvalidResultArity",{resultIdx:E.u16()}),InvalidGasCoinUsage:null,InvalidValueUsage:null,InvalidObjectByValue:null,InvalidObjectByMutRef:null,SharedObjectOperationNotAllowed:null}),P$=E.enum("TypeArgumentError",{TypeNotFound:null,ConstraintNotSatisfied:null}),B$=E.enum("ExecutionFailureStatus",{InsufficientGas:null,InvalidGasObject:null,InvariantViolation:null,FeatureNotYetSupported:null,MoveObjectTooBig:E.struct("MoveObjectTooBig",{objectSize:E.u64(),maxObjectSize:E.u64()}),MovePackageTooBig:E.struct("MovePackageTooBig",{objectSize:E.u64(),maxObjectSize:E.u64()}),CircularObjectOwnership:E.struct("CircularObjectOwnership",{object:Ot}),InsufficientCoinBalance:null,CoinBalanceOverflow:null,PublishErrorNonZeroAddress:null,SuiMoveVerificationError:null,MovePrimitiveRuntimeError:E.option(eP),MoveAbort:E.tuple([eP,E.u64()]),VMVerificationOrDeserializationError:null,VMInvariantViolation:null,FunctionNotFound:null,ArityMismatch:null,TypeArityMismatch:null,NonEntryFunctionInvoked:null,CommandArgumentError:E.struct("CommandArgumentError",{argIdx:E.u16(),kind:_$}),TypeArgumentError:E.struct("TypeArgumentError",{argumentIdx:E.u16(),kind:P$}),UnusedValueWithoutDrop:E.struct("UnusedValueWithoutDrop",{resultIdx:E.u16(),secondaryIdx:E.u16()}),InvalidPublicFunctionReturnType:E.struct("InvalidPublicFunctionReturnType",{idx:E.u16()}),InvalidTransferObject:null,EffectsTooLarge:E.struct("EffectsTooLarge",{currentSize:E.u64(),maxSize:E.u64()}),PublishUpgradeMissingDependency:null,PublishUpgradeDependencyDowngrade:null,PackageUpgradeError:E.struct("PackageUpgradeError",{upgradeError:k$}),WrittenObjectsTooLarge:E.struct("WrittenObjectsTooLarge",{currentSize:E.u64(),maxSize:E.u64()}),CertificateDenied:null,SuiMoveVerificationTimedout:null,SharedObjectOperationNotAllowed:null,InputObjectDeleted:null,ExecutionCancelledDueToSharedObjectCongestion:E.struct("ExecutionCancelledDueToSharedObjectCongestion",{congestedObjects:E.vector(Ot)}),AddressDeniedForCoin:E.struct("AddressDeniedForCoin",{address:Ot,coinType:E.string()}),CoinTypeGlobalPause:E.struct("CoinTypeGlobalPause",{coinType:E.string()}),ExecutionCancelledDueToRandomnessUnavailable:null}),tP=E.enum("ExecutionStatus",{Success:null,Failed:E.struct("ExecutionFailed",{error:B$,command:E.option(E.u64())})}),rP=E.struct("GasCostSummary",{computationCost:E.u64(),storageCost:E.u64(),storageRebate:E.u64(),nonRefundableStorageFee:E.u64()}),rd=E.enum("Owner",{AddressOwner:Ot,ObjectOwner:Ot,Shared:E.struct("Shared",{initialSharedVersion:E.u64()}),Immutable:null}),C$=E.struct("TransactionEffectsV1",{status:tP,executedEpoch:E.u64(),gasUsed:rP,modifiedAtVersions:E.vector(E.tuple([Ot,E.u64()])),sharedObjects:E.vector(Rn),transactionDigest:Jn,created:E.vector(E.tuple([Rn,rd])),mutated:E.vector(E.tuple([Rn,rd])),unwrapped:E.vector(E.tuple([Rn,rd])),deleted:E.vector(Rn),unwrappedThenDeleted:E.vector(Rn),wrapped:E.vector(Rn),gasObject:E.tuple([Rn,rd]),eventsDigest:E.option(Jn),dependencies:E.vector(Jn)}),qS=E.tuple([E.u64(),Jn]),O$=E.enum("ObjectIn",{NotExist:null,Exist:E.tuple([qS,rd])}),D$=E.enum("ObjectOut",{NotExist:null,ObjectWrite:E.tuple([Jn,rd]),PackageWrite:qS}),R$=E.enum("IDOperation",{None:null,Created:null,Deleted:null}),N$=E.struct("EffectsObjectChange",{inputState:O$,outputState:D$,idOperation:R$}),U$=E.enum("UnchangedSharedKind",{ReadOnlyRoot:qS,MutateDeleted:E.u64(),ReadDeleted:E.u64(),Cancelled:E.u64(),PerEpochConfig:null}),L$=E.struct("TransactionEffectsV2",{status:tP,executedEpoch:E.u64(),gasUsed:rP,transactionDigest:Jn,gasObjectIndex:E.option(E.u32()),eventsDigest:E.option(Jn),dependencies:E.vector(Jn),lamportVersion:E.u64(),changedObjects:E.vector(E.tuple([Ot,N$])),unchangedSharedObjects:E.vector(E.tuple([Ot,U$])),auxDataDigest:E.option(Jn)}),nP=E.enum("TransactionEffects",{V1:C$,V2:L$});var fs={...E,U8:E.u8(),U16:E.u16(),U32:E.u32(),U64:E.u64(),U128:E.u128(),U256:E.u256(),ULEB128:E.uleb128(),Bool:E.bool(),String:E.string(),Address:Ot,AppId:NS,Argument:$o,CallArg:SS,CompressedSignature:MS,GasData:BS,Intent:US,IntentMessage:LS,IntentScope:DS,IntentVersion:RS,MultiSig:X_,MultiSigPkMap:HS,MultiSigPublicKey:KS,ObjectArg:AS,ObjectDigest:Jn,ProgrammableMoveCall:ES,ProgrammableTransaction:kS,PublicKey:FS,SenderSignedData:Z_,SenderSignedTransaction:VS,SharedObjectRef:wS,StructTag:PS,SuiObjectRef:Rn,Command:IS,TransactionData:OS,TransactionDataV1:CS,TransactionExpiration:_S,TransactionKind:TS,TypeTag:hg,TransactionEffects:nP};d();l();d();l();d();l();d();l();function nd(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function M$(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function od(t,...e){if(!M$(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function oP(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");nd(t.outputLen),nd(t.blockLen)}function ds(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function pg(t,e){od(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();l();var id=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),yg=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);var La=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,sP=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255,Qo=La?t=>t:t=>sP(t);function su(t){for(let e=0;e<t.length;e++)t[e]=sP(t[e])}var F$=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function mg(t){od(t);let e="";for(let r=0;r<t.length;r++)e+=F$[t[r]];return e}var ls={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function iP(t){if(t>=ls._0&&t<=ls._9)return t-ls._0;if(t>=ls._A&&t<=ls._F)return t-(ls._A-10);if(t>=ls._a&&t<=ls._f)return t-(ls._a-10)}function aP(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);let e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);let n=new Uint8Array(r);for(let o=0,i=0;o<r;o++,i+=2){let s=iP(t.charCodeAt(i)),a=iP(t.charCodeAt(i+1));if(s===void 0||a===void 0){let c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[o]=s*16+a}return n}function H$(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Io(t){return typeof t=="string"&&(t=H$(t)),od(t),t}var Ua=class{clone(){return this._cloneInto()}},T1e={}.toString;function cP(t){let e=n=>t().update(Io(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function uP(t){let e=(n,o)=>t(o).update(Io(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}var fP=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]),gg=class extends Ua{constructor(e,r,n={},o,i,s){if(super(),this.blockLen=e,this.outputLen=r,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,nd(e),nd(r),nd(o),r<0||r>o)throw new Error("outputLen bigger than keyLen");if(n.key!==void 0&&(n.key.length<1||n.key.length>o))throw new Error(`key must be up 1..${o} byte long or undefined`);if(n.salt!==void 0&&n.salt.length!==i)throw new Error(`salt must be ${i} byte long or undefined`);if(n.personalization!==void 0&&n.personalization.length!==s)throw new Error(`personalization must be ${s} byte long or undefined`);this.buffer32=id(this.buffer=new Uint8Array(e))}update(e){ds(this);let{blockLen:r,buffer:n,buffer32:o}=this;e=Io(e);let i=e.length,s=e.byteOffset,a=e.buffer;for(let c=0;c<i;){this.pos===r&&(La||su(o),this.compress(o,0,!1),La||su(o),this.pos=0);let u=Math.min(r-this.pos,i-c),h=s+c;if(u===r&&!(h%4)&&c+u<i){let f=new Uint32Array(a,h,Math.floor((i-c)/4));La||su(f);for(let p=0;c+r<i;p+=o.length,c+=r)this.length+=r,this.compress(f,p,!1);La||su(f);continue}n.set(e.subarray(c,c+u),this.pos),this.pos+=u,this.length+=u,c+=u}return this}digestInto(e){ds(this),pg(e,this);let{pos:r,buffer32:n}=this;this.finished=!0,this.buffer.subarray(r).fill(0),La||su(n),this.compress(n,0,!0),La||su(n);let o=id(e);this.get().forEach((i,s)=>o[s]=Qo(i))}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){let{buffer:r,length:n,finished:o,destroyed:i,outputLen:s,pos:a}=this;return e||(e=new this.constructor({dkLen:s})),e.set(...this.get()),e.length=n,e.finished=o,e.destroyed=i,e.outputLen=s,e.buffer.set(r),e.pos=a,e}};d();l();var bg=BigInt(4294967295),zS=BigInt(32);function dP(t,e=!1){return e?{h:Number(t&bg),l:Number(t>>zS&bg)}:{h:Number(t>>zS&bg)|0,l:Number(t&bg)|0}}function K$(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){let{h:i,l:s}=dP(t[o],e);[r[o],n[o]]=[i,s]}return[r,n]}var V$=(t,e)=>BigInt(t>>>0)<<zS|BigInt(e>>>0),q$=(t,e,r)=>t>>>r,z$=(t,e,r)=>t<<32-r|e>>>r,j$=(t,e,r)=>t>>>r|e<<32-r,W$=(t,e,r)=>t<<32-r|e>>>r,G$=(t,e,r)=>t<<64-r|e>>>r-32,$$=(t,e,r)=>t>>>r-32|e<<64-r,Q$=(t,e)=>e,Y$=(t,e)=>t,J$=(t,e,r)=>t<<r|e>>>32-r,X$=(t,e,r)=>e<<r|t>>>32-r,Z$=(t,e,r)=>e<<r-32|t>>>64-r,eQ=(t,e,r)=>t<<r-32|e>>>64-r;function tQ(t,e,r,n){let o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}var rQ=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),nQ=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,oQ=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),iQ=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,sQ=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),aQ=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0;var cQ={fromBig:dP,split:K$,toBig:V$,shrSH:q$,shrSL:z$,rotrSH:j$,rotrSL:W$,rotrBH:G$,rotrBL:$$,rotr32H:Q$,rotr32L:Y$,rotlSH:J$,rotlSL:X$,rotlBH:Z$,rotlBL:eQ,add:tQ,add3L:rQ,add3H:nQ,add4L:oQ,add4H:iQ,add5H:aQ,add5L:sQ},be=cQ;var gr=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ue=new Uint32Array(32);function Ma(t,e,r,n,o,i){let s=o[i],a=o[i+1],c=ue[2*t],u=ue[2*t+1],h=ue[2*e],f=ue[2*e+1],p=ue[2*r],m=ue[2*r+1],g=ue[2*n],x=ue[2*n+1],w=be.add3L(c,h,s);u=be.add3H(w,u,f,a),c=w|0,{Dh:x,Dl:g}={Dh:x^u,Dl:g^c},{Dh:x,Dl:g}={Dh:be.rotr32H(x,g),Dl:be.rotr32L(x,g)},{h:m,l:p}=be.add(m,p,x,g),{Bh:f,Bl:h}={Bh:f^m,Bl:h^p},{Bh:f,Bl:h}={Bh:be.rotrSH(f,h,24),Bl:be.rotrSL(f,h,24)},ue[2*t]=c,ue[2*t+1]=u,ue[2*e]=h,ue[2*e+1]=f,ue[2*r]=p,ue[2*r+1]=m,ue[2*n]=g,ue[2*n+1]=x}function Fa(t,e,r,n,o,i){let s=o[i],a=o[i+1],c=ue[2*t],u=ue[2*t+1],h=ue[2*e],f=ue[2*e+1],p=ue[2*r],m=ue[2*r+1],g=ue[2*n],x=ue[2*n+1],w=be.add3L(c,h,s);u=be.add3H(w,u,f,a),c=w|0,{Dh:x,Dl:g}={Dh:x^u,Dl:g^c},{Dh:x,Dl:g}={Dh:be.rotrSH(x,g,16),Dl:be.rotrSL(x,g,16)},{h:m,l:p}=be.add(m,p,x,g),{Bh:f,Bl:h}={Bh:f^m,Bl:h^p},{Bh:f,Bl:h}={Bh:be.rotrBH(f,h,63),Bl:be.rotrBL(f,h,63)},ue[2*t]=c,ue[2*t+1]=u,ue[2*e]=h,ue[2*e+1]=f,ue[2*r]=p,ue[2*r+1]=m,ue[2*n]=g,ue[2*n+1]=x}var jS=class extends gg{constructor(e={}){super(128,e.dkLen===void 0?64:e.dkLen,e,64,16,16),this.v0l=gr[0]|0,this.v0h=gr[1]|0,this.v1l=gr[2]|0,this.v1h=gr[3]|0,this.v2l=gr[4]|0,this.v2h=gr[5]|0,this.v3l=gr[6]|0,this.v3h=gr[7]|0,this.v4l=gr[8]|0,this.v4h=gr[9]|0,this.v5l=gr[10]|0,this.v5h=gr[11]|0,this.v6l=gr[12]|0,this.v6h=gr[13]|0,this.v7l=gr[14]|0,this.v7h=gr[15]|0;let r=e.key?e.key.length:0;if(this.v0l^=this.outputLen|r<<8|65536|1<<24,e.salt){let n=id(Io(e.salt));this.v4l^=Qo(n[0]),this.v4h^=Qo(n[1]),this.v5l^=Qo(n[2]),this.v5h^=Qo(n[3])}if(e.personalization){let n=id(Io(e.personalization));this.v6l^=Qo(n[0]),this.v6h^=Qo(n[1]),this.v7l^=Qo(n[2]),this.v7h^=Qo(n[3])}if(e.key){let n=new Uint8Array(this.blockLen);n.set(Io(e.key)),this.update(n)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:o,v2l:i,v2h:s,v3l:a,v3h:c,v4l:u,v4h:h,v5l:f,v5h:p,v6l:m,v6h:g,v7l:x,v7h:w}=this;return[e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w]}set(e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=o|0,this.v2l=i|0,this.v2h=s|0,this.v3l=a|0,this.v3h=c|0,this.v4l=u|0,this.v4h=h|0,this.v5l=f|0,this.v5h=p|0,this.v6l=m|0,this.v6h=g|0,this.v7l=x|0,this.v7h=w|0}compress(e,r,n){this.get().forEach((c,u)=>ue[u]=c),ue.set(gr,16);let{h:o,l:i}=be.fromBig(BigInt(this.length));ue[24]=gr[8]^i,ue[25]=gr[9]^o,n&&(ue[28]=~ue[28],ue[29]=~ue[29]);let s=0,a=fP;for(let c=0;c<12;c++)Ma(0,4,8,12,e,r+2*a[s++]),Fa(0,4,8,12,e,r+2*a[s++]),Ma(1,5,9,13,e,r+2*a[s++]),Fa(1,5,9,13,e,r+2*a[s++]),Ma(2,6,10,14,e,r+2*a[s++]),Fa(2,6,10,14,e,r+2*a[s++]),Ma(3,7,11,15,e,r+2*a[s++]),Fa(3,7,11,15,e,r+2*a[s++]),Ma(0,5,10,15,e,r+2*a[s++]),Fa(0,5,10,15,e,r+2*a[s++]),Ma(1,6,11,12,e,r+2*a[s++]),Fa(1,6,11,12,e,r+2*a[s++]),Ma(2,7,8,13,e,r+2*a[s++]),Fa(2,7,8,13,e,r+2*a[s++]),Ma(3,4,9,14,e,r+2*a[s++]),Fa(3,4,9,14,e,r+2*a[s++]);this.v0l^=ue[0]^ue[16],this.v0h^=ue[1]^ue[17],this.v1l^=ue[2]^ue[18],this.v1h^=ue[3]^ue[19],this.v2l^=ue[4]^ue[20],this.v2h^=ue[5]^ue[21],this.v3l^=ue[6]^ue[22],this.v3h^=ue[7]^ue[23],this.v4l^=ue[8]^ue[24],this.v4h^=ue[9]^ue[25],this.v5l^=ue[10]^ue[26],this.v5h^=ue[11]^ue[27],this.v6l^=ue[12]^ue[28],this.v6h^=ue[13]^ue[29],this.v7l^=ue[14]^ue[30],this.v7h^=ue[15]^ue[31],ue.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},au=uP(t=>new jS(t));d();l();d();l();function xg(t,e){return fs.IntentMessage(fs.fixedArray(e.length,fs.u8())).serialize({intent:{scope:{[t]:!0},version:{V0:!0},appId:{Sui:!0}},value:e}).toBytes()}function WS(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var sd=class{equals(e){return WS(this.toRawBytes(),e.toRawBytes())}toBase64(){return $t(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let e=this.toSuiBytes();return $t(e)}verifyWithIntent(e,r,n){let o=xg(n,e),i=au(o,{dkLen:32});return this.verify(i,r)}verifyPersonalMessage(e,r){return this.verifyWithIntent(fs.vector(fs.u8()).serialize(e).toBytes(),r,"PersonalMessage")}verifyTransaction(e,r){return this.verifyWithIntent(e,r,"TransactionData")}toSuiBytes(){let e=this.toRawBytes(),r=new Uint8Array(e.length+1);return r.set([this.flag()]),r.set(e,1),r}toSuiAddress(){return Ti(mg(au(this.toSuiBytes(),{dkLen:32})).slice(0,Na*2))}};d();l();var hs={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},lP={ED25519:32,Secp256k1:33,Secp256r1:33},wg={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};d();l();d();l();d();l();function hP(t,e){if(!!!t)throw new Error(e)}d();l();var $S={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},uQ=new Set(Object.keys($S));function QS(t){let e=t?.kind;return typeof e=="string"&&uQ.has(e)}var GS;(function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"})(GS||(GS={}));d();l();var G0;(function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(G0||(G0={}));d();l();d();l();function YS(t){return t===9||t===32}function pP(t,e){let r=t.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),o=n.length===1,i=n.length>1&&n.slice(1).every(m=>m.length===0||YS(m.charCodeAt(0))),s=r.endsWith('\\"""'),a=t.endsWith('"')&&!s,c=t.endsWith("\\"),u=a||c,h=!(e!=null&&e.minimize)&&(!o||t.length>70||u||i||s),f="",p=o&&YS(t.charCodeAt(0));return(h&&!p||i)&&(f+=`
`),f+=r,(h||u)&&(f+=`
`),'"""'+f+'"""'}d();l();function yP(t){return Ag(t,[])}function Ag(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return fQ(t,e);default:return String(t)}}function fQ(t,e){if(t===null)return"null";if(e.includes(t))return"[Circular]";let r=[...e,t];if(dQ(t)){let n=t.toJSON();if(n!==t)return typeof n=="string"?n:Ag(n,r)}else if(Array.isArray(t))return hQ(t,r);return lQ(t,r)}function dQ(t){return typeof t.toJSON=="function"}function lQ(t,e){let r=Object.entries(t);return r.length===0?"{}":e.length>2?"["+pQ(t)+"]":"{ "+r.map(([o,i])=>o+": "+Ag(i,e)).join(", ")+" }"}function hQ(t,e){if(t.length===0)return"[]";if(e.length>2)return"[Array]";let r=Math.min(10,t.length),n=t.length-r,o=[];for(let i=0;i<r;++i)o.push(Ag(t[i],e));return n===1?o.push("... 1 more item"):n>1&&o.push(`... ${n} more items`),"["+o.join(", ")+"]"}function pQ(t){let e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if(e==="Object"&&typeof t.constructor=="function"){let r=t.constructor.name;if(typeof r=="string"&&r!=="")return r}return e}d();l();d();l();function mP(t){return`"${t.replace(yQ,mQ)}"`}var yQ=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function mQ(t){return gQ[t.charCodeAt(0)]}var gQ=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];d();l();var gP=Object.freeze({});function JS(t,e,r=$S){let n=new Map;for(let S of Object.values(G0))n.set(S,bP(e,S));let o,i=Array.isArray(t),s=[t],a=-1,c=[],u=t,h,f,p=[],m=[];do{a++;let S=a===s.length,k=S&&c.length!==0;if(S){if(h=m.length===0?void 0:p[p.length-1],u=f,f=m.pop(),k)if(i){u=u.slice();let T=0;for(let[C,W]of c){let oe=C-T;W===null?(u.splice(oe,1),T++):u[oe]=W}}else{u=Object.defineProperties({},Object.getOwnPropertyDescriptors(u));for(let[T,C]of c)u[T]=C}a=o.index,s=o.keys,c=o.edits,i=o.inArray,o=o.prev}else if(f){if(h=i?a:s[a],u=f[h],u==null)continue;p.push(h)}let A;if(!Array.isArray(u)){var g,x;QS(u)||hP(!1,`Invalid AST Node: ${yP(u)}.`);let T=S?(g=n.get(u.kind))===null||g===void 0?void 0:g.leave:(x=n.get(u.kind))===null||x===void 0?void 0:x.enter;if(A=T?.call(e,u,h,f,p,m),A===gP)break;if(A===!1){if(!S){p.pop();continue}}else if(A!==void 0&&(c.push([h,A]),!S))if(QS(A))u=A;else{p.pop();continue}}if(A===void 0&&k&&c.push([h,u]),S)p.pop();else{var w;o={inArray:i,index:a,keys:s,edits:c,prev:o},i=Array.isArray(u),s=i?u:(w=r[u.kind])!==null&&w!==void 0?w:[],a=-1,c=[],f&&m.push(f),f=u}}while(o!==void 0);return c.length!==0?c[c.length-1][1]:t}function bP(t,e){let r=t[e];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:t.enter,leave:t.leave}}function vg(t){return JS(t,xQ)}var bQ=80,xQ={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>he(t.definitions,`

`)},OperationDefinition:{leave(t){let e=Ye("(",he(t.variableDefinitions,", "),")"),r=he([t.operation,he([t.name,e]),he(t.directives," ")]," ");return(r==="query"?"":r+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:r,directives:n})=>t+": "+e+Ye(" = ",r)+Ye(" ",he(n," "))},SelectionSet:{leave:({selections:t})=>Yo(t)},Field:{leave({alias:t,name:e,arguments:r,directives:n,selectionSet:o}){let i=Ye("",t,": ")+e,s=i+Ye("(",he(r,", "),")");return s.length>bQ&&(s=i+Ye(`(
`,Sg(he(r,`
`)),`
)`)),he([s,he(n," "),o]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+Ye(" ",he(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:r})=>he(["...",Ye("on ",t),he(e," "),r]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:r,directives:n,selectionSet:o})=>`fragment ${t}${Ye("(",he(r,", "),")")} on ${e} ${Ye("",he(n," ")," ")}`+o},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?pP(t):mP(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+he(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+he(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+Ye("(",he(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:r})=>Ye("",t,`
`)+he(["schema",he(e," "),Yo(r)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:r})=>Ye("",t,`
`)+he(["scalar",e,he(r," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:o})=>Ye("",t,`
`)+he(["type",e,Ye("implements ",he(r," & ")),he(n," "),Yo(o)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:r,type:n,directives:o})=>Ye("",t,`
`)+e+(xP(r)?Ye(`(
`,Sg(he(r,`
`)),`
)`):Ye("(",he(r,", "),")"))+": "+n+Ye(" ",he(o," "))},InputValueDefinition:{leave:({description:t,name:e,type:r,defaultValue:n,directives:o})=>Ye("",t,`
`)+he([e+": "+r,Ye("= ",n),he(o," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:r,directives:n,fields:o})=>Ye("",t,`
`)+he(["interface",e,Ye("implements ",he(r," & ")),he(n," "),Yo(o)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:r,types:n})=>Ye("",t,`
`)+he(["union",e,he(r," "),Ye("= ",he(n," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:r,values:n})=>Ye("",t,`
`)+he(["enum",e,he(r," "),Yo(n)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:r})=>Ye("",t,`
`)+he([e,he(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:r,fields:n})=>Ye("",t,`
`)+he(["input",e,he(r," "),Yo(n)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:r,repeatable:n,locations:o})=>Ye("",t,`
`)+"directive @"+e+(xP(r)?Ye(`(
`,Sg(he(r,`
`)),`
)`):Ye("(",he(r,", "),")"))+(n?" repeatable":"")+" on "+he(o," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>he(["extend schema",he(t," "),Yo(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>he(["extend scalar",t,he(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>he(["extend type",t,Ye("implements ",he(e," & ")),he(r," "),Yo(n)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:r,fields:n})=>he(["extend interface",t,Ye("implements ",he(e," & ")),he(r," "),Yo(n)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:r})=>he(["extend union",t,he(e," "),Ye("= ",he(r," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:r})=>he(["extend enum",t,he(e," "),Yo(r)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:r})=>he(["extend input",t,he(e," "),Yo(r)]," ")}};function he(t,e=""){var r;return(r=t?.filter(n=>n).join(e))!==null&&r!==void 0?r:""}function Yo(t){return Ye(`{
`,Sg(he(t,`
`)),`
}`)}function Ye(t,e,r=""){return e!=null&&e!==""?t+e+r:""}function Sg(t){return Ye("  ",t.replace(/\n/g,`
  `))}function xP(t){var e;return(e=t?.some(r=>r.includes(`
`)))!==null&&e!==void 0?e:!1}d();l();var wP=t=>{throw TypeError(t)},AP=(t,e,r)=>e.has(t)||wP("Cannot "+r),Eg=(t,e,r)=>(AP(t,e,"read from private field"),r?r.call(t):e.get(t)),Ig=(t,e,r)=>e.has(t)?wP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),kg=(t,e,r,n)=>(AP(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Tg,_g,Pg,Bg,XS=class extends Error{},Cg=class{constructor({url:e,fetch:r=fetch,headers:n={},queries:o={}}){Ig(this,Tg),Ig(this,_g),Ig(this,Pg),Ig(this,Bg),kg(this,Tg,e),kg(this,_g,o),kg(this,Pg,n),kg(this,Bg,(...i)=>r(...i))}async query(e){let r=await Eg(this,Bg).call(this,Eg(this,Tg),{method:"POST",headers:{"Content-Type":"application/json",...Eg(this,Pg)},body:JSON.stringify({query:typeof e.query=="string"?String(e.query):vg(e.query),variables:e.variables,extensions:e.extensions,operationName:e.operationName})});if(!r.ok)throw new XS(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(e,r){return this.query({...r,query:Eg(this,_g)[e]})}};Tg=new WeakMap;_g=new WeakMap;Pg=new WeakMap;Bg=new WeakMap;d();l();d();l();d();l();var $0={NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType"};var tv=class extends Error{constructor(e,r,n,o,i,s,a){super(e),this.name="GraphQLError",this.message=e,i&&(this.path=i),r&&(this.nodes=Array.isArray(r)?r:[r]),n&&(this.source=n),o&&(this.positions=o),s&&(this.originalError=s);var c=a;if(!c&&s){var u=s.extensions;u&&typeof u=="object"&&(c=u)}this.extensions=c||{}}toJSON(){return{...this,message:this.message}}toString(){return this.message}get[Symbol.toStringTag](){return"GraphQLError"}},at,ve;function or(t){return new tv(`Syntax Error: Unexpected token at ${ve} in ${t}`)}function Xn(t){if(t.lastIndex=ve,t.test(at))return at.slice(ve,ve=t.lastIndex)}var Og=/ +(?=[^\s])/y;function wQ(t){for(var e=t.split(`
`),r="",n=0,o=0,i=e.length-1,s=0;s<e.length;s++)Og.lastIndex=0,Og.test(e[s])&&(s&&(!n||Og.lastIndex<n)&&(n=Og.lastIndex),o=o||s,i=s);for(var a=o;a<=i;a++)a!==o&&(r+=`
`),r+=e[a].slice(n).replace(/\\"""/g,'"""');return r}function Oe(){for(var t=0|at.charCodeAt(ve++);t===9||t===10||t===13||t===32||t===35||t===44||t===65279;t=0|at.charCodeAt(ve++))if(t===35)for(;(t=at.charCodeAt(ve++))!==10&&t!==13;);ve--}var hn=/[_A-Za-z]\w*/y,ZS=new RegExp("(?:(null|true|false)|\\$("+hn.source+')|(-?\\d+)((?:\\.\\d+)?[eE][+-]?\\d+|\\.\\d+)?|("""(?:"""|(?:[\\s\\S]*?[^\\\\])"""))|("(?:"|[^\\r\\n]*?[^\\\\]"))|('+hn.source+"))","y"),Ha=function(t){return t[t.Const=1]="Const",t[t.Var=2]="Var",t[t.Int=3]="Int",t[t.Float=4]="Float",t[t.BlockString=5]="BlockString",t[t.String=6]="String",t[t.Enum=7]="Enum",t}(Ha||{}),AQ=/\\/;function Dg(t){var e,r;if(ZS.lastIndex=ve,at.charCodeAt(ve)===91){ve++,Oe();for(var n=[];at.charCodeAt(ve)!==93;)n.push(Dg(t));return ve++,Oe(),{kind:"ListValue",values:n}}else if(at.charCodeAt(ve)===123){ve++,Oe();for(var o=[];at.charCodeAt(ve)!==125;){if((e=Xn(hn))==null||(Oe(),at.charCodeAt(ve++)!==58))throw or("ObjectField");Oe(),o.push({kind:"ObjectField",name:{kind:"Name",value:e},value:Dg(t)})}return ve++,Oe(),{kind:"ObjectValue",fields:o}}else if((r=ZS.exec(at))!=null){if(ve=ZS.lastIndex,Oe(),(e=r[Ha.Const])!=null)return e==="null"?{kind:"NullValue"}:{kind:"BooleanValue",value:e==="true"};if((e=r[Ha.Var])!=null){if(t)throw or("Variable");return{kind:"Variable",name:{kind:"Name",value:e}}}else if((e=r[Ha.Int])!=null){var i;return(i=r[Ha.Float])!=null?{kind:"FloatValue",value:e+i}:{kind:"IntValue",value:e}}else{if((e=r[Ha.BlockString])!=null)return{kind:"StringValue",value:wQ(e.slice(3,-3)),block:!0};if((e=r[Ha.String])!=null)return{kind:"StringValue",value:AQ.test(e)?JSON.parse(e):e.slice(1,-1),block:!1};if((e=r[Ha.Enum])!=null)return{kind:"EnumValue",value:e}}}throw or("Value")}function SP(t){if(at.charCodeAt(ve)===40){var e=[];ve++,Oe();var r;do{if((r=Xn(hn))==null||(Oe(),at.charCodeAt(ve++)!==58))throw or("Argument");Oe(),e.push({kind:"Argument",name:{kind:"Name",value:r},value:Dg(t)})}while(at.charCodeAt(ve)!==41);return ve++,Oe(),e}}function ad(t){if(at.charCodeAt(ve)===64){var e=[],r;do{if(ve++,(r=Xn(hn))==null)throw or("Directive");Oe(),e.push({kind:"Directive",name:{kind:"Name",value:r},arguments:SP(t)})}while(at.charCodeAt(ve)===64);return e}}function SQ(){for(var t,e=0;at.charCodeAt(ve)===91;)e++,ve++,Oe();if((t=Xn(hn))==null)throw or("NamedType");Oe();var r={kind:"NamedType",name:{kind:"Name",value:t}};do if(at.charCodeAt(ve)===33&&(ve++,Oe(),r={kind:"NonNullType",type:r}),e){if(at.charCodeAt(ve++)!==93)throw or("NamedType");Oe(),r={kind:"ListType",type:r}}while(e--);return r}var ev=new RegExp("(?:(\\.{3})|("+hn.source+"))","y"),rv=function(t){return t[t.Spread=1]="Spread",t[t.Name=2]="Name",t}(rv||{});function Rg(){var t=[],e,r;do if(ev.lastIndex=ve,(r=ev.exec(at))!=null){if(ve=ev.lastIndex,r[rv.Spread]!=null){Oe();var n=Xn(hn);if(n!=null&&n!=="on")Oe(),t.push({kind:"FragmentSpread",name:{kind:"Name",value:n},directives:ad(!1)});else{if(Oe(),n==="on"){if((n=Xn(hn))==null)throw or("NamedType");Oe()}var o=ad(!1);if(at.charCodeAt(ve++)!==123)throw or("InlineFragment");Oe(),t.push({kind:"InlineFragment",typeCondition:n?{kind:"NamedType",name:{kind:"Name",value:n}}:void 0,directives:o,selectionSet:Rg()})}}else if((e=r[rv.Name])!=null){var i=void 0;if(Oe(),at.charCodeAt(ve)===58){if(ve++,Oe(),i=e,(e=Xn(hn))==null)throw or("Field");Oe()}var s=SP(!1);Oe();var a=ad(!1),c=void 0;at.charCodeAt(ve)===123&&(ve++,Oe(),c=Rg()),t.push({kind:"Field",alias:i?{kind:"Name",value:i}:void 0,name:{kind:"Name",value:e},arguments:s,directives:a,selectionSet:c})}}else throw or("SelectionSet");while(at.charCodeAt(ve)!==125);return ve++,Oe(),{kind:"SelectionSet",selections:t}}function vQ(){var t,e;if((t=Xn(hn))==null||(Oe(),Xn(hn)!=="on")||(Oe(),(e=Xn(hn))==null))throw or("FragmentDefinition");Oe();var r=ad(!1);if(at.charCodeAt(ve++)!==123)throw or("FragmentDefinition");return Oe(),{kind:"FragmentDefinition",name:{kind:"Name",value:t},typeCondition:{kind:"NamedType",name:{kind:"Name",value:e}},directives:r,selectionSet:Rg()}}var EQ=/(?:query|mutation|subscription|fragment)/y;function IQ(t){var e,r,n;if(t&&(Oe(),e=Xn(hn),r=function(){if(Oe(),at.charCodeAt(ve)===40){var i=[];ve++,Oe();var s;do{if(at.charCodeAt(ve++)!==36||(s=Xn(hn))==null)throw or("Variable");if(Oe(),at.charCodeAt(ve++)!==58)throw or("VariableDefinition");Oe();var a=SQ(),c=void 0;at.charCodeAt(ve)===61&&(ve++,Oe(),c=Dg(!0)),Oe(),i.push({kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:s}},type:a,defaultValue:c,directives:ad(!0)})}while(at.charCodeAt(ve)!==41);return ve++,Oe(),i}}(),n=ad(!1)),at.charCodeAt(ve)===123)return ve++,Oe(),{kind:"OperationDefinition",operation:t||"query",name:e?{kind:"Name",value:e}:void 0,variableDefinitions:r,directives:n,selectionSet:Rg()}}function vP(t,e){return ve=0,function(n,o){var i,s;Oe();var a=[];do if((i=Xn(EQ))==="fragment")Oe(),a.push(vQ());else if((s=IQ(i))!=null)a.push(s);else throw or("Document");while(ve<n.length);if(!o){var c;return{kind:"Document",definitions:a,set loc(u){c=u},get loc(){return c||(c={start:0,end:n.length,startToken:void 0,endToken:void 0,source:{body:n,name:"graphql.web",locationOffset:{line:1,column:1}}}),c}}}return{kind:"Document",definitions:a}}(at=typeof t.body=="string"?t.body:t,e&&e.noLocation)}var EP=0,nv=new Set;function ov(){function t(e,r){var n=vP(e).definitions,o=new Set;for(var i of r||[])for(var s of i.definitions)s.kind===$0.FRAGMENT_DEFINITION&&!o.has(s)&&(n.push(s),o.add(s));var a;(a=n[0].kind===$0.FRAGMENT_DEFINITION)&&n[0].directives&&(n[0].directives=n[0].directives.filter(u=>u.name.value!=="_unmask"));var c;return{kind:$0.DOCUMENT,definitions:n,get loc(){if(!c&&a){var u=e+function(f){try{EP++;var p="";for(var m of f)if(!nv.has(m)){nv.add(m);var{loc:g}=m;g&&(p+=g.source.body)}return p}finally{--EP==0&&nv.clear()}}(r||[]);return{start:0,end:u.length,source:{body:u,name:"GraphQLTada",locationOffset:{line:1,column:1}}}}return c},set loc(u){c=u}}}return t.scalar=function(r,n){return n},t.persisted=function(r,n){return{kind:$0.DOCUMENT,definitions:n?n.definitions:[],documentId:r}},t}var P2e=ov();var IP=ov();d();l();function kQ(t){if(t.length!==1)throw new Error("Invalid base64Url character: "+t);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(t);if(r===-1)throw new Error("Invalid base64Url character: "+t);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}function TQ(t){let e=[];for(let r=0;r<t.length;r++){let n=t.charAt(r),o=kQ(n);e=e.concat(o)}return e}function _Q(t,e){if(t.length<2)throw new Error(`Input (s = ${t}) is not tightly packed because s.length < 2`);let r=TQ(t),n=e%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${t}) is not tightly packed because i%4 = 3 (i = ${e}))`);let o=(e+t.length-1)%4;if(o!==3)if(o===2)r=r.slice(0,r.length-2);else if(o===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${t}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${e}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let i=new Uint8Array(Math.floor(r.length/8)),s=0;for(let a=0;a<r.length;a+=8){let c=r.slice(a,a+8),u=parseInt(c.join(""),2);i[s++]=u}return new TextDecoder().decode(i)}function PQ(t){if(!(t.slice(-1)==="}"||t.slice(-1)===","))throw new Error("Invalid claim");let e=JSON.parse("{"+t.slice(0,-1)+"}");if(Object.keys(e).length!==1)throw new Error("Invalid claim");let r=Object.keys(e)[0];return[r,e[r]]}function kP(t,e){let r=_Q(t.value,t.indexMod4),[n,o]=PQ(r);if(n!==e)throw new Error(`Invalid field name: found ${n} expected ${e}`);return o}d();l();d();l();var TP=E.struct("ZkLoginSignature",{inputs:E.struct("ZkLoginSignatureInputs",{proofPoints:E.struct("ZkLoginSignatureInputsProofPoints",{a:E.vector(E.string()),b:E.vector(E.vector(E.string())),c:E.vector(E.string())}),issBase64Details:E.struct("ZkLoginSignatureInputsClaim",{value:E.string(),indexMod4:E.u8()}),headerBase64:E.string(),addressSeed:E.string()}),maxEpoch:E.u64(),userSignature:E.vector(E.u8())});function _P(t){return TP.parse(typeof t=="string"?Cr(t):t)}d();l();function BQ(t){for(let e=0;e<t.length;e++)if(t[e]!==0)return e;return-1}function Ng(t,e){let r=t.toString(16);return aP(r.padStart(e*2,"0").slice(-e*2))}function iv(t,e){let r=Ng(t,e),n=BQ(r);return n===-1?new Uint8Array([0]):r.slice(n)}var CP=t=>{throw TypeError(t)},OP=(t,e,r)=>e.has(t)||CP("Cannot "+r),ps=(t,e,r)=>(OP(t,e,"read from private field"),r?r.call(t):e.get(t)),sv=(t,e,r)=>e.has(t)?CP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),cd=(t,e,r,n)=>(OP(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Jo,Q0,Y0,CQ=class av extends sd{constructor(e,{client:r}={}){super(),sv(this,Jo),sv(this,Q0),sv(this,Y0),cd(this,Q0,r),typeof e=="string"?cd(this,Jo,Cr(e)):e instanceof Uint8Array?cd(this,Jo,e):cd(this,Jo,Uint8Array.from(e)),cd(this,Y0,ps(this,Jo).length!==ps(this,Jo)[0]+1+32),ps(this,Y0)&&cd(this,Jo,PP(ps(this,Jo)))}equals(e){return super.equals(e)}toSuiAddress(){if(ps(this,Y0)){let e=PP(ps(this,Jo),!0),r=new Uint8Array(e.length+1);return r[0]=this.flag(),r.set(e,1),Ti(mg(au(r,{dkLen:32})).slice(0,Na*2))}return super.toSuiAddress()}toRawBytes(){return ps(this,Jo)}flag(){return hs.ZkLogin}async verify(e,r){throw Error("does not support")}verifyPersonalMessage(e,r){let n=Ug(r),o=new av(n.publicKey).toSuiAddress();return BP({address:o,bytes:$t(e),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:ps(this,Q0)})}verifyTransaction(e,r){let n=Ug(r),o=new av(n.publicKey).toSuiAddress();return BP({address:o,bytes:$t(e),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:ps(this,Q0)})}};Jo=new WeakMap;Q0=new WeakMap;Y0=new WeakMap;var OQ=CQ;function DQ(t,e,r){let n=r?.legacyAddress?iv(t,32):Ng(t,32),o=new TextEncoder().encode(e),i=new Uint8Array(1+o.length+n.length);return i.set([o.length],0),i.set(o,1),i.set(n,1+o.length),new OQ(i,r)}var RQ=IP(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function PP(t,e=!1){let r=t[0]+1,n=BigInt(`0x${Eo(t.slice(r))}`),o=e?iv(n,32):Ng(n,32),i=new Uint8Array(r+o.length);return i.set(t.slice(0,r),0),i.set(o,r),i}async function BP({address:t,bytes:e,signature:r,intentScope:n,client:o=new Cg({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let i=await o.query({query:RQ,variables:{bytes:e,signature:r,intentScope:n,author:t}});return i.data?.verifyZkloginSignature.success===!0&&i.data?.verifyZkloginSignature.errors.length===0}function Ug(t){let e=typeof t=="string"?Cr(t):t;if(e[0]!==hs.ZkLogin)throw new Error("Invalid signature scheme");let r=e.slice(1),{inputs:n,maxEpoch:o,userSignature:i}=_P(r),{issBase64Details:s,addressSeed:a}=n,c=kP(s,"iss"),u=DQ(BigInt(a),c);return{serializedSignature:$t(e),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:o,userSignature:i,iss:c,addressSeed:BigInt(a)},signature:e,publicKey:u.toRawBytes()}}function DP({signature:t,signatureScheme:e,publicKey:r}){if(!r)throw new Error("`publicKey` is required");let n=r.toRawBytes(),o=new Uint8Array(1+t.length+n.length);return o.set([hs[e]]),o.set(t,1),o.set(n,1+t.length),$t(o)}function RP(t){let e=Cr(t),r=wg[e[0]];switch(r){case"MultiSig":let n=fs.MultiSig.parse(e.slice(1));return{serializedSignature:t,signatureScheme:r,multisig:n,bytes:e};case"ZkLogin":return Ug(t);case"ED25519":case"Secp256k1":case"Secp256r1":let o=lP[r],i=e.slice(1,e.length-o),s=e.slice(1+i.length);return{serializedSignature:t,signatureScheme:r,signature:i,publicKey:s,bytes:e};default:throw new Error("Unsupported signature scheme")}}d();l();d();l();d();l();function ud(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function NQ(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function J0(t,...e){if(!NQ(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Lg(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ud(t.outputLen),ud(t.blockLen)}function fd(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function NP(t,e){J0(t);let r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}d();l();d();l();d();l();var ld=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function UQ(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Ka(t){return typeof t=="string"&&(t=UQ(t)),J0(t),t}var dd=class{clone(){return this._cloneInto()}};function UP(t,e){if(e!==void 0&&{}.toString.call(e)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(t,e)}function LP(t){let e=n=>t().update(Ka(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}var Mg=class extends dd{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Lg(e);let n=Ka(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return fd(this),this.iHash.update(e),this}digestInto(e){fd(this),J0(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},cv=(t,e,r)=>new Mg(t,e).update(r).digest();cv.create=(t,e)=>new Mg(t,e);function LQ(t,e,r,n){Lg(t);let o=UP({dkLen:32,asyncTick:10},n),{c:i,dkLen:s,asyncTick:a}=o;if(ud(i),ud(s),ud(a),i<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let c=Ka(e),u=Ka(r),h=new Uint8Array(s),f=cv.create(t,c),p=f._cloneInto().update(u);return{c:i,dkLen:s,asyncTick:a,DK:h,PRF:f,PRFSalt:p}}function MQ(t,e,r,n,o){return t.destroy(),e.destroy(),n&&n.destroy(),o.fill(0),r}function MP(t,e,r,n){let{c:o,dkLen:i,DK:s,PRF:a,PRFSalt:c}=LQ(t,e,r,n),u,h=new Uint8Array(4),f=ld(h),p=new Uint8Array(a.outputLen);for(let m=1,g=0;g<i;m++,g+=a.outputLen){let x=s.subarray(g,g+a.outputLen);f.setInt32(0,m,!1),(u=c._cloneInto(u)).update(h).digestInto(p),x.set(p.subarray(0,x.length));for(let w=1;w<o;w++){a._cloneInto(u).update(p).digestInto(p);for(let S=0;S<x.length;S++)x[S]^=p[S]}}return MQ(a,c,s,u,p)}d();l();function FQ(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var Fg=class extends dd{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ld(this.buffer)}update(e){fd(this);let{view:r,buffer:n,blockLen:o}=this;e=Ka(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=ld(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){fd(this),NP(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;FQ(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=ld(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};d();l();d();l();var Hg=BigInt(4294967295),uv=BigInt(32);function FP(t,e=!1){return e?{h:Number(t&Hg),l:Number(t>>uv&Hg)}:{h:Number(t>>uv&Hg)|0,l:Number(t&Hg)|0}}function HQ(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let o=0;o<t.length;o++){let{h:i,l:s}=FP(t[o],e);[r[o],n[o]]=[i,s]}return[r,n]}var KQ=(t,e)=>BigInt(t>>>0)<<uv|BigInt(e>>>0),VQ=(t,e,r)=>t>>>r,qQ=(t,e,r)=>t<<32-r|e>>>r,zQ=(t,e,r)=>t>>>r|e<<32-r,jQ=(t,e,r)=>t<<32-r|e>>>r,WQ=(t,e,r)=>t<<64-r|e>>>r-32,GQ=(t,e,r)=>t>>>r-32|e<<64-r,$Q=(t,e)=>e,QQ=(t,e)=>t,YQ=(t,e,r)=>t<<r|e>>>32-r,JQ=(t,e,r)=>e<<r|t>>>32-r,XQ=(t,e,r)=>e<<r-32|t>>>64-r,ZQ=(t,e,r)=>t<<r-32|e>>>64-r;function eY(t,e,r,n){let o=(e>>>0)+(n>>>0);return{h:t+r+(o/2**32|0)|0,l:o|0}}var tY=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),rY=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,nY=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),oY=(t,e,r,n,o)=>e+r+n+o+(t/2**32|0)|0,iY=(t,e,r,n,o)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(o>>>0),sY=(t,e,r,n,o,i)=>e+r+n+o+i+(t/2**32|0)|0;var aY={fromBig:FP,split:HQ,toBig:KQ,shrSH:VQ,shrSL:qQ,rotrSH:zQ,rotrSL:jQ,rotrBH:WQ,rotrBL:GQ,rotr32H:$Q,rotr32L:QQ,rotlSH:YQ,rotlSL:JQ,rotlBH:XQ,rotlBL:ZQ,add:eY,add3L:tY,add3H:rY,add4L:nY,add4H:oY,add5H:sY,add5L:iY},Re=aY;var[cY,uY]=Re.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Va=new Uint32Array(80),qa=new Uint32Array(80),fv=class extends Fg{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:o,Ch:i,Cl:s,Dh:a,Dl:c,Eh:u,El:h,Fh:f,Fl:p,Gh:m,Gl:g,Hh:x,Hl:w}=this;return[e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w]}set(e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=g|0,this.Hh=x|0,this.Hl=w|0}process(e,r){for(let A=0;A<16;A++,r+=4)Va[A]=e.getUint32(r),qa[A]=e.getUint32(r+=4);for(let A=16;A<80;A++){let T=Va[A-15]|0,C=qa[A-15]|0,W=Re.rotrSH(T,C,1)^Re.rotrSH(T,C,8)^Re.shrSH(T,C,7),oe=Re.rotrSL(T,C,1)^Re.rotrSL(T,C,8)^Re.shrSL(T,C,7),Y=Va[A-2]|0,G=qa[A-2]|0,re=Re.rotrSH(Y,G,19)^Re.rotrBH(Y,G,61)^Re.shrSH(Y,G,6),Z=Re.rotrSL(Y,G,19)^Re.rotrBL(Y,G,61)^Re.shrSL(Y,G,6),O=Re.add4L(oe,Z,qa[A-7],qa[A-16]),D=Re.add4H(O,W,re,Va[A-7],Va[A-16]);Va[A]=D|0,qa[A]=O|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:a,Cl:c,Dh:u,Dl:h,Eh:f,El:p,Fh:m,Fl:g,Gh:x,Gl:w,Hh:S,Hl:k}=this;for(let A=0;A<80;A++){let T=Re.rotrSH(f,p,14)^Re.rotrSH(f,p,18)^Re.rotrBH(f,p,41),C=Re.rotrSL(f,p,14)^Re.rotrSL(f,p,18)^Re.rotrBL(f,p,41),W=f&m^~f&x,oe=p&g^~p&w,Y=Re.add5L(k,C,oe,uY[A],qa[A]),G=Re.add5H(Y,S,T,W,cY[A],Va[A]),re=Y|0,Z=Re.rotrSH(n,o,28)^Re.rotrBH(n,o,34)^Re.rotrBH(n,o,39),O=Re.rotrSL(n,o,28)^Re.rotrBL(n,o,34)^Re.rotrBL(n,o,39),D=n&i^n&a^i&a,N=o&s^o&c^s&c;S=x|0,k=w|0,x=m|0,w=g|0,m=f|0,g=p|0,{h:f,l:p}=Re.add(u|0,h|0,G|0,re|0),u=a|0,h=c|0,a=i|0,c=s|0,i=n|0,s=o|0;let Q=Re.add3L(re,O,N);n=Re.add3H(Q,G,Z,D),o=Q|0}({h:n,l:o}=Re.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=Re.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=Re.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:h}=Re.add(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:p}=Re.add(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:g}=Re.add(this.Fh|0,this.Fl|0,m|0,g|0),{h:x,l:w}=Re.add(this.Gh|0,this.Gl|0,x|0,w|0),{h:S,l:k}=Re.add(this.Hh|0,this.Hl|0,S|0,k|0),this.set(n,o,i,s,a,c,u,h,f,p,m,g,x,w,S,k)}roundClean(){Va.fill(0),qa.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var HP=LP(()=>new fv);function KP(t){if(typeof t!="string")throw new TypeError("invalid mnemonic type: "+typeof t);return t.normalize("NFKD")}function fY(t){let e=KP(t),r=e.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:r}}var dY=t=>KP("mnemonic"+t);function VP(t,e=""){return MP(HP,fY(t).nfkd,dY(e),{c:2048,dkLen:64})}function dv(t){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(t)}function lY(t){return VP(t,"")}function qP(t){return Eo(lY(t))}d();l();var X0=j(yd(),1);var md=32;var hv="suiprivkey",Vg=class{async signWithIntent(e,r){let n=xg(r,e),o=au(n,{dkLen:32});return{signature:DP({signature:await this.sign(o),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()}),bytes:$t(e)}}async signTransaction(e){return this.signWithIntent(e,"TransactionData")}async signPersonalMessage(e){let{signature:r}=await this.signWithIntent(E.vector(E.u8()).serialize(e).toBytes(),"PersonalMessage");return{bytes:$t(e),signature:r}}toSuiAddress(){return this.getPublicKey().toSuiAddress()}},Z0=class extends Vg{};function cu(t){let{prefix:e,words:r}=X0.bech32.decode(t);if(e!==hv)throw new Error("invalid private key prefix");let n=new Uint8Array(X0.bech32.fromWords(r)),o=n.slice(1);return{schema:wg[n[0]],secretKey:o}}function pv(t,e){if(t.length!==md)throw new Error("Invalid bytes length");let r=hs[e],n=new Uint8Array(t.length+1);return n.set([r]),n.set(t,1),X0.bech32.encode(hv,X0.bech32.toWords(n))}d();l();d();l();var uu=j(gl(),1);d();l();d();l();var qg=class extends Ua{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,oP(e);let n=Io(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return ds(this),this.iHash.update(e),this}digestInto(e){ds(this),od(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},zg=(t,e,r)=>new qg(t,e).update(r).digest();zg.create=(t,e)=>new qg(t,e);d();l();d();l();function mY(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var jg=class extends Ua{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=yg(this.buffer)}update(e){ds(this);let{view:r,buffer:n,blockLen:o}=this;e=Io(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=yg(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ds(this),pg(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;mY(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=yg(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};var[gY,bY]=be.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),za=new Uint32Array(80),ja=new Uint32Array(80),yv=class extends jg{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:r,Bh:n,Bl:o,Ch:i,Cl:s,Dh:a,Dl:c,Eh:u,El:h,Fh:f,Fl:p,Gh:m,Gl:g,Hh:x,Hl:w}=this;return[e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w]}set(e,r,n,o,i,s,a,c,u,h,f,p,m,g,x,w){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=s|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=p|0,this.Gh=m|0,this.Gl=g|0,this.Hh=x|0,this.Hl=w|0}process(e,r){for(let A=0;A<16;A++,r+=4)za[A]=e.getUint32(r),ja[A]=e.getUint32(r+=4);for(let A=16;A<80;A++){let T=za[A-15]|0,C=ja[A-15]|0,W=be.rotrSH(T,C,1)^be.rotrSH(T,C,8)^be.shrSH(T,C,7),oe=be.rotrSL(T,C,1)^be.rotrSL(T,C,8)^be.shrSL(T,C,7),Y=za[A-2]|0,G=ja[A-2]|0,re=be.rotrSH(Y,G,19)^be.rotrBH(Y,G,61)^be.shrSH(Y,G,6),Z=be.rotrSL(Y,G,19)^be.rotrBL(Y,G,61)^be.shrSL(Y,G,6),O=be.add4L(oe,Z,ja[A-7],ja[A-16]),D=be.add4H(O,W,re,za[A-7],za[A-16]);za[A]=D|0,ja[A]=O|0}let{Ah:n,Al:o,Bh:i,Bl:s,Ch:a,Cl:c,Dh:u,Dl:h,Eh:f,El:p,Fh:m,Fl:g,Gh:x,Gl:w,Hh:S,Hl:k}=this;for(let A=0;A<80;A++){let T=be.rotrSH(f,p,14)^be.rotrSH(f,p,18)^be.rotrBH(f,p,41),C=be.rotrSL(f,p,14)^be.rotrSL(f,p,18)^be.rotrBL(f,p,41),W=f&m^~f&x,oe=p&g^~p&w,Y=be.add5L(k,C,oe,bY[A],ja[A]),G=be.add5H(Y,S,T,W,gY[A],za[A]),re=Y|0,Z=be.rotrSH(n,o,28)^be.rotrBH(n,o,34)^be.rotrBH(n,o,39),O=be.rotrSL(n,o,28)^be.rotrBL(n,o,34)^be.rotrBL(n,o,39),D=n&i^n&a^i&a,N=o&s^o&c^s&c;S=x|0,k=w|0,x=m|0,w=g|0,m=f|0,g=p|0,{h:f,l:p}=be.add(u|0,h|0,G|0,re|0),u=a|0,h=c|0,a=i|0,c=s|0,i=n|0,s=o|0;let Q=be.add3L(re,O,N);n=be.add3H(Q,G,Z,D),o=Q|0}({h:n,l:o}=be.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:s}=be.add(this.Bh|0,this.Bl|0,i|0,s|0),{h:a,l:c}=be.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l:h}=be.add(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:p}=be.add(this.Eh|0,this.El|0,f|0,p|0),{h:m,l:g}=be.add(this.Fh|0,this.Fl|0,m|0,g|0),{h:x,l:w}=be.add(this.Gh|0,this.Gl|0,x|0,w|0),{h:S,l:k}=be.add(this.Hh|0,this.Hl|0,S|0,k|0),this.set(n,o,i,s,a,c,u,h,f,p,m,g,x,w,S,k)}roundClean(){za.fill(0),ja.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var mv=cP(()=>new yv);var xY=j(gl(),1),wY="ed25519 seed",AY=2147483648,SY=new RegExp("^m(\\/[0-9]+')+$"),GP=t=>t.replace("'",""),vY=t=>{let r=zg.create(mv,wY).update(Da(t)).digest(),n=r.slice(0,32),o=r.slice(32);return{key:n,chainCode:o}},EY=({key:t,chainCode:e},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let i=new Uint8Array(1+t.length+n.byteLength);i.set(new Uint8Array(1).fill(0)),i.set(t,1),i.set(new Uint8Array(n,0,n.byteLength),t.length+1);let s=zg.create(mv,e).update(i).digest(),a=s.slice(0,32),c=s.slice(32);return{key:a,chainCode:c}};var IY=t=>SY.test(t)?!t.split("/").slice(1).map(GP).some(isNaN):!1,gv=(t,e,r=AY)=>{if(!IY(t))throw new Error("Invalid derivation path");let{key:n,chainCode:o}=vY(e);return t.split("/").slice(1).map(GP).map(s=>parseInt(s,10)).reduce((s,a)=>EY(s,a+r),{key:n,chainCode:o})};d();l();var $P=j(gl(),1);var bv=32,Wa=class extends sd{constructor(e){if(super(),typeof e=="string"?this.data=Cr(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),this.data.length!==bv)throw new Error(`Invalid public key input. Expected ${bv} bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return hs.ED25519}async verify(e,r){let n;if(typeof r=="string"){let o=RP(r);if(o.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!WS(this.toRawBytes(),o.publicKey))throw new Error("Signature does not match public key");n=o.signature}else n=r;return $P.default.sign.detached.verify(e,n,this.toRawBytes())}};Wa.SIZE=bv;var xv="m/44'/784'/0'/0'/0'",fu=class t extends Z0{constructor(e){super(),e?this.keypair=e:this.keypair=uu.default.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new t(uu.default.sign.keyPair())}static fromSecretKey(e,r){if(typeof e=="string"){let i=cu(e);if(i.schema!=="ED25519")throw new Error(`Expected a ED25519 keypair, got ${i.schema}`);return this.fromSecretKey(i.secretKey,r)}let n=e.length;if(n!==md)throw new Error(`Wrong secretKey size. Expected ${md} bytes, got ${n}.`);let o=uu.default.sign.keyPair.fromSeed(e);if(!r||!r.skipValidation){let s=new TextEncoder().encode("sui validation"),a=uu.default.sign.detached(s,o.secretKey);if(!uu.default.sign.detached.verify(s,a,o.publicKey))throw new Error("provided secretKey is invalid")}return new t(o)}getPublicKey(){return new Wa(this.keypair.publicKey)}getSecretKey(){return pv(this.keypair.secretKey.slice(0,md),this.getKeyScheme())}async sign(e){return uu.default.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,r){if(r==null&&(r=xv),!dv(r))throw new Error("Invalid derivation path");let{key:n}=gv(r,qP(e));return t.fromSecretKey(n)}static deriveKeypairFromSeed(e,r){if(r==null&&(r=xv),!dv(r))throw new Error("Invalid derivation path");let{key:n}=gv(r,e);return t.fromSecretKey(n)}};var Wg=class{addressTypes=["sui"];generateKeypairFromPrivateKey(e){let r=e.fold(s=>new Uint8Array(s)),n=fu.fromSecretKey(r),o=n.getPublicKey().toRawBytes(),i=cu(n.getSecretKey());if(i.schema!=="ED25519")throw new Error(`got unexpected schema ${i.schema} for Sui`);return{publicKey:o,privateKey:i.secretKey}}generateKeypairFromSeed(e,r,n){let o=e.fold(i=>new gi(i));try{let i=o.derivePathType(n,r);return{publicKey:i.publicKey,privateKey:i.secretKey}}finally{o.cleanup()}}};var eh=class{cryptoChainPlugins=new Map;constructor(){this.registerChainPlugin(new xm),this.registerChainPlugin(new tg),this.registerChainPlugin(new ig),this.registerChainPlugin(new Wg)}registerChainPlugin(e){for(let r of e.addressTypes)this.cryptoChainPlugins.set(r,e)}generateKeypairFromPrivateKey(e,r){let n=this.cryptoChainPlugins.get(r);if(!n)throw new Error(`No plugin found for address type ${r}, please register the plugin first.`);return n.generateKeypairFromPrivateKey(e)}generateKeypairFromSeed(e,r,n){let o=Ko.getAddressType(n),i=this.cryptoChainPlugins.get(o);if(!i)throw new Error(`No plugin found for address type ${o}, please register the plugin first.`);return i.generateKeypairFromSeed(e,r,n)}};d();l();function wv(t){return Ko.getAll().includes(t)}d();l();var x7=j(Ls()),w7=j(bd()),Zg=j(gl()),A7=j(Ov());var Dv=t=>{let{privateKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":try{return{key:nJ(e,t.networkIDValue),encoding:"hex"}}catch{throw new Error("Could not find encoding for Bitcoin private key")}case"eip155":try{return{key:oJ(e),encoding:"hex"}}catch{throw new Error("Could not find encoding for EVM private key")}case"solana":try{return sJ(e)}catch{throw new Error("Could not find encoding for Solana private key")}case"sui":try{return{key:iJ(e),encoding:"base64"}}catch{throw new Error("Could not find encoding for Sui private key")}default:return nt(r)}},nJ=(t,e)=>{try{let{privateKey:r}=A7.decodeRaw(w7.default.decode(t),e);return r}catch{throw new Error("Provided Bitcoin private key is invalid!")}},oJ=t=>{let e=Buffer.from(t.replace("0x",""),"hex");try{return new Yf(new Uint8Array(e)),e}catch{throw new Error("Provided Ethereum private key is invalid!")}},Xg=t=>{let e=Zg.default.sign.keyPair.fromSecretKey(t),r=Buffer.from("phantom-secret-key-validation"),n=Zg.default.sign.detached(r,t);if(!Zg.default.sign.detached.verify(r,n,e.publicKey))throw new Error("Provided Solana private key is invalid!")},iJ=t=>{try{let e=cu(t);if(e.schema!=="ED25519")throw new Error("Invalid schema");return e.secretKey}catch{throw new Error("Provided Sui private key is invalid!")}},sJ=t=>{try{let e=JSON.parse(t);return Xg(Uint8Array.from(e)),{key:e,encoding:"uint8array"}}catch{}try{let e=x7.default.decode(t);return Xg(e),{key:e,encoding:"base58"}}catch{}try{let e=Buffer.from(t,"hex");return Xg(e),{key:e,encoding:"hex"}}catch{}try{let e=Buffer.from(t,"base64");return Xg(e),{key:e,encoding:"base64"}}catch{}throw new Error("Provided Solana private key is invalid!")};d();l();var S7=j(Ls()),v7=j(bd()),E7=j(Ov());var aJ=t=>{let{privateKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return v7.default.encode(E7.encodeRaw(t.networkIDValue,Buffer.from(e),!0));case"eip155":return"0x"+Buffer.from(e).toString("hex");case"solana":return S7.default.encode(e);case"sui":return fu.fromSecretKey(e).getSecretKey();default:return nt(r)}};d();l();var rh=t=>{try{return H1.from(Dv(t).key)}catch(e){return console.error(e),H1.from(Buffer.from(""))}};d();l();var $ne=j($v());d();l();var[j7,W7,G7]=[[],[],[]],tX=BigInt(0),ah=BigInt(1),rX=BigInt(2),nX=BigInt(7),oX=BigInt(256),iX=BigInt(113);for(let t=0,e=ah,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],j7.push(2*(5*n+r)),W7.push((t+1)*(t+2)/2%64);let o=tX;for(let i=0;i<7;i++)e=(e<<ah^(e>>nX)*iX)%oX,e&rX&&(o^=ah<<(ah<<BigInt(i))-ah);G7.push(o)}var[sX,aX]=_e.split(G7,!0),q7=(t,e,r)=>r>32?_e.rotlBH(t,e,r):_e.rotlSH(t,e,r),z7=(t,e,r)=>r>32?_e.rotlBL(t,e,r):_e.rotlSL(t,e,r);function cX(t,e=24){let r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let s=0;s<10;s++)r[s]=t[s]^t[s+10]^t[s+20]^t[s+30]^t[s+40];for(let s=0;s<10;s+=2){let a=(s+8)%10,c=(s+2)%10,u=r[c],h=r[c+1],f=q7(u,h,1)^r[a],p=z7(u,h,1)^r[a+1];for(let m=0;m<50;m+=10)t[s+m]^=f,t[s+m+1]^=p}let o=t[2],i=t[3];for(let s=0;s<24;s++){let a=W7[s],c=q7(o,i,a),u=z7(o,i,a),h=j7[s];o=t[h],i=t[h+1],t[h]=c,t[h+1]=u}for(let s=0;s<50;s+=10){for(let a=0;a<10;a++)r[a]=t[s+a];for(let a=0;a<10;a++)t[s+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=sX[n],t[1]^=aX[n]}r.fill(0)}var cb=class t extends Jf{constructor(e,r,n,o=!1,i=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=o,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Wo.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=F_(this.state)}keccak(){cX(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Wo.exists(this);let{blockLen:r,state:n}=this;e=Xf(e);let o=e.length;for(let i=0;i<o;){let s=Math.min(r-this.pos,o-i);for(let a=0;a<s;a++)n[this.pos++]^=e[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:r,pos:n,blockLen:o}=this;e[n]^=r,r&128&&n===o-1&&this.keccak(),e[o-1]^=128,this.keccak()}writeInto(e){Wo.exists(this,!1),Wo.bytes(e),this.finish();let r=this.state,{blockLen:n}=this;for(let o=0,i=e.length;o<i;){this.posOut>=n&&this.keccak();let s=Math.min(n-this.posOut,i-o);e.set(r.subarray(this.posOut,this.posOut+s),o),this.posOut+=s,o+=s}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Wo.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Wo.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:r,suffix:n,outputLen:o,rounds:i,enableXOF:s}=this;return e||(e=new t(r,n,o,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=n,e.outputLen=o,e.enableXOF=s,e.destroyed=this.destroyed,e}},Za=(t,e,r)=>nu(()=>new cb(e,t,r)),n3e=Za(6,144,224/8),o3e=Za(6,136,256/8),i3e=Za(6,104,384/8),s3e=Za(6,72,512/8),a3e=Za(1,144,224/8),Qv=Za(1,136,256/8),c3e=Za(1,104,384/8),u3e=Za(1,72,512/8),$7=(t,e,r)=>H_((n={})=>new cb(e,t,n.dkLen===void 0?r:n.dkLen,!0)),f3e=$7(31,168,128/8),d3e=$7(31,136,256/8);var ei=j(p3()),xO=j(Ls());function mx(t){let{publicKey:e,addressType:r}=t;switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return Qne(e,r,t.networkID);case"eip155":return Yne(e);case"solana":return xO.default.encode(e);case"sui":return new Wa(e).toSuiAddress();default:return nt(r)}}var Qne=(t,e,r)=>{let n=r==="bip122:000000000933ea01ad0ee984209779ba"?ei.networks.testnet:ei.networks.bitcoin,o;switch(e){case"bip122_p2tr":ei.initEccLib($ne),o=ei.payments.p2tr({internalPubkey:Buffer.from(t.slice(1,33)),network:n},{validate:!1})?.address;break;case"bip122_p2wpkh":o=ei.payments.p2wpkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break;case"bip122_p2sh":{let i=Buffer.from(t),s=ei.payments.p2wpkh({pubkey:i,network:n},{validate:!1});o=ei.payments.p2sh({pubkey:i,network:n,redeem:s},{validate:!1})?.address;break}case"bip122_p2pkh":{o=ei.payments.p2pkh({pubkey:Buffer.from(t),network:n},{validate:!1})?.address;break}default:nt(e)}if(!o)throw new Error("Could not derive Bitcoin address from public key");return o},Yne=t=>{let e=t.slice(1),n=Qv(e).slice(12);return Jne(`0x${Buffer.from(n).toString("hex")}`)},Jne=t=>{if(!kc.safeParse(t).success)throw new Error("toChecksumAddress: Input address is not a valid hex string.");let e=t.toLowerCase().replace("0x",""),r=Buffer.from(Qv(Buffer.from(e,"utf-8"))).toString("hex"),n="0x";for(let o=0;o<e.length;o++)parseInt(r[o],16)>=8?n+=e[o].toUpperCase():n+=e[o];return n};d();l();function Ph(t){return Z2.safeParse(t).success}d();l();function Xne(t){switch(t){case"bip44Root":case"bip44Change":case"bip44":case"deprecated":return"solana";case"bip44RootEthereum":case"bip44Ethereum":case"bip44EthereumSecondary":case"bip44EthereumTertiary":return"eip155";case"bitcoinLegacy":return"bip122_p2pkh";case"bitcoinNativeSegwit":return"bip122_p2wpkh";case"bitcoinNestedSegwit":return"bip122_p2sh";case"bitcoinTaproot":return"bip122_p2tr";case"bip44Sui":return"sui"}}d();l();d();l();d();l();var Wr=(a=>(a.Solana="solana",a.Monad="monad",a.Ethereum="ethereum",a.Base="base",a.Polygon="polygon",a.Bitcoin="bitcoin",a.Sui="sui",a))(Wr||{}),to=(a=>(a.Ethereum="60",a.Monad="143",a.Polygon="966",a.Base="8453",a.Solana="501",a.Bitcoin="0",a.Sui="784",a))(to||{}),y3=class extends Error{constructor(r,n){super(`${n} is not yet supported for ${r}`);this.chain=r;this.feature=n;this.name="UnsupportedChainFeatureError"}},m3=class extends y3{constructor(e){super("sui",e)}};var gx=(r=>(r.Mainnet="eip155:8453",r.Sepolia="eip155:84532",r))(gx||{}),wO=v.union([v.literal("eip155:8453"),v.literal("eip155:84532")]),g3={id:"base",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/base.png",name:"Base",networks:{"eip155:8453":{id:"eip155:8453",name:"Base",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/mainnet",value:8453},"eip155:84532":{id:"eip155:84532",name:"Base Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/base/network/sepolia",value:84532}},mainnetID:"eip155:8453",tokenDecimals:18,tokenSymbol:"ETH",slip44:"8453",parentChain:"ethereum"};d();l();var Zne=j($v());var xx=j(p3());d();l();var Bh=(r=>(r.Mainnet="sui:mainnet",r.Testnet="sui:testnet",r))(Bh||{}),Fd=v.union([v.literal("sui:mainnet"),v.literal("sui:testnet")]),b3={id:"sui",addressTypes:["sui"],iconUrl:"https://static.phantom.app/assets/sui.png",name:"Sui",networks:{"sui:mainnet":{id:"sui:mainnet",name:"Sui",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/mainnet",value:"mainnet"},"sui:testnet":{id:"sui:testnet",name:"Sui Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.dev/v1/chain/sui/network/testnet",value:"testnet"}},mainnetID:"sui:mainnet",tokenDecimals:9,tokenSymbol:"SUI",slip44:"784"},bx=v.object({networkID:Fd,addressType:v.nativeEnum(Be),address:ju,publicKey:v.instanceof(Uint8Array).optional()});var wx=(r=>(r.Mainnet="bip122:000000000019d6689c085ae165831e93",r.Testnet="bip122:000000000933ea01ad0ee984209779ba",r))(wx||{}),yc=v.union([v.literal("bip122:000000000019d6689c085ae165831e93"),v.literal("bip122:000000000933ea01ad0ee984209779ba")]),AO=v.union([v.literal("sui:mainnet"),v.literal("sui:testnet")]),Hd=v.string().refine(t=>{try{return xx.initEccLib(Zne),xx.address.toOutputScript(t),!0}catch{return!1}},{message:"Invalid Bitcoin address."}),Ch=v.object({networkID:yc,addressType:v.nativeEnum(Be),address:Hd,publicKey:v.instanceof(Uint8Array).optional()}),x3={id:"bitcoin",addressTypes:["bip122_p2tr","bip122_p2wpkh"],iconUrl:"https://static.phantom.app/assets/bitcoin.png",name:"Bitcoin",networks:{"bip122:000000000019d6689c085ae165831e93":{id:"bip122:000000000019d6689c085ae165831e93",name:"Bitcoin",value:128},"bip122:000000000933ea01ad0ee984209779ba":{id:"bip122:000000000933ea01ad0ee984209779ba",name:"Bitcoin Testnet",shortName:"Testnet",value:239}},mainnetID:"bip122:000000000019d6689c085ae165831e93",tokenDecimals:8,tokenSymbol:"BTC",slip44:"0"};d();l();d();l();var Oh=(n=>(n.Mainnet="eip155:143",n.Testnet="eip155:10143",n.Devnet="eip155:41454",n))(Oh||{}),w3=v.union([v.literal("eip155:143"),v.literal("eip155:10143"),v.literal("eip155:41454")]),A3={id:"monad",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/monad.png",name:"Monad",networks:{"eip155:143":{id:"eip155:143",name:"Monad",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/mainnet",value:143,hidden:!0},"eip155:10143":{id:"eip155:10143",name:"Monad Testnet",shortName:"Testnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/testnet",value:10143},"eip155:41454":{id:"eip155:41454",name:"Monad Devnet",shortName:"Devnet",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/monad/network/devnet1",value:41454,hidden:!0}},mainnetID:"eip155:10143",tokenDecimals:18,tokenSymbol:"MON",slip44:"143"};d();l();var Ax=(r=>(r.Mainnet="eip155:137",r.Amoy="eip155:80002",r))(Ax||{}),S3=v.union([v.literal("eip155:137"),v.literal("eip155:80002")]),v3={id:"polygon",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/polygon.png",name:"Polygon",networks:{"eip155:137":{id:"eip155:137",name:"Polygon",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/mainnet",value:137},"eip155:80002":{id:"eip155:80002",name:"Polygon Amoy",shortName:"Amoy",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/polygon/network/amoy",value:80002}},mainnetID:"eip155:137",tokenDecimals:18,tokenSymbol:"POL",slip44:"966",parentChain:"ethereum"};var Sx=(r=>(r.Mainnet="eip155:1",r.Sepolia="eip155:11155111",r))(Sx||{}),SO=v.union([v.literal("eip155:1"),v.literal("eip155:11155111")]),mc=v.union([SO,S3,wO,w3]),Dh=v.object({networkID:mc,addressType:v.nativeEnum(Be),address:Fs}),E3={id:"ethereum",addressTypes:["eip155"],iconUrl:"https://static.phantom.app/assets/ethereum.png",name:"Ethereum",networks:{"eip155:1":{id:"eip155:1",name:"Ethereum",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/mainnet",value:1},"eip155:11155111":{id:"eip155:11155111",name:"Ethereum Sepolia",shortName:"Sepolia",rpcProxyUrl:"https://node-proxy.phantom.app/v1/chain/ethereum/network/sepolia",value:11155111}},mainnetID:"eip155:1",tokenDecimals:18,tokenSymbol:"ETH",slip44:"60"};d();l();var vx=(o=>(o.Mainnet="solana:101",o.Testnet="solana:102",o.Devnet="solana:103",o.Localnet="solana:localnet",o))(vx||{}),gc=v.union([v.literal("solana:101"),v.literal("solana:102"),v.literal("solana:103"),v.literal("solana:localnet")]),Rh=v.object({networkID:gc,addressType:v.nativeEnum(Be),address:zu}),I3={id:"solana",addressTypes:["solana"],iconUrl:"https://static.phantom.app/assets/solana.png",name:"Solana",networks:{"solana:101":{id:"solana:101",name:"Solana",rpcProxyUrl:"https://solana-mainnet.phantom.app/YBPpkkN4g91xDiAnTE9r0RcMkjg0sKUIWvAfoFVJ?advancedTxSubmission=true",value:"mainnet"},"solana:102":{id:"solana:102",name:"Solana Testnet",shortName:"Testnet",value:"testnet"},"solana:103":{id:"solana:103",name:"Solana Devnet",shortName:"Devnet",value:"devnet"},"solana:localnet":{id:"solana:localnet",name:"Solana Localnet",shortName:"Localnet",value:"localnet"}},localnetID:"solana:localnet",mainnetID:"solana:101",tokenDecimals:9,tokenSymbol:"SOL",slip44:"501"};d();l();function Ex(t){return Object.values(Wr).includes(t)}var vn={bitcoin:x3,ethereum:E3,polygon:v3,monad:A3,solana:I3,base:g3,sui:b3},Ix={solana:1,ethereum:2,monad:3,base:4,sui:5,polygon:6,bitcoin:7},eoe={solana:!0,ethereum:!0,monad:!1,base:!0,polygon:!0,bitcoin:!0,sui:!1},k3=(t,e)=>{let r=Ix[t]-Ix[e];return r===0?0:r>0?1:-1},toe=()=>{let t=Object.values(Wr).sort(k3),e=t.map(H=>vn[H]),r={},n=[],o={},i={},s={};e.forEach(H=>{let Ee=Object.fromEntries(Object.entries(H.networks).filter(([V,de])=>!de.hidden)),_=Object.keys(Ee);n.push(..._),_.forEach(V=>{r[V]=H});let F=Object.values(Ee);o[H.id]=F.map(V=>V.id),F.forEach(V=>{i[V.id]=V});for(let V of H.addressTypes){let de=s[V];de?de.push(H.id):s[V]=[H.id]}});let a=new Set(n);function c(H){return H?.evmOnly?t.filter(Ee=>vn[Ee].addressTypes.includes("eip155")):t}function u(H){return eoe[H]}function h(H){return n.filter(Ee=>r[Ee].id===H)}function f(H){if(!H)return n;let Ee=n;return H.evmOnly&&(Ee=Ee.filter(_=>Q(_))),H.mainnetOnly&&(Ee=Ee.filter(_=>R(_))),Ee}function p(H){return r[H]}function m(H){return i[H].rpcProxyUrl}function g(H){return r[H].addressTypes[0]}function x(H){let Ee=r[H];if(Ee.addressTypes.length===1){let[_]=Ee.addressTypes;return _}else throw`The chain ${Ee.id} has multiple address types`}function w(H){return r[H].addressTypes}function S(H){return r[H].id}function k(H){return vn[$e(H)].name}function A(H){return r[H].tokenDecimals}function T(H){return(G(H)?r[H]:vn[H]).tokenSymbol}function C(H){return(G(H)?r[H]:vn[H]).iconUrl}function W(H){return r[H].slip44}function oe(H){return vn[$e(H)].mainnetID}function Y(H){let Ee;if(Q(H)&&(Ee=i[H].value),typeof Ee=="number")return Ee;throw new Error(`Invalid NetworkID: ${H}. Must be an EVM NetworkID.`)}function G(H){return a.has(H)}function re(H){return Object.keys(vn.bitcoin.networks).includes(H)}function Z(H){return Object.keys(vn.ethereum.networks).includes(H)}function O(H){return Object.keys(vn.polygon.networks).includes(H)}function D(H){return Object.keys(vn.base.networks).includes(H)}function N(H){return Object.keys(vn.monad.networks).includes(H)}function Q(H){return Z(H)||O(H)||D(H)||N(H)}function fe(H){return Object.keys(vn.solana.networks).includes(H)}function ae(H){return Object.keys(vn.sui.networks).includes(H)}function Ie(H){if(!fe(H))throw new Error(`Invalid NetworkID: ${H}. Must be a Solana NetworkID.`);return vn.solana.networks[H].value}function B(H){return r[H].localnetID===H}function R(H){return r[H].mainnetID===H}function X(H){return i[H]}function L(H,Ee=!1){let _=i[H];return Ee&&_.shortName?_.shortName:_.name}function M(H){return r[H].parentChain}function ye(H){return s[H]}function vt(H,Ee){let _=r[H].id,F=r[Ee].id;return k3(_,F)}function $e(H){return Ex(H)?H:G(H)?z.getChainID(H):nt(H)}return{...vn,getAllChainIDs:c,getDefaultChainEnablement:u,getNetworkIDs:h,getAllNetworkIDs:f,getChainDefinition:p,getAddressType:x,getAddressTypes:w,getChainID:S,getChainName:k,getTokenDecimals:A,getTokenSymbol:T,getChainIconUrl:C,getSlip44:W,getMainnetNetworkID:oe,getEVMNetworkIDValue:Y,getSolanaNetworkIDValue:Ie,_DO_NOT_USE_getAddressType:g,isNetworkID:G,isBitcoinNetworkID:re,isEVMNetworkID:Q,isSolanaNetworkID:fe,isEthereumNetworkID:Z,isPolygonNetworkID:O,isBaseNetworkID:D,isSuiNetworkID:ae,isLocalNetworkID:B,isMainnetNetworkID:R,getNetworkDefinition:X,getNetworkName:L,getChainIDs:ye,compareChain:k3,compareNetworkID:vt,getRpcProxyUrl:m,getParentChain:M}},z=toe();d();l();var ct={Bitcoin:wx,Ethereum:Sx,Polygon:Ax,Solana:vx,Sui:Bh,Base:gx,Monad:Oh},ks=v.union([yc,mc,gc,Fd]),roe=v.union([Ch,Dh,Rh,bx]);d();l();d();l();var ti=(n=>(n.address="address",n.tx="tx",n.nativeToken="nativeToken",n))(ti||{}),vO=v.string(),EO=v.object({chainId:ks,resourceType:v.nativeEnum(ti)}),T3=EO.extend({resourceType:v.literal("nativeToken"),slip44:v.nativeEnum(to)}),Cu=EO.extend({resourceType:v.literal("address"),address:v.string()}),_3=Cu.extend({chainId:gc,address:zu}),P3=Cu.extend({chainId:mc,address:Fs,tokenId:v.string().optional()}),B3=Cu.extend({chainId:yc,address:Hd.or(v.string())}),noe=Cu.extend({chainId:AO,address:ju,tokenId:v.string().optional()}),IO=v.union([T3,Cu,_3,P3,B3,noe]);var kO=t=>{let e=t.split("/");if(e.length>3||e.length<2)throw new Error(`Cannot decode malformed caip19 string '${t}'`);let r=e[0];if(!(z.isEVMNetworkID(r)||z.isSolanaNetworkID(r)||z.isBitcoinNetworkID(r)||z.isSuiNetworkID(r)))throw new Error(`Cannot decode unsupported chain '${r}'`);let n=e[1].split(/:(.+)/),[o,i]=n;if(!o||!i)throw new Error(`Invalid resource specification '${e[1]}'`);if(!Object.values(ti).includes(o))throw new Error(`Unsupported resource type '${o}'`);if(o==="nativeToken"){if(!Object.values(to).includes(i))throw new Error(`Unsupported slip44 '${i}'`);return{chainId:r,resourceType:o,slip44:i}}else if(z.isEVMNetworkID(r)){if(o==="address")return e.length===3?{chainId:r,address:i,resourceType:o,tokenId:e[2]}:{chainId:r,address:i,resourceType:o};throw new Error(`Unsupported resource type ${o} for chain ${r}`)}else if(z.isSolanaNetworkID(r)){if(o==="address")return{chainId:r,address:i,resourceType:o};throw new Error(`Unsupported resource type ${o} for chain ${r}`)}else if(z.isBitcoinNetworkID(r)){if(o==="address")return{chainId:r,address:i,resourceType:o};throw new Error(`Unsupported resource type ${o} for chain ${r}`)}else if(z.isSuiNetworkID(r)){if(o==="address")return{chainId:r,address:i,resourceType:o};throw new Error(`Unsupported resource type ${o} for chain ${r}`)}throw new Error(`Cannot decode malformed caip19 string '${t}'`)};d();l();var TO=t=>{if(t.resourceType==="nativeToken")return`${t.chainId}/nativeToken:${t.slip44}`;if(z.isEVMNetworkID(t.chainId))return t.address=t.address.toLowerCase(),"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/address:${t.address}/${t.tokenId}`:`${t.chainId}/address:${t.address}`;if(z.isSolanaNetworkID(t.chainId))return`${t.chainId}/address:${t.address}`;if(z.isBitcoinNetworkID(t.chainId)){let e=t;return`${e.chainId}/address:${e.address}`}return z.isSuiNetworkID(t.chainId)?"tokenId"in t&&typeof t.tokenId=="string"&&t.tokenId?`${t.chainId}/address:${t.address}/${t.tokenId}`:`${t.chainId}/address:${t.address}`:nt(t.chainId)};d();l();d();l();var _O=v.string().refine(t=>{let e=t.split("/");if(e.length<2)return!1;let r=e[0],o=e[1].split(":");if(o.length<2)return!1;let i=o[0],s=o[1];return typeof t=="string"&&z.isNetworkID(r)&&i.match(/^[-a-z0-9]{2,8}/)&&s.match(/^[-a-zA-Z0-9]{1,64}/)},{message:"Value is not a valid BRI string."});d();l();function PO(t){return!t||t.resourceType!=="address"?!1:!!z.isEVMNetworkID(t.chainId)}d();l();d();l();function kx(t,e){return z.isBitcoinNetworkID(e)?Hd.safeParse(t).success:z.isEVMNetworkID(e)?Fs.safeParse(t).success:z.isSolanaNetworkID(e)?zu.safeParse(t).success:z.isSuiNetworkID(e)?ju.safeParse(t).success:nt(e)}d();l();var BO=t=>{let e=z.getNetworkIDs(t),r=z.getMainnetNetworkID(e[0]),n=z[t].slip44;return{chainId:r,resourceType:"nativeToken",slip44:n}};d();l();d();l();d();l();function CO(t){return Ch.safeParse(t).success}function OO(t){return Rh.safeParse(t).success}function DO(t){return Dh.safeParse(t).success}var RO=v.object({networkID:ks,addressType:v.nativeEnum(Be),address:v.string()}),ioe=t=>`${t.networkID}-${t.address}`,NO={toKey:ioe},UO=t=>{let e={chainId:t.networkID,address:t.address,resourceType:"address"};return z.isEVMNetworkID(t.networkID)&&(e.address=e.address.toLowerCase()),e};d();l();function LO(t){return[ct.Solana.Devnet,ct.Solana.Testnet,ct.Solana.Mainnet].map(r=>parseInt(r.replace("solana:",""))).includes(parseInt(t,16))?`solana:${parseInt(t,16)}`:`eip155:${parseInt(t,16)}`}d();l();var MO=v.object({id:ks,name:v.string(),symbol:v.string(),imageUrl:v.string()});function FO(t){let{name:e,tokenSymbol:r,iconUrl:n}=z.getChainDefinition(t);return{id:t,name:e,symbol:r,imageUrl:n}}d();l();function HO(t){switch(t){case"devnet":return ct.Solana.Devnet;case"mainnet":return ct.Solana.Mainnet;case"testnet":return ct.Solana.Testnet;case"localnet":return ct.Solana.Localnet}}function KO(t){switch(t){case"mainnet":return"mainnet-beta";case"localnet":return"localhost";default:return t}}d();l();var Kd=(t,e)=>{if(z.isBitcoinNetworkID(t)){switch(!0){case(e.startsWith("bc1p")||e.startsWith("bcrt1p")||e.startsWith("tb1p")):return"bip122_p2tr";case(e.startsWith("bc1q")||e.startsWith("tb1q")):return"bip122_p2wpkh";case(e.startsWith("3")||e.startsWith("2")):return"bip122_p2sh";case(e.startsWith("1")||e.startsWith("m")):return"bip122_p2pkh"}throw new Error(`Unable to get address type from invalid Bitcoin address: ${e}`)}else return z.isEVMNetworkID(t)?"eip155":z.isSolanaNetworkID(t)?"solana":z.isSuiNetworkID(t)?"sui":nt(t)};d();l();var soe=z.getAllNetworkIDs().filter(t=>z.isEVMNetworkID(t)),VO=t=>soe.find(e=>z.getNetworkDefinition(e).value===t);d();l();var qO=t=>z.getAllNetworkIDs({evmOnly:!0}).filter(e=>{if(t){if(t==="mainnets_only")return z.isMainnetNetworkID(e);if(t==="testnets_only")return!z.isMainnetNetworkID(e)}else return!0}).map(aoe),aoe=t=>`0x${z.getNetworkDefinition(t).value.toString(16)}`;d();l();var doe={[ct.Monad.Mainnet]:1,[ct.Monad.Devnet]:1,[ct.Monad.Testnet]:1,[ct.Ethereum.Mainnet]:6,[ct.Ethereum.Sepolia]:6,[ct.Polygon.Mainnet]:128,[ct.Polygon.Amoy]:128,[ct.Base.Mainnet]:3,[ct.Base.Sepolia]:3},loe={[ct.Bitcoin.Mainnet]:1,[ct.Bitcoin.Testnet]:1};var hoe="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb",poe=100;d();l();d();l();function yoe(t,e){return e.getSupportedChains().includes(t)}function zO(t,e){if(Ex(t))return e.get(t);if(z.isNetworkID(t)){let r=z.getChainID(t);if(yoe(r,e))return e.get(r)}throw new Error("Invalid input type for chain config get method")}function C3(t){return{get:e=>zO(e,t),supportedChains:t.getSupportedChains()}}d();l();var Nh=class{chainConfigMap=new Map;constructor(e){Object.entries(e).forEach(([r,n])=>{this.register(r,n)})}register(e,r){this.chainConfigMap.set(e,r)}getSupportedChains(){return Array.from(this.chainConfigMap.keys())}get(e){let r=this.chainConfigMap.get(e);if(!r)throw new Error(`No chain config found for chain: ${e}`);return r}};d();l();var jO=".phantom-labs.internal.enabledChainsOverrideSettings",WO=async t=>{try{return(await t.get(jO))?.settings}catch{return null}},GO=async(t,e,r)=>{let n=await WO(r);return r.set(jO,{version:1,settings:{...n!=null&&n,[t]:e}})},$O=async t=>{let e=[],r;try{r=await WO(t),r&&Object.entries(r).forEach(([n,o])=>{o||e.push(n)})}catch{}try{let n=await t.get(moe);!n||n.version===1||n.chains.forEach(o=>{r&&r[o]||e.push(o)})}catch{}try{z.getAllChainIDs().forEach(n=>{r&&r[n]||z.getDefaultChainEnablement(n)||e.push(n)})}catch{}return[...new Set(e)]},QO=async(t,e)=>GO(t,!1,e),O3=async(t,e)=>GO(t,!0,e),Vd=".phantom-labs.internal.disabledAddressTypes",YO=async t=>{let e;try{e=await t.get(Vd)!==null}catch{e=!1}return e},JO=async t=>{let e;try{e=(await t.get(Vd))?.addressTypes??[]}catch{e=[]}return[...new Set([...e,"bip122_p2sh","bip122_p2pkh"])]},XO=async(t,e)=>{let r=await e.get(Vd),n=new Set(r?.addressTypes??[]);return n.delete(t),e.set(Vd,{version:1,addressTypes:Array.from(n)})},ZO=async(t,e)=>{let r=await e.get(Vd),n=new Set(r?.addressTypes??[]);return n.add(t),e.set(Vd,{version:1,addressTypes:Array.from(n)})},moe=".phantom-labs.internal.disabledChains";d();l();var eD=!1,D3=async(t,e)=>{e=e??await Wi.isFeatureEnabledAsync("enable-monad"),eD||(ee.addBreadcrumb("network",`Fetched chain availability where ${JSON.stringify({isMonadFeatureEnabled:e})}`,"info"),eD=!0);let r=z.getAllChainIDs().filter(w=>w!=="monad"||e),n=await $O(t),o=new Set(n),i=r.filter(w=>!o.has(w)),s=w=>{let S=z.getChainID(w);return i.includes(S)},a=z.getAllNetworkIDs({mainnetOnly:!1}).filter(s),c=z.getAllNetworkIDs({mainnetOnly:!0}).filter(s),u=new Set(n.flatMap(w=>z.getNetworkIDs(w))),h=a.filter(w=>!u.has(w)),f=c.filter(w=>!u.has(w)),p=Ko.getAll(),m=await JO(t),g=new Set(m);for(let w of p){let S=z.getChainIDs(w);if(!S){g.add(w);continue}S.every(A=>o.has(A))&&g.add(w)}let x=p.filter(w=>!g.has(w));return{supportedChainIDs:r,supportedAddressTypes:p,disabledChainIDs:n,enabledChainIDs:i,enabledAddressTypes:x,enabledNetworkIDs:h,enabledMainnetOnlyNetworkIDs:f}};d();l();d();l();var Tx="@phantom/chains",_x={enabledChains:[`${Tx}:enabled-chains`],enabledAddressTypes:[`${Tx}:enabled-address-types`],enabledNetworkIDs(t){return[`${Tx}:enabled-network-ids`,{mainnetOnly:t}]},chainAvailability(t){return[`${Tx}:chain-availability`,t]}};var tD=[],R3=t=>{tD.push(t)},Ts=async t=>{let e=Wi.isFeatureEnabled("enable-monad");await t.invalidateQueries({queryKey:_x.chainAvailability({isMonadEnabled:e})}),await Promise.all(tD.map(r=>r(t)))};d();l();d();l();var N3=(o=>(o.Image="image",o.Emoji="emoji",o.ReadOnlyDefault="read-only-default",o.Default="default",o))(N3||{}),goe=v.object({type:v.nativeEnum(N3),imageUrl:v.string().optional(),unicode:v.string().optional()}),U3=(e=>(e.Ledger="ledger",e))(U3||{}),L3=(e=>(e.BLE="ble",e))(L3||{}),boe=v.object({version:v.literal(1),connectionType:v.nativeEnum(L3),deviceType:v.nativeEnum(U3),id:v.string().min(1),name:v.string().optional(),model:v.string().optional()}),xoe=v.object({value:v.number(),timestamp:v.number()}),UPe=v.object({name:v.string(),icon:goe.optional(),connectedDevices:boe.array().optional(),balance:xoe.optional()});var zPe=100,jPe={unicode:void 0,imageUrl:void 0,type:"default"},rD={version:1,isDeveloperMode:!1};var M3=ct.Solana.Devnet,F3=ct.Ethereum.Sepolia,qd={version:1,setting:{solana:M3,eip155:F3}};function WPe(t){return t.map(e=>Ko[e].defaultDerivationPathType)}var GPe={bip44Root:"bip44RootEthereum",bip44Change:"bip44Ethereum",bip44:"bip44EthereumSecondary",deprecated:"bip44EthereumTertiary",bip44RootEthereum:null,bip44Ethereum:null,bip44EthereumSecondary:null,bip44EthereumTertiary:null,bitcoinTaproot:null,bitcoinNativeSegwit:null,bitcoinNestedSegwit:null,bitcoinLegacy:null,bip44Sui:null},$Pe={bip44Root:-1,bip44RootEthereum:-1,bitcoinTaproot:0,bitcoinNativeSegwit:0,bitcoinNestedSegwit:0,bitcoinLegacy:0,bip44Change:0,bip44Ethereum:0,bip44:1,bip44EthereumSecondary:1,deprecated:2,bip44EthereumTertiary:2,bip44Sui:0},QPe="https://help.phantom.com/hc/en-us/articles/4406563212819";var YPe="https://help.phantom.com/hc/en-us/articles/21872962238355";d();l();var zd=j(Vt()),nD=(0,zd.createContext)(null);function woe({children:t,authRepository:e}){return zd.default.createElement(nD.Provider,{value:e},t)}function Mn(){let t=(0,zd.useContext)(nD);if(!t)throw new Error("useAuthRepository must be used within an AuthProvider");return t}function Ui(){return Mn().useUser()}d();l();d();l();var V3=j(Hn());d();l();var H3="https://phantom.app",K3="https://api.phantom.app/oauth2/auth",Px={prod:"a61bc25e-0c4f-4ab3-aa54-b50ec746eea2",staging:"fe26708b-7db7-4146-9fbb-9a9736acfb2b"},Bx={prod:"https://auth.phantom.app",staging:"https://staging-auth.phantom.app"},oD="/login/start",iD="/oauth2/token";var Aoe="https://help.phantom.com/hc/en-us/articles/32367778944403";var Cx=No({minutes:60})-No({minutes:15}),Ou="/v1/authentication-keys";d();l();var jd=t=>Buffer.from(t).toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");var Soe=60;function Du(){let t={alg:"ES256",type:"JWT"},e=Math.floor(Date.now()/1e3),r={iss:H3,aud:K3,nbf:e,exp:e+Soe,iat:e};return{header:t,payload:r}}function Ru(t){let e=jd(V3.Buffer.from(JSON.stringify(t.header))),r=jd(V3.Buffer.from(JSON.stringify(t.payload)));return[e,r,t.signature].join(".")}d();l();var sD=v.object({alg:v.string(),type:v.string(),kid:v.string()}),aD=v.object({sub:v.string(),iss:v.string(),aud:v.string(),nbf:v.number(),exp:v.number(),iat:v.number()}),voe=v.object({header:sD,payload:aD,signature:v.string()}),cD=v.object({alg:v.string(),type:v.string()}),uD=v.object({iss:v.string(),aud:v.string(),nbf:v.number(),exp:v.number(),iat:v.number()}),Eoe=v.object({header:cD,payload:uD}),q3=v.object({id_token:v.string(),access_token:v.string(),refresh_token:v.string(),scope:v.string(),token_type:v.string(),expires_in:v.number().gte(0)}),Ioe=v.object({redirectTo:v.string()}),fD=v.object({at_hash:v.string(),aud:v.array(v.string()),auth_time:v.number(),exp:v.number(),iat:v.number(),iss:v.string(),jti:v.string(),rat:v.number(),sid:v.string(),sub:v.string(),email:v.string().optional()}),Ox=v.object({authenticationKeys:v.array(v.object({createdAt:v.string().datetime().nullish().default(null),updatedAt:v.string().datetime().nullish().default(null),id:v.string().uuid(),publicKey:v.string(),userId:v.string().uuid()})).optional()});d();l();var Uu=j(o8());d();l();d();l();d();l();var i8=null;function s8(t){i8=t}async function PD(){if(!i8)throw new Error("No fetch bearer token function registered. Register one with registerFetchBearerToken().");return await i8()}d();l();d();l();function BD(...t){let e=new AbortController;for(let r of t){let n=r instanceof AbortController?r.signal:r;if(n?.aborted)return e.abort(n.reason),e.signal;n?.addEventListener("abort",()=>{e.abort(n.reason)},{once:!0})}return e.signal}var wie=2*60*1e3,Aie=[];function CD(t,e){let{fetchTimeout:r,retryDelays:n,...o}=e||{},i=e?.fetchTimeout??wie,s=e?.retryDelays??Aie,a=0,c=0;return new Promise((u,h)=>{function f(){a++,c=Date.now();let g=!0,x=new AbortController,w=fetch(t,{...o,signal:BD(...o.signal?[o.signal,x.signal]:[x.signal])}),S=setTimeout(()=>{x.abort(),g=!1,m(a)?p():h(new Error(`fetchWithTimeoutAndRetry(): Failed to get response from server due to timeout of ${i} ms, tried ${a} times.`))},i);w.then(k=>{clearTimeout(S),g&&(k.status>=200&&k.status<300?u(k):m(a,k.status)?p():u(k))}).catch(k=>{clearTimeout(S),m(a)?p():h(k)})}function p(){let g=s[a-1],x=c+g;setTimeout(f,Math.max(x-Date.now(),0))}function m(g,x){let w=x?x>=400&&x<=499:!1;return g<=s.length&&!w}f()})}d();l();var jx=(t={},e={})=>{let r=new Headers(t),n=new Headers(e);for(let[o,i]of n.entries())i===void 0||i==="undefined"?r.delete(o):r.set(o,i);return r};d();l();var Jd=j(Hn());d();l();d();l();function OD(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function a8(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function DD(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");OD(t.outputLen),OD(t.blockLen)}function Qd(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function RD(t,e){a8(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}d();l();d();l();var Wx=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var ND=t=>t instanceof Uint8Array;var Gx=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ri=(t,e)=>t<<32-e|t>>>e,Sie=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Sie)throw new Error("Non little-endian hardware is not supported");function vie(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Lh(t){if(typeof t=="string"&&(t=vie(t)),!ND(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function V9e(...t){let e=new Uint8Array(t.reduce((n,o)=>n+o.length,0)),r=0;return t.forEach(n=>{if(!ND(n))throw new Error("Uint8Array expected");e.set(n,r),r+=n.length}),e}var Yd=class{clone(){return this._cloneInto()}},q9e={}.toString;function UD(t){let e=n=>t().update(Lh(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function z9e(t=32){if(Wx&&typeof Wx.getRandomValues=="function")return Wx.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}var $x=class extends Yd{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,DD(e);let n=Lh(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?e.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=e.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(e){return Qd(this),this.iHash.update(e),this}digestInto(e){Qd(this),a8(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:o,destroyed:i,blockLen:s,outputLen:a}=this;return e=e,e.finished=o,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},c8=(t,e,r)=>new $x(t,e).update(r).digest();c8.create=(t,e)=>new $x(t,e);d();l();d();l();function Eie(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var Qx=class extends Yd{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Gx(this.buffer)}update(e){Qd(this);let{view:r,buffer:n,blockLen:o}=this;e=Lh(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=Gx(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Qd(this),RD(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;Eie(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=Gx(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};var Iie=(t,e,r)=>t&e^~t&r,kie=(t,e,r)=>t&e^t&r^e&r,Tie=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ac=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Sc=new Uint32Array(64),u8=class extends Qx{constructor(){super(64,32,8,!1),this.A=Ac[0]|0,this.B=Ac[1]|0,this.C=Ac[2]|0,this.D=Ac[3]|0,this.E=Ac[4]|0,this.F=Ac[5]|0,this.G=Ac[6]|0,this.H=Ac[7]|0}get(){let{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:c}=this;return[e,r,n,o,i,s,a,c]}set(e,r,n,o,i,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)Sc[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Sc[f-15],m=Sc[f-2],g=ri(p,7)^ri(p,18)^p>>>3,x=ri(m,17)^ri(m,19)^m>>>10;Sc[f]=x+Sc[f-7]+g+Sc[f-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){let p=ri(a,6)^ri(a,11)^ri(a,25),m=h+p+Iie(a,c,u)+Tie[f]+Sc[f]|0,x=(ri(n,2)^ri(n,13)^ri(n,22))+kie(n,o,i)|0;h=u,u=c,c=a,a=s+m|0,s=i,i=o,o=n,n=m+x|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(n,o,i,s,a,c,u,h)}roundClean(){Sc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var LD=UD(()=>new u8);var _ie=[86,120,48,81,89,86,110,49,100,114,111,113,49,70,56,84,77,115,80,81,66,75,72,51,90,83,110,100,110,116,68,88,107,118,83,53,102,80,114,89,111,88,85,75,57,43,67,57,97,103,74,113,68,76,112,112,100,48,102,101,80,122,83,111,108,113,75,90,56,114,66,70,119,87,84,104,98,57,110,119,43,79,70,51,51,65,61,61],Pie=[87,67,49,81,97,71,70,117,100,71,57,116,81,88,86,48,97,70,82,118,97,50,86,117],Bie=[87,67,49,81,97,71,70,117,100,71,57,116,84,109,57,117,89,50,85,61];function Cie(t){let e=new URL(t);return e.pathname+e.search}function MD(t,e){let r=Cie(t),n=JSON.stringify(Math.floor(Date.now()/1e3)),o=r+n,i=c8(LD,Jd.Buffer.from(String.fromCharCode(..._ie)),Jd.Buffer.from(o)),s=new Headers(e);return s.set(Jd.Buffer.from(String.fromCharCode(...Pie),"base64").toString(),encodeURIComponent(Jd.Buffer.from(i).toString("base64"))),s.set(Jd.Buffer.from(String.fromCharCode(...Bie),"base64").toString(),n),s}var Nu=class extends Error{constructor(e,r){super(e),this.response=r}response},Oie={"Content-Type":"application/json","X-Phantom-Version":_6,"X-Phantom-Platform":P6},Xd=async t=>{let e,r;try{r=await t.clone().blob()}catch{}try{e=await t.clone().json()}catch{}let{status:n,statusText:o}=t;return{blob:r,data:e,status:n,statusText:o}},f8=class t{config;constructor(e={}){this.config={withClientAuth:!0,numRetries:0,delayBetweenEachRetryMs:0,timeoutMs:null,validateStatus:!1,headers:Oie,withApiEnvironment:"none",fetchBearerToken:!1,...e}}fetch=async(e,r={})=>{try{if(typeof e=="function"){let c=Tc()==="https://api.phantom.app"?"prod":"staging";e=e({apiEnv:c})}let n="";this.config.withApiEnvironment==="prod"?n="https://api.phantom.app":this.config.withApiEnvironment==="staging"?n="https://staging-api.phantom.app":this.config.withApiEnvironment==="default"&&(n=Tc());let o=new URL(`${n}${e}`);r?.params&&(o.search=new URLSearchParams(r.params).toString());let i=r;r.headers=jx(this.config.headers,r.headers),this.config.withClientAuth&&(r.headers=MD(o.toString(),r.headers));let s=this.config.validateStatus;if(r?.validateStatus&&(s=r?.validateStatus),i.body&&typeof i.body!="string"&&(i.body=JSON.stringify(i.body)),this.config.timeoutMs&&(i.fetchTimeout=this.config.timeoutMs),this.config.numRetries&&(i.retryDelays=Array(this.config.numRetries).fill(this.config.delayBetweenEachRetryMs)),this.config.fetchBearerToken){let c=await PD();if(c)i.headers=jx(i.headers,{authorization:`Bearer ${c}`});else throw new Nu("Unable to get bearer token. Full auth is required.")}let a=await CD(o.toString(),i);if(s&&!a.ok)throw new Nu(`Request failed with status code ${a.status}`,await Xd(a));return a}catch(n){throw n instanceof Nu?n:new Nu(n?.message,n?.response)}};auth(e){return new t({...this.config,withClientAuth:e})}bearer(e){return typeof e=="string"&&e?this.headers({authorization:`Bearer ${e}`}):typeof e=="boolean"&&e?new t({...this.config,fetchBearerToken:!0}):this}headers(e,r){let n=r?.mergeHeaders===!1?e:jx(this.config.headers,e);return new t({...this.config,headers:n})}timeout(e){return new t({...this.config,timeoutMs:e})}retry(e,r){return new t({...this.config,numRetries:e,delayBetweenEachRetryMs:r})}validateStatus(e){return new t({...this.config,validateStatus:e})}api(e="default"){return new t({...this.config,withApiEnvironment:e})}async get(e,r={}){r.method="GET";let n=await this.fetch(e,r);return Xd(n)}async post(e,r,n={}){n.method="POST";let o=await this.fetch(e,{...n,body:r});return Xd(o)}async put(e,r,n={}){n.method="PUT";let o=await this.fetch(e,{...n,body:r});return Xd(o)}async patch(e,r,n={}){n.method="PATCH";let o=await this.fetch(e,{...n,body:r});return Xd(o)}async delete(e,r,n={}){n.method="DELETE";let o=await this.fetch(e,{...n,body:r});return Xd(o)}},gt=new f8;function Die(t){if(t===void 0)throw new Error("rpcUrl undefined");return async(e,r)=>{let n={jsonrpc:"2.0",id:+new Date,method:e,params:r},i=(await gt.post(t,n)).data;if("error"in i)throw new Error(JSON.stringify(i.error));return i.result}}async function Rie(t,e={}){return gt.fetch(t,e)}function d8(t){return t.status>199&&t.status<400}function Nie(t){return t instanceof Nu}d();l();d();l();d();l();d();l();function l8(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Uie(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function HD(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Lie(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");l8(t.outputLen),l8(t.blockLen)}function Mie(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Fie(t,e){HD(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var Hie={number:l8,bool:Uie,bytes:HD,hash:Lie,exists:Mie,output:Fie},Yx=Hie;d();l();d();l();var Kie={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};var Xx=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ni=(t,e)=>t<<32-e|t>>>e,Vie=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Vie)throw new Error("Non little-endian hardware is not supported");var NBe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function qie(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function h8(t){if(typeof t=="string"&&(t=qie(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}var Jx=class{clone(){return this._cloneInto()}};function p8(t){let e=n=>t().update(h8(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function zie(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let o=BigInt(32),i=BigInt(4294967295),s=Number(r>>o&i),a=Number(r&i),c=n?4:0,u=n?0:4;t.setUint32(e+c,s,n),t.setUint32(e+u,a,n)}var Zx=class extends Jx{constructor(e,r,n,o){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Xx(this.buffer)}update(e){Yx.exists(this);let{view:r,buffer:n,blockLen:o}=this;e=h8(e);let i=e.length;for(let s=0;s<i;){let a=Math.min(o-this.pos,i-s);if(a===o){let c=Xx(e);for(;o<=i-s;s+=o)this.process(c,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Yx.exists(this),Yx.output(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>o-s&&(this.process(n,0),s=0);for(let f=s;f<o;f++)r[f]=0;zie(n,o-8,BigInt(this.length*8),i),this.process(n,0);let a=Xx(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let u=c/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)a.setUint32(4*f,h[f],i)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:s,pos:a}=this;return e.length=o,e.pos=a,e.finished=i,e.destroyed=s,o%r&&e.buffer.set(n),e}};var jie=(t,e,r)=>t&e^~t&r,Wie=(t,e,r)=>t&e^t&r^e&r,Gie=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ec=new Uint32Array(64),e1=class extends Zx{constructor(){super(64,32,8,!1),this.A=vc[0]|0,this.B=vc[1]|0,this.C=vc[2]|0,this.D=vc[3]|0,this.E=vc[4]|0,this.F=vc[5]|0,this.G=vc[6]|0,this.H=vc[7]|0}get(){let{A:e,B:r,C:n,D:o,E:i,F:s,G:a,H:c}=this;return[e,r,n,o,i,s,a,c]}set(e,r,n,o,i,s,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=s|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)Ec[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){let p=Ec[f-15],m=Ec[f-2],g=ni(p,7)^ni(p,18)^p>>>3,x=ni(m,17)^ni(m,19)^m>>>10;Ec[f]=x+Ec[f-7]+g+Ec[f-16]|0}let{A:n,B:o,C:i,D:s,E:a,F:c,G:u,H:h}=this;for(let f=0;f<64;f++){let p=ni(a,6)^ni(a,11)^ni(a,25),m=h+p+jie(a,c,u)+Gie[f]+Ec[f]|0,x=(ni(n,2)^ni(n,13)^ni(n,22))+Wie(n,o,i)|0;h=u,u=c,c=a,a=s+m|0,s=i,i=o,o=n,n=m+x|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(n,o,i,s,a,c,u,h)}roundClean(){Ec.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},y8=class extends e1{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}},KD=p8(()=>new e1),WBe=p8(()=>new y8);var Zd=j(o8()),VD=j(gl()),m8={generateRandom:t=>{let e=(0,VD.randomBytes)(t);return(0,Zd.bufferToString)(e)},async deriveChallenge(t){let e=KD((0,Zd.textEncodeLite)(t));return(0,Zd.urlSafe)(e)}};d();l();var Ro=()=>T6()?Bx.staging:op()||Tc()==="https://api.phantom.app"?Bx.prod:b.BASE_AUTH_ENDPOINT||Bx.staging,g8=()=>`${Ro()}${oD}`,t1=()=>`${Ro()}${iD}`;var qD=new Uu.BasicQueryStringUtils;async function Mh(t,e){let{url:r,codeVerifier:n}=await zD(t.getClientID(),t.redirectURL,e),o=e.type==="email",i=await t.fetchAuthorizationCode(t.redirectURL,r,o);return await b8({grantType:"authorization_code",clientID:t.getClientID(),redirectURI:t.redirectURL,tokenEndpoint:t1(),code:i,codeVerifier:n})}async function zD(t,e,r){let n=g8(),o,i=["openid","offline_access","user","incognito","seedless"],s;switch(r.type){case"key":{o={type:"key",jwt:Ru(r.clientJWT)};break}case"email":{o={type:"email",provider:r.provider,existingAccessToken:r.existingAccessToken},s=r.prompt,i.push("email");break}case"session":{o={type:"session",existingAccessToken:r.existingAccessToken};break}}let c=await new Uu.AuthorizationRequest({client_id:t,redirect_uri:e,scope:i.join(" "),response_type:"code"},m8).toJson(),u;switch(o.type){case"key":u=`jwt:${jd(Buffer.from(o.jwt,"utf8"))}`;break;case"email":u=`sso:${o.provider}`,o.existingAccessToken&&(u=`${u}:${o.existingAccessToken}`);break;case"session":u=`session:${o.existingAccessToken}`;break}let h={redirect_uri:c.redirect_uri,client_id:c.client_id,response_type:c.response_type,state:c.state??"",scope:c.scope,login_hint:u};s&&(h.prompt=s);let f=c.extras?.code_challenge,p=c.extras?.code_challenge_method,m=c.internal?.code_verifier;if(f&&p&&(h.code_challenge=f,h.code_challenge_method=p),!f||!p||!m)throw new Error("Missing code challenge or code verifier for PKCE.");let g=qD.stringify(h);return{url:`${n}?${g}`,codeVerifier:m}}async function b8(t){let{grantType:e,tokenEndpoint:r,clientID:n,redirectURI:o}=t,i;e==="authorization_code"?i=new Uu.TokenRequest({client_id:n,redirect_uri:o,grant_type:e,code:t.code,extras:{code_verifier:t.codeVerifier}}):i=new Uu.TokenRequest({client_id:n,redirect_uri:o,grant_type:e,refresh_token:t.refreshToken});let s=await gt.headers({"Content-Type":"application/x-www-form-urlencoded"},{mergeHeaders:!1}).auth(op()).post(r,qD.stringify(i.toStringMap()));$ie(s,e);let a=q3.safeParse(s.data);if(!a.success)throw new Error("Invalid OAuth2Token response.");let{data:c}=a;return{idToken:c.id_token,accessToken:c.access_token,refreshToken:c.refresh_token,scope:c.scope,tokenType:c.token_type,expiresAt:Date.now()+c.expires_in*1e3}}async function jD(t,e){return await b8({clientID:t.getClientID(),redirectURI:t.redirectURL,grantType:"refresh_token",tokenEndpoint:t1(),refreshToken:e})}function $ie(t,e){if([401,400].includes(t.status)){let r="";if(t.status===401)switch(r="Token Request Unauthorized (401): ",e){case"authorization_code":r+="Authorization code is expired or invalid.";break;case"refresh_token":r+="Refresh token is expired or invalid.";break;default:r+=`Unknown grant type [${e}]. `}if(t.status===400)switch(r="Bad Token Request (400): ",e){case"authorization_code":r="for [authorization_code]. Possible causes: 1. The authorization code is expired or invalid. 2. Redirect URI mismatch. 3. Code verifier mismatch (if using PKCE).";break;case"refresh_token":r="for [refresh_token]. Possible causes: 1. The refresh token is expired, invalid, or revoked. 2. Client ID mismatch. 3. Missing or malformed refresh token in the request.";break;default:r=`for unknown grant type [${e}]. Check the payload and OAuth provider documentation.`}throw new Error(r)}}d();l();d();l();var r1=class{subscribers={user:[],userID:[],accessToken:[],email:[]};subscribe(e,r){return this.subscribers[e].push(r),()=>{this.subscribers[e].splice(this.subscribers[e].indexOf(r),1)}}emit(e){e&&(this.emitUser(e),this.emitUserID(e.userID),this.emitAccessToken(e.accessToken),e.email&&this.emitEmail(e.email))}emitUser=ml(e=>{this.subscribers.user.forEach(r=>r(e))});emitUserID=ml(e=>{this.subscribers.userID.forEach(r=>r(e))},{resolver:e=>e});emitAccessToken=ml(e=>{this.subscribers.accessToken.forEach(r=>r(e))},{resolver:e=>e});emitEmail=ml(e=>{this.subscribers.email.forEach(r=>r(e))},{resolver:e=>e})};d();l();d();l();function Fi(t,e="expected value not found"){if(t==null)throw new Error(e);return t}function WD(t,e="expected value not found"){if(!t)throw new Error(e)}var n1=async(t,e)=>{let r=Ro(),n=Fi(t.signer,"Signer is required for key-based auth.");try{let o=await n.getAuthenticationPublicKey(e),i=Du(),s=await n.sign(i,e),{data:a}=await gt.get(`${r}${Ou}`,{params:{token:Ru(s)}}),c=Ox.safeParse(a);return c.success?(c.data.authenticationKeys??[]).some(f=>f.publicKey===o):!1}catch{return!1}};d();l();d();l();var GD="@phantom/auth",Ps={user:["auth",`${GD}:user`],authFactors:["auth",`${GD}:user-auth-factors`]};d();l();d();l();var o1=new Map;function Yie(){o1.clear()}function $D(t){Yie();let e=Date.now();o1.set(t,e)}var QD=async t=>{let e=Date.now(),r=o1.get(t)??0;if(e-r<Cx)return!0;try{let o=await gt.headers({"Content-Type":"application/x-www-form-urlencoded"},{mergeHeaders:!1}).bearer(t).get(`${Ro()}/userinfo`),i=d8(o);return i&&o1.set(t,e),i}catch{return!1}};d();l();var x8=".phantom.auth",Lu=`${x8}.tokens`,YD=`${x8}.authentication-factors`,Jie=`${x8}.email-provider`;d();l();d();l();var JD=t=>Buffer.from(t.replace("-","+").replace("_","/").replace(/=+$/,""),"base64");var Fh=t=>{let e=t.idToken.split(".");if(e.length!==3)throw new Error("Malformed ID token. Expected 3 period-delimited parts to ID token.");let r;try{let n=JD(e[1]).toString("utf-8"),o=JSON.parse(n);r=fD.parse(o)}catch{throw new Error("Unable to parse ID token payload.")}return{accessToken:t.accessToken,userID:r.sub,email:r.email}};var Bs=(t,e)=>{let r=async()=>{let{storage:n,authConfig:o}=t,i=await n.get(Lu);if(!i)return null;if(await QD(i.accessToken))return Fh(i);if(i.refreshToken)try{let s=await jD(o,i.refreshToken);return await n.set(Lu,s),$D(s.accessToken),Fh(s)}catch(s){let a=s.message;return a.includes("400")?D6.write(`Failed to refresh access token: ${a}`,"Auth","error"):(ee.addBreadcrumb(`Failed to refresh access token: ${a}`,"Auth","error"),ee.captureError(s,"Auth")),null}return null};return t.runExclusive(async()=>{let n=await r();return e.emit(n),n})};d();l();var i1=async(t,e,r)=>{let{storage:n,authConfig:o}=t,i,{type:s}=r;switch(s){case"key":{let c=await Xie(t,r),u=Fi(t.signer,"Signer is required for key-based auth."),h=Du(),f=await u.sign(h,c);i=await Mh(o,{type:s,clientJWT:f});break}case"email":{i=await Mh(o,{type:s,prompt:r.prompt,provider:r.provider});break}case"session":{i=await Mh(o,{type:s,existingAccessToken:r.accessToken});break}}await n.set(Lu,i);let a=Fh(i);return e.emit(a),a},Xie=async(t,e)=>{if(e.secretIdentifier)return e.secretIdentifier;let r=await Fi(t.signer).getAllSecretIdentifiers();for(let n of r)if(await n1(t,n))return n;throw new Error("Unable to log in with key-based auth. No auth factor found for login.")};var Zie=Cx,ese=No({minutes:5}),tse=async(t,e)=>{let r=await Bs(t,e);if(r)return r;if((await Fi(t.signer,"Signer is required for key-based auth.").getAllSecretIdentifiers()).length===0)throw new Error("Unable to log in with key-based auth. Vault is not yet onboarded.");try{return await i1(t,e,{type:"key"})}catch(i){throw ee.captureError(i instanceof Error?i:new Error("Unknown error"),"Auth"),new Error("Unable to automatically log in with key-based auth.")}},XD=(t,e)=>({queryKey:Ps.user,queryFn:()=>tse(t,e),gcTime:Zie,staleTime:ese}),ZD=async(t,e)=>{let r=XD(t,e);return await t.queryClient.fetchQuery(r)},eR=(t,e)=>{let r=XD(t,e);return ze({...r,retryOnMount:!1})};var rse=t=>{let e=new r1,r={getUser:()=>Bs(t,e),autoLogIn:()=>ZD(t,e),useUser:()=>eR(t,e),refreshTokens:()=>nse(t,e),logIn:n=>i1(t,e,n),isExistingAuthFactor:n=>n1(t,n),getAuthenticationKeys:()=>ose(t,e),getLocalAuthenticationPublicKeys:()=>ise(t),addAuthFactor:n=>sse(t,e,n),deleteAuthFactor:n=>ase(t,e,n),deleteAllAuthFactors:()=>cse(t,e),subscribe:(n,o)=>e.subscribe(n,o),logOut:()=>use(t)};return s8(async()=>(await r.autoLogIn())?.accessToken??null),r},nse=async(t,e)=>!!await Bs(t,e),ose=async(t,e)=>({authenticationPublicKeys:(await tR(t,e)).map(n=>n.publicKey)}),tR=async(t,e)=>{let r=Ro(),n=await Bs(t,e);if(!n)throw new Error("User not authenticated.");let{data:o}=await gt.bearer(n.accessToken).get(`${r}${Ou}`),i=Ox.safeParse(o);if(!i.success)throw new Error("Unable to parse auth factors response.");return i.data.authenticationKeys??[]},ise=async t=>{try{let e=Fi(t.signer,"Signer is required for key-based auth."),r=await e.getAllSecretIdentifiers(),n={};for(let o of r)n[o]=await e.getAuthenticationPublicKey(o);return n}catch{return{}}},sse=async(t,e,{secretIdentifier:r})=>{let n=Ro(),o=Fi(t.signer,"Signer is required for key-based auth."),i=await Bs(t,e);if(!i)throw new Error("User not authenticated.");let s=Du(),a=await o.sign(s,r);await gt.bearer(i.accessToken).post(`${n}${Ou}`,{jwt:Ru(a)})},ase=async(t,e,{authenticationPublicKey:r})=>{let n=Ro(),o=await Bs(t,e);if(!o)throw new Error("User not authenticated.");await gt.bearer(o.accessToken).delete(`${n}${Ou}/${encodeURIComponent(r)}`)},cse=async(t,e)=>{let r=Ro(),n=t.storage,o=await Bs(t,e);if(!o)throw new Error("User not authenticated.");let i=await tR(t,e);await Promise.all(i.map(s=>gt.bearer(o.accessToken).delete(`${r}${Ou}/${s.id}`))),await n.remove(YD)},use=async({storage:t})=>{await t.remove(Lu)};d();l();var fse=(t,e)=>{let r=new URL(e);if(!r.toString().startsWith(t))throw new Error("Unexpected redirectURL. RedirectURL from auth flow must match local redirect URL.");let n=r.searchParams.get("code");if(!n)throw new Error("No authorization code");return n};d();l();var dse=(t,e)=>{let r=new URL(e);if(!r.toString().startsWith(t))throw new Error("Unexpected redirectURL. RedirectURL from auth flow must match local redirect URL.");let n=r.searchParams.get("error"),o=r.searchParams.get("error_description");if(n)throw new Error(`${n}: ${o}`,{cause:n});return!1};d();l();var lse=()=>Tc()==="https://api.phantom.app"?Px.prod:Px.staging;d();l();var w8=()=>{let t=Mn(),{data:e}=Ui(),r=Ps.authFactors;return ze({queryKey:r,queryFn:async()=>{let o=await t.getLocalAuthenticationPublicKeys();if(Object.keys(o).length===0)return{};let i=[];try{if(e){let{authenticationPublicKeys:a=[]}=await t.getAuthenticationKeys();i=a}}catch(a){a instanceof Error&&ee.addBreadcrumb("Auth",`Unable to fetch existing AuthFactors for user (${e?.userID}): ${a.message}`,"error")}let s={};for(let[a,c]of Object.entries(o)){let u=i.includes(c);!u&&await t.isExistingAuthFactor(a)||(s[a]={authenticationPublicKey:c,isExistingAuthFactor:u})}return Object.keys(s).length===0&&ee.addBreadcrumb("Auth",`Unable to build AuthFactors map: 
- user: ${e?.userID}
- locally available auth factors: ${Object.keys(o).length}
- auth factors registered with user: ${i.length}`,"error"),s},retryOnMount:!1})};d();l();d();l();var Cs=()=>{let{data:t}=Ui();return!!t};function hse(t,e){let r=Cs(),n;return t.enabled===void 0?n=r:typeof t.enabled=="function"?n=o=>(WD(typeof t.enabled=="function","expected enabled to be a function"),r&&t.enabled(o)):typeof t.enabled=="boolean"?n=r&&t.enabled:nt(t.enabled),ze({...t,enabled:n},e)}d();l();d();l();var A8=async t=>{await t.removeQueries({queryKey:Ps.user})},S8=async t=>{await t.resetQueries({queryKey:Ps.user})},Hh=async t=>{await t.invalidateQueries({queryKey:Ps.user})},Os=async t=>{await t.invalidateQueries({queryKey:Ps.authFactors})};var pse=()=>{let t=we(),e=Mn(),r=async({secretIdentifier:n})=>{await e.addAuthFactor({secretIdentifier:n}),await Os(t)};return Ae({mutationFn:async n=>{try{return await r(n)}catch(o){ee.addBreadcrumb("Auth",`Could not add auth factor: ${n.secretIdentifier}`,"error");let i;throw o instanceof Error?i=o:i=new Error(`Could not add auth factor: ${n.secretIdentifier}`),ee.captureError(i,"Auth"),i}}})};d();l();var yse=()=>{let t=we(),e=Mn(),r=async({authenticationPublicKey:n})=>{await e.deleteAuthFactor({authenticationPublicKey:n}),await Os(t)};return Ae({mutationFn:async n=>{try{return await r(n)}catch(o){ee.addBreadcrumb("Auth","Could not remove auth factor!","error");let i;throw o instanceof Error?i=o:i=new Error("Could not remove auth factor!"),ee.captureError(i,"Auth"),i}}})};d();l();var mse=()=>{let{data:t}=Ui();return t?.accessToken};d();l();d();l();var gse=()=>{let{data:t}=Ui();return t?.email};d();l();var el=j(Vt()),rR=(0,el.createContext)(null);function bse({children:t,analytics:e}){return el.default.createElement(rR.Provider,{value:e},t)}function En(){let t=(0,el.useContext)(rR);if(!t)throw new Error("useAnalytics must be used within a AnalyticsProvider");return t}d();l();d();l();var Kh=Wu(En,t=>new s1(t)),s1=class{#e;constructor(e){this.#e=e}onClaimFlowStart(){this.#e.capture("userUsernameClaimFlowStart")}onCheckAvailability(e,r){this.#e.capture("userUsernameCheckAvailability",{data:{username:e,isAvailable:r}})}onAvatarSaved(e){this.#e.capture("userUsernameClaimFlowAvatarSaved",{data:{avatarType:e}})}onAnonymousAuthSaved(e,r){this.#e.capture("userUsernameClaimFlowAnonymousAuthSaved",{data:{numAuthFactorsSaved:e,numAuthFactorsShown:r}})}onLinkWalletsSaved(e,r){this.#e.capture("userUsernameClaimFlowLinkWalletsSaved",{data:{numWalletsSaved:e,numWalletsShown:r}})}onPublicAddressesSaved(){this.#e.capture("userUsernameClaimFlowPublicAddressesSaved")}onClaimFlowComplete(e,r){this.#e.capture("userUsernameClaimComplete",{data:{username:e,authUserID:r}})}};d();l();var tl=j(Vt()),nR=(0,tl.createContext)(null);function xse({children:t,userRepository:e,claimUsernameSigner:r}){return tl.default.createElement(nR.Provider,{value:{userRepository:e,claimUsernameSigner:r}},t)}function oR(){let t=(0,tl.useContext)(nR);if(!t)throw new Error("useUserContext must be used within a UserProvider");return t}function ut(){return oR().userRepository}function iR(){return oR().claimUsernameSigner}d();l();d();l();var Vh=class extends Error{constructor(e="No user profile."){super(e),this.name="NoUserProfileError"}};d();l();var qh="@phantom/users",hr={checkUsernameAvailability(t){return["user",`${qh}:check-username-availability`,{username:t}]},userProfile(){return["user",`${qh}:user-profile`]},userProfileAttributeEffect(t){return["user",`${qh}:user-profile-attribute-effect`,{username:t}]},userSyncedAccounts(){return["user",`${qh}:user-synced-accounts`]}};var wse=No({days:1}),Ase=No({minutes:1});function Ds(){let t=ut(),e=Cs(),r=hr.userProfile();return ze({enabled:e,queryKey:r,queryFn:async()=>{let o=await t.getUserProfile();if(!o)throw new Vh;return o},gcTime:wse,staleTime:Ase})}d();l();d();l();d();l();var rl=(t,e)=>e?`/user/v1/users/${t}/wallet-accounts/${e}`:`/user/v1/users/${t}/wallet-accounts`,zh=t=>`/user/v1/users/${t}/profile`,a1=t=>`/user/v1/profiles/${t}`,sR=()=>"/user/v1/profiles/creation-check",aR=t=>`/v1/actors-search?query=${encodeURIComponent(t)}`,cR=["seed","seedless","privateKey"],Sse=(t,e)=>{let r=t[0],n=e[0],o=z.isNetworkID(r),i=z.isNetworkID(n);return o&&i?z.compareNetworkID(r,n):o?-1:i?1:0},v8=10,uR=500,jh={seedless:1,seed:2,privateKey:3};d();l();var E8=async t=>{await t.removeQueries({queryKey:hr.userProfile()})},I8=async t=>{await t.resetQueries({queryKey:hr.userProfile()})},Mu=async t=>{await t.invalidateQueries({queryKey:hr.userProfile()})},k8=async t=>{await t.removeQueries({queryKey:hr.userSyncedAccounts()})},vse=async t=>{await t.resetQueries({queryKey:hr.userSyncedAccounts()})},oi=async t=>{await t.invalidateQueries({queryKey:hr.userSyncedAccounts()})};d();l();d();l();var nl=(o=>(o.PUBLIC="public",o.PRIVATE="private",o.INVISIBLE="invisible",o.HIDDEN="hidden",o))(nl||{}),Ese=Object.values(nl),lR=v.string().brand("ProfileId"),c1=v.object({id:lR,username:v.string(),icon:v.string().nullish(),addresses:v.record(v.string(),v.string()),privacyState:v.nativeEnum(nl).optional().default("public"),biography:v.string().nullish(),phantomJoinDate:v.string().nullish()}),T8=v.string().url().brand("ActorId"),Ise=v.object({id:v.string().optional(),orderedItems:T8.array(),next:v.string().optional()}),fR=v.object({id:v.string().url(),current:Ise.optional(),totalItems:v.number().optional()}),dR=v.object({type:v.string(),value:v.string().optional(),name:v.string().optional()}),kse=v.object({id:v.string().url().optional(),name:v.string().optional(),type:v.string()}),hR=v.object({id:T8,name:v.string(),preferredUsername:v.string(),manuallyApprovesFollowers:v.boolean(),followers:v.union([fR,v.string().url()]),following:v.union([fR,v.string().url()]),icon:kse.nullish(),attachment:v.union([dR,v.array(dR)]).optional(),summary:v.string().nullish(),published:v.string().nullish()}).transform(t=>{let{attachment:e,...r}=t,n={},o=!1,i=!1,s=!1,a=!1,c=!1;if(e){let u=Array.isArray(e)?e:[e];for(let h of u)if(!(!h.name||!h.value)){if(h.name.endsWith(":address")){let f=ks.safeParse(h.name.replace(":address",""));if(f.success){let p=f.data;n[p]=h.value}}h.name==="requesting"&&(o=h.value==="true"),h.name==="requestedBy"&&(i=h.value==="true"),h.name==="blocking"&&(s=h.value==="true"),h.name==="following"&&(a=h.value==="true"),h.name==="followedBy"&&(c=h.value==="true")}}return{...r,addresses:n,isSentFollowRequestPending:o,hasPendingFollowRequest:i,isBlocking:s,isFollowing:a,isFollowedBy:c}}),pR=v.object({actors:hR.array()}),Wh={Image:"image",Emoji:"emoji",ReadOnlyDefault:"read-only-default",Default:"default"},sNe=v.object({type:v.nativeEnum(Wh),imageUrl:v.string().optional(),unicode:v.string().optional()}),_8=v.object({error:v.object({message:v.string()})});var P8=async t=>{let e=await gt.api().get(a1(t)),r=c1.safeParse(e.data);return r.success?r.data:null};d();l();var yR=v.string().regex(/^https?:\/\/.+$/),mR=v.string(),u1=v.literal("privateKey"),Tse=v.object({networkId:gc,publicKey:kc,address:k6,pathType:C0.or(u1)}),_se=v.object({networkId:mc,publicKey:kc,address:Fs,pathType:B0.or(u1)}),Pse=v.object({networkId:yc,publicKey:kc,address:v.string(),pathType:P0.or(u1)}),Bse=v.object({networkId:Fd,publicKey:kc,address:v.string(),pathType:X2.or(u1)}),Cse=v.union([Tse,_se,Pse,Bse]),gR=v.object({accountHash:v.string(),accountOrigin:v.string().regex(/^(seed|privateKey|seedless):(.+)/).catch("readOnly"),name:v.string().nullish().default(null).catch(null),icon:v.union([yR,mR]).nullish().default(null).catch(null),derivationIndex:v.number().nullish().default(null).catch(null),addresses:v.array(Cse).min(1)}),Ose=gR.and(v.object({id:v.string()})),f1=v.object({walletAccounts:v.array(Ose)}),wNe=v.record(v.string(),gR);d();l();var B8=t=>{for(let e of cR)if(t.accountOrigin?.split(":")[0]===e)return e;return null},C8=t=>t.accountOrigin?.replace("seed:","")?.replace("privateKey:","")?.replace("seedless:",""),bR=(t=[])=>t.sort((e,r)=>{let n=B8(e),o=B8(r);if(n===null&&o===null)return 0;if(n===null)return 1;if(o===null)return-1;if(jh[n]-jh[o]!==0)return jh[n]-jh[o];let i=C8(e),s=C8(r);if(i===null&&s===null)return 0;if(i===null)return 1;if(s===null)return-1;let a=i.localeCompare(s);return a!==0?a:e.derivationIndex===null&&r.derivationIndex===null?0:e.derivationIndex===null?1:r.derivationIndex===null?-1:e.derivationIndex-r.derivationIndex});var Dse=t=>({getUsernameAvailability:e=>Rse(e),getUserProfile:()=>Nse(t),getUserProfileByUsername:e=>P8(e),getUserProfileByUsernameOrUserProfileId:e=>P8(e),searchForActor:(e,r,n)=>jse(e,r,n),setUserProfile:({username:e,addresses:r,icon:n,signedMessages:o,privacyState:i})=>Use(t,{username:e,addresses:r,signedMessages:o,icon:n,privacyState:i}),patchUserProfile:e=>Lse(t,e),deleteUserProfile:()=>Mse(t),isEligibleToClaim:e=>Fse(e),getSyncedAccounts:()=>O8(t),downloadSyncedAccounts:()=>Hse(t),uploadSyncedAccounts:e=>Kse(t,e),uploadSyncedAccount:e=>Vse(t,e),deleteSyncedAccounts:()=>qse(t),deleteSyncedAccount:e=>zse(t,e)}),Rse=async t=>{switch((await gt.api().get(a1(t))).status){case 200:return!1;case 403:return!1;case 404:return!0;default:throw new Error("Failed to check for username availability.")}},Nse=async({authRepository:t})=>{let e=await t.getUser();if(!e)throw new Error("User is not logged in, unable to get user profile.");let{userID:r,accessToken:n}=e,o=await gt.api().bearer(n).get(zh(r)),i=c1.safeParse(o.data);return i.success?i.data:null},Use=async({authRepository:t},{username:e,addresses:r,icon:n,signedMessages:o,privacyState:i})=>{let s=await t.getUser();if(!s)throw new Error("User is not logged in, unable to claim username.");let{userID:a,accessToken:c}=s,u=await gt.api().bearer(c).post(zh(a),{username:e,signedMessages:o,icon:n,addresses:r,privacyState:i});if(u.status===201)return;let h=_8.safeParse(u.data);throw h.success?new Error(h.data.error.message):new Error("Unknown error")},Lse=async({authRepository:t},{username:e,addresses:r,icon:n,privacyState:o,biography:i})=>{let s=await t.getUser();if(!s)throw new Error("User is not logged in, unable to claim username.");let{userID:a,accessToken:c}=s,u=await gt.api().bearer(c).patch(zh(a),{username:e,addresses:r,icon:n,privacyState:o,biography:i});if(u.status===200)return;ee.captureMessage(`Failed to patch user profile: ${u.status} ${JSON.stringify(u.data)}`,"Auth");let h=_8.safeParse(u.data);throw h.success?new Error(h.data.error.message):new Error("Unknown error")},Mse=async({authRepository:t})=>{let e=await t.getUser();if(!e)throw new Error("User is not logged in, unable to sync down accounts.");let{userID:r,accessToken:n}=e,o=await gt.api().bearer(n).delete(zh(r));return 200<=o.status&&o.status<300},Fse=async t=>{try{return(await gt.api().post(sR(),{addresses:t})).status===200}catch{return!1}},O8=async({authRepository:t})=>{let e=await t.getUser();if(!e)throw new Error("User is not logged in, unable to sync down accounts.");let{userID:r,accessToken:n}=e,o=await gt.api().bearer(n).get(rl(r)),i=f1.safeParse(o.data);if(!i.success)throw new Error("Unable to get synced accounts: unable to parse GET /wallet-accounts response.");return{walletAccounts:bR(i.data.walletAccounts)}},Hse=async t=>{let{walletAccounts:e}=await O8(t),r=e.reduce((n,o)=>(n[o.accountHash]=o,n),{});return await t.claimUsernameSigner.storeSyncedAccounts(r),!0},xR=(t,e,r)=>gt.api().bearer(t).post(rl(e),r),Kse=async(t,e)=>{let{authRepository:r,claimUsernameSigner:n,queryClient:o}=t,i=await r.getUser();if(!i)return ee.addBreadcrumb("Auth","User is not logged in, unable to sync up accounts.","info"),!1;try{let s=e;s||(ee.addBreadcrumb("Auth","Uploading all currently synced accounts...","info"),s=[...(await O8(t)).walletAccounts.reduce((m,g)=>(m.add(g.accountHash),m),new Set)]);let a=await n.getBatchAccountMetadata(s),{userID:c,accessToken:u}=i,h=F1(Object.values(a),v8);for(let f of h)await Promise.all(f.map(p=>xR(u,c,p))),await C6(uR);return await oi(o),ee.addBreadcrumb("Auth",`\u2705 Uploaded synced accounts: ${e?e?.join(" "):"all currently synced accounts"}`,"info"),!0}catch(s){throw ee.addBreadcrumb("Auth",`Unable to sync up accounts: ${e?e?.join(" "):"all currently synced accounts"}`,"info"),ee.captureError(s,"Auth"),s}},Vse=async({authRepository:t,claimUsernameSigner:e,queryClient:r},n)=>{let o=await t.getUser();if(!o)return ee.addBreadcrumb("Auth",`User is not logged in, unable to sync up account: ${n}`,"info"),!1;try{ee.addBreadcrumb("Auth",`Syncing account... : ${n}`,"info");let i=await e.getAccountMetadata(n),{userID:s,accessToken:a}=o;return await xR(a,s,i),await oi(r),ee.addBreadcrumb("Auth",`\u2705 Synced account: ${n}`,"info"),!0}catch(i){throw ee.addBreadcrumb("Auth",`Unable to sync up account: ${n}`,"info"),ee.captureError(i,"Auth"),i}},wR=(t,e,r)=>gt.api().bearer(t).delete(rl(e,r.id),r),qse=async({authRepository:t})=>{let e=await t.getUser();if(!e)throw new Error("User is not logged in, unable to delete all synced accounts.");let{userID:r,accessToken:n}=e,o=await gt.api().bearer(n).get(rl(r)),i=f1.safeParse(o.data);if(!i.success)throw new Error("Unable to delete all synced accounts => unable to parse GET /wallet-accounts response.");let s=F1(i.data.walletAccounts,v8);for(let a of s)await Promise.all(a.map(c=>wR(n,r,c)));return!0},zse=async({authRepository:t},e)=>{let r=await t.getUser();if(!r)throw new Error(`User is not logged in, unable to remove synced account: ${e}`);let{userID:n,accessToken:o}=r,i=await gt.api().bearer(o).get(rl(n)),s=f1.safeParse(i.data);if(!s.success)throw new Error(`Unable to delete synced account [${e}] => unable to parse GET /wallet-accounts response`);let a=s.data.walletAccounts.find(c=>c.accountHash===e);if(!a)return ee.addBreadcrumb("Auth",`Calling deleteSyncedAccount on account that is not synced to begin with: ${e}`,"info"),!1;try{await wR(o,n,a)}catch(c){throw ee.addBreadcrumb("Auth",`Unable to delete synced account: ${e}`,"info"),ee.captureError(c,"Auth"),c}return!0},jse=async(t,e,r)=>{ee.addBreadcrumb("network","User is searching for actors.","info",{query:t});let n=await gt.api().bearer(e).get(aR(t)),o=pR.safeParse(n.data);return o.success?{actors:o.data.actors}:{actors:[]}};d();l();var Wse=new Set([hr.userProfile()[1],hr.userSyncedAccounts()[1]]),Gse=t=>{let e=t.queryKey[1];return typeof e!="string"||!e?!1:Wse.has(e)};d();l();function $se(){let t=Kh(),e=Mn(),r=ut(),n=iR(),o=we(),i=async({username:s,addresses:a,icon:c,secretIdentifiers:u,accountIdentifiers:h})=>{if(ee.addBreadcrumb("Auth",`Claiming Username: ${s}.`,"info"),u.length===0)throw new Error("Unable to log in to claim a username. Select a secret identifier to use as an auth factor.");ee.addBreadcrumb("Auth","Logging in with first auth factor","info");let f=await e.logIn({type:"key",secretIdentifier:u[0]});for(let m of u.slice(1))ee.addBreadcrumb("Auth","Adding additional auth factor","info"),await e.addAuthFactor({secretIdentifier:m});ee.addBreadcrumb("Auth","Signing over messages","info");let p=await n.signMessages(s);ee.addBreadcrumb("Auth","Creating user profile to claim username","info"),await r.setUserProfile({username:s,addresses:a,icon:c,signedMessages:p,privacyState:"public"}),ee.addBreadcrumb("Auth","Uploading Synced Accounts","info"),await r.uploadSyncedAccounts(h),ee.addBreadcrumb("Auth","\u2705 Username Claimed!","info"),await S8(o),await I8(o),await Hh(o),await Mu(o),await Os(o),t.onClaimFlowComplete(s,f.userID)};return Ae({mutationFn:async s=>{try{return await i(s)}catch(a){ee.addBreadcrumb("Auth","Could not claim username","error");let c;throw a instanceof Error?c=a:c=new Error("Unable to claim username"),ee.captureError(c,"Auth"),c}}})}d();l();function Qse(t){let e=Kh(),r=ut(),n=hr.checkUsernameAvailability(t);return ze({enabled:!!t,queryKey:n,queryFn:async()=>{let s=await r.getUsernameAvailability(t);return e.onCheckAvailability(t,s),s}})}d();l();var Yse=No({days:1}),Jse=No({minutes:1}),AR=t=>{let e=ut(),r=Cs();return ze({enabled:r,queryKey:hr.userSyncedAccounts(),queryFn:async()=>(await e.getSyncedAccounts()).walletAccounts,gcTime:Yse,staleTime:Jse,select:t})};d();l();var Xse=()=>{let t=we(),e=Mn(),r=ut();return Ae({mutationFn:async()=>{await r.deleteSyncedAccounts(),await r.deleteUserProfile(),await e.deleteAllAuthFactors(),await e.logOut(),await k8(t),await E8(t),await A8(t),await oi(t),await Mu(t),await Hh(t),await Os(t)}})};d();l();var Zse=()=>{let t=we(),e=ut(),r=async n=>{await e.patchUserProfile(n),await Mu(t)};return Ae({mutationFn:async n=>{try{return await r(n)}catch(o){ee.addBreadcrumb("Auth",`Could not update user profile: ${JSON.stringify(n)}`,"error");let i;throw o instanceof Error?i=o:i=new Error("Could not update user profile!"),ee.captureError(i,"Auth"),i}},onMutate:async n=>{let o=hr.userProfile();await t.cancelQueries({queryKey:o});let i=t.getQueryData(o);return t.setQueryData(o,{...i,...n}),{previousData:i}}})};d();l();d();l();var eae=()=>{let t=we(),e=ut(),r=async n=>{Array.isArray(n)?await e.uploadSyncedAccounts(n):await e.uploadSyncedAccount(n),await oi(t)};return Ae({mutationFn:async n=>{try{return await r(n)}catch(o){let i=Array.isArray(n)?n.join(" "):n;ee.addBreadcrumb("Auth",`Could not add synced account: ${i}`,"error");let s;throw o instanceof Error?s=o:s=new Error("Could not add synced account!"),ee.captureError(s,"Auth"),s}}})};d();l();var tae=()=>{let t=we(),e=ut(),r=async n=>{Array.isArray(n)?await Promise.all(n.map(o=>e.deleteSyncedAccount(o))):await e.deleteSyncedAccount(n),await oi(t)};return Ae({mutationFn:async n=>{try{return await r(n)}catch(o){let i=Array.isArray(n)?n.join(" "):n;ee.addBreadcrumb("Auth",`Could not remove synced account: ${i}`,"error");let s;throw o instanceof Error?s=o:s=new Error("Could not remove synced account!"),ee.captureError(s,"Auth"),s}}})};d();l();var rae=Wu(En,t=>new d1(t)),d1=class{#e;constructor(e){this.#e=e}onAvatarUpdated(e){this.#e.capture("userManageProfileAvatarUpdated",{data:{avatarType:e}})}onAuthFactorsUpdated(e,r){this.#e.capture("userManageProfileAuthFactorsUpdated",{data:{numAuthFactorsSaved:e,numAuthFactorsShown:r}})}onLinkedWalletsUpdated(e,r){this.#e.capture("userManageProfileLinkedWalletsUpdated",{data:{numWalletsSaved:e,numWalletsShown:r}})}onPrivacyStateUpdated(e){this.#e.capture("userManageProfilePrivacyStateUpdated",{data:{privacyState:e}})}onBiographyUpdated(){this.#e.capture("userManageProfileBiographyUpdated")}onPublicAddressesUpdated(e){this.#e.capture("userManageProfilePublicAddressesUpdated",{data:{networkIdsSaved:e}})}};d();l();var l1=j(Vt());d();l();d();l();var Rs=()=>{let t=Se(),{data:[e],isLoading:r}=N6(["enable-monad"]);return ze({enabled:!r,queryKey:_x.chainAvailability({isMonadEnabled:e}),queryFn:()=>D3(t,e)})};d();l();var D8=()=>{let t=we(),e=Se();return Ae({mutationFn:async({addressTypes:n})=>{for(let o of n)await ZO(o,e);Ts(t)}})};d();l();var nae=()=>{let t=Se(),e=we();return Ae({mutationFn:async({chainIDs:n})=>{for(let o of n)await QO(o,t);Ts(e)}})};d();l();d();l();d();l();var ol=j(Vt()),SR=(0,ol.createContext)(null);function oae({children:t,vault:e}){return ol.default.createElement(SR.Provider,{value:e},t)}function St(){let t=(0,ol.useContext)(SR);if(!t)throw new Error("useVaultProxy must be used within a VaultProxyProvider");return t}var R8=()=>{let t=we(),e=Se(),r=St();return Ae({mutationFn:async({addressTypes:o})=>{for(let i of o)await XO(i,e);await r.deriveAddresses(),await Ts(t)}})};d();l();var iae=()=>{let t=Se(),e=we(),r=St();return Ae({mutationFn:async({chainIDs:o})=>{for(let i of o)await O3(i,t);await r.deriveAddresses(),await Ts(e)}})};d();l();var sae=()=>{let t=Se(),{mutateAsync:e}=D8(),{mutateAsync:r}=R8();return Ae({mutationFn:async({addressTypes:o})=>{if(await YO(t))await r({addressTypes:o});else{let s=new Set(z.bitcoin.addressTypes);for(let a of o)s.delete(a);if(s.size===z.bitcoin.addressTypes.length&&s.delete("bip122_p2wpkh"),s.size>0){let a=Array.from(s);await e({addressTypes:a})}}}})};var N8=z.getAllChainIDs().filter(t=>z.getDefaultChainEnablement(t)),vR=N8.map(t=>z.getMainnetNetworkID(t)),aae=vR.flatMap(t=>z.getAddressTypes(t)),ER=()=>Rs().data?.enabledAddressTypes??aae,il=()=>Rs().data?.enabledChainIDs??N8,VMe=()=>Rs().data?.supportedChainIDs??N8,qMe=t=>{let e=Rs().data;return e?t?e.enabledNetworkIDs:e.enabledMainnetOnlyNetworkIDs:vR},zMe=()=>il().length===1,jMe=()=>{let t=il();return(0,l1.useMemo)(()=>z.getChainIDs("eip155").some(e=>t.includes(e)),[t])},WMe=()=>{let t=il();return(0,l1.useMemo)(()=>t.length===1&&t.includes("solana"),[t])},GMe=t=>{let e=il();return(0,l1.useMemo)(()=>t.map(r=>e.includes(r)),[e,t])};d();l();d();l();d();l();d();l();d();l();function $r(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(b.NODE_ENV!=="production"){var o=yae[t],i=o?typeof o=="function"?o.apply(null,r):o:"unknown error nr: "+t;throw Error("[Immer] "+i)}throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(s){return"'"+s+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function sl(t){return!!t&&!!t[no]}function Hu(t){return!!t&&(function(e){if(!e||typeof e!="object")return!1;var r=Object.getPrototypeOf(e);if(r===null)return!0;var n=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return n===Object||typeof n=="function"&&Function.toString.call(n)===mae}(t)||Array.isArray(t)||!!t[OR]||!!t.constructor[OR]||j8(t)||W8(t))}function $h(t,e,r){r===void 0&&(r=!1),cl(t)===0?(r?Object.keys:J8)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,o){return e(o,n,t)})}function cl(t){var e=t[no];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:j8(t)?2:W8(t)?3:0}function H8(t,e){return cl(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function cae(t,e){return cl(t)===2?t.get(e):t[e]}function DR(t,e,r){var n=cl(t);n===2?t.set(e,r):n===3?(t.delete(e),t.add(r)):t[e]=r}function uae(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function j8(t){return hae&&t instanceof Map}function W8(t){return pae&&t instanceof Set}function Fu(t){return t.o||t.t}function G8(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=gae(t);delete e[no];for(var r=J8(e),n=0;n<r.length;n++){var o=r[n],i=e[o];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(e[o]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[o]})}return Object.create(Object.getPrototypeOf(t),e)}function $8(t,e){return e===void 0&&(e=!1),Q8(t)||sl(t)||!Hu(t)||(cl(t)>1&&(t.set=t.add=t.clear=t.delete=fae),Object.freeze(t),e&&$h(t,function(r,n){return $8(n,!0)},!0)),t}function fae(){$r(2)}function Q8(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function Hi(t){var e=bae[t];return e||$r(18,t),e}function IR(){return b.NODE_ENV==="production"||al||$r(0),al}function U8(t,e){e&&(Hi("Patches"),t.u=[],t.s=[],t.v=e)}function h1(t){K8(t),t.p.forEach(dae),t.p=null}function K8(t){t===al&&(al=t.l)}function kR(t){return al={p:[],l:al,h:t,m:!0,_:0}}function dae(t){var e=t[no];e.i===0||e.i===1?e.j():e.O=!0}function L8(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.g||Hi("ES5").S(e,t,n),n?(r[no].P&&(h1(e),$r(4)),Hu(t)&&(t=p1(e,t),e.l||y1(e,t)),e.u&&Hi("Patches").M(r[no].t,t,e.u,e.s)):t=p1(e,r,[]),h1(e),e.u&&e.v(e.u,e.s),t!==RR?t:void 0}function p1(t,e,r){if(Q8(e))return e;var n=e[no];if(!n)return $h(e,function(i,s){return TR(t,n,e,i,s,r)},!0),e;if(n.A!==t)return e;if(!n.P)return y1(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var o=n.i===4||n.i===5?n.o=G8(n.k):n.o;$h(n.i===3?new Set(o):o,function(i,s){return TR(t,n,o,i,s,r)}),y1(t,o,!1),r&&t.u&&Hi("Patches").R(n,r,t.u,t.s)}return n.o}function TR(t,e,r,n,o,i){if(b.NODE_ENV!=="production"&&o===r&&$r(5),sl(o)){var s=p1(t,o,i&&e&&e.i!==3&&!H8(e.D,n)?i.concat(n):void 0);if(DR(r,n,s),!sl(s))return;t.m=!1}if(Hu(o)&&!Q8(o)){if(!t.h.F&&t._<1)return;p1(t,o),e&&e.A.l||y1(t,o)}}function y1(t,e,r){r===void 0&&(r=!1),t.h.F&&t.m&&$8(e,r)}function M8(t,e){var r=t[no];return(r?Fu(r):t)[e]}function _R(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function V8(t){t.P||(t.P=!0,t.l&&V8(t.l))}function F8(t){t.o||(t.o=G8(t.t))}function q8(t,e,r){var n=j8(e)?Hi("MapSet").N(e,r):W8(e)?Hi("MapSet").T(e,r):t.g?function(o,i){var s=Array.isArray(o),a={i:s?1:0,A:i?i.A:IR(),P:!1,I:!1,D:{},l:i,t:o,k:null,o:null,j:null,C:!1},c=a,u=z8;s&&(c=[a],u=Gh);var h=Proxy.revocable(c,u),f=h.revoke,p=h.proxy;return a.k=p,a.j=f,p}(e,r):Hi("ES5").J(e,r);return(r?r.A:IR()).p.push(n),n}function lae(t){return sl(t)||$r(22,t),function e(r){if(!Hu(r))return r;var n,o=r[no],i=cl(r);if(o){if(!o.P&&(o.i<4||!Hi("ES5").K(o)))return o.t;o.I=!0,n=PR(r,i),o.I=!1}else n=PR(r,i);return $h(n,function(s,a){o&&cae(o.t,s)===a||DR(n,s,e(a))}),i===3?new Set(n):n}(t)}function PR(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return G8(t)}var BR,al,Y8=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",hae=typeof Map<"u",pae=typeof Set<"u",CR=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",RR=Y8?Symbol.for("immer-nothing"):((BR={})["immer-nothing"]=!0,BR),OR=Y8?Symbol.for("immer-draftable"):"__$immer_draftable",no=Y8?Symbol.for("immer-state"):"__$immer_state";var yae={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(t){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+t},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(t){return"Cannot apply patch, path doesn't resolve: "+t},16:'Sets cannot have "replace" patches.',17:function(t){return"Unsupported patch operation: "+t},18:function(t){return"The plugin for '"+t+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+t+"()` when initializing your application."},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available",21:function(t){return"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '"+t+"'"},22:function(t){return"'current' expects a draft, got: "+t},23:function(t){return"'original' expects a draft, got: "+t},24:"Patching reserved attributes like __proto__, prototype and constructor is not allowed"},mae=""+Object.prototype.constructor,J8=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,gae=Object.getOwnPropertyDescriptors||function(t){var e={};return J8(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},bae={},z8={get:function(t,e){if(e===no)return t;var r=Fu(t);if(!H8(r,e))return function(o,i,s){var a,c=_R(i,s);return c?"value"in c?c.value:(a=c.get)===null||a===void 0?void 0:a.call(o.k):void 0}(t,r,e);var n=r[e];return t.I||!Hu(n)?n:n===M8(t.t,e)?(F8(t),t.o[e]=q8(t.A.h,n,t)):n},has:function(t,e){return e in Fu(t)},ownKeys:function(t){return Reflect.ownKeys(Fu(t))},set:function(t,e,r){var n=_R(Fu(t),e);if(n?.set)return n.set.call(t.k,r),!0;if(!t.P){var o=M8(Fu(t),e),i=o?.[no];if(i&&i.t===r)return t.o[e]=r,t.D[e]=!1,!0;if(uae(r,o)&&(r!==void 0||H8(t.t,e)))return!0;F8(t),V8(t)}return t.o[e]===r&&typeof r!="number"&&(r!==void 0||e in t.o)||(t.o[e]=r,t.D[e]=!0,!0)},deleteProperty:function(t,e){return M8(t.t,e)!==void 0||e in t.t?(t.D[e]=!1,F8(t),V8(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=Fu(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){$r(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){$r(12)}},Gh={};$h(z8,function(t,e){Gh[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Gh.deleteProperty=function(t,e){return b.NODE_ENV!=="production"&&isNaN(parseInt(e))&&$r(13),Gh.set.call(this,t,e,void 0)},Gh.set=function(t,e,r){return b.NODE_ENV!=="production"&&e!=="length"&&isNaN(parseInt(e))&&$r(14),z8.set.call(this,t[0],e,r,t[0])};var xae=function(){function t(r){var n=this;this.g=CR,this.F=!0,this.produce=function(o,i,s){if(typeof o=="function"&&typeof i!="function"){var a=i;i=o;var c=n;return function(x){var w=this;x===void 0&&(x=a);for(var S=arguments.length,k=Array(S>1?S-1:0),A=1;A<S;A++)k[A-1]=arguments[A];return c.produce(x,function(T){var C;return(C=i).call.apply(C,[w,T].concat(k))})}}var u;if(typeof i!="function"&&$r(6),s!==void 0&&typeof s!="function"&&$r(7),Hu(o)){var h=kR(n),f=q8(n,o,void 0),p=!0;try{u=i(f),p=!1}finally{p?h1(h):K8(h)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(x){return U8(h,s),L8(x,h)},function(x){throw h1(h),x}):(U8(h,s),L8(u,h))}if(!o||typeof o!="object"){if((u=i(o))===void 0&&(u=o),u===RR&&(u=void 0),n.F&&$8(u,!0),s){var m=[],g=[];Hi("Patches").M(o,u,m,g),s(m,g)}return u}$r(21,o)},this.produceWithPatches=function(o,i){if(typeof o=="function")return function(u){for(var h=arguments.length,f=Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];return n.produceWithPatches(u,function(m){return o.apply(void 0,[m].concat(f))})};var s,a,c=n.produce(o,i,function(u,h){s=u,a=h});return typeof Promise<"u"&&c instanceof Promise?c.then(function(u){return[u,s,a]}):[c,s,a]},typeof r?.useProxies=="boolean"&&this.setUseProxies(r.useProxies),typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){Hu(r)||$r(8),sl(r)&&(r=lae(r));var n=kR(this),o=q8(this,r,void 0);return o[no].C=!0,K8(n),o},e.finishDraft=function(r,n){var o=r&&r[no];b.NODE_ENV!=="production"&&(o&&o.C||$r(9),o.I&&$r(10));var i=o.A;return U8(i,n),L8(void 0,i)},e.setAutoFreeze=function(r){this.F=r},e.setUseProxies=function(r){r&&!CR&&$r(20),this.g=r},e.applyPatches=function(r,n){var o;for(o=n.length-1;o>=0;o--){var i=n[o];if(i.path.length===0&&i.op==="replace"){r=i.value;break}}o>-1&&(n=n.slice(o+1));var s=Hi("Patches").$;return sl(r)?s(r,n):this.produce(r,function(a){return s(a,n)})},t}(),oo=new xae,X8=oo.produce,tFe=oo.produceWithPatches.bind(oo),rFe=oo.setAutoFreeze.bind(oo),nFe=oo.setUseProxies.bind(oo),oFe=oo.applyPatches.bind(oo),iFe=oo.createDraft.bind(oo),sFe=oo.finishDraft.bind(oo),aFe=X8;d();l();var dFe=[".phantom-labs.account.accountMetadata","developerMode","networkSetting",".phantom-labs.account.selectedAccount","termsHaveBeenAcknowledged2"];var lFe=new Error("Failed to clear selected account index");async function NR(t){try{let e=await t.get(".phantom-labs.account.selectedAccount");return e?.version===2?e.identifier:null}catch{throw wae}}var wae=new Error("Failed to get selected account identifier");async function io(t,e){try{let r={version:2,identifier:e};return await t.set(".phantom-labs.account.selectedAccount",r)}catch{throw Aae}}var Aae=new Error("Failed to set selected account identifier");var UR=new Error("Failed to add user account metadata to storage"),m1=new Error("Could not find account metadata in storage");async function LR(t,e,r){let n=await t.get(".phantom-labs.account.accountMetadata");if(!n)throw m1;let o=n.accounts[e];o?o.name=r:(o={name:r},n.accounts[e]=o),await t.set(".phantom-labs.account.accountMetadata",n)}async function MR(t,e,r){let n=await t.get(".phantom-labs.account.accountMetadata");if(!n)throw m1;let o=n.accounts[e];o?o.icon=r:(o={icon:r,name:Hs.t("onboardingImportAccountsAccountName",{walletIndex:""})},n.accounts[e]=o),await t.set(".phantom-labs.account.accountMetadata",n)}async function FR(t,e,r){let n=await t.get(".phantom-labs.account.accountMetadata");if(!n)throw m1;let o=n.accounts[e];o?o.balance=r:(o={balance:r,name:Hs.t("onboardingImportAccountsAccountName",{walletIndex:""})},n.accounts[e]=o),await t.set(".phantom-labs.account.accountMetadata",n)}async function Vu(t,e,r){try{let n=await t.get(".phantom-labs.account.accountMetadata");n?n.accounts[e]=r:n={version:1,accounts:{[e]:r}},await t.set(".phantom-labs.account.accountMetadata",n)}catch{throw UR}}async function HR(t,e){try{let r=await t.get(".phantom-labs.account.accountMetadata");r?r.accounts=X8(r.accounts,n=>{for(let[o,i]of Object.entries(e))n[o]||(n[o]={name:""}),n[o].name=i.name,n[o].icon=i.icon??n[o].icon,n[o].balance=i.balance??n[o].balance,n[o].connectedDevices=i.connectedDevices??n[o].connectedDevices}):r={version:1,accounts:{...e}},await t.set(".phantom-labs.account.accountMetadata",r)}catch{throw UR}}async function g1(t,e){let r=await t.get(".phantom-labs.account.accountMetadata");r||(r={version:1,accounts:{}});let n=r.accounts[e];return n||(n={name:Hs.t("onboardingImportAccountsAccountName",{walletIndex:""})}),n}async function b1(t){let e=await t.get(".phantom-labs.account.accountMetadata");return e?e.accounts:{}}async function x1(t,e){let r=await t.get(".phantom-labs.account.accountMetadata");if(!r)throw m1;delete r.accounts[e],await t.set(".phantom-labs.account.accountMetadata",r)}var KR=async(t,e)=>(await g1(t,e))?.balance,VR=async t=>await b1(t);d();l();var In="@phantom/accounts",Z8=`${In}:account-identifier`,e6=`${In}:selected-account`,w1=`${In}:all-accounts`,t6=`${In}:all-seeds`,Sae=`${In}:all-secrets`,kFe=`${In}:account-balance`,Ue={accountBalance(t){return[`${In}:account-balance`,{identifier:t}]},allAccountBalances(){return[`${In}:all-account-balances`]},allAccounts(t){let e=t?{chainAvailability:{enabledChainIDs:t.enabledChainIDs,enabledAddressTypes:t.enabledAddressTypes}}:{};return[w1,{chainAvailabilityQueryObject:e}]},allSeeds(t){return[t6,t]},allSecretIdentifiers(){return[Sae]},developerMode(){return[`${In}:developer-mode`]},accountIdentifier(t){return[Z8,{identifier:t}]},selectedAccount(t){let e=t?{chainAvailability:{enabledChainIDs:t.enabledChainIDs,enabledAddressTypes:t.enabledAddressTypes}}:{};return[e6,e]},selectedAccountIdentifier(){return[`${In}:selected-account-identifier`]},selectedNetworkSetting(){return[`${In}:selected-network-setting`]},trustedApps(){return[`${In}:trusted-apps`]},migratedWithInvalidChecksum(){return[`${In}:migrated-with-invalid-checksum`]},syncUserAccounts(){return[`${In}:sync-user-accounts`]},accountsEligibleToClaim(t,e,r){return[`${In}:are-accounts-eligible-to-claim`,{username:t,selectedAccountIdentifier:e,solanaAddresses:r}]}};var vae=(t,e=!0)=>{let r=Se(),n=e&&!!t,o=Ue.accountBalance(t||"");return ze({queryKey:o,queryFn:async()=>{try{return t&&await KR(r,t)||null}catch(s){throw s instanceof Error&&ee.captureError(s,"account"),s}},enabled:n})},Eae=(t=!0)=>{let e=Se(),r=Ue.allAccountBalances();return ze({queryKey:r,queryFn:async()=>{try{return await VR(e)}catch(o){throw o instanceof Error&&ee.captureError(o,"account"),o}},enabled:t})};d();l();d();l();var ul="Trying to find a selected account, but there no accounts in the vault.",A1="Missing ChainAvailability.",qR=(t,e)=>`No account found! Num accounts: ${t} | Identifier used: ${e}`,MFe=new Error("The current account group has no valid bitcoin address"),FFe=new Error("The current account group has no valid EIP-155 address"),HFe=new Error("The current account group has no valid solana address"),KFe=new Error("The current account group has no valid sui address"),VFe=new Error("The current account group has no valid address or the the chain type was unsupported"),qFe=new Error("[Legacy Mn*monic Fetch] no legacy mn*monic in storage"),zFe=new Error("[Legacy Mn*monic Fetch] internal error fetching legacy mn*monic");d();l();d();l();d();l();var Ki=(s=>(s.Seed="seed",s.PrivateKey="privateKey",s.Ledger="ledger",s.SeedVault="seedVault",s.ReadOnly="readOnly",s.Seedless="seedless",s))(Ki||{}),YFe=v.object({derivationIndex:v.number(),addresses:v.array(v.object({pathType:v.union([B0,C0]),value:v.string()})),publicKeys:v.array(v.object({pathType:P0,value:v.string()}))}),zR=class extends Error{message="No account exists in storage for identifier"},jR=class extends Error{message="No account exists in storage for identifier"},WR=class extends Error{message="Address type not found or incompatible with account"},GR=class extends Error{message="Hardware wallet account does not have known secr*ts"},$R=class extends Error{message="Read only account does not have known secr*ts"},QR=class extends Error{message="Invalid configuration for read only account"},YR=class extends Error{message="Seed already exists in storage"},JR=class extends Error{message="No seed exists in storage for identifier"},XR=class extends Error{message="The derivation index is missing or invalid"},ZR=class extends Error{message="Private key already exists in storage"},eN=class extends Error{message="No private key exists in storage for identifier"};var tN=class extends Error{message;constructor(e,r){super(),this.message=`Account of type ${e} found in Vault, while trying to add ${r} account`}},rN=class extends Error{message="Vault already stores a seedless account"},Iae=v.union([v.literal("unonboarded"),v.literal("unable-to-load-accounts")]),kae=v.union([v.literal("invalid-identifier"),v.literal("fetch-integrity-storage-error"),v.literal("fetch-entropy-storage-error"),v.literal("fetch-pk-storage-error"),v.literal("invalid-entropy"),v.literal("invalid-entropy-bip-39"),v.literal("invalid-checksum-bits"),v.literal("invalid-entropy-bits"),v.literal("invalid-checksum"),v.literal("invalid-entropy-length-less-than-twelve"),v.literal("invalid-entropy-length-more-than-twenty-four"),v.literal("invalid-entropy-length-wrong-word"),v.literal("invalid-pk-address-type"),v.literal("invalid-pk-identifier"),v.literal("invalid-pk"),v.literal("internal-error")]),Tae=v.literal("safely-onboarded"),JFe=v.union([v.object({status:Iae,isOnboarded:v.literal(!1),reonboardingNeeded:v.literal(!1)}),v.object({status:kae,isOnboarded:v.literal(!0),reonboardingNeeded:v.literal(!0)}),v.object({status:Tae,isOnboarded:v.literal(!0),reonboardingNeeded:v.literal(!1)})]);var _ae=(t,e,r,n)=>{let o=[];for(let i of e){let s=z.getChainID(i);if(n.includes(s))for(let a of z[s].addressTypes){if(!r.includes(a))continue;let c=t.chains[a];if(c)switch(c.chainType){case"eip155":case"solana":{o.push({networkID:i,addressType:a,address:c.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{o.push({networkID:i,addressType:a,publicKey:c.publicKey,address:c.addresses[i]});break}case"sui":{o.push({networkID:i,addressType:a,publicKey:c.publicKey,address:c.address});break}default:nt(c)}}}return o},Pae=(t,e,r,n)=>{let o=[];for(let i of e){let s=z.getChainID(i);if(n.includes(s))for(let a of z[s].addressTypes){if(!r.includes(a))continue;let c=t.chains[a];if(c)switch(c.chainType){case"eip155":case"solana":{o.push({networkID:i,addressType:a,address:c.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{o.push({networkID:i,addressType:a,publicKey:c.publicKey,address:c.addresses[i]});break}case"sui":{o.push({networkID:i,addressType:a,publicKey:c.publicKey,address:c.address});break}default:nt(c)}}}return o},Bae=(t,e,r,n)=>{let o=[];for(let i of e){let s=z.getChainID(i);if(n.includes(s))for(let a of z[s].addressTypes)r.includes(a)&&t.chainType===a&&o.push({networkID:i,addressType:a,address:t.address})}return o},Cae=(t,e,r,n)=>{let o=[];for(let i of e){let s=z.getChainID(i);if(n.includes(s)){for(let a of z[s].addressTypes)if(r.includes(a)&&t.chainType===a)switch(t.chainType){case"eip155":case"solana":{o.push({networkID:i,addressType:a,address:t.address});break}case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":{o.push({networkID:i,addressType:a,publicKey:t.publicKey,address:t.addresses[i]});break}case"sui":{o.push({networkID:i,addressType:a,publicKey:t.publicKey,address:t.address});break}default:nt(t)}}}return o},Oae=(t,e,r,n)=>{let o=[];for(let i of e){let s=z.getChainID(i);if(n.includes(s)){for(let a of z[s].addressTypes)if(r.includes(a))for(let[c,u]of Object.entries(t.addresses))c===a&&o.push({networkID:i,addressType:a,address:u})}}return o},S1=(t,e,r,n,o,i)=>{let s;switch(i?s=Object.values(o.setting):s=e,s=s.sort((a,c)=>z.compareNetworkID(a,c)),t.type){case"seedless":case"seed":return _ae(t,s,r,n);case"ledger":return Pae(t,s,r,n);case"seedVault":return Bae(t,s,r,n);case"privateKey":return Cae(t,s,r,n);case"readOnly":return Oae(t,s,r,n)}};d();l();var fl=async t=>{let e=await t.get("networkSetting");return e?Dae(t,e):qd},Dae=async(t,e)=>{let r=!1;Rae(e)&&(r=!0);let n=e.setting.solana;n&&z.isMainnetNetworkID(n)&&(e.setting.solana=M3,r=!0);let o=e.setting.eip155;return o&&z.isMainnetNetworkID(o)&&(e.setting.eip155=F3,r=!0),r&&await t.set("networkSetting",e),e},Rae=t=>{let e=!1,r=t.setting.eip155;return r&&(r.toString()==="eip155:5"&&(t.setting.eip155=ct.Ethereum.Sepolia,e=!0),r.toString()==="eip155:80001"&&(t.setting.eip155=ct.Polygon.Amoy,e=!0)),e};var r6=async(t,e,r)=>{let n=await t.fetchAllAccounts();if(n.length===0)return[];let o=e.get("developerMode"),i=fl(e),s=b1(e),[a,c,u]=await Promise.all([o,i,s]);return n.map(h=>{let f=u[h.identifier];f||(f={name:Hs.t("onboardingImportAccountsAccountName",{walletIndex:""})});let p={name:f.name,icon:f.icon,identifier:h.identifier,addresses:S1(h,r.enabledMainnetOnlyNetworkIDs,r.enabledAddressTypes,r.enabledChainIDs,c??qd,a?.isDeveloperMode??!1)};return h.type==="seed"?{...p,type:"seed",seedIdentifier:h.seedIdentifier,isReadOnly:!1}:h.type==="seedless"?{...p,type:"seedless",seedIdentifier:h.seedIdentifier,isReadOnly:!1}:h.type==="readOnly"?{...p,type:"readOnly",isReadOnly:!0}:h.type==="privateKey"?{...p,privateKeyIdentifier:h.privateKeyIdentifier,type:"privateKey",isReadOnly:!1}:{...p,type:h.type,isReadOnly:!1}})};function Qh(t){let{isSuccess:e,data:r}=Rs(),n=St(),o=Ue.allAccounts(r),i=Se();return ze({enabled:e,queryKey:o,queryFn:async()=>{if(!r)throw new Error(A1);let a=await r6(n,i,r);return ee.addBreadcrumb("account",`Finished fetching all accounts. Num accounts: ${a.length}`,"info"),a},select:t})}var v1=()=>{let{isSuccess:t,isFetching:e,data:r=[]}=Qh(),n=t&&!e&&!!r.length;return n?{enabled:n,accounts:r}:{enabled:n}};d();l();var ht=async t=>{await t.invalidateQueries({queryKey:[t6]}),await t.invalidateQueries({queryKey:[w1],predicate:e=>e.queryKey[0]===w1}),await t.invalidateQueries({queryKey:[Z8]}),await E1(t)},E1=async t=>{await t.invalidateQueries({predicate:e=>typeof e.queryKey[0]=="string"&&e.queryKey[0]===e6}),await t.invalidateQueries({queryKey:Ue.selectedAccountIdentifier()})};R3(ht);d();l();d();l();function I1(){let t=Se(),e=we();return Ae({mutationFn:async({metadataBatch:i})=>{ee.addBreadcrumb("account",`Adding Account Metadata Batch: ${Object.entries(i).length} entries`,"info"),await HR(t,i)},onSuccess:async()=>{await ht(e)},onError:i=>{ee.captureError(i,"account")}})}function Nae(){let{mutateAsync:t}=I1(),e=Se(),r=we(),n=St(),{t:o}=Gi();return Ae({mutationFn:async({accounts:c,pairedBLEDevice:u})=>{let h=B6(),f=await n.connectLedgerAccounts(h,c),p=f.reduce((g,x,w)=>{let{name:S,accountIndex:k}=c[w],A;!S||S.length===0?A=o("onboardingImportAccountsLedgerAccountName",{walletIndex:1+k}):A=S;let T;u&&(T=[{...u,version:1,connectionType:"ble",deviceType:"ledger"}]);let C={name:A,icon:void 0,connectedDevices:T};return g[x.identifier]=C,g},{});await t({metadataBatch:p});let m=f[0]?.identifier;return m||(m=(await n.fetchAllAccounts())[0].identifier),await io(e,m),r.setQueryData(Ue.selectedAccountIdentifier(),m),f},onSettled:async()=>{await ht(r)},onError:c=>ee.captureError(c,"account")})}d();l();var oN=j(Vt());d();l();var nN=()=>Wu(En,t=>new n6(t))(),n6=class{#e;constructor(e){this.#e=e}identifyAccount=async(e,r,n)=>{let o=!!r.addresses.find(p=>z.isSolanaNetworkID(p.networkID)),i=!!r.addresses.find(p=>z.isEthereumNetworkID(p.networkID)),s=!!r.addresses.find(p=>z.isBitcoinNetworkID(p.networkID)),a=!!r.addresses.find(p=>z.isSuiNetworkID(p.networkID)),c={hasSolanaAddress:o,hasEthereumAddress:i,hasBitcoinAddress:s,hasSuiAddress:a},u=n.enabledChainIDs.map(p=>z[p].name).join(", "),h=new Set,f=new Set;for(let p of e)switch(p.type){case"seed":case"seedless":h.add(p.seedIdentifier);break;case"readOnly":break;case"privateKey":case"ledger":case"seedVault":f.add(p.identifier);break;default:nt(p);break}switch(r.type){case"seed":case"seedless":this.#e.identify(r.identifier,{...c,accountType:r.type,rootID:r.seedIdentifier,rootIds:Array.from(h),accountIds:Array.from(f),isReadOnly:!1,enabledChains:u});break;case"readOnly":this.#e.identify(r.identifier,{...c,accountType:r.type,isReadOnly:!0,enabledChains:u});break;case"privateKey":case"ledger":case"seedVault":this.#e.identify(r.identifier,{...c,accountType:r.type,rootIds:Array.from(h),accountIds:Array.from(f),isReadOnly:!1,enabledChains:u});break;default:nt(r)}};onAppSessionStart=e=>{let r=new Map;for(let n of e){if(n.type==="readOnly")continue;let{addresses:o,identifier:i}=n;for(let s of o){let a=z.getChainName(s.networkID),c={type:n.type,accountId:i,id:s.address};if(!r.get(a))r.set(a,[c]);else{let u=r.get(a)??[];r.set(a,[...u,c])}}}this.#e.capture("appSessionStart",{data:{ids:Object.fromEntries(r)}})}};d();l();var Ic=async(t,e)=>{if(t.length===0)throw new Error(ul);let r=await NR(e),n=t.find(o=>o.identifier===r);return n||(await io(e,t[0].identifier),t[0])};var Uae=t=>{if(t){switch(t.type){case"seed":case"seedless":return t.seedIdentifier;case"privateKey":case"ledger":case"seedVault":case"readOnly":return}nt(t)}};function Vi({select:t,updateESPUserProperties:e}={}){let r=(0,oN.useMemo)(()=>Wi.isFeatureEnabled("frontend-enable-esp-user-properties-update"),[]),{isSuccess:n,data:o}=Rs(),i=v1(),s=i.enabled&&n,a=ip(),c=Se(),u=nN(),h=Ue.selectedAccount(o);return ze({queryKey:h,queryFn:async()=>{try{if(!o)throw new Error(A1);if(!i.enabled)throw new Error(ul);let p=await Ic(i.accounts,c);if(ee.addBreadcrumb("account",`Finished fetching selected account: ${p.identifier}`,"info"),r&&e){let m=p.addresses.map(g=>g.address)??[];Promise.all(m.map(g=>e(g,Hs.language)))}return Wi.setSubjectAttributes({rootID:Uae(p)}),a(),u.identifyAccount(i.accounts,p,o),p}catch(p){throw p instanceof Error&&ee.captureError(p,"account"),p}},enabled:s,select:t})}d();l();function Lae(){let t=Se(),e=we();return Ae({mutationFn:async({identifier:o,balance:i})=>(await FR(t,o,i),{identifier:o,balance:i}),onSuccess:({identifier:o,balance:i})=>{o&&e.invalidateQueries({queryKey:Ue.accountBalance(o)}),i&&e.invalidateQueries({queryKey:Ue.allAccountBalances()})}})}d();l();var iN=j(Vt());var Yh=()=>{let{data:t}=Vi();return(0,iN.useMemo)(()=>{let e=t?.addresses??[];return[...new Set(e.map(r=>r.networkID))]},[t])};d();l();d();l();function o6(){let t=Ue.developerMode(),e=Se();return ze({queryKey:t,queryFn:async()=>await e.get("developerMode")||rD})}var Mae=()=>{let{data:t}=o6();return!!t?.isDeveloperMode},Fae=()=>Yh().some(e=>z.isLocalNetworkID(e));d();l();var sN=j(Vt());var Hae=t=>{let e=(0,sN.useMemo)(()=>{if(t){if(Kae(t))return n=>n.address===t.address&&n.networkID===t.networkID;if(z.isNetworkID(t))return n=>n.networkID===t;if(wv(t))return n=>n.addressType===t;throw new Error(`Unrecognized filter type: ${t}`)}else return()=>!1},[t]);return Vi({select:n=>{let o=n.addresses.filter(e);if(o.length>1)throw new Error(`Multiple addresses match filter: ${t}`);return o[0]}})};function Kae(t){return typeof t=="object"&&"address"in t&&(typeof t.address=="string"||t.address===void 0)&&"networkID"in t}d();l();var aN=j(Vt()),Vae=({accountBalance:t,accountId:e,enabled:r,value:n,setAccountBalance:o})=>{(0,aN.useEffect)(()=>{if(r&&e&&n!==void 0&&n!==t){let i=Date.now();o({identifier:e,balance:{timestamp:i,value:n}})}},[t,e,r,n,o])};d();l();d();l();var kn=j(Vt());function qae(t){let e,r=new Set,n=(u,h)=>{let f=typeof u=="function"?u(e):u;if(f!==e){let p=e;e=h?f:Object.assign({},e,f),r.forEach(m=>m(e,p))}},o=()=>e,i=(u,h=o,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=h(e);function m(){let g=h(e);if(!f(p,g)){let x=p;u(p=g,x)}}return r.add(m),()=>r.delete(m)},c={setState:n,getState:o,subscribe:(u,h,f)=>h||f?i(u,h,f):(r.add(u),()=>r.delete(u)),destroy:()=>r.clear()};return e=t(n,o,c),c}var zae=typeof self>"u"||!self.navigator||/ServerSideRendering|^Deno\//.test(self.navigator.userAgent),cN=zae?kn.useEffect:kn.useLayoutEffect;function k1(t){let e=typeof t=="function"?qae(t):t,r=(n=e.getState,o=Object.is)=>{let[,i]=(0,kn.useReducer)(w=>w+1,0),s=e.getState(),a=(0,kn.useRef)(s),c=(0,kn.useRef)(n),u=(0,kn.useRef)(o),h=(0,kn.useRef)(!1),f=(0,kn.useRef)();f.current===void 0&&(f.current=n(s));let p,m=!1;(a.current!==s||c.current!==n||u.current!==o||h.current)&&(p=n(s),m=!o(f.current,p)),cN(()=>{m&&(f.current=p),a.current=s,c.current=n,u.current=o,h.current=!1});let g=(0,kn.useRef)(s);cN(()=>{let w=()=>{try{let k=e.getState(),A=c.current(k);u.current(f.current,A)||(a.current=k,f.current=A,i())}catch{h.current=!0,i()}},S=e.subscribe(w);return e.getState()!==g.current&&w(),S},[]);let x=m?p:f.current;return(0,kn.useDebugValue)(x),x};return Object.assign(r,e),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let n=[r,e];return{next(){let o=n.length<=0;return{value:n.shift(),done:o}}}},r}var uN={username:"",available:null,icon:null,secretIdentifiers:[],accountIdentifiersToSync:[],addresses:{}},fN=k1((t,e)=>({...uN,setUsername:r=>t({username:r}),setAvailable:r=>t({available:r}),setIcon:r=>t({icon:r}),addSecretIdentifier:r=>{let n=[...e().secretIdentifiers];n.includes(r)||n.push(r),t({secretIdentifiers:n})},removeSecretIdentifier:r=>{t({secretIdentifiers:e().secretIdentifiers.filter(n=>n!==r)})},addAccountIdentifierToSync:r=>{let n=[...e().accountIdentifiersToSync];n.includes(r)||n.push(r),t({accountIdentifiersToSync:n})},removeAccountIdentifierToSync:r=>{t({accountIdentifiersToSync:e().accountIdentifiersToSync.filter(n=>n!==r)})},clearAccountIdentifiersToSync:()=>t({accountIdentifiersToSync:[]}),setAccountIdentifiersToSync:r=>t({accountIdentifiersToSync:r}),addAddress:(r,n)=>{let o={...e().addresses};o[r]=n,t({addresses:o})},removeAddress:(r,n)=>{let o={...e().addresses};o[r]===n&&delete o[r],t({addresses:o})},clearAddresses:()=>{t({addresses:{}})},reset:()=>{t(uN)}}));d();l();d();l();var jae={editableAccountMetadata:void 0,setEditableAccountMetadata:()=>{}},T1=k1(t=>({...jae,setEditableAccountMetadata:e=>{t({editableAccountMetadata:e})}}));d();l();d();l();function Wae(t){let e=v1(),r=e.enabled&&t.length>0,n=Ue.accountIdentifier(t);return ze({enabled:r,queryKey:n,queryFn:async()=>{try{if(ee.addBreadcrumb("account",`Fetching Account: ${t}`,"info"),!e.enabled)throw new Error(ul);let{accounts:i}=e,s=i.find(a=>a.identifier===t);if(!s)throw new Error(qR(i.length,t));return s}catch(i){throw i instanceof Error&&ee.captureError(i,"account"),i}}})}d();l();d();l();function Gae(){let t=Se(),e=we(),r=St();return Ae({mutationFn:async({name:a,addresses:c,icon:u})=>{let h=await r.addReadonlyAccount(c),f={name:a,icon:u};return await Vu(t,h.identifier,f),await io(t,h.identifier),h},onSettled:async()=>{await ht(e)},onSuccess:a=>{e.setQueryData(Ue.selectedAccountIdentifier(),a.identifier)},onError:a=>ee.captureError(a,"account")})}d();l();function $ae(){let{t}=Gi(),e=Se(),r=we(),n=ut(),{fetchAllAccounts:o,addAccountForSeed:i,addAccountForSeedless:s,fetchAllSeedlessMetas:a}=St();return Ae({mutationFn:async({name:p,icon:m,seedIdentifier:g})=>{ee.addBreadcrumb("account",`Adding new account for s**d: ${g}`,"info");let w=(await a()).find(k=>k.identifier===g),S=w?await s(g):await i(g);return await Vu(e,S.identifier,{name:p||t("onboardingImportAccountsAccountName",{walletIndex:(await o()).length}),icon:m}),await io(e,S.identifier),w&&n.uploadSyncedAccount(S.identifier),S},onSettled:async()=>{await ht(r)},onSuccess:p=>{r.setQueryData(Ue.selectedAccountIdentifier(),p.identifier)},onError:p=>ee.captureError(p,"account")})}d();l();d();l();var Qae=async t=>[...(await t.fetchAllAccounts()).reduce((o,i)=>{switch(i.type){case"seed":case"seedless":{o.add(i.seedIdentifier);break}case"privateKey":{o.add(i.privateKeyIdentifier);break}case"ledger":case"seedVault":case"readOnly":break;default:nt(i);break}return o},new Set)];d();l();function Jh(t){let e=St(),r=Ue.allSeeds(t);return ze({queryKey:r,queryFn:async()=>{try{let o;switch(t){case"all":{let i=await e.fetchAllSeedMetas();o=[...await e.fetchAllSeedlessMetas(),...i];break}case"local-only":{o=[...await e.fetchAllSeedMetas()];break}case"recoverable-only":{o=[...await e.fetchAllSeedlessMetas()];break}}return o}catch(o){throw o instanceof Error&&ee.captureError(o,"account"),o}}})}d();l();d();l();function Yae(){let t=Se(),e=we(),r=St();return Ae({mutationFn:async({chainType:s,privateKey:a,name:c,icon:u})=>{ee.addBreadcrumb("account","Importing Private Key Account... \u23F3","info");let h=await r.importPrivateKeyAccount(s,a),f={name:c,icon:u};return await Vu(t,h.identifier,f),await io(t,h.identifier),ee.addBreadcrumb("account",`Imported Private Key Account \u2705: ${h.identifier}`,"info"),h},onSettled:async()=>{await ht(e)},onSuccess:s=>{e.setQueryData(Ue.selectedAccountIdentifier(),s.identifier)}})}d();l();d();l();function Jae(){let t=Ue.selectedNetworkSetting(),e=Se();return ze({queryKey:t,queryFn:()=>fl(e)})}d();l();function Xae(){let t=Se(),e=En(),r=St(),n=we(),o=ut();return Ae({mutationFn:async({identifier:a})=>{ee.addBreadcrumb("account",`Removing Account... \u23F3: ${a}`,"info"),await Promise.all([r.removeAccount(a),x1(t,a)]),await Ic(await r.fetchAllAccounts(),t),e.capture("removeAccount"),o.deleteSyncedAccount(a),ee.addBreadcrumb("account",`Removed Account \u2705: ${a}`,"info")},onSuccess:async()=>{await ht(n)}})}d();l();function Zae(){let t=Se(),e=En(),r=we(),n=St();return Ae({mutationFn:async({seedIdentifier:a})=>{let c=await n.fetchAllAccounts(),u=[];for(let h of c)switch(h.type){case"privateKey":case"ledger":case"seedVault":case"readOnly":continue;case"seed":case"seedless":h.seedIdentifier===a&&u.push(h.identifier);break;default:nt(h)}for(let h of u)await Promise.all([n.removeAccount(h),x1(t,h)]);e.capture("removeSeed",{data:{numOfAccounts:u.length}})},onSuccess:()=>{ht(r)},onError:a=>{ee.captureError(a,"account")}})}d();l();function ece(){let t=Se(),e=we(),r=ut();return Ae({mutationFn:async({identifier:s,name:a})=>{ee.addBreadcrumb("account","Renaming Multichain Account","info"),await LR(t,s,a),r.uploadSyncedAccounts()},onSuccess:async()=>{await ht(e)},onError:s=>ee.captureError(s,"account")})}d();l();function tce(){let t=we(),e=St();return Ae({mutationFn:async({identifier:o,toIndex:i})=>{await e.reorderAccount(o,i)},onSuccess:()=>{ht(t)}})}d();l();function rce(){let t=Ue.selectedAccountIdentifier(),e=Se(),r=St();return ze({queryKey:t,queryFn:async()=>{try{let o=await r.fetchAllAccounts(),s=(await Ic(o,e)).identifier;if(!s)throw new Error("Unable to resolve selected account identifier => no available accounts or identifier!");return s}catch(o){throw o instanceof Error&&ee.captureError(o,"account"),o}}})}d();l();function nce(){let t=Se(),e=we();return Ae({mutationFn:async({developerMode:o})=>{e.setQueryData(Ue.developerMode(),o),await t.set("developerMode",o)},onSuccess:()=>{ht(e)}})}d();l();function oce(){let t=Se(),e=we(),r=ut();return Ae({mutationFn:async({identifier:i,icon:s})=>{ee.addBreadcrumb("account","Setting Multichain Account Icon","info"),await MR(t,i,s),r.uploadSyncedAccounts()},onSuccess:async()=>{await ht(e)}})}d();l();function ice(){let t=Se(),e=we();return Ae({mutationFn:async({networkSetting:o})=>{e.setQueryData(Ue.selectedNetworkSetting(),o),await t.set("networkSetting",o)},onSuccess:()=>{ht(e)}})}d();l();function sce(){let t=Se(),e=En(),r=we();return Ae({mutationFn:async({identifier:s})=>(await io(t,s),e.capture("changeAccount",{data:{identifier:s}}),s),onSuccess:s=>{E1(r),r.setQueryData(Ue.selectedAccountIdentifier(),s)},onError:s=>ee.captureError(s,"account")})}d();l();var ace=()=>{let t=we(),e=ut(),r=Cs(),n=Ue.syncUserAccounts();return ze({enabled:r,queryKey:n,queryFn:async()=>{let i=!1;try{i=await e.downloadSyncedAccounts()}catch{return!1}return i&&await ht(t),i},gcTime:1/0,staleTime:1/0})};d();l();var dN=j(Vt());var cce=()=>{let{data:t,isFetching:e}=Qh(),{data:r,isFetching:n}=Vi(),o=Yh();return(0,dN.useMemo)(()=>({data:{"All Accounts":t,"Selected Account":r??null,"Selected Networks":o.map(i=>z.getNetworkName(i))},isFetching:e||n}),[t,e,n,r,o])};d();l();var lN=j(Vt()),uce=(t=[])=>{let e=il();return(0,lN.useMemo)(()=>t.filter(r=>{let n=z.getParentChain(r.networkID);return n?e.includes(n):!1}),[t,e])};d();l();var LN=j(nU()),U1=j(Vt());d();l();var Nt=j(Vt(),1),tp=t=>t.type==="checkbox",ll=t=>t instanceof Date,Fn=t=>t==null,vN=t=>typeof t=="object",Rr=t=>!Fn(t)&&!Array.isArray(t)&&vN(t)&&!ll(t),EN=t=>Rr(t)&&t.target?tp(t.target)?t.target.checked:t.target.value:t,fce=t=>t.substring(0,t.search(/.\d/))||t,IN=(t,e)=>[...t].some(r=>fce(e)===r),D1=t=>t.filter(Boolean),ir=t=>t===void 0,pe=(t,e,r)=>{if(!e||!Rr(t))return r;let n=D1(e.split(/[,[\].]+?/)).reduce((o,i)=>Fn(o)?o:o[i],t);return ir(n)||n===t?ir(t[e])?r:t[e]:n},c6={BLUR:"blur",CHANGE:"change"},ii={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ns={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},d6=(t,e)=>{let r=Object.assign({},t);return delete r[e],r},dce=Nt.default.createContext(null),l6=()=>Nt.default.useContext(dce);var kN=(t,e,r,n=!0)=>{function o(s){return()=>{if(s in t)return e[s]!==ii.all&&(e[s]=!n||ii.all),r&&(r[s]=!0),t[s]}}let i={};for(let s in t)Object.defineProperty(i,s,{get:o(s)});return i},so=t=>Rr(t)&&!Object.keys(t).length,TN=(t,e,r)=>{let n=d6(t,"name");return so(n)||Object.keys(n).length>=Object.keys(e).length||Object.keys(n).find(o=>e[o]===(!r||ii.all))},_1=t=>Array.isArray(t)?t:[t],_N=(t,e,r)=>r&&e?t===e:!t||!e||t===e||_1(t).some(n=>n&&(n.startsWith(e)||e.startsWith(n)));function h6(t){let e=Nt.default.useRef(t);e.current=t,Nt.default.useEffect(()=>{let r=o=>{o&&o.unsubscribe()},n=!t.disabled&&e.current.subject.subscribe({next:e.current.callback});return()=>r(n)},[t.disabled])}function lce(t){let e=l6(),{control:r=e.control,disabled:n,name:o,exact:i}=t||{},[s,a]=Nt.default.useState(r._formState),c=Nt.default.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=Nt.default.useRef(o),h=Nt.default.useRef(!0);u.current=o;let f=Nt.default.useCallback(p=>h.current&&_N(u.current,p.name,i)&&TN(p,c.current)&&a(Object.assign(Object.assign({},r._formState),p)),[r,i]);return h6({disabled:n,callback:f,subject:r._subjects.state}),Nt.default.useEffect(()=>()=>{h.current=!1},[]),kN(s,r._proxyFormState,c.current,!1)}var qi=t=>typeof t=="string",PN=(t,e,r,n)=>{let o=Array.isArray(t);return qi(t)?(n&&e.watch.add(t),pe(r,t)):o?t.map(i=>(n&&e.watch.add(i),pe(r,i))):(n&&(e.watchAll=!0),r)},R1=t=>typeof t=="function",p6=t=>{for(let e in t)if(R1(t[e]))return!0;return!1};function hce(t){let e=l6(),{control:r=e.control,name:n,defaultValue:o,disabled:i,exact:s}=t||{},a=Nt.default.useRef(n);a.current=n;let c=Nt.default.useCallback(f=>{if(_N(a.current,f.name,s)){let p=PN(a.current,r._names,f.values||r._formValues);h(ir(a.current)||Rr(p)&&!p6(p)?Object.assign({},p):Array.isArray(p)?[...p]:ir(p)?o:p)}},[r,s,o]);h6({disabled:i,subject:r._subjects.watch,callback:c});let[u,h]=Nt.default.useState(ir(o)?r._getWatch(n):o);return Nt.default.useEffect(()=>{r._removeUnmounted()}),u}function pce(t){let e=l6(),{name:r,control:n=e.control,shouldUnregister:o}=t,i=IN(n._names.array,r),s=hce({control:n,name:r,defaultValue:pe(n._formValues,r,pe(n._defaultValues,r,t.defaultValue)),exact:!i}),a=lce({control:n,name:r}),c=Nt.default.useRef(n.register(r,Object.assign(Object.assign({},t.rules),{value:s})));return Nt.default.useEffect(()=>{let u=(h,f)=>{let p=pe(n._fields,h);p&&(p._f.mount=f)};return u(r,!0),()=>{let h=n._options.shouldUnregister||o;i?h&&n._stateFlags.action:h?n.unregister(r):u(r,!1)}},[r,n,i,o]),{field:{name:r,value:s,onChange:Nt.default.useCallback(u=>{c.current.onChange({target:{value:EN(u),name:r},type:c6.CHANGE})},[r]),onBlur:Nt.default.useCallback(()=>{c.current.onBlur({target:{value:pe(n._formValues,r),name:r},type:c6.BLUR})},[r,n]),ref:Nt.default.useCallback(u=>{let h=pe(n._fields,r);u&&h&&u.focus&&(h._f.ref={focus:()=>u.focus(),setCustomValidity:f=>u.setCustomValidity(f),reportValidity:()=>u.reportValidity()})},[r,n])},formState:a,fieldState:{invalid:!!pe(a.errors,r),isDirty:!!pe(a.dirtyFields,r),isTouched:!!pe(a.touchedFields,r),error:pe(a.errors,r)}}}var BN=t=>t.render(pce(t)),yce=(t,e,r,n,o)=>e?Object.assign(Object.assign({},r[t]),{types:Object.assign(Object.assign({},r[t]&&r[t].types?r[t].types:{}),{[n]:o||!0})}):{},y6=t=>/^\w*$/.test(t),CN=t=>D1(t.replace(/["|']|\]/g,"").split(/\.|\[/));function pr(t,e,r){let n=-1,o=y6(e)?[e]:CN(e),i=o.length,s=i-1;for(;++n<i;){let a=o[n],c=r;if(n!==s){let u=t[a];c=Rr(u)||Array.isArray(u)?u:isNaN(+o[n+1])?{}:[]}t[a]=c,t=t[a]}return t}var u6=(t,e,r)=>{for(let n of r||Object.keys(t)){let o=pe(t,n);if(o){let i=o._f,s=d6(o,"_f");if(i&&e(i.name)){if(i.ref.focus&&ir(i.ref.focus()))break;if(i.refs){i.refs[0].focus();break}}else Rr(s)&&u6(s,e)}}};var hN=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));function Zh(t){let e,r=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(r||Rr(t)){e=r?[]:{};for(let n in t){if(R1(t[n])){e=t;break}e[n]=Zh(t[n])}}else return t;return e}function i6(){let t=[];return{get observers(){return t},next:o=>{for(let i of t)i.next(o)},subscribe:o=>(t.push(o),{unsubscribe:()=>{t=t.filter(i=>i!==o)}}),unsubscribe:()=>{t=[]}}}var B1=t=>Fn(t)||!vN(t);function hl(t,e){if(B1(t)||B1(e))return t===e;if(ll(t)&&ll(e))return t.getTime()===e.getTime();let r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let o of r){let i=t[o];if(!n.includes(o))return!1;if(o!=="ref"){let s=e[o];if(ll(i)&&ll(s)||Rr(i)&&Rr(s)||Array.isArray(i)&&Array.isArray(s)?!hl(i,s):i!==s)return!1}}return!0}var pN=t=>({isOnSubmit:!t||t===ii.onSubmit,isOnBlur:t===ii.onBlur,isOnChange:t===ii.onChange,isOnAll:t===ii.all,isOnTouch:t===ii.onTouched}),ep=t=>typeof t=="boolean",m6=t=>t.type==="file",f6=t=>t instanceof HTMLElement,ON=t=>t.type==="select-multiple",g6=t=>t.type==="radio",mce=t=>g6(t)||tp(t),yN=typeof self<"u"&&typeof self.HTMLElement<"u"&&typeof document<"u",s6=t=>f6(t)&&t.isConnected;function gce(t,e){let r=e.slice(0,-1).length,n=0;for(;n<r;)t=ir(t)?n++:t[e[n++]];return t}function Tn(t,e){let r=y6(e)?[e]:CN(e),n=r.length==1?t:gce(t,r),o=r[r.length-1],i;n&&delete n[o];for(let s=0;s<r.slice(0,-1).length;s++){let a=-1,c,u=r.slice(0,-(s+1)),h=u.length-1;for(s>0&&(i=t);++a<u.length;){let f=u[a];c=c?c[f]:t[f],h===a&&(Rr(c)&&so(c)||Array.isArray(c)&&!c.filter(p=>Rr(p)&&!so(p)||ep(p)).length)&&(i?delete i[f]:delete t[f]),i=c}}return t}function C1(t,e={}){let r=Array.isArray(t);if(Rr(t)||r)for(let n in t)Array.isArray(t[n])||Rr(t[n])&&!p6(t[n])?(e[n]=Array.isArray(t[n])?[]:{},C1(t[n],e[n])):Fn(t[n])||(e[n]=!0);return e}function DN(t,e,r){let n=Array.isArray(t);if(Rr(t)||n)for(let o in t)Array.isArray(t[o])||Rr(t[o])&&!p6(t[o])?ir(e)||B1(r[o])?r[o]=Array.isArray(t[o])?C1(t[o],[]):Object.assign({},C1(t[o])):DN(t[o],Fn(e)?{}:e[o],r[o]):r[o]=!hl(t[o],e[o]);return r}var mN=(t,e)=>DN(t,e,C1(e)),gN={value:!1,isValid:!1},bN={value:!0,isValid:!0},RN=t=>{if(Array.isArray(t)){if(t.length>1){let e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ir(t[0].attributes.value)?ir(t[0].value)||t[0].value===""?bN:{value:t[0].value,isValid:!0}:bN:gN}return gN},NN=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ir(t)?t:e?t===""?NaN:+t:r&&qi(t)?new Date(t):n?n(t):t,xN={isValid:!1,value:null},UN=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,xN):xN;function a6(t){let e=t.ref;if(!(t.refs?t.refs.every(r=>r.disabled):e.disabled))return m6(e)?e.files:g6(e)?UN(t.refs).value:ON(e)?[...e.selectedOptions].map(({value:r})=>r):tp(e)?RN(t.refs).value:NN(ir(e.value)?t.ref.value:e.value,t)}var bce=(t,e,r,n)=>{let o={};for(let i of t){let s=pe(e,i);s&&pr(o,i,s._f)}return{criteriaMode:r,names:[...t],fields:o,shouldUseNativeValidation:n}},O1=t=>t instanceof RegExp,Xh=t=>ir(t)?void 0:O1(t)?t.source:Rr(t)?O1(t.value)?t.value.source:t.value:t,xce=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function wN(t,e,r){let n=pe(t,r);if(n||y6(r))return{error:n,name:r};let o=r.split(".");for(;o.length;){let i=o.join("."),s=pe(e,i),a=pe(t,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(a&&a.type)return{name:i,error:a};o.pop()}return{name:r}}var wce=(t,e,r,n,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(e||t):(r?n.isOnBlur:o.isOnBlur)?!t:(r?n.isOnChange:o.isOnChange)?t:!0,Ace=(t,e)=>!D1(pe(t,e)).length&&Tn(t,e),P1=t=>qi(t)||Nt.default.isValidElement(t);function AN(t,e,r="validate"){if(P1(t)||Array.isArray(t)&&t.every(P1)||ep(t)&&!t)return{type:r,message:P1(t)?t:"",ref:e}}var dl=t=>Rr(t)&&!O1(t)?t:{value:t,message:""},SN=async(t,e,r,n)=>{let{ref:o,refs:i,required:s,maxLength:a,minLength:c,min:u,max:h,pattern:f,validate:p,name:m,valueAsNumber:g,mount:x,disabled:w}=t._f;if(!x||w)return{};let S=i?i[0]:o,k=re=>{n&&S.reportValidity&&(S.setCustomValidity(ep(re)?"":re||" "),S.reportValidity())},A={},T=g6(o),C=tp(o),W=T||C,oe=(g||m6(o))&&!o.value||e===""||Array.isArray(e)&&!e.length,Y=yce.bind(null,m,r,A),G=(re,Z,O,D=Ns.maxLength,N=Ns.minLength)=>{let Q=re?Z:O;A[m]=Object.assign({type:re?D:N,message:Q,ref:o},Y(re?D:N,Q))};if(s&&(!W&&(oe||Fn(e))||ep(e)&&!e||C&&!RN(i).isValid||T&&!UN(i).isValid)){let{value:re,message:Z}=P1(s)?{value:!!s,message:s}:dl(s);if(re&&(A[m]=Object.assign({type:Ns.required,message:Z,ref:S},Y(Ns.required,Z)),!r))return k(Z),A}if(!oe&&(!Fn(u)||!Fn(h))){let re,Z,O=dl(h),D=dl(u);if(isNaN(e)){let N=o.valueAsDate||new Date(e);qi(O.value)&&(re=N>new Date(O.value)),qi(D.value)&&(Z=N<new Date(D.value))}else{let N=o.valueAsNumber||parseFloat(e);Fn(O.value)||(re=N>O.value),Fn(D.value)||(Z=N<D.value)}if((re||Z)&&(G(!!re,O.message,D.message,Ns.max,Ns.min),!r))return k(A[m].message),A}if((a||c)&&!oe&&qi(e)){let re=dl(a),Z=dl(c),O=!Fn(re.value)&&e.length>re.value,D=!Fn(Z.value)&&e.length<Z.value;if((O||D)&&(G(O,re.message,Z.message),!r))return k(A[m].message),A}if(f&&!oe&&qi(e)){let{value:re,message:Z}=dl(f);if(O1(re)&&!e.match(re)&&(A[m]=Object.assign({type:Ns.pattern,message:Z,ref:o},Y(Ns.pattern,Z)),!r))return k(Z),A}if(p){if(R1(p)){let re=await p(e),Z=AN(re,S);if(Z&&(A[m]=Object.assign(Object.assign({},Z),Y(Ns.validate,Z.message)),!r))return k(Z.message),A}else if(Rr(p)){let re={};for(let Z in p){if(!so(re)&&!r)break;let O=AN(await p[Z](e),S,Z);O&&(re=Object.assign(Object.assign({},O),Y(Z,O.message)),k(O.message),r&&(A[m]=re))}if(!so(re)&&(A[m]=Object.assign({ref:S},re),!r))return A}}return k(!0),A},Sce={mode:ii.onSubmit,reValidateMode:ii.onChange,shouldFocusError:!0};function vce(t={}){let e=Object.assign(Object.assign({},Sce),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},n={},o=e.defaultValues||{},i=e.shouldUnregister?{}:Zh(o),s={action:!1,mount:!1,watch:!1},a={mount:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0,h={},f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={watch:i6(),array:i6(),state:i6()},m=pN(e.mode),g=pN(e.reValidateMode),x=e.criteriaMode===ii.all,w=(_,F)=>(...V)=>{clearTimeout(u),u=self.setTimeout(()=>_(...V),F)},S=async _=>{let F=!1;return f.isValid&&(F=e.resolver?so((await oe()).errors):await G(n,!0),!_&&F!==r.isValid&&(r.isValid=F,p.state.next({isValid:F}))),F},k=(_,F,V,de=[],ge=!0,ie=!0)=>{if(s.action=!0,ie&&Array.isArray(pe(n,_))){let xe=F(pe(n,_),V.argA,V.argB);ge&&pr(n,_,xe)}if(f.errors&&ie&&Array.isArray(pe(r.errors,_))){let xe=F(pe(r.errors,_),V.argA,V.argB);ge&&pr(r.errors,_,xe),Ace(r.errors,_)}if(f.touchedFields&&Array.isArray(pe(r.touchedFields,_))){let xe=F(pe(r.touchedFields,_),V.argA,V.argB);ge&&pr(r.touchedFields,_,xe)}f.dirtyFields&&(r.dirtyFields=mN(o,i)),p.state.next({isDirty:Z(_,de),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})},A=(_,F)=>(pr(r.errors,_,F),p.state.next({errors:r.errors})),T=(_,F,V,de)=>{let ge=pe(n,_);if(ge){let ie=pe(i,_,ir(V)?pe(o,_):V);ir(ie)||de&&de.defaultChecked||F?pr(i,_,F?ie:a6(ge._f)):N(_,ie),s.mount&&S()}},C=(_,F,V,de,ge)=>{let ie=!1,xe={name:_},Et=pe(r.touchedFields,_);if(f.isDirty){let Us=r.isDirty;r.isDirty=xe.isDirty=Z(),ie=Us!==xe.isDirty}if(f.dirtyFields&&(!V||de)){let Us=pe(r.dirtyFields,_);hl(pe(o,_),F)?Tn(r.dirtyFields,_):pr(r.dirtyFields,_,!0),xe.dirtyFields=r.dirtyFields,ie=ie||Us!==pe(r.dirtyFields,_)}return V&&!Et&&(pr(r.touchedFields,_,V),xe.touchedFields=r.touchedFields,ie=ie||f.touchedFields&&Et!==V),ie&&ge&&p.state.next(xe),ie?xe:{}},W=async(_,F,V,de,ge)=>{let ie=pe(r.errors,F),xe=f.isValid&&r.isValid!==V;if(t.delayError&&de?(c=c||w(A,t.delayError),c(F,de)):(clearTimeout(u),de?pr(r.errors,F,de):Tn(r.errors,F)),((de?!hl(ie,de):ie)||!so(ge)||xe)&&!_){let Et=Object.assign(Object.assign(Object.assign({},ge),xe?{isValid:V}:{}),{errors:r.errors,name:F});r=Object.assign(Object.assign({},r),Et),p.state.next(Et)}h[F]--,f.isValidating&&!h[F]&&(p.state.next({isValidating:!1}),h={})},oe=async _=>e.resolver?await e.resolver(Object.assign({},i),e.context,bce(_||a.mount,n,e.criteriaMode,e.shouldUseNativeValidation)):{},Y=async _=>{let{errors:F}=await oe();if(_)for(let V of _){let de=pe(F,V);de?pr(r.errors,V,de):Tn(r.errors,V)}else r.errors=F;return F},G=async(_,F,V={valid:!0})=>{for(let de in _){let ge=_[de];if(ge){let ie=ge._f,xe=d6(ge,"_f");if(ie){let Et=await SN(ge,pe(i,ie.name),x,e.shouldUseNativeValidation);if(Et[ie.name]&&(V.valid=!1,F))break;F||(Et[ie.name]?pr(r.errors,ie.name,Et[ie.name]):Tn(r.errors,ie.name))}xe&&await G(xe,F,V)}}return V.valid},re=()=>{for(let _ of a.unMount){let F=pe(n,_);F&&(F._f.refs?F._f.refs.every(V=>!s6(V)):!s6(F._f.ref))&&M(_)}a.unMount=new Set},Z=(_,F)=>(_&&F&&pr(i,_,F),!hl(B(),o)),O=(_,F,V)=>{let de=Object.assign({},s.mount?i:ir(F)?o:qi(_)?{[_]:F}:F);return PN(_,a,de,V)},D=_=>D1(pe(s.mount?i:o,_,t.shouldUnregister?pe(o,_,[]):[])),N=(_,F,V={})=>{let de=pe(n,_),ge=F;if(de){let ie=de._f;ie&&(!ie.disabled&&pr(i,_,NN(F,ie)),ge=yN&&f6(ie.ref)&&Fn(F)?"":F,ON(ie.ref)?[...ie.ref.options].forEach(xe=>xe.selected=ge.includes(xe.value)):ie.refs?tp(ie.ref)?ie.refs.length>1?ie.refs.forEach(xe=>xe.checked=Array.isArray(ge)?!!ge.find(Et=>Et===xe.value):ge===xe.value):ie.refs[0]&&(ie.refs[0].checked=!!ge):ie.refs.forEach(xe=>xe.checked=xe.value===ge):m6(ie.ref)||(ie.ref.value=ge,ie.ref.type||p.watch.next({name:_})))}(V.shouldDirty||V.shouldTouch)&&C(_,ge,V.shouldTouch,V.shouldDirty,!0),V.shouldValidate&&Ie(_)},Q=(_,F,V)=>{for(let de in F){let ge=F[de],ie=`${_}.${de}`,xe=pe(n,ie);(a.array.has(_)||!B1(ge)||xe&&!xe._f)&&!ll(ge)?Q(ie,ge,V):N(ie,ge,V)}},fe=(_,F,V={})=>{let de=pe(n,_),ge=a.array.has(_);pr(i,_,F),ge?(p.array.next({name:_,values:i}),(f.isDirty||f.dirtyFields)&&V.shouldDirty&&(r.dirtyFields=mN(o,i),p.state.next({name:_,dirtyFields:r.dirtyFields,isDirty:Z(_,F)}))):de&&!de._f&&!Fn(F)?Q(_,F,V):N(_,F,V),hN(_,a)&&p.state.next({}),p.watch.next({name:_})},ae=async _=>{let F=_.target,V=F.name,de=pe(n,V);if(de){let ge,ie,xe=F.type?a6(de._f):EN(_),Et=_.type===c6.BLUR,Us=!xce(de._f)&&!e.resolver&&!pe(r.errors,V)&&!de._f.deps||wce(Et,pe(r.touchedFields,V),r.isSubmitted,g,m),rp=hN(V,a,Et);pr(i,V,xe),Et?de._f.onBlur&&de._f.onBlur(_):de._f.onChange&&de._f.onChange(_);let L1=C(V,xe,Et,!1),JN=!so(L1)||rp;if(!Et&&p.watch.next({name:V,type:_.type}),Us)return JN&&p.state.next(Object.assign({name:V},rp?{}:L1));if(!Et&&rp&&p.state.next({}),h[V]=(h[V],1),f.isValidating&&p.state.next({isValidating:!0}),e.resolver){let{errors:x6}=await oe([V]),XN=wN(r.errors,n,V),w6=wN(x6,n,XN.name||V);ge=w6.error,V=w6.name,ie=so(x6)}else ge=(await SN(de,pe(i,V),x,e.shouldUseNativeValidation))[V],ie=await S(!0);de._f.deps&&Ie(de._f.deps),W(!1,V,ie,ge,L1)}},Ie=async(_,F={})=>{let V,de,ge=_1(_);if(p.state.next({isValidating:!0}),e.resolver){let ie=await Y(ir(_)?_:ge);V=so(ie),de=_?!ge.some(xe=>pe(ie,xe)):V}else _?(de=(await Promise.all(ge.map(async ie=>{let xe=pe(n,ie);return await G(xe&&xe._f?{[ie]:xe}:xe)}))).every(Boolean),!(!de&&!r.isValid)&&S()):de=V=await G(n);return p.state.next(Object.assign(Object.assign(Object.assign({},!qi(_)||f.isValid&&V!==r.isValid?{}:{name:_}),e.resolver?{isValid:V}:{}),{errors:r.errors,isValidating:!1})),F.shouldFocus&&!de&&u6(n,ie=>pe(r.errors,ie),_?ge:a.mount),de},B=_=>{let F=Object.assign(Object.assign({},o),s.mount?i:{});return ir(_)?F:qi(_)?pe(F,_):_.map(V=>pe(F,V))},R=_=>{_?_1(_).forEach(F=>Tn(r.errors,F)):r.errors={},p.state.next({errors:r.errors})},X=(_,F,V)=>{let de=(pe(n,_,{_f:{}})._f||{}).ref;pr(r.errors,_,Object.assign(Object.assign({},F),{ref:de})),p.state.next({name:_,errors:r.errors,isValid:!1}),V&&V.shouldFocus&&de&&de.focus&&de.focus()},L=(_,F)=>R1(_)?p.watch.subscribe({next:V=>_(O(void 0,F),V)}):O(_,F,!0),M=(_,F={})=>{for(let V of _?_1(_):a.mount)a.mount.delete(V),a.array.delete(V),pe(n,V)&&(F.keepValue||(Tn(n,V),Tn(i,V)),!F.keepError&&Tn(r.errors,V),!F.keepDirty&&Tn(r.dirtyFields,V),!F.keepTouched&&Tn(r.touchedFields,V),!e.shouldUnregister&&!F.keepDefaultValue&&Tn(o,V));p.watch.next({}),p.state.next(Object.assign(Object.assign({},r),F.keepDirty?{isDirty:Z()}:{})),!F.keepIsValid&&S()},ye=(_,F={})=>{let V=pe(n,_),de=ep(F.disabled);return pr(n,_,{_f:Object.assign(Object.assign(Object.assign({},V&&V._f?V._f:{ref:{name:_}}),{name:_,mount:!0}),F)}),a.mount.add(_),V?de&&pr(i,_,F.disabled?void 0:pe(i,_,a6(V._f))):T(_,!0,F.value),Object.assign(Object.assign(Object.assign({},de?{disabled:F.disabled}:{}),e.shouldUseNativeValidation?{required:!!F.required,min:Xh(F.min),max:Xh(F.max),minLength:Xh(F.minLength),maxLength:Xh(F.maxLength),pattern:Xh(F.pattern)}:{}),{name:_,onChange:ae,onBlur:ae,ref:ge=>{if(ge){ye(_,F),V=pe(n,_);let ie=ir(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,xe=mce(ie),Et=V._f.refs||[];if(xe?Et.find(Us=>Us===ie):ie===V._f.ref)return;pr(n,_,{_f:Object.assign(Object.assign({},V._f),xe?{refs:Et.concat(ie).filter(s6),ref:{type:ie.type,name:_}}:{ref:ie})}),T(_,!1,void 0,ie)}else V=pe(n,_,{}),V._f&&(V._f.mount=!1),(e.shouldUnregister||F.shouldUnregister)&&!(IN(a.array,_)&&s.action)&&a.unMount.add(_)}})};return{control:{register:ye,unregister:M,_executeSchema:oe,_getWatch:O,_getDirty:Z,_updateValid:S,_removeUnmounted:re,_updateFieldArray:k,_getFieldArray:D,_subjects:p,_proxyFormState:f,get _fields(){return n},set _fields(_){n=_},get _formValues(){return i},set _formValues(_){i=_},get _stateFlags(){return s},set _stateFlags(_){s=_},get _defaultValues(){return o},set _defaultValues(_){o=_},get _names(){return a},set _names(_){a=_},get _formState(){return r},set _formState(_){r=_},get _options(){return e},set _options(_){e=Object.assign(Object.assign({},e),_)}},trigger:Ie,register:ye,handleSubmit:(_,F)=>async V=>{V&&(V.preventDefault&&V.preventDefault(),V.persist&&V.persist());let de=!0,ge=e.shouldUnregister?Zh(i):Object.assign({},i);p.state.next({isSubmitting:!0});try{if(e.resolver){let{errors:ie,values:xe}=await oe();r.errors=ie,ge=xe}else await G(n);so(r.errors)&&Object.keys(r.errors).every(ie=>pe(ge,ie))?(p.state.next({errors:{},isSubmitting:!0}),await _(ge,V)):(F&&await F(r.errors,V),e.shouldFocusError&&u6(n,ie=>pe(r.errors,ie),a.mount))}catch(ie){throw de=!1,ie}finally{r.isSubmitted=!0,p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:so(r.errors)&&de,submitCount:r.submitCount+1,errors:r.errors})}},watch:L,setValue:fe,getValues:B,reset:(_,F={})=>{let V=_||o,de=Zh(V),ge=_&&!so(_)?de:o;if(F.keepDefaultValues||(o=V),!F.keepValues){if(yN&&ir(_))for(let ie of a.mount){let xe=pe(n,ie);if(xe&&xe._f){let Et=Array.isArray(xe._f.refs)?xe._f.refs[0]:xe._f.ref;try{f6(Et)&&Et.closest("form").reset();break}catch{}}}i=t.shouldUnregister?F.keepDefaultValues?Zh(o):{}:de,n={},p.array.next({values:ge}),p.watch.next({values:ge})}a={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!F.keepIsValid,s.watch=!!t.shouldUnregister,p.state.next({submitCount:F.keepSubmitCount?r.submitCount:0,isDirty:F.keepDirty?r.isDirty:F.keepDefaultValues?!hl(_,o):!1,isSubmitted:F.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:F.keepDirty?r.dirtyFields:F.keepDefaultValues&&_?Object.entries(_).reduce((ie,[xe,Et])=>Object.assign(Object.assign({},ie),{[xe]:Et!==pe(o,xe)}),{}):{},touchedFields:F.keepTouched?r.touchedFields:{},errors:F.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(_,F={})=>{pe(n,_)&&(ir(F.defaultValue)?fe(_,pe(o,_)):(fe(_,F.defaultValue),pr(o,_,F.defaultValue)),F.keepTouched||Tn(r.touchedFields,_),F.keepDirty||(Tn(r.dirtyFields,_),r.isDirty=F.defaultValue?Z(_,pe(o,_)):Z()),F.keepError||(Tn(r.errors,_),f.isValid&&S()),p.state.next(Object.assign({},r)))},clearErrors:R,unregister:M,setError:X,setFocus:_=>{let F=pe(n,_)._f;(F.ref.focus?F.ref:F.refs[0]).focus()}}}function N1(t={}){let e=Nt.default.useRef(),[r,n]=Nt.default.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});e.current?e.current.control._options=t:e.current=Object.assign(Object.assign({},vce(t)),{formState:r});let o=e.current.control,i=Nt.default.useCallback(s=>{TN(s,o._proxyFormState,!0)&&(o._formState=Object.assign(Object.assign({},o._formState),s),n(Object.assign({},o._formState)))},[o]);return h6({subject:o._subjects.state,callback:i}),Nt.default.useEffect(()=>{o._stateFlags.mount||(o._proxyFormState.isValid&&o._updateValid(),o._stateFlags.mount=!0),o._stateFlags.watch&&(o._stateFlags.watch=!1,o._subjects.state.next({})),o._removeUnmounted()}),e.current.formState=kN(r,o._proxyFormState),e.current}var Ece=({accounts:t,enabledAddressTypes:e,enableAddressTypes:r,editableAccountMetadata:n,addReadOnlyAccount:o,fetchDomainOwner:i})=>{let s=ut(),{t:a}=Gi(),c=En(),u=n?.networkID||ct.Solana.Mainnet,{formState:{errors:h},control:f,clearErrors:p,getValues:m,setValue:g,register:x,handleSubmit:w,watch:S,trigger:k}=N1({mode:"all"}),{networkID:A,name:T,address:C,resolvedAddress:W}=S(),oe={required:!0},Y=(0,U1.useMemo)(()=>({required:{value:!0,message:a("addAccountImportAccountPublicKeyRequired")},validate:(0,LN.default)(async Z=>{if(Z==="")return!0;if(!kx(Z,A||u))try{let Q=(await i(Z,A,s,c))?.owner;return Q?(g("resolvedAddress",Q),t.find(ae=>ae.addresses.map(Ie=>Ie.address).includes(Q))?a("addAccountImportAccountDuplicateAddress"):!0):a("addAccountImportAccountIncorrectFormat")}catch{return a("sendFormErrorInvalidDomain")}return g("resolvedAddress",Z),t.find(N=>N.addresses.map(Q=>Q.address).includes(Z))?a("addAccountImportAccountDuplicateAddress"):!0},500)}),[a,A,u,g,t,i,s,c]),G=T&&W&&!h.name&&!h.address,re=(0,U1.useCallback)(async({networkID:Z,name:O,resolvedAddress:D},N)=>{let Q=Kd(Z,D);e.includes(Q)||await r({addressTypes:[Q]});let fe={};fe[Q]=D,o({name:O,addresses:fe,icon:n?.icon}),N(),c.capture("addReadOnlyAccount",{data:{networkID:Z,chainType:Q}})},[o,n?.icon,r,e,c]);return{Controller:BN,canSubmit:G,control:f,errors:h,nameValidations:oe,address:C,addressValidations:Y,clearErrors:p,getValues:m,handleSubmit:w,onSubmit:re,register:x,setValue:g,trigger:k}};d();l();d();l();d();l();d();l();var b6=(t,e)=>{let r=Kd(t,e);switch(r){case"bip122_p2tr":case"bip122_p2wpkh":case"bip122_p2sh":case"bip122_p2pkh":return Ko.getDisplayName(r);default:return}};var MN={badge:(t,e,r)=>e.filter(Ph).length<=1?"":b6(t,r)??"",showAddressTypeExplainer:t=>t.filter(Ph).length>1,addressTooltipNetworkName:(t,e,r)=>r.filter(Ph).length>=2?b6(t,e)??z.getChainName(t):z.getChainName(t)};d();l();var FN={badge:(t,e)=>{switch(t){case"eip155:41454":case"eip155:10143":return z.getNetworkDefinition(t).shortName;case"eip155:143":return}},networkNameOverride:()=>"Monad"};var Ice=new Nh({solana:{},ethereum:{},polygon:{},base:{},monad:FN,bitcoin:MN,sui:{}}),HN=C3(Ice);function kce(t){let e=ER();return t.map(r=>HN.get(r.networkID).addressTooltipNetworkName?.(r.networkID,r.address,e)??z.getNetworkName(r.networkID))}d();l();d();l();d();l();d();l();var Tce=()=>{let{data:t}=Ds(),e=ip(),r=t?.username;return ze({queryKey:hr.userProfileAttributeEffect(r),queryFn:async()=>(r&&(Wi.setSubjectAttributes({username:r}),await e()),!0)}),r};d();l();var VN=j(Vt());d();l();var _ce=/^https?:\/\/.+$/,KN=t=>{if(!t?.icon)return{type:Wh.Default};let e=t.icon;return e.match(_ce)?{type:Wh.Image,imageUrl:e}:{type:Wh.Emoji,unicode:e}};var Pce=()=>{let{data:t}=Ds();return(0,VN.useMemo)(()=>KN(t),[t])};d();l();var qN=j(Vt());var Bce=()=>{let{data:t}=Ds();return(0,qN.useMemo)(()=>t?.privacyState??"public",[t?.privacyState])};d();l();var zN=j(Vt());var Cce=()=>{let{data:t}=Ds();return(0,zN.useMemo)(()=>t?.addresses,[t?.addresses])};d();l();d();l();var jN=j(Vt());var Oce=0,Dce=t=>t!==null?t.split("@")[Oce]:null,Rce=async(t,e)=>{let r=await t.getUser();if(!r)throw new Error("no user");let n=await e.getUserProfile();return{userID:r.userID,username:n?.username??null,email:Dce(r.email??null)}},Nce=()=>{let t=Mn(),e=ut(),{data:r={}}=w8();return(0,jN.useCallback)(async()=>{try{return{...await Rce(t,e),authFactors:r}}catch{return{userID:null,username:null,email:null,authFactors:r}}},[r,t,e])};var Lce=j(Vt());d();l();d();l();var WN=j(Vt());var Mce=t=>{let e=(0,WN.useCallback)(r=>r.addresses.find(n=>t===z.getChainID(n.networkID))?.networkID,[t]);return Vi({select:e})};d();l();var GN=j(Vt());var Fce=()=>{let{data:t=[]}=Jh("local-only"),{data:e=[]}=Jh("recoverable-only");return(0,GN.useMemo)(()=>t.length+e.length>1,[t.length,e.length])};d();l();var QN=j(Vt()),$N=/(\p{Emoji_Presentation}|\p{Extended_Pictographic})/giu,Hce=/[\p{Script=Latin}\p{Script=Cyrillic}]+/giu,Kce=(t="",e)=>(0,QN.useMemo)(()=>{let r=t.split(" "),n=r[0]??"",o=new RegExp($N).test(n),i=new RegExp(Hce).test(n),s=!o&&!i,a=e!==void 0?e+1:"";if(o){let c=Array.from(n);if(c.length>1){let u="";for(let h of c)if(h.match($N))u+=h;else break;n=u}}else i&&(n=O6(n).charAt(0));if(r.length>1){let c=Number(r[1]);if(Number.isInteger(c)&&c>=0)return s?a:`${n}${c}`}return s?a:n},[t,e]);d();l();var YN=j(Ls()),zi=j(Vt());var Vce=({importPrivateKeyCallback:t,existingAccounts:e,editableAccountMetadata:r,analytics:n})=>{let{t:o}=Gi(),{formState:{errors:i},control:s,clearErrors:a,getValues:c,setValue:u,register:h,handleSubmit:f,watch:p,trigger:m}=N1({mode:"all",defaultValues:{addressType:r?.addressType||"solana",networkID:r?.networkID||ct.Solana.Mainnet}}),[g,x]=(0,zi.useState)(null),w=T1(O=>O.setEditableAccountMetadata),{name:S}=p(),k=r?.secrets,A=c("networkID"),T=c("addressType"),C=c("privateKey"),W=(0,zi.useMemo)(()=>new eh,[]),oe={required:!0},Y=(0,zi.useMemo)(()=>({required:{value:!0,message:o("addAccountImportAccountPrivateKeyRequired")},onChange:O=>{O.target.value||x(null)},validate:O=>{try{let D=c("networkID"),N=c("addressType");if(/\s/.test(O)||!N)return o("addAccountImportAccountIncorrectFormat");let Q=z.getNetworkDefinition(D).value,fe=rh({privateKey:O,addressType:N,networkIDValue:Q});w({...r,secrets:fe});let ae=W.generateKeypairFromPrivateKey(fe,N);return e.find(B=>!B.isReadOnly&&(B.addresses.map(R=>R.address).includes(mx({publicKey:ae.publicKey,addressType:N,networkID:D}))||B.addresses.filter(R=>"publicKey"in R).map(R=>R.publicKey).find(R=>R?Buffer.from(R).equals(Buffer.from(ae.publicKey)):!1)))?o("addAccountImportAccountDuplicatePrivateKey"):!0}catch{return o("addAccountImportAccountIncorrectFormat")}}}),[o,W,e,r,w,c]);(0,zi.useEffect)(()=>{if(i.privateKey){x(null);return}if(C||k)try{let O=z.getNetworkDefinition(A).value,D=k||rh({privateKey:C,addressType:T,networkIDValue:O}),N=W.generateKeypairFromPrivateKey(D,T);if(!C){let Q="";switch(T){case"solana":{Q=YN.default.encode(N.privateKey);break}case"eip155":{Q="0x"+Buffer.from(N.privateKey).toString("hex");break}case"sui":{Q=R6(N.privateKey);break}}u("privateKey",Q)}x(mx({publicKey:N.publicKey,addressType:T,networkID:A}))}catch{x(null)}},[i.privateKey,T,W,C,k,u,A]);let G=(0,zi.useMemo)(()=>!!(S&&C&&!i.name&&!i.privateKey),[i.name,i.privateKey,S,C]),re=(0,zi.useCallback)(async({networkID:O,name:D,privateKey:N,addressType:Q})=>{let fe=z.getNetworkDefinition(O).value,ae=rh({privateKey:N,addressType:Q,networkIDValue:fe});await t({chainType:Q,name:D,icon:r?.icon,privateKey:ae}),n.capture("addPrivateKeyAccount",{data:{networkID:O,chainType:Q}})},[t,r?.icon,n]);return{formOnSubmitHandler:f(O=>re(O)),canSubmit:G,control:s,getValues:c,register:h,setValue:u,trigger:m,errors:i,clearErrors:a,nameValidations:oe,privateKey:C,privateKeyValidations:Y,addressPreview:g}};d();l();var qce=async(t,e,r)=>{let{enabledAddressTypes:n,enabledChainIDs:o,enabledMainnetOnlyNetworkIDs:i}=r,[s,a]=await Promise.all([e.get("developerMode"),fl(e)]),c=await t.fetchAllAccounts(),u=await Ic(c,e),h=await g1(e,u.identifier),f={name:h.name,icon:h.icon,identifier:u.identifier,addresses:S1(u,i,n,o,a??qd,s?.isDeveloperMode??!1)};return u.type==="seed"?{...f,type:"seed",seedIdentifier:u.seedIdentifier,isReadOnly:!1}:u.type==="seedless"?{...f,type:"seedless",seedIdentifier:u.seedIdentifier,isReadOnly:!1}:u.type==="readOnly"?{...f,type:"readOnly",isReadOnly:!0}:u.type==="privateKey"?{...f,privateKeyIdentifier:u.privateKeyIdentifier,type:"privateKey",isReadOnly:!1}:{...f,type:u.type,isReadOnly:!1}};d();l();export{w4 as a,S4 as b,Bl as c,vw as d,N4 as e,oI as f,ff as g,Fw as h,hI as i,Hw as j,Vw as k,mI as l,qw as m,jw as n,bI as o,wI as p,Yw as q,Hy as r,ek as s,rk as t,P2 as u,N5 as v,lo as w,B2 as x,If as y,C2 as z,O2 as A,q5 as B,z5 as C,j5 as D,W5 as E,$5 as F,Q5 as G,Y5 as H,J5 as I,Pq as J,On as K,Wn as L,V9e as M,UD as N,z9e as O,c8 as P,Qx as Q,LD as R,gt as S,Die as T,Rie as U,d8 as V,Nie as W,Df as X,jle as Y,Nk as Z,Jz as _,Zz as $,ej as aa,tj as ba,rj as ca,nj as da,gi as ea,Be as fa,Lk as ga,Z2 as ha,Ko as ia,yo as ja,Vk as ka,vm as la,D0 as ma,Wk as na,tA as oa,va as pa,pT as qa,gA as ra,xA as sa,AA as ta,vi as ua,CA as va,NA as wa,UA as xa,ume as ya,Pa as za,hS as Aa,ou as Ba,iu as Ca,Cr as Da,$t as Ea,Da as Fa,Eo as Ga,gS as Ha,E as Ia,ov as Ja,VP as Ka,yd as La,eh as Ma,bd as Na,Ov as Oa,aJ as Pa,rh as Qa,$v as Ra,d9 as Sa,uB as Ta,OE as Ua,$C as Va,p3 as Wa,mx as Xa,Ph as Ya,Xne as Za,m3 as _a,Fd as $a,wx as ab,yc as bb,Hd as cb,mc as db,gc as eb,I3 as fb,z as gb,_O as hb,ct as ib,ks as jb,vO as kb,Cu as lb,IO as mb,kO as nb,TO as ob,PO as pb,CO as qb,OO as rb,DO as sb,RO as tb,NO as ub,UO as vb,LO as wb,MO as xb,FO as yb,HO as zb,KO as Ab,kx as Bb,Kd as Cb,BO as Db,VO as Eb,qO as Fb,C3 as Gb,Nh as Hb,jO as Ib,doe as Jb,loe as Kb,hoe as Lb,poe as Mb,D3 as Nb,R3 as Ob,Ts as Pb,zPe as Qb,jPe as Rb,rD as Sb,qd as Tb,WPe as Ub,$Pe as Vb,QPe as Wb,YPe as Xb,b6 as Yb,HN as Zb,Ki as _b,YFe as $b,zR as ac,jR as bc,WR as cc,GR as dc,$R as ec,QR as fc,YR as gc,JR as hc,XR as ic,ZR as jc,eN as kc,tN as lc,rN as mc,A1 as nc,MFe as oc,FFe as pc,HFe as qc,KFe as rc,VFe as sc,dFe as tc,Qae as uc,Sse as vc,I8 as wc,Mu as xc,vse as yc,oi as zc,lR as Ac,hR as Bc,yR as Cc,mR as Dc,B8 as Ec,C8 as Fc,Dse as Gc,Gse as Hc,H3 as Ic,K3 as Jc,Aoe as Kc,jd as Lc,voe as Mc,Eoe as Nc,Ro as Oc,Jie as Pc,rse as Qc,fse as Rc,dse as Sc,woe as Tc,Mn as Uc,Ui as Vc,lse as Wc,w8 as Xc,Cs as Yc,hse as Zc,S8 as _c,Hh as $c,Os as ad,pse as bd,yse as cd,mse as dd,gse as ed,bse as fd,En as gd,Kh as hd,xse as id,ut as jd,$se as kd,Qse as ld,Ds as md,AR as nd,Xse as od,Zse as pd,eae as qd,tae as rd,rae as sd,aFe as td,HR as ud,r6 as vd,n6 as wd,Rs as xd,D8 as yd,nae as zd,oae as Ad,St as Bd,R8 as Cd,iae as Dd,sae as Ed,ER as Fd,il as Gd,VMe as Hd,qMe as Id,zMe as Jd,jMe as Kd,WMe as Ld,GMe as Md,vae as Nd,Eae as Od,Qh as Pd,Wae as Qd,ht as Rd,I1 as Sd,Gae as Td,$ae as Ud,Jh as Vd,Nae as Wd,o6 as Xd,Yae as Yd,Jae as Zd,Xae as _d,Zae as $d,ece as ae,tce as be,rce as ce,Vi as de,Lae as ee,nce as fe,oce as ge,ice as he,sce as ie,ace as je,Yh as ke,cce as le,uce as me,pce as ne,BN as oe,N1 as pe,Ece as qe,kce as re,Tce as se,Pce as te,Bce as ue,Cce as ve,Nce as we,Mae as xe,Fae as ye,Hae as ze,Mce as Ae,Vae as Be,Fce as Ce,k1 as De,T1 as Ee,fN as Fe,Kce as Ge,Vce as He,qce as Ie};
/*! Bundled license information:

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ed25519/lib/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@solana/buffer-layout/lib/Layout.js:
  (**
   * Support for translating between Uint8Array instances and JavaScript
   * native types.
   *
   * {@link module:Layout~Layout|Layout} is the basis of a class
   * hierarchy that associates property names with sequences of encoded
   * bytes.
   *
   * Layouts are supported for these scalar (numeric) types:
   * * {@link module:Layout~UInt|Unsigned integers in little-endian
   *   format} with {@link module:Layout.u8|8-bit}, {@link
   *   module:Layout.u16|16-bit}, {@link module:Layout.u24|24-bit},
   *   {@link module:Layout.u32|32-bit}, {@link
   *   module:Layout.u40|40-bit}, and {@link module:Layout.u48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~UIntBE|Unsigned integers in big-endian
   *   format} with {@link module:Layout.u16be|16-bit}, {@link
   *   module:Layout.u24be|24-bit}, {@link module:Layout.u32be|32-bit},
   *   {@link module:Layout.u40be|40-bit}, and {@link
   *   module:Layout.u48be|48-bit} representation ranges;
   * * {@link module:Layout~Int|Signed integers in little-endian
   *   format} with {@link module:Layout.s8|8-bit}, {@link
   *   module:Layout.s16|16-bit}, {@link module:Layout.s24|24-bit},
   *   {@link module:Layout.s32|32-bit}, {@link
   *   module:Layout.s40|40-bit}, and {@link module:Layout.s48|48-bit}
   *   representation ranges;
   * * {@link module:Layout~IntBE|Signed integers in big-endian format}
   *   with {@link module:Layout.s16be|16-bit}, {@link
   *   module:Layout.s24be|24-bit}, {@link module:Layout.s32be|32-bit},
   *   {@link module:Layout.s40be|40-bit}, and {@link
   *   module:Layout.s48be|48-bit} representation ranges;
   * * 64-bit integral values that decode to an exact (if magnitude is
   *   less than 2^53) or nearby integral Number in {@link
   *   module:Layout.nu64|unsigned little-endian}, {@link
   *   module:Layout.nu64be|unsigned big-endian}, {@link
   *   module:Layout.ns64|signed little-endian}, and {@link
   *   module:Layout.ns64be|unsigned big-endian} encodings;
   * * 32-bit floating point values with {@link
   *   module:Layout.f32|little-endian} and {@link
   *   module:Layout.f32be|big-endian} representations;
   * * 64-bit floating point values with {@link
   *   module:Layout.f64|little-endian} and {@link
   *   module:Layout.f64be|big-endian} representations;
   * * {@link module:Layout.const|Constants} that take no space in the
   *   encoded expression.
   *
   * and for these aggregate types:
   * * {@link module:Layout.seq|Sequence}s of instances of a {@link
   *   module:Layout~Layout|Layout}, with JavaScript representation as
   *   an Array and constant or data-dependent {@link
   *   module:Layout~Sequence#count|length};
   * * {@link module:Layout.struct|Structure}s that aggregate a
   *   heterogeneous sequence of {@link module:Layout~Layout|Layout}
   *   instances, with JavaScript representation as an Object;
   * * {@link module:Layout.union|Union}s that support multiple {@link
   *   module:Layout~VariantLayout|variant layouts} over a fixed
   *   (padded) or variable (not padded) span of bytes, using an
   *   unsigned integer at the start of the data or a separate {@link
   *   module:Layout.unionLayoutDiscriminator|layout element} to
   *   determine which layout to use when interpreting the buffer
   *   contents;
   * * {@link module:Layout.bits|BitStructure}s that contain a sequence
   *   of individual {@link
   *   module:Layout~BitStructure#addField|BitField}s packed into an 8,
   *   16, 24, or 32-bit unsigned integer starting at the least- or
   *   most-significant bit;
   * * {@link module:Layout.cstr|C strings} of varying length;
   * * {@link module:Layout.blob|Blobs} of fixed- or variable-{@link
   *   module:Layout~Blob#length|length} raw data.
   *
   * All {@link module:Layout~Layout|Layout} instances are immutable
   * after construction, to prevent internal state from becoming
   * inconsistent.
   *
   * @local Layout
   * @local ExternalLayout
   * @local GreedyCount
   * @local OffsetLayout
   * @local UInt
   * @local UIntBE
   * @local Int
   * @local IntBE
   * @local NearUInt64
   * @local NearUInt64BE
   * @local NearInt64
   * @local NearInt64BE
   * @local Float
   * @local FloatBE
   * @local Double
   * @local DoubleBE
   * @local Sequence
   * @local Structure
   * @local UnionDiscriminator
   * @local UnionLayoutDiscriminator
   * @local Union
   * @local VariantLayout
   * @local BitStructure
   * @local BitField
   * @local Boolean
   * @local Blob
   * @local CString
   * @local Constant
   * @local bindConstructorLayout
   * @module Layout
   * @license MIT
   * @author Peter A. Bigot
   * @see {@link https://github.com/pabigot/buffer-layout|buffer-layout on GitHub}
   *)

@babel/runtime/helpers/regeneratorRuntime.js:
  (*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE *)

@noble/secp256k1/lib/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/ed25519/lib/esm/index.js:
  (*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/secp256k1/lib/esm/index.js:
  (*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/bip39/esm/index.js:
  (*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=chunk-S6KJ2BHO.js.map
