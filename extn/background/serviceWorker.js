import{a as Os,b as Y,c as gp,d as a,e as qs,f as Hs,g as Ue,h as Fs,i as Qr,j as ge,k as Zt,l as yp,m as mr,n as Mr,o as xp,p as wp,q as Sp,s as en,u as vp}from"../chunk-Q7HXBC5W.js";import{c as Ap}from"../chunk-UW37RX5L.js";import{a as qn}from"../chunk-QO6WIP3B.js";import{a as bp}from"../chunk-ZON27MKP.js";import"../chunk-ECHGNC3N.js";import{a as On,b as cp,c as Ds,d as pp,e as dp,g as lp,k as up}from"../chunk-W27Z2YZM.js";import{a as zm,c as hp}from"../chunk-H3BJJAFC.js";import{c as mp}from"../chunk-3C6TN75L.js";import{j as Fc,lb as fp}from"../chunk-ZZPI23JA.js";import{a as Ct,b as Gt,d as ac}from"../chunk-UCBZOSRF.js";import"../chunk-ZSQU2ZM6.js";import"../chunk-2THQDEWP.js";import"../chunk-O5D25TI4.js";import"../chunk-PKAXVJFX.js";import{b as tn,c as Ws}from"../chunk-DUJHHCZR.js";import{a as ke,b as Ie}from"../chunk-YOIJCLV6.js";import{a as ap}from"../chunk-TBS5VNTB.js";import{a as bt}from"../chunk-BTKBODVJ.js";import"../chunk-EQXZ32NI.js";import"../chunk-GS2UJNU3.js";import{$ as Mn,Ca as ep,Fa as tp,Ga as rp,J as st,Ja as np,K as dt,L as zc,M as Fe,Ma as Dn,N as En,O as In,P as Kc,Q as Bt,R as $c,S as Gc,T as Lr,U as Yc,V as Cn,W as lt,X as Bn,Y as Zc,Z as Ln,_ as Ns,aa as Nn,ba as Pn,ca as Se,da as Zr,db as sp,ea as Un,f as Wc,fb as op,gb as ip,ha as Yt,j as Vc,k as jc,na as Xc,oa as Jc,qa as Qc,va as ut}from"../chunk-R5HJQXZQ.js";import{a as $m}from"../chunk-WFPABEAU.js";import{b as Ps,c as Us,e as Xr,f as Jr}from"../chunk-PPMPQKRK.js";import"../chunk-UDFQ3C42.js";import{A as Dc,B as ur,E as Oc,W as qc,h as Pc,o as Cr,q as Br,s as Ms,u as Uc}from"../chunk-P4LRI3S3.js";import{H as Mc,e as Cc,f as Ee,j as Bc,t as Lc}from"../chunk-GBKSQA4Y.js";import"../chunk-IBEI3NGL.js";import"../chunk-ALR5MBQI.js";import"../chunk-UFPGJN5T.js";import"../chunk-BFV33OZC.js";import"../chunk-MT5RYI7C.js";import"../chunk-EMR4O6UP.js";import{$b as Tc,Ab as Ac,Cb as vc,Eb as Ir,F as oc,Fb as Tn,G as ic,Ib as Rc,Ie as Hc,Ja as bc,K as $t,L as we,Nb as kc,S as uc,Tb as _c,db as _n,fa as Pe,gb as He,ia as wc,nb as Sc,ob as Bs,oc as Ec,r as jm,rc as Ic,v as _r,vd as Ls,wb as Er,wd as Nc,zb as Ze}from"../chunk-S6KJ2BHO.js";import{A as Is,B as Et,C as It,D as An,E as he,F as $e,G as wt,H as nc,I as sc,J as vr,K as Cs,L as kr,M as lr,O as Km,b as bn,p as ec,q as tc,u as Sn,v as rc,z as Es}from"../chunk-7ZZNCPHU.js";import{a as at}from"../chunk-MNQ7RLHG.js";import"../chunk-N7UFQNLW.js";import{D as lc,Ha as Qe,Ja as kn,_ as pt,m as Tt,n as ve,q as cc,u as pc,ua as Yr,v as dc,xa as de}from"../chunk-NMZ7IVPZ.js";import{K as fc,L as vn,M as Tr,O as gc,Q as yc,a as Kt,b as Rr,da as xc,ja as Rn,l as mc,u as hc}from"../chunk-H6ILHDLW.js";import{a as Te}from"../chunk-7X4NV6OJ.js";import"../chunk-UNDMYLJW.js";import{a as Gr,c as Qa,d as Ne,f as re,h as c,m as Buffer,n as p}from"../chunk-3KENBVE7.js";var Md=Qa((Kb,Ld)=>{"use strict";c();p();function yf(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),o=s.charCodeAt(0);if(t[o]!==255)throw new TypeError(s+" is ambiguous");t[o]=n}var i=e.length,l=e.charAt(0),u=Math.log(i)/Math.log(256),h=Math.log(256)/Math.log(i);function x(R){if(R instanceof Uint8Array||(ArrayBuffer.isView(R)?R=new Uint8Array(R.buffer,R.byteOffset,R.byteLength):Array.isArray(R)&&(R=Uint8Array.from(R))),!(R instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(R.length===0)return"";for(var w=0,S=0,y=0,v=R.length;y!==v&&R[y]===0;)y++,w++;for(var C=(v-y)*h+1>>>0,_=new Uint8Array(C);y!==v;){for(var I=R[y],P=0,M=C-1;(I!==0||P<S)&&M!==-1;M--,P++)I+=256*_[M]>>>0,_[M]=I%i>>>0,I=I/i>>>0;if(I!==0)throw new Error("Non-zero carry");S=P,y++}for(var Z=C-S;Z!==C&&_[Z]===0;)Z++;for(var z=l.repeat(w);Z<C;++Z)z+=e.charAt(_[Z]);return z}function g(R){if(typeof R!="string")throw new TypeError("Expected String");if(R.length===0)return new Uint8Array;for(var w=0,S=0,y=0;R[w]===l;)S++,w++;for(var v=(R.length-w)*u+1>>>0,C=new Uint8Array(v);R[w];){var _=t[R.charCodeAt(w)];if(_===255)return;for(var I=0,P=v-1;(_!==0||I<y)&&P!==-1;P--,I++)_+=i*C[P]>>>0,C[P]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");y=I,w++}for(var M=v-y;M!==v&&C[M]===0;)M++;for(var Z=new Uint8Array(S+(v-M)),z=S;M!==v;)Z[z++]=C[M++];return Z}function f(R){var w=g(R);if(w)return w;throw new Error("Non-base"+i+" character")}return{encode:x,decodeUnsafe:g,decode:f}}Ld.exports=yf});var Nr=Qa((Yb,Nd)=>{c();p();var xf=Md(),wf="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";Nd.exports=xf(wf)});c();p();c();p();c();p();c();p();c();p();c();p();var Rp=re(jm(),1),Hn=re(Te(),1),sh=re(ve(),1),js=re(Te(),1),kp=re(Te(),1),zs=re(Te(),1),Ks=re(Te(),1),Ge={SOLANA_MAINNET:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",SOLANA_DEVNET:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",SOLANA_TESTNET:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3",ETHEREUM_MAINNET:"eip155:1",ETHEREUM_SEPOLIA:"eip155:11155111",MONAD_DEVNET:"eip155:20143"},Xy={[Ge.SOLANA_MAINNET]:"Solana Mainnet",[Ge.SOLANA_DEVNET]:"Solana Devnet",[Ge.SOLANA_TESTNET]:"Solana Testnet",[Ge.ETHEREUM_MAINNET]:"Ethereum Mainnet",[Ge.ETHEREUM_SEPOLIA]:"Ethereum Sepolia",[Ge.MONAD_DEVNET]:"Monad Devnet"};var Jy=Object.freeze({});var Gm={name:"@dialectlabs/blinks-core",version:"0.18.1",license:"Apache-2.0",private:!1,sideEffects:!0,type:"module",repository:{type:"git",url:"https://github.com/dialectlabs/blinks"},scripts:{build:"tsup-node",dev:"tsup-node --watch"},main:"dist/index.cjs",module:"dist/index.js",types:"dist/index.d.ts",exports:{".":{import:"./dist/index.js",require:"./dist/index.cjs",types:"./dist/index.d.ts"}},files:["dist"],devDependencies:{"@solana/actions-spec":"~2.4.2","@types/react":"^18.3.3","@types/react-dom":"^18.3.0","@typescript-eslint/eslint-plugin":"^7.16.1","@typescript-eslint/parser":"^7.16.1",autoprefixer:"^10.4.19",eslint:"^8.57.0","eslint-config-prettier":"^9.1.0","eslint-plugin-react":"^7.34.4","eslint-plugin-react-hooks":"^4.6.2",postcss:"^8.4.39","postcss-prefix-selector":"^1.16.1",prettier:"^3.3.3","prettier-plugin-organize-imports":"^4.0.0","prettier-plugin-tailwindcss":"^0.6.5",tailwindcss:"^3.4.3",tsup:"^8.2.0",typescript:"^5.5.3"},peerDependencies:{react:">=18","@solana/web3.js":"^1.95.3"},dependencies:{nanoid:"^5.0.7"},peerDependenciesMeta:{"@solana/web3.js":{optional:!0}}},Ym=Gm,Qy=Ym.devDependencies["@solana/actions-spec"].replace(/[^\d.]/g,"");var Zm=[Ge.SOLANA_MAINNET,Ge.SOLANA_DEVNET];var e1=[Ge.SOLANA_MAINNET];var Xm="(?<domain>[^\\n]+?) wants you to sign a message with your account:\\n",Jm="(?<address>[^\\n]+)(?:\\n|$)",Qm="(?:\\n(?<statement>[\\S\\s]*?)(?:\\n|$))",eh="(?:\\nChain ID: (?<chainId>[^\\n]+))?",th="\\nNonce: (?<nonce>[^\\n]+)",rh="\\nIssued At: (?<issuedAt>[^\\n]+)",nh=`${eh}${th}${rh}`,t1=new RegExp(`^${Xm}${Jm}${Qm}${nh}\\n*$`);var r1=class Vs{constructor(t,r){if(this.adapter=r,!t)throw new Error("rpcUrl or connection is required");this.connection=typeof t=="string"?new Rp.Connection(t,"confirmed"):t}static CONFIRM_TIMEOUT_MS=6e4*1.2;static DEFAULT_METADATA={supportedBlockchainIds:Zm};connection;get metadata(){return this.adapter.metadata??Vs.DEFAULT_METADATA}signTransaction(t,r){return this.adapter.signTransaction(t,r)}confirmTransaction(t){return new Promise((r,n)=>{let s=Date.now(),o=async()=>{if(Date.now()-s>=Vs.CONFIRM_TIMEOUT_MS){n(new Error("Unable to confirm transaction: timeout reached"));return}try{let i=await this.connection.getSignatureStatus(t);if(i.value?.err){n(new Error("Transaction execution failed, check wallet for details"));return}if(i.value&&i.value.confirmations!==null){r();return}}catch(i){console.error("[@dialectlabs/blinks] Error confirming transaction",i)}setTimeout(o,3e3)};o()})}async signMessage(t,r){return this.adapter.signMessage(t,r)}async connect(t){try{return await this.adapter.connect(t)}catch{return null}}},n1=10*60*1e3;var lh=re(Te(),1);c();p();var uh=re(Te(),1);var Tp=re(ve(),1);var mh=re(Te(),1),hh=re(ve(),1);var fh=re(ve(),1),gh=re(ve(),1),Ep=re(ve(),1),Ip=re(ve(),1),Cp=re(ve(),1),g1=re(Te(),1),yh=re(ve(),1),y1=re(Te(),1),xh=re(ve(),1),x1=re(Te(),1),Bp=re(ve(),1),wh=re(Te(),1),$s=re(ve(),1);var Lp=re(ve(),1),Mp=re(ve(),1);var Gs=re(Te(),1);var bh=re(Te(),1),Sh=re(ve(),1),Np=re(ve(),1),Pp=re(ve(),1),rn=re(Te(),1),Up=re(ve(),1);var Ah=re(Te(),1),Dp=re(ve(),1),vh=re(ve(),1),Fn=re(Te(),1),Rh=re(ve(),1),kh=re(ve(),1),Wn=re(Te(),1),_h=re(ve(),1),Th=re(ve(),1);var Vn=re(Te(),1);var Eh=re(Te(),1),Op=re(ve(),1),qp=re(ve(),1),jn=re(Te(),1),Hp=re(ve(),1),Ys=re(Te(),1),Ih=re(ve(),1),Zs=re(Te(),1),Ch=re(ve(),1),zn=re(Te(),1),Bh=re(ve(),1),Xs=re(ve(),1);var Lh=re(Te(),1);var Fp=re(ve(),1),Mh=re(ve(),1);var Nh=re(Te(),1),Ph=re(ve(),1);var Uh=re(Te(),1);var Wp=re(Te(),1);var Dh=re(Te(),1),Vp=re(ve(),1),Oh=re(ve(),1);var Hh=re(zm(),1),Fh=re(ve(),1);c();p();c();p();c();p();c();p();c();p();c();p();var Wh=re(Tt());c();p();function eo(e,t){if(!e)return{hideProvidersArray:!1,showMetamaskExplainer:!1,dontOverrideWindowEthereum:!1};let r=t.find(n=>n.hostname.toLowerCase().trim()===e.toLowerCase().trim());return r?{hideProvidersArray:r.hideProvidersArray,showMetamaskExplainer:r.showMetamaskExplainer,dontOverrideWindowEthereum:r.dontOverrideWindowEthereum}:{hideProvidersArray:!1,showMetamaskExplainer:!1,dontOverrideWindowEthereum:!1}}c();p();c();p();c();p();function jp(e){return new Promise(t=>setTimeout(t,e))}function Vh(e,t){let r=typeof t.interval=="function"?t.interval:()=>t.interval;if(typeof e!="function")throw new Error("Invalid arguments for retryInternal");let n=1;async function s(){try{return await e()}catch(o){if(n++<t.times&&t.errorFilter(o))return await jp(r(n-1)),s();throw o}}return s()}async function zp(e,t,r=3,n=2e3,s){return Vh(e,{times:r,interval:s?()=>n:o=>n*Math.pow(2,o-1),errorFilter:t})}var jh="https://sanity-proxy-v2.phantom.app",zh="production",Kh=Kt.object({hostname:Kt.string(),hideProvidersArray:Kt.boolean(),showMetamaskExplainer:Kt.boolean(),dontOverrideWindowEthereum:Kt.boolean()}),$h=Kt.object({dApps:Kt.array(Kh).optional()}).optional(),Gh=`
*[_type == 'dAppsList' && _id == 'dAppsList-singleton']{
 dApps
}[0]`,to=()=>zp(async()=>{let e=await uc.get(`${jh}/v1/data/query/${zh}?query=${encodeURIComponent(Gh)}`);if(e.status>=300)throw new Error(`status code: ${e.status}, body: ${e.data}`);let t=e.data;return $h.parse(t.result)?.dApps??[]},()=>!0,3,50);function ro(e){try{let t=new URL(e).hostname;if(!t||t==="localhost")return null;let r="www.";return t.startsWith(r)?t.slice(r.length):t}catch{return null}}c();p();var Jh=re(Tt()),Qh=re(bn());var H0=new Error("Unsupported path.");c();p();c();p();var rf=re(bn());c();p();c();p();c();p();var nf=re(bn());c();p();var sf=re(bn());var pf=re(Tt());c();p();var af=re(bt());c();p();c();p();c();p();var cf=re(bt());c();p();c();p();var df=re(bt());c();p();c();p();var lf=re(bt());c();p();var mw=[It.sol_blink_connect.method,It.sol_blink_signAndSendAllTransactions.method,It.sol_blink_signMessage.method,Et.eth_blink_requestAccounts.method,Et.eth_blink_sendTransaction.method,Et.eth_blink_sign.method];var Um=re($m()),Je=re(bt());c();p();var $n=re(Tt());async function Yp(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(!Object.values(Pe).includes(r))return a.invalidInput(e.id,"Invalid or missing chain.");let n=t[1];if(typeof n!="string")return a.invalidInput(e.id,"Missing private key.");let s=t[2];if(typeof n!="string")return a.invalidInput(e.id,"Missing account name.");if(!Ue())return a.result(e.id,null);let i=await ge.addPrivateKeyAccount(r,Qe.from(Buffer.from(n,"base64")),s);return a.result(e.id,JSON.stringify(i))}catch(t){return de.captureError(t,"account"),a.internalError(e.id,t.message)}}async function Zp(e){try{let t=e.params;if(Object.values(t).length===0)return a.invalidInput(e.id);let r=Object.keys(t);if(!Object.values(Pe).includes(...r))return a.invalidInput(e.id);if(Object.values(t).map(o=>typeof o!="string").reduce((o,i)=>o||i,!1))return a.invalidInput(e.id);let s=await ge.addReadonlyAccount(t);return a.result(e.id,JSON.stringify(s))}catch(t){return de.captureError(t,"account"),a.internalError(e.id,t.message)}}async function Xp(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(typeof r!="string")return a.invalidInput(e.id);let n=t[1];if(!Array.isArray(n)||n.length===0)return a.invalidInput(e.id);let s=t[2];if(typeof s!="string")return a.invalidInput(e.id,"Missing account name.");if(!Ue())return a.result(e.id,null);let l=(await qn()).fromEntropy($n.default.decode(r)),u=await ge.addSeedWithMultipleAccounts(Qe.from(l.getEntropy()),s,n);return a.result(e.id,JSON.stringify(u))}catch(t){return de.captureError(t,"account"),a.internalError(e.id,t.message)}}async function Jp(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(typeof r!="string")return a.invalidInput(e.id);let n=t[1];if(!Array.isArray(n)||n.length===0)return a.invalidInput(e.id);let s=t[2];if(typeof s!="string")return a.invalidInput(e.id,"Missing account name.");if(!Ue())return a.result(e.id,null);let l=(await qn()).fromEntropy($n.default.decode(r)),u=await ge.addSeedlessWithMultipleAccounts(Qe.from(l.getEntropy()),s,n);return a.result(e.id,JSON.stringify(u))}catch(t){return de.captureError(t,"account"),a.internalError(e.id,t.message)}}async function Qp(e){try{let t=e.params;if(typeof t!="string")return a.invalidInput(e.id);if(!Ue())return a.result(e.id,null);let s=(await qn()).fromEntropy($n.default.decode(t)),o=await ge.isExistingSeed(Qe.from(s.getEntropy()));return a.result(e.id,o)}catch(t){return de.captureError(t,"account"),a.internalError(e.id,t.message)}}async function ed(e){try{let r=e.params[0];if(!r)return a.invalidInput(e.id,"Missing se*d identifier.");if(!Ue())return a.result(e.id,null);let s=await ge.fetchAllSeedMetas();if(!s||s.length===0)return a.invalidInput(e.id,"No available se*d.");if(!s.find(l=>l.identifier===r))return a.invalidInput(e.id,"Invalid se*d identifier.");let i=await ge.addAccountForExistingSeed(r);return a.result(e.id,JSON.stringify(i))}catch(t){return de.captureError(t,"account"),a.internalError(e.id,t.message)}}async function td(e){try{let r=e.params[0];if(!r)return a.invalidInput(e.id,"Missing se*d identifier.");if(!Ue())return a.result(e.id,null);let s=await ge.fetchAllSeedlessMetas();if(!s||s.length===0)return a.invalidInput(e.id,"No available se*d.");if(!s.find(l=>l.identifier===r))return a.invalidInput(e.id,"Invalid se*d identifier.");let i=await ge.addAccountForExistingSeedless(r);return a.result(e.id,JSON.stringify(i))}catch(t){return de.captureError(t,"account"),a.internalError(e.id,t.message)}}async function rd(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(typeof r!="string")return a.invalidInput(e.id);let n=t[1];if(!Array.isArray(n)||n.some(i=>!Tc.safeParse(i).success))return a.invalidInput(e.id);if(!Ue())return a.result(e.id,null);let o=await ge.addLedgerAccounts(r,n);return a.result(e.id,JSON.stringify(o))}catch(t){return de.captureError(t,"account"),a.internalError(e.id,t.message)}}async function nd(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(typeof r!="string")return a.invalidInput(e.id);let n=t[1];if(typeof n!="string")return a.invalidInput(e.id,"Missing account identifier.");let s=t[2];if(!Object.values(Pe).includes(s))return a.invalidInput(e.id,"Invalid or missing chain.");if(!await Mr(Qe.from(Buffer.from(r))))return a.invalidInput(e.id,"Invalid passw*rd.");let i=await ge.exportPrivateKey(n,s);if(!i)return a.result(e.id,null);let l=i.fold(u=>Buffer.from(u.buffer).toString("hex"));return a.result(e.id,l)}catch(t){return de.captureError(t,"account"),a.internalError(e.id,t.message)}}async function sd(e){try{let t=e.params,r=t[0];if(typeof r!="string")return a.invalidInput(e.id);if(!await Mr(Qe.from(Buffer.from(r))))return a.invalidInput(e.id,"Invalid passw*rd.");let s=t[1];if(!s)return a.invalidInput(e.id,"Missing se*d identifier.");let o=await ge.fetchAllSeedMetas(),i=await ge.fetchAllSeedlessMetas(),l=o.concat(...i);if(!l||l.length===0)return a.result(e.id,null);let u=l.find(g=>g.identifier===s);if(!u)return a.result(e.id,null);let h=await ge.exportEntropy(u.identifier);if(!h)return a.result(e.id,null);let x=h.fold(g=>Buffer.from(g.buffer).toString("hex"));return a.result(e.id,x)}catch(t){return de.captureError(t,"account"),a.internalError(e.id,t.message)}}async function od(e){try{let t=e.params;return Array.isArray(t)?typeof t[0]!="string"?a.invalidInput(e.id):typeof t[1]!="string"?a.invalidInput(e.id):Ue()?a.result(e.id,!0):a.result(e.id,null):a.invalidInput(e.id)}catch(t){return a.internalError(e.id,t.message)}}async function id(e){try{if(!Ue())return a.result(e.id,null);let r=await ge.deriveAddresses();return a.result(e.id,r)}catch(t){return de.captureError(Error(`Failed to derive addresses for enabled chains in account.ts due to ${t.message}`),"account"),a.internalError(e.id,t.message)}}async function ad(e){try{let t=e.params;return typeof t!="string"?a.invalidInput(e.id):Ue()?(await ge.removeAccount(t),a.result(e.id,!0)):a.result(e.id,null)}catch(t){return de.captureError(Error(`Failed to remove account in account.ts due to ${t.message}`),"account"),a.internalError(e.id,t.message)}}async function cd(e){try{let{identifier:t,toIndex:r}=e.params;return typeof t!="string"||typeof r!="number"?a.invalidInput(e.id):Ue()?(await ge.reorderAccount(t,r),a.result(e.id,!0)):a.result(e.id,null)}catch(t){return de.captureMessage("Failed to reorder account in account.ts","account"),a.internalError(e.id,t.message)}}async function pd(e){try{if(!Ue())return a.result(e.id,null);let r=await ge.fetchAllAccounts();if(!r)return a.result(e.id,null);let n=Lc({accounts:r}).accounts;return a.result(e.id,JSON.stringify(n))}catch(t){return a.internalError(e.id,t.message)}}async function dd(e){try{if(!Ue())return a.result(e.id,null);let r=await ge.fetchAllSeedMetas();return r?(Ie.capture("walletSeeds",{data:{numOfSeeds:r.length}}),a.result(e.id,JSON.stringify(r))):a.result(e.id,null)}catch(t){return de.captureError(t,"account"),a.internalError(e.id,t.message)}}async function ld(e){try{if(!Ue())return a.result(e.id,null);let r=await ge.fetchAllSeedlessMetas();return r?a.result(e.id,JSON.stringify(r)):a.result(e.id,null)}catch(t){return de.captureError(t,"account"),a.internalError(e.id,t.message)}}async function ud(e){try{let t=e.params;if(typeof t.accountIdentifier!="string")return a.invalidInput(e.id,"Account Identifier needs to be of type string.");if(!Mc(t.params))return a.invalidInput(e.id,"Invalid vault signer params.");if(!Ue())return a.result(e.id,null);let n=await ge.sign(t.accountIdentifier,t.params);return a.result(e.id,Ct(n))}catch(t){return de.captureError(t,"transaction"),a.internalError(e.id,t.message)}}async function md(e){try{let t=e.params;if("secretIdentifier"in t&&typeof t.secretIdentifier!="string")return a.invalidInput(e.id,"Secret Identifier needs to be present and of type string.");if(!Ue())return a.result(e.id,null);let n=await ge.getAuthenticationPublicKey(t.secretIdentifier);return a.result(e.id,Ct(n))}catch(t){return de.captureError(t,"transaction"),a.internalError(e.id,t.message)}}async function hd(e){try{let t=e.params;if(typeof t.syncedAccounts!="object")return a.invalidInput(e.id,"syncedAccounts needs to be an object.");if(!Ue())return a.result(e.id,null);let n=await ge.syncAccounts(t.syncedAccounts);return a.result(e.id,n)}catch(t){return de.captureError(t,"account"),a.internalError(e.id,t.message)}}async function fd(e){try{if(!Ue())return a.result(e.id,null);let r=await ge.checkVaultIntegrity();return a.result(e.id,r)}catch(t){return de.captureError(t,"account"),a.internalError(e.id,t.message)}}c();p();var gd=new bp;async function yd(e){return await gd.acquire(),a.result(e.id,!0)}async function xd(e){return await gd.release(),a.result(e.id,!0)}c();p();async function wd(e){try{let t=await mr.hasPersistedDeviceEncryptionKey();return a.result(e.id,t)}catch(t){return de.captureError(t,"account"),a.internalError(e.id,t.message)}}async function bd(e){try{return await mr.deletePersistedDeviceEncryptionKey(),a.result(e.id,!0)}catch(t){return de.captureError(t,"account"),a.internalError(e.id,t.message)}}var ao=!1;function Sd(e){ao=e}function co(){return ao}async function Ad(e){try{let t=e.params;if(typeof t!="string")return a.invalidInput(e.id);let r=Qe.from(Buffer.from(t));return await Mr(r)?(ao=!1,await wp(),await xp(),a.result(e.id,{isUnlocked:!0,migrationResult:"no-migration"})):a.result(e.id,{isUnlocked:!1,migrationResult:"no-migration"})}catch(t){return a.internalError(e.id,t.message)}}function vd(e){try{let t=!!Ue();return a.result(e.id,t)}catch(t){return de.captureError(t,"account"),a.internalError(e.id,t.message)}}function Rd(e){try{return Qr(),a.result(e.id,!0)}catch(t){return de.captureError(Error(`Failed to lock extension due to ${t.message}`),"account"),a.internalError(e.id,t.message)}}async function kd(e){try{let t=e.params;return typeof t!="string"?a.invalidInput(e.id):(await ge.clearVault(),await mr.deletePersistedDeviceEncryptionKey(),Fs(Qe.from(Buffer.from(t))),await mr.persistDeviceEncryptionKey(),a.result(e.id,!0))}catch(t){return de.captureMessage(`\u{1F6AB} Failed to Set Passw*rd in BackgroundScript: ${t.message}`,"account"),a.internalError(e.id,t.message)}}async function _d(e){try{let t=e.params;if(typeof t!="string")return a.invalidInput(e.id);let r=await Mr(Qe.from(Buffer.from(t)));return a.result(e.id,r)}catch(t){return de.captureMessage(`\u{1F6AB} Failed to Verify Passw*rd in BackgroundScript: ${t.message}`,"account"),a.internalError(e.id,t.message)}}async function Td(e){try{if(!Ue())return a.result(e.id,null);let r=e.params;if(typeof r!="string")return a.invalidInput(e.id);let n=Qe.from(Buffer.from(r)),s=await yp.rotateEncryptionKey(n);return s&&(de.addBreadcrumb("account","new passw*rd set in memory!","info"),Fs(n)),de.addBreadcrumb("account",`storage key rotation success: ${s}`,"info"),a.result(e.id,s)}catch(t){return de.captureMessage(`\u{1F6AB} Failed to Update Passw*rd in BackgroundScript: ${t.message}`,"account"),a.internalError(e.id,t.message)}}c();p();async function Ed(e){try{let t=e.params;if(!Array.isArray(t))return a.invalidInput(e.id);let r=t[0];if(typeof r!="string")return a.invalidInput(e.id);let n=t[1];return n.featureTag?(Yr.write(r,n.featureTag,n.severity,n.data),a.result(e.id,!0)):a.invalidInput(e.id)}catch(t){return de.captureError(t,"bugReporter"),a.internalError(e.id,t.message)}}function Id(e){try{return Yr.downloadLog({noop:!0}),a.result(e.id,!0)}catch(t){return de.captureError(t,"bugReporter"),a.internalError(e.id,t.message)}}c();p();c();p();c();p();c();p();c();p();c();p();c();p();c();p();c();p();c();p();c();p();c();p();c();p();c();p();c();p();c();p();var Cd=e=>{try{return new URL(e)}catch{return}};function F(e){return le(e)?.origin}var mf="8bfda36a-d292-4aa3-b30f-53ef91ab6380";function le(e){if(e.type==="BrowserTabRpcRequestSource"||e.type==="InternalRpcRequestSource")return e.url;if(e.type==="DeepLinkRpcRequestSource"){if(e.sdkKey===mf)return new URL("https://app.drift.trade");let t=Cd(e.deepLinkUrl)?.searchParams?.get("redirect_uri");return t?Cd(t):void 0}}function ye(e){if(e.type==="BrowserTabRpcRequestSource"||e.type==="InternalRpcRequestSource")return e.icon?.href||null;if(e.type==="DeepLinkRpcRequestSource"){let t=le(e);return t?Rn(t.hostname):null}return null}var hf=new Set(dc),ce=async({source:e,request:t})=>{if(!e)return a.unauthorized(t.id);if(e.type!=="BrowserTabRpcRequestSource"&&e.type!=="InternalRpcRequestSource"&&e.type!=="DeepLinkRpcRequestSource")return a.unauthorized(t.id);let r=le(e);if(!r)return a.unauthorized(t.id);if(e.type!=="DeepLinkRpcRequestSource"&&r.protocol!=="https:")return hf.has(r.hostname)?void 0:a.unauthorized(t.id)};c();p();var oe=e=>async({source:t,request:r},{i18n:n})=>{if(!t)return a.unauthorized(r.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!==e)return a.unauthorized(r.id,n.t("rpcErrorUnauthorizedUnknownSource"))};c();p();var Xt=async(e,{wallet:t})=>{let{request:r}=e,n="transactions"in r.params?r.params.transactions:[r.params.transaction],s=await Promise.all(n.map(o=>t.sol.addPriorityFee(o)));"transactions"in r.params?r.params.transactions=s:r.params.transaction=s[0]};c();p();c();p();function Jt(e){return/\blocalhost\b|(\d{1,3}\.){3}\d{1,3}/.test(e)}var sn=async({request:e,source:t},{analytics:r})=>t?t.type!=="BrowserTabRpcRequestSource"?a.internalError(e.id,"missing source"):async n=>{let{method:s}=e,o=t.url.hostname;if(Jt(o))return;let i={method:s,chainType:"bip122",chainId:"000000000019d6689c085ae165831e93",origin:o};if(s==="btc_requestAccounts"){let l={...i};"error"in n?r.declineConnection({...l,errorCode:n.error.code}):r.approveConnection(l)}if(s==="btc_signPSBT"){let l={...i};"error"in n?r.declineTransaction({...l,errorCode:n.error.code}):r.approveTransaction(l)}if(s==="btc_signMessage"){let l={...i};"error"in n?r.declineSignMessage({...l,errorCode:n.error.code}):r.approveSignMessage(l)}}:a.internalError(e.id,"missing source");c();p();var qe=async({request:e,source:t},{analytics:r,wallet:n,utils:s})=>{if(!t)return a.internalError(e.id,"missing source");let o=le(t);return o?async i=>{if("error"in i)return;let l=o.toString();switch(e.method){case"eth_blink_sendTransaction":{let u=i.result,h=s.getOrigin(e.params[1].context.blinkUrl);return h?r.eth.submittedTransaction({origin:h,request:{...e,method:"eth_sendTransaction",params:[e.params[0]]},signatures:[u]}):void 0}case"eth_sendTransaction":{let u=i.result;return r.eth.submittedTransaction({origin:l,request:e,signatures:[u]})}case"eth_blink_sign":{let u=s.getOrigin(e.params[2].context.blinkUrl);return u?r.eth.signedMessage({origin:u,request:{...e,method:"eth_sign",params:[e.params[0],e.params[1]]},chainId:await n.eth.getNetworkId(u)}):void 0}case"eth_sign":case"personal_sign":case"eth_signTypedData":case"eth_signTypedData_v3":case"eth_signTypedData_v4":return r.eth.signedMessage({origin:l,request:e,chainId:await n.eth.getNetworkId(l)});case"sol_signAllTransactions":{let u=i.result.map(({signature:h})=>h);return r.sol.submittedTransaction({origin:l,request:e,chainId:await n.sol.getNetworkId(),signatures:u})}case"sol_signAndSendTransaction":{let u=i.result.signature;return r.sol.submittedTransaction({origin:l,request:e,chainId:await n.sol.getNetworkId(),signatures:[u]})}case"sol_blink_signAndSendAllTransactions":{let u=i.result.signatures.filter(Boolean);return r.sol.submittedTransaction({origin:l,request:{...e,method:"sol_signAllTransactions",params:{transactions:e.params.transactions}},chainId:await n.sol.getNetworkId(),signatures:u})}case"sol_signAndSendAllTransactions":{let u=i.result.signatures.filter(Boolean);return r.sol.submittedTransaction({origin:l,request:e,chainId:await n.sol.getNetworkId(),signatures:u})}case"sol_signTransaction":{let u=i.result.signature;return r.sol.submittedTransaction({origin:l,request:e,chainId:await n.sol.getNetworkId(),signatures:[u]})}case"sol_signIn":case"sol_signMessage":return r.sol.signedMessage({origin:l,request:e,chainId:await n.sol.getNetworkId()});case"sol_blink_signMessage":{let u=s.getOrigin(e.params.context.blinkUrl);return u?r.sol.signedMessage({origin:u,request:{...e,method:"sol_signMessage",params:{message:e.params.message,display:e.params.display}},chainId:await n.sol.getNetworkId()}):void 0}}}:a.internalError(e.id,"missing source")};c();p();var on=async(e,{wallet:t,rpc:r,utils:n})=>{let{request:s,source:o}=e;if(!o)return a.internalError(s.id,"missing source");let i=F(o);if(!i)return a.unauthorized(s.id);let l=await t.eth.getSelectedAccount(),[u]=s.params,h=u.chainId?u.chainId:await t.eth.getNetworkId(i),x=await t.eth.getRpcURL(h);if(u.type="0x2",u.chainId||(u.chainId=h),u.nonce||(u.nonce=await t.eth.getAccountNonce(h,l)),!u.gas){let g=await r.eth.eth_estimateGas(x,[u]);if("error"in g)return a.error(s.id,g.error);u.gas=n.eth.getBufferedGasLimit(g.result)}delete u.gasPrice};c();p();var G=async(e,{config:t,logger:r})=>{if(t.env==="production")return;let n=Date.now();return s=>{if(e.source?.type!=="BrowserTabRpcRequestSource"&&e.source?.type!=="InternalRpcRequestSource"&&e.source?.type!=="DeepLinkRpcRequestSource"||!("error"in s&&t.logRequestsOnError||(typeof t.logRequestMethods=="boolean"?t.logRequestMethods:t.logRequestMethods.has(e.request.method))))return;let l=Date.now(),u=le(e.source),h=ye(e.source);r.debug(`
*-------------------------------------------------------------------------------
| method   | ${e.request.method}
| id       | ${e.request.id}
| params   | ${JSON.stringify(e.request.params).substring(0,67)}
*----------+--------------------------------------------------------------------
| result   | ${JSON.stringify(s.result)}
| error    | ${JSON.stringify(s.error)}
*----------+--------------------------------------------------------------------
| url      | ${JSON.stringify(u)}
| icon     | ${JSON.stringify(h)}
*----------+--------------------------------------------------------------------
| duration | ${l-n}ms
*-------------------------------------------------------------------------------
`)}};c();p();var me=async({request:e,source:t},{analytics:r,wallet:n,utils:s})=>{if(!t)return a.internalError(e.id,"missing source");let o=le(t),i=F(t);return!o||!i?a.internalError(e.id):async l=>{let{method:u}=e;if(Jt(o.hostname))return;let h=await n.eth.getNetworkId(i),x=s.eth.hexToCAIP2(h),f={method:u,chainType:"eip155",chainId:x,origin:o.hostname};if(u==="eth_requestAccounts"){let R={...f};"error"in l?r.declineConnection({...R,errorCode:l.error.code}):r.approveConnection(R)}if(u==="eth_sendTransaction"){let[R]=e.params,w={...f,gas:R.gas,maxFeePerGas:R.maxFeePerGas,maxPriorityFeePerGas:R.maxPriorityFeePerGas};"error"in l?r.declineTransaction({...w,errorCode:l.error.code}):r.approveTransaction(w)}if(u==="eth_sign"||u==="personal_sign"||u==="eth_signTypedData"||u==="eth_signTypedData_v3"||u==="eth_signTypedData_v4"){let R={...f};"error"in l?r.declineSignMessage({...R,errorCode:l.error.code}):r.approveSignMessage(R)}if(u==="wallet_selectEthereumProvider"&&!("error"in l)){let R=l.result,w={...f,selection:R};r.metamaskOverrideSelection(w)}}};c();p();var We=e=>async({source:t,request:r},{wallet:n,logger:s})=>{if(!t)return a.unauthorized(r.id);if(t.type==="InternalRpcRequestSource")return;if(t.type!==e)return a.unauthorized(r.id);let o=F(t);if(!o)return a.unauthorized(r.id);if(!await n.isTrustedApp(o))return s.debug("> Dapp not trusted",o),a.unauthorized(r.id)};c();p();var Qt=async({source:e,request:t},{wallet:r,analytics:n})=>{if(!e)return a.unauthorized(t.id);let s=le(e),o=F(e),i=ye(e);if(!s||!o)return a.unauthorized(t.id);let l;switch(t.method){case"eth_sendTransaction":{let[f]=t.params;if(!f.chainId)return a.transactionRejected(t.id);l=f.chainId;break}case"eth_signTypedData":{let[f]=t.params,R="";for(let w of f)if(w.name==="chainId"){R=w.value;break}if(!R)return;l="0x"+parseInt(R,10).toString(16);break}case"eth_signTypedData_v3":{let[f,R]=t.params;if(!R.domain.chainId)return;l="0x"+R.domain.chainId.toString(16);break}case"eth_signTypedData_v4":{let[f,R]=t.params;if(typeof R.domain.chainId=="number")l="0x"+R.domain.chainId.toString(16);else return;break}case"wallet_switchEthereumChain":case"wallet_addEthereumChain":{let[f]=t.params;l=f.chainId;break}}let u={url:s.toString(),icon:i};if(!new Set(r.eth.getSupportedNetworks()).has(l))return n.eth.unsupportedChain({origin:o,data:{method:t.method,hexChainId:l}}),await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedNetwork",id:0,params:[u,l]}),a.chainDisconnected(t.id);let x=new Set(await r.eth.getEnabledChains());if(!x.has(l))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmIncorrectMode",id:0,params:[u,x.has("0x1")?"mainnet":"testnet"]}),a.chainDisconnected(t.id);if(["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4"].includes(t.method)){let f=await r.eth.getNetworkId(o);if(f!==l)return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmEIP712IncorrectChainId",id:0,params:[u,{connectedChainId:f,messageChainId:l}]}),a.chainDisconnected(t.id)}};c();p();var po=async({source:e,request:t},{wallet:r,analytics:n,utils:s})=>{if(!e)return a.unauthorized(t.id);if(e.type!=="BrowserTabRpcRequestSource")return a.unauthorized(t.id);let o="";if(t.method==="eth_blink_sendTransaction"){let[w]=t.params;if(!w.chainId)return a.transactionRejected(t.id);o=w.chainId}let[i,{context:l}]=t.params,u=s.getOrigin(l.blinkUrl);if(!l.blinkUrl||!u)return a.userRejectedRequest(t.id);let h=s.getHostname(l.blinkUrl),x={url:l.blinkUrl,icon:h?s.getFaviconURL(h):null};if(!new Set(r.eth.getSupportedNetworks()).has(o))return n.eth.unsupportedChain({origin:e.url.origin,data:{method:t.method,hexChainId:o}}),await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedNetwork",id:0,params:[x,o]}),a.chainDisconnected(t.id);let f=new Set(await r.eth.getEnabledChains());if(!f.has(o))return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmIncorrectMode",id:0,params:[x,f.has("0x1")?"mainnet":"testnet"]}),a.chainDisconnected(t.id);if(["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4"].includes(t.method)){let w=await r.eth.getNetworkId(e.url.origin);if(w!==o)return await r.requestUserApproval({jsonrpc:"2.0",method:"user_confirmEIP712IncorrectChainId",id:0,params:[x,{connectedChainId:w,messageChainId:o}]}),a.chainDisconnected(t.id)}};c();p();var ff=0,lo=async(e,{wallet:t,i18n:r})=>{let{request:n,source:s}=e;if(!s)return a.unauthorized(n.id,r.t("rpcErrorUnauthorizedUnknownSource"));if(s.type!=="BrowserTabRpcRequestSource")return a.unauthorized(n.id,r.t("rpcErrorUnauthorizedUnknownSource"));let o={url:s.url.toString(),icon:s.icon?.href??null};if(!await t.eth.doesSupportEth())return await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedAccount",params:[o,"ethereum"],id:ff++}),a.resourceUnavailable(n.id)};c();p();var gf=0,uo=async(e,{wallet:t,i18n:r,utils:n})=>{let{request:s,source:o}=e;if(!o)return a.unauthorized(s.id,r.t("rpcErrorUnauthorizedUnknownSource"));if(o.type!=="BrowserTabRpcRequestSource")return a.unauthorized(s.id,r.t("rpcErrorUnauthorizedUnknownSource"));let i=s.params.context,l=n.getOrigin(i.blinkUrl);if(!i.blinkUrl||!l)return a.userRejectedRequest(s.id);let u=n.getHostname(i.blinkUrl),h={url:i.blinkUrl,icon:u?n.getFaviconURL(u):null};if(!await t.eth.doesSupportEth())return await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmUnsupportedAccount",params:[h,"ethereum"],id:gf++}),a.resourceUnavailable(s.id)};c();p();var Pd=re(Nr()),mo=async({request:e})=>{let t=Pd.default.decode(e.params.message);if(!ic(t))return a.invalidInput(e.id,"You cannot sign solana transactions using sign message")};c();p();var bf=0,ho=async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return a.userRejectedRequest(r.id);if(n.type!=="BrowserTabRpcRequestSource")return a.userRejectedRequest(r.id);if(await t.isTrustedApp(n.url.origin))return;let o=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveBtcRequestAccounts",id:bf++,params:[{url:n.url.toString(),icon:n.icon?.href??null}]});if("error"in o)return a.error(r.id,o.error)};c();p();var fo=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveBtcSignMessage",id:Date.now(),params:[{url:t.url.toString(),icon:t.icon?.href??null},{message:e.params.message}]});if("error"in s)return a.error(e.id,s.error);switch(s.result.type){case"send":return a.result(e.id,{signature:s.result.signature,signedMessage:s.result.signedMessage});case"signAndSend":return}};c();p();var go=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveBtcSignPSBT",id:Date.now(),params:[{url:t.url.toString(),icon:t.icon?.href??null},{psbt:e.params[0],inputsToSign:e.params[1].inputsToSign,finalize:e.params[1].finalize}]});if("error"in s)return a.error(e.id,s.error);switch(s.result.type){case"send":return a.result(e.id,s.result.signature);case"signAndSend":return}};c();p();var Sf=0,yo=async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return a.userRejectedRequest(r.id);if(n.type!=="BrowserTabRpcRequestSource")return a.userRejectedRequest(r.id);if(await t.isTrustedApp(n.url.origin))return;let o=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthRequestAccounts",id:Sf++,params:[{url:n.url.toString(),icon:n.icon?.href??null}]});if("error"in o)return a.error(r.id,o.error)};c();p();var Af=0,xo=async(e,{wallet:t,utils:r})=>{let{request:n,source:s}=e;if(!s)return a.userRejectedRequest(n.id);if(s.type!=="BrowserTabRpcRequestSource")return a.userRejectedRequest(n.id);let o=n.params.context,i=r.getOrigin(o.blinkUrl);if(!o.blinkUrl||!i)return a.userRejectedRequest(n.id);if(await t.isTrustedApp(i))return;let u=r.getHostname(o.blinkUrl),h=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthRequestAccounts",id:Af++,params:[{url:o.blinkUrl,icon:u?r.getFaviconURL(u):null}]});if("error"in h)return a.error(n.id,h.error)};c();p();var vf=0,wo=async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return a.userRejectedRequest(r.id);let s=F(n),o=le(n),i=ye(n);if(!s||!o)return a.unauthorized(r.id);if(await t.isTrustedApp(s))return;let u=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveWalletRequestPermissions",id:vf++,params:[{url:o.toString(),icon:i}]});if("error"in u)return a.error(r.id,u.error)};c();p();c();p();var Ye=e=>["OK","RATE_LIMIT_EXCEEDED","SESSION_EXPIRED","SIMULATION_FAILED","UNKNOWN","UNSUPPORTED_NETWORK_ID","UNSUPPORTED_METHOD"].includes(e);var bo=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=F(t),i=le(t),l=ye(t);if(!o||!i)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let[u]=e.params;if(await r.eth.getSelectedAccount()!==u.from.toLowerCase())return a.transactionRejected(e.id);let x=await r.eth.autoConfirmValidateTransaction(i,[u]),g=x.status==="OK";if(Ye(x.status)&&await s.eth.autoConfirmedTransaction({request:e,chainId:await r.eth.getNetworkId(o),origin:o,data:{sessionStartTime:x.sessionStartTime,sessionMaxDuration:x.sessionMaxDuration,lastStatusCode:x.status,dollarValue:x.dollarValue,auditTrail:x.auditTrail}}),g)return;let f={url:i.toString(),icon:l},R=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSendTransaction",id:Date.now(),params:[f,{transaction:u,autoConfirmStatusCode:x.status}]});if("error"in R)return a.error(e.id,R.error);switch(R.result.maxFeePerGas&&(u.maxFeePerGas=R.result.maxFeePerGas),R.result.maxPriorityFeePerGas&&(u.maxPriorityFeePerGas=R.result.maxPriorityFeePerGas),R.result.type){case"send":{let w=await r.eth.sendTransaction(u,R.result.signature);return a.any(e.id,{result:w})}case"signAndSend":return}};c();p();var So=async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let[o,{context:i}]=e.params;if(await r.eth.getSelectedAccount()!==o.from.toLowerCase())return a.transactionRejected(e.id);let u=s.getOrigin(i.blinkUrl);if(!i.blinkUrl||!u)return a.userRejectedRequest(e.id);let h=s.getHostname(i.blinkUrl),x={url:i.blinkUrl,icon:h?s.getFaviconURL(h):null},g=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSendTransaction",id:Date.now(),params:[x,{transaction:o,autoConfirmStatusCode:"UNSUPPORTED_METHOD"}]});if("error"in g)return a.error(e.id,g.error);switch(g.result.maxFeePerGas&&(o.maxFeePerGas=g.result.maxFeePerGas),g.result.maxPriorityFeePerGas&&(o.maxPriorityFeePerGas=g.result.maxPriorityFeePerGas),g.result.type){case"send":{let f=await r.eth.sendTransaction(o,g.result.signature);return a.any(e.id,{result:f})}case"signAndSend":return}};c();p();var Ao=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=F(t),o=le(t),i=ye(t);if(!s||!o)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.eth.getSelectedAccount(),u=await r.eth.getNetworkId(s),[h,x]=e.params;if(l!==h.toLowerCase())return a.unauthorized(e.id);let g={url:o.toString(),icon:i},f=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:Date.now(),params:[g,{signer:h,message:x,originalMethod:"eth_sign",chainId:u,autoConfirmStatusCode:"UNSUPPORTED_METHOD"}]});if("error"in f)return a.error(e.id,f.error);switch(f.result.approvalType){case"hardware":return a.result(e.id,f.result.signature);case"user":return}};c();p();var vo=async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=await r.eth.getSelectedAccount(),i=await r.eth.getNetworkId(t.url.origin),[l,u,{context:h}]=e.params;if(o!==l.toLowerCase())return a.unauthorized(e.id);let x=s.getOrigin(h.blinkUrl);if(!h.blinkUrl||!x)return a.userRejectedRequest(e.id);let g=s.getHostname(h.blinkUrl),f={url:h.blinkUrl,icon:g?s.getFaviconURL(g):null},R=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:Date.now(),params:[f,{signer:l,message:u,originalMethod:"eth_sign",chainId:i,autoConfirmStatusCode:"UNSUPPORTED_METHOD"}]});if("error"in R)return a.error(e.id,R.error);switch(R.result.approvalType){case"hardware":return a.result(e.id,R.result.signature);case"user":return}};c();p();var Ro=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=F(t),o=le(t),i=ye(t);if(!s||!o)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.eth.getSelectedAccount(),u=await r.eth.getNetworkId(s),[h,x]=e.params;if(l!==x.toLowerCase())return a.unauthorized(e.id);let g="0x"+Buffer.from(JSON.stringify(h)).toString("hex"),f={url:o.toString(),icon:i},R=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:Date.now(),params:[f,{signer:x,message:g,originalMethod:"eth_signTypedData",chainId:u,autoConfirmStatusCode:"UNSUPPORTED_METHOD"}]});if("error"in R)return a.error(e.id,R.error)};c();p();var ko=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=F(t),i=le(t),l=ye(t);if(!o||!i)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let u=await r.eth.getSelectedAccount(),h=await r.eth.getNetworkId(o),[x,g]=e.params;if(u!==x.toLowerCase())return a.unauthorized(e.id);let f=await r.eth.autoConfirmValidateMessage(i,g),R=f.status==="OK";if(Ye(f.status)&&await s.eth.autoConfirmedMessage({request:e,chainId:await r.eth.getNetworkId(o),origin:o,data:{sessionStartTime:f.sessionStartTime,sessionMaxDuration:f.sessionMaxDuration,lastStatusCode:f.status,auditTrail:f.auditTrail}}),R)return;let w={url:i.toString(),icon:l},S=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:Date.now(),params:[w,{signer:x,message:"0x"+Buffer.from(JSON.stringify(g)).toString("hex"),originalMethod:"eth_signTypedData_v3",chainId:h,autoConfirmStatusCode:f.status}]});if("error"in S)return a.error(e.id,S.error)};c();p();var _o=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=F(t),i=le(t),l=ye(t);if(!o||!i)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let u=await r.eth.getSelectedAccount(),h=await r.eth.getNetworkId(o),[x,g]=e.params;if(u!==x.toLowerCase())return a.unauthorized(e.id);let f=await r.eth.autoConfirmValidateMessage(i,g),R=f.status==="OK";if(Ye(f.status)&&await s.eth.autoConfirmedMessage({request:e,chainId:await r.eth.getNetworkId(o),origin:o,data:{sessionStartTime:f.sessionStartTime,sessionMaxDuration:f.sessionMaxDuration,lastStatusCode:f.status,auditTrail:f.auditTrail}}),R)return;let w={url:i.toString(),icon:l},S=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:Date.now(),params:[w,{signer:x,message:"0x"+Buffer.from(JSON.stringify(g)).toString("hex"),originalMethod:"eth_signTypedData_v4",chainId:h,autoConfirmStatusCode:f.status}]});if("error"in S)return a.error(e.id,S.error)};c();p();var To=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=F(t),o=le(t),i=ye(t);if(!s||!o)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.eth.getSelectedAccount(),u=await r.eth.getNetworkId(s),[h,x]=e.params;if(l!==x.toLowerCase())return a.unauthorized(e.id);let g={url:o.toString(),icon:i},f=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveEthSignMessage",id:Date.now(),params:[g,{signer:x,message:h,originalMethod:"personal_sign",chainId:u,autoConfirmStatusCode:"UNSUPPORTED_METHOD"}]});if("error"in f)return a.error(e.id,f.error);switch(f.result.approvalType){case"hardware":return a.result(e.id,f.result.signature);case"user":return}};c();p();var Rf=0,Eo=async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return a.userRejectedRequest(r.id);let s=F(n),o=le(n),i=ye(n);if(!s||!o)return a.unauthorized(r.id);if(await t.isTrustedApp(s))return;if(r.params?.onlyIfTrusted===!0)return a.userRejectedRequest(r.id);let u=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:Rf++,params:[{url:o.toString(),icon:i}]});if("error"in u)return a.error(r.id,u.error)};c();p();var kf=0,Io=async({request:e,source:t},{wallet:r,utils:n})=>{if(!t)return a.unauthorized(e.id);if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id);let s=e.params.context,o=n.getOrigin(s.blinkUrl);if(!s.blinkUrl||!o)return a.userRejectedRequest(e.id);if(await r.isTrustedApp(o))return;let l=n.getHostname(s.blinkUrl),u=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:kf++,params:[{url:s.blinkUrl,icon:l?n.getFaviconURL(l):null}]});if("error"in u)return a.error(e.id,u.error)};c();p();var Co=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=F(t),i=le(t),l=ye(t);if(!o||!i)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let u=await r.sol.autoConfirmValidateTransaction(i,e.params.transactions),h=u.status==="OK";if(Ye(u.status)&&await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:o,data:{sessionStartTime:u.sessionStartTime,sessionMaxDuration:u.sessionMaxDuration,lastStatusCode:u.status,dollarValue:u.dollarValue,auditTrail:u.auditTrail}}),h)return;let x={url:i.toString(),icon:l},g=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAllTransactions",id:Date.now(),params:[x,{transactions:e.params.transactions,autoConfirmStatusCode:u.status}]});if("error"in g)return a.error(e.id,g.error);switch(g.result.type){case"send":return a.result(e.id,g.result.result.map(f=>({transaction:f.signedTransaction,signature:f.signature,version:f.version})));case"signAndSend":{let f=g.result.overwriteTransactions;f&&(e.params.transactions=f);return}}};c();p();var Bo=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=F(t),i=le(t),l=ye(t);if(!o||!i)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let u=await r.sol.autoConfirmValidateTransaction(i,e.params.transactions),h=u.status==="OK";if(Ye(u.status)&&await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:o,data:{sessionStartTime:u.sessionStartTime,sessionMaxDuration:u.sessionMaxDuration,lastStatusCode:u.status,dollarValue:u.dollarValue,auditTrail:u.auditTrail}}),h)return;let x={url:i.toString(),icon:l},g=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendAllTransactions",id:Date.now(),params:[x,{transactions:e.params.transactions,autoConfirmStatusCode:u.status}]});if("error"in g)return a.error(e.id,g.error);switch(g.result.type){case"send":{let f=await r.sol.getSelectedAccount();for(let[w,S]of g.result.result.entries())e.params.transactions[w]=S.signedTransaction;let R=await r.sol.sendAllTransactions(e.params.transactions);return a.result(e.id,{publicKey:f,signatures:R})}case"signAndSend":{let f=g.result.overwriteTransactions;f&&(e.params.transactions=f);return}}};c();p();var Lo=async({request:e,source:t,id:r},{wallet:n,utils:s})=>{if(!t)return a.unauthorized(e.id);if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id);let o=s.getHostname(e.params.context.blinkUrl),i={url:e.params.context.blinkUrl,icon:o?s.getFaviconURL(o):null},l=await n.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendAllTransactions",id:Date.now(),params:[i,{transactions:e.params.transactions,autoConfirmStatusCode:"UNSUPPORTED_METHOD",sequenceId:r}]});if("error"in l)return a.error(e.id,l.error);switch(l.result.type){case"send":{let u=await n.sol.getSelectedAccount();for(let[x,g]of l.result.result.entries())e.params.transactions[x]=g.signedTransaction;let h=await n.sol.sendAllTransactions(e.params.transactions);return a.result(e.id,{publicKey:u,signatures:h})}case"signAndSend":return}};c();p();var Mo=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=F(t),i=le(t),l=ye(t);if(!o||!i)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let u=await r.sol.autoConfirmValidateTransaction(i,[e.params.transaction]),h=u.status==="OK";if(Ye(u.status)&&await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:o,data:{sessionStartTime:u.sessionStartTime,sessionMaxDuration:u.sessionMaxDuration,lastStatusCode:u.status,dollarValue:u.dollarValue,auditTrail:u.auditTrail}}),h)return;let x={url:i.toString(),icon:l},g=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendTransaction",id:Date.now(),params:[x,{transaction:e.params.transaction,autoConfirmStatusCode:u.status}]});if("error"in g)return a.error(e.id,g.error);switch(g.result.type){case"send":{let f=await r.sol.getSelectedAccount();return await r.sol.sendTransaction(g.result.signedTransaction,e.params.options),a.result(e.id,{publicKey:f,signature:g.result.signature})}case"signAndSend":{let f=g.result.overwriteTransactions;f&&(e.params.transaction=f[0]);return}}};c();p();var No=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=F(t),i=le(t);if(!o||!i)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let l=await r.sol.autoConfirmValidateMessage(i,e.params.message),u=l.status==="OK";if(Ye(l.status)&&await s.sol.autoConfirmedMessage({request:e,chainId:await r.sol.getNetworkId(),origin:o,data:{sessionStartTime:l.sessionStartTime,sessionMaxDuration:l.sessionMaxDuration,lastStatusCode:l.status,auditTrail:l.auditTrail}}),u)return;let h=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:Date.now(),params:[{url:i.toString(),icon:ye(t)},{...e.params,autoConfirmStatusCode:l.status}]});if("error"in h)return a.error(e.id,h.error)};c();p();var Po=async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(t.type!=="BrowserTabRpcRequestSource")return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=s.getHostname(e.params.context.blinkUrl),i={url:e.params.context.blinkUrl,icon:o?s.getFaviconURL(o):null},l=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:Date.now(),params:[i,{...e.params,autoConfirmStatusCode:"UNSUPPORTED_METHOD"}]});if("error"in l)return a.error(e.id,l.error)};c();p();var Uo=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let o=F(t),i=le(t),l=ye(t);if(!o||!i)return a.unauthorized(e.id);let u=await r.sol.autoConfirmValidateTransaction(i,[e.params.transaction]),h=u.status==="OK";if(Ye(u.status)&&await s.sol.autoConfirmedTransaction({request:e,chainId:await r.sol.getNetworkId(),origin:o,data:{sessionStartTime:u.sessionStartTime,sessionMaxDuration:u.sessionMaxDuration,lastStatusCode:u.status,dollarValue:u.dollarValue,auditTrail:u.auditTrail}}),h)return;let x={url:i.toString(),icon:l},g=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignTransaction",id:Date.now(),params:[x,{transaction:e.params.transaction,autoConfirmStatusCode:u.status}]});if("error"in g)return a.error(e.id,g.error);switch(g.result.type){case"send":return a.result(e.id,{transaction:g.result.signedTransaction,signature:g.result.signature,version:g.result.version});case"signAndSend":{let f=g.result.overwriteTransactions;f&&(e.params.transaction=f[0]);return}}};c();p();var et=async({request:e,source:t},{analytics:r,wallet:n,utils:s})=>{if(!t)return a.internalError(e.id,"missing source");let o=le(t);if(!o)return a.internalError(e.id,"missing source");let i=o.hostname;return async l=>{let{method:u}=e;if(Jt(i))return;let h=await n.sol.getNetworkId();if(h==="localnet")return;let x=s.sol.chainIdToCAIP2(h),f={method:u,chainType:"solana",chainId:x,origin:i};"error"in l&&(f.errorCode=l.error.code),u==="sol_connect"&&_f(f,r),(u==="sol_signTransaction"||u==="sol_signAndSendTransaction"||u==="sol_signAndSendAllTransactions"||u==="sol_signAllTransactions")&&Tf(f,r),(u==="sol_signMessage"||u==="sol_signIn")&&Ef(f,r)}},_f=(e,t)=>{"errorCode"in e?t.declineConnection(e):t.approveConnection(e)},Tf=(e,t)=>{"errorCode"in e?t.declineTransaction(e):t.approveTransaction(e)},Ef=(e,t)=>{"errorCode"in e?t.declineSignMessage(e):t.approveSignMessage(e)};c();p();var ot=async({request:e},{analytics:t,wallet:r,utils:n})=>async s=>{let{method:o}=e,i=e.params&&typeof e.params=="object"&&"redirect_link"in e.params&&typeof e.params.redirect_link=="string"?e.params.redirect_link:"missing redirect_link from deep link";t.deepLinkDetected({method:o,params:JSON.stringify(e.params)});let l=await r.sol.getNetworkId();if(l==="localnet")return;let u=n.sol.chainIdToCAIP2(l),x={method:o,chainType:"solana",chainId:u,origin:i};if(o==="phantom_deep_link_connect"){let g={...x};"error"in s?t.declineConnection({...g,errorCode:s.error.code}):t.approveConnection(g)}if(o==="phantom_deep_link_signTransaction"||o==="phantom_deep_link_signAllTransactions"||o==="phantom_deep_link_signAndSendTransaction"){let g={...x};"error"in s?t.declineTransaction({...g,errorCode:s.error.code}):t.approveTransaction(g)}if(o==="phantom_deep_link_signMessage"){let g={...x};"error"in s?t.declineSignMessage({...g,errorCode:s.error.code}):t.approveSignMessage(g)}};c();p();function Do(e){return!!("result"in e&&typeof e.result=="object"&&e.result&&"type"in e.result&&e.result?.type&&typeof e.result.type=="string"&&e.result.type.toUpperCase().endsWith("_DECLINE"))}var Pr=async({request:e},{analytics:t,wallet:r,utils:n})=>async s=>{let{method:o}=e,i="no identity or verifiable identity found on solana mobile wallet adapter request";if(e.params&&typeof e.params=="object"&&"identity"in e.params){let g=nc.safeParse(e.params.identity);g.success&&(i=g.data.identityUri??i)}else if(e.params&&typeof e.params=="object"&&"signPayloads"in e.params){let g=sc.safeParse(e.params.signPayloads);g.success&&(i=g.data.verifiableIdentity.identity.identityUri??i)}let l=await r.sol.getNetworkId();if(l==="localnet")return;let u=n.sol.chainIdToCAIP2(l),x={method:o,chainType:"solana",chainId:u,origin:i};if(o==="sol_mwa_authorize"){let g={...x};"error"in s?t.declineConnection({...g,errorCode:s.error.code}):Do(s)?t.declineConnection({...g,errorCode:s.result.type}):t.approveConnection(g)}if(o==="sol_mwa_sign_transactions"||o==="sol_mwa_sign_and_send_transactions"){let g={...x};"error"in s?t.declineTransaction({...g,errorCode:s.error.code}):Do(s)?t.declineTransaction({...g,errorCode:s.result.type}):t.approveTransaction(g)}if(o==="sol_mwa_sign_messages"){let g={...x};"error"in s?t.declineSignMessage({...g,errorCode:s.error.code}):Do(s)?t.declineSignMessage({...g,errorCode:s.result.type}):t.approveSignMessage(g)}};c();p();var Nt=async({request:e},{logger:t,featureFlags:r})=>{if(!await r.isEnabled("enable-blinks-v2-config"))return t.debug("> Blinks V2 Config feature flag is disabled"),a.cancelled(e.id)};c();p();var Pt=async({source:e,request:t},r)=>{if(!e||e.type!=="BrowserTabRpcRequestSource"||!["x.com","twitter.com","pro.x.com","sandbox.phantom.dev","localhost","phantom.com"].includes(e.url.hostname))return a.unauthorized(t.id)};c();p();var hr=async({request:e},{wallet:t,logger:r,utils:n})=>{let s=null;switch(e.method){case"sol_blink_signAndSendAllTransactions":case"sol_blink_signMessage":s=e.params.context;break;case"eth_blink_sendTransaction":s=e.params[1].context;break;case"eth_blink_sign":s=e.params[2].context;break}let o=n.getOrigin(s.blinkUrl);if(!o)return a.unauthorized(e.id);if(!await t.isTrustedApp(o))return r.debug("> Dapp not trusted",o),a.unauthorized(e.id)};c();p();var Gn=[],ze=e=>async({source:t,request:r})=>{let n=Date.now(),o=`${t?.type==="DeepLinkRpcRequestSource"?t.deepLinkUrl:t?.url.href}:${r.method}:${JSON.stringify(r.params)}`;if(Gn=Gn.filter(l=>l.timestamp>n-1e3),Gn.filter(l=>l.key===o).length>=e)return a.rateLimited(r.id);Gn.push({timestamp:n,key:o})};c();p();var At=async({request:e},{wallet:t})=>{if(!await t.isUserOnboarded()){if(e.method==="sol_connect"&&e.params.onlyIfTrusted)return a.userRejectedRequest(e.id);await t.requestUserOnboard()}};c();p();var Ur=async({request:e,source:t},{analytics:r})=>{if(!t)return a.internalError(e.id,"missing source");let n=le(t);if(!n)return a.internalError(e.id);let s=n.hostname;return async o=>{let{method:i}=e;if(Jt(s))return;let l={method:i,chainType:"sui",chainId:"mainnet",origin:s};if(i==="sui_requestAccounts"){let u={...l};"error"in o?r.declineConnection({...u,errorCode:o.error.code}):r.approveConnection(u)}if(i==="sui_signTransaction"||i==="sui_signAndExecuteTransaction"){let u={...l};"error"in o?r.declineTransaction({...u,errorCode:o.error.code}):r.approveTransaction(u)}if(i==="sui_signMessage"){let u={...l};"error"in o?r.declineSignMessage({...u,errorCode:o.error.code}):r.approveSignMessage(u)}}};c();p();var If=0,Oo=async(e,{wallet:t})=>{let{request:r,source:n}=e;if(!n)return a.userRejectedRequest(r.id);let s=F(n),o=le(n),i=ye(n);if(!s||!o)return a.unauthorized(r.id);if(await t.isTrustedApp(s))return;let u=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSuiRequestAccounts",id:If++,params:[{url:o.toString(),icon:i}]});if("error"in u)return a.error(r.id,u.error)};c();p();var Yn=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=le(t),o=ye(t);if(!s)return a.unauthorized(e.id);let i=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSuiSignTransaction",id:Date.now(),params:[{url:s.toString(),icon:o},{transaction:e.params.transaction}]});if("error"in i)return a.error(e.id,i.error)};c();p();var qo=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=le(t),o=ye(t);if(!s)return a.unauthorized(e.id);let i=await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSuiSignMessage",id:Date.now(),params:[{url:s.toString(),icon:o},{message:e.params.message}]});if("error"in i)return a.error(e.id,i.error)};c();p();c();p();c();p();var Ho=async({request:e,source:t},{wallet:r})=>{if(!t)return a.result(e.id,[]);let n=F(t);if(!n)return a.internalError(e.id,"missing source");if(!await r.isTrustedApp(n))return a.result(e.id,[]);let o=await r.eth.getAccounts();return a.result(e.id,o)};c();p();var Fo=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_blockNumber(i,e.params);return a.any(e.id,l)};c();p();var Wo=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_call(i,e.params);return a.any(e.id,l)};c();p();var Vo=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_cancelPrivateTransaction(i,e.params);return a.any(e.id,l)};c();p();var jo=async({request:e,source:t},{wallet:r})=>{if(!t)return a.internalError(e.id,"missing source");let n=F(t);if(!n)return a.internalError(e.id,"missing source");let s=await r.eth.getNetworkId(n);return a.result(e.id,s)};c();p();var zo=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_estimateGas(i,e.params);return a.any(e.id,l)};c();p();var Ko=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_feeHistory(i,e.params);return a.any(e.id,l)};c();p();var $o=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_gasPrice(i,e.params);return a.any(e.id,l)};c();p();var Go=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getBalance(i,e.params);return a.any(e.id,l)};c();p();var Yo=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getBlockByHash(i,e.params);return a.any(e.id,l)};c();p();var Zo=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getBlockByNumber(i,e.params);return a.any(e.id,l)};c();p();var Xo=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getBlockReceipts(i,e.params);return a.any(e.id,l)};c();p();var Jo=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getBlockTransactionCountByHash(i,e.params);return a.any(e.id,l)};c();p();var Qo=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getBlockTransactionCountByNumber(i,e.params);return a.any(e.id,l)};c();p();var ei=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getCode(i,e.params);return a.any(e.id,l)};c();p();var ti=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getFilterChanges(i,e.params);return a.any(e.id,l)};c();p();var ri=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getFilterLogs(i,e.params);return a.any(e.id,l)};c();p();var ni=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getLogs(i,e.params);return a.any(e.id,l)};c();p();var si=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getProof(i,e.params);return a.any(e.id,l)};c();p();var oi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getStorageAt(i,e.params);return a.any(e.id,l)};c();p();var ii=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getTransactionByBlockHashAndIndex(i,e.params);return a.any(e.id,l)};c();p();var ai=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getTransactionByBlockNumberAndIndex(i,e.params);return a.any(e.id,l)};c();p();var ci=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getTransactionByHash(i,e.params);return a.any(e.id,l)};c();p();var pi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getTransactionCount(i,e.params);return a.any(e.id,l)};c();p();var di=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getTransactionReceipt(i,e.params);return a.any(e.id,l)};c();p();var li=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getUncleByBlockHashAndIndex(i,e.params);return a.any(e.id,l)};c();p();var ui=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getUncleByBlockNumberAndIndex(i,e.params);return a.any(e.id,l)};c();p();var mi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getUncleCountByBlockHash(i,e.params);return a.any(e.id,l)};c();p();var hi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_getUncleCountByBlockNumber(i,e.params);return a.any(e.id,l)};c();p();var fi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_maxPriorityFeePerGas(i,e.params);return a.any(e.id,l)};c();p();var gi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_newBlockFilter(i,e.params);return a.any(e.id,l)};c();p();var yi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_newFilter(i,e.params);return a.any(e.id,l)};c();p();var xi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_newPendingTransactionFilter(i,e.params);return a.any(e.id,l)};c();p();var wi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_protocolVersion(i,e.params);return a.any(e.id,l)};c();p();var bi=async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=F(t),s=ye(t),o=le(t);if(!n||!o)return a.unauthorized(e.id);let i={url:o,icon:s?new URL(s):void 0};await r.addTrustedApp(n,i);let l=await r.eth.getSelectedAccount();return a.result(e.id,[l])};c();p();var Si=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_sendRawTransaction(i,e.params);return a.any(e.id,l)};c();p();var Ai=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_sendPrivateTransaction(i,e.params);return a.any(e.id,l)};c();p();var vi=async({request:e,source:t},{wallet:r,i18n:n})=>{if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=F(t);if(!s)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(!await r.isTrustedApp(s))return a.unauthorized(e.id);let[i]=e.params,l=await r.eth.getSelectedAccount();if(i.from.toLowerCase()!==l.toLowerCase())return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedWrongAccount"));if(i.type!=="0x2")return a.transactionRejected(e.id);if(!i.chainId)return a.transactionRejected(e.id);if(!i.nonce)return a.transactionRejected(e.id);let u=await r.eth.signAndSendTransaction(i);return a.any(e.id,{result:u})};c();p();var Ri=async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,o=await t.eth.getSelectedAccount();if(n.toLowerCase()!==o)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let i=await t.eth.signMessage(s);return a.result(e.id,i)};c();p();var ki=async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,o=await t.eth.getSelectedAccount();if(s.toLowerCase()!==o)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let i=await t.eth.signTypedData({version:1,data:n});return a.result(e.id,i)};c();p();var _i=async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,o=await t.eth.getSelectedAccount();if(n.toLowerCase()!==o)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let i=await t.eth.signTypedData({version:3,data:s});return a.result(e.id,i)};c();p();var Ti=async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,o=await t.eth.getSelectedAccount();if(n.toLowerCase()!==o)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let i=await t.eth.signTypedData({version:4,data:s});return a.result(e.id,i)};c();p();var Ei=async({request:e},t)=>a.unsupportedMethod(e.id);c();p();var Ii=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id);let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_syncing(i,e.params);return a.any(e.id,l)};c();p();var Ci=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.eth_uninstallFilter(i,e.params);return a.any(e.id,l)};c();p();var Bi=async({request:e},t)=>a.unsupportedMethod(e.id);c();p();var Li=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.net_listening(i,e.params);return a.any(e.id,l)};c();p();var Mi=async({request:e,source:t},{wallet:r})=>{if(!t)return a.internalError(e.id,"missing source");let n=F(t);if(!n)return a.internalError(e.id,"missing source");let s=await r.eth.getNetworkId(n);return a.result(e.id,parseInt(s,16).toString())};c();p();var Ni=async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,o=await t.eth.getSelectedAccount();if(s.toLowerCase()!==o)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let i=await t.eth.signMessage(n);return a.result(e.id,i)};c();p();var Pi=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{let[o]=e.params;if(!await r.eth.addChain(o))return a.userRejectedRequest(e.id,n.t("Could not add the requested chain. It is not yet supported."));if(!t)return a.internalError(e.id,"missing source");let l=F(t);return l?await r.eth.switchChain(o.chainId,l)?a.result(e.id,null):(s.eth.unsupportedChain({origin:l,data:{method:e.method,hexChainId:o.chainId,chainName:o.chainName}}),a.internalError(e.id,n.t("Could not switch to the requested chain."))):a.internalError(e.id,"missing source")};c();p();var Ui=async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=F(t),s=le(t),o=ye(t);if(!n||!s)return a.unauthorized(e.id);if(await r.isTrustedApp(n))return a.result(e.id,tc.enum.CONTINUE_WITH_PHANTOM);let l=await r.requestUserApproval({jsonrpc:"2.0",method:"user_selectEthWallet",id:0,params:[{url:s.toString(),icon:o}]});if("error"in l)return a.error(e.id,l.error);switch(l.result){case lr.user_selectEthWallet.result.enum.CONTINUE_WITH_METAMASK:return a.result(e.id,l.result);case lr.user_selectEthWallet.result.enum.CONTINUE_WITH_PHANTOM:return a.result(e.id,l.result);case lr.user_selectEthWallet.result.enum.ALWAYS_USE_PHANTOM:return await r.setMetaMaskOverrideSetting("USE_PHANTOM"),a.result(e.id,l.result);case lr.user_selectEthWallet.result.enum.ALWAYS_USE_METAMASK:return await r.setMetaMaskOverrideSetting("USE_METAMASK"),a.result(e.id,l.result)}};c();p();var Di=async({request:e,source:t},{wallet:r,i18n:n,analytics:s})=>{if(!t)return a.internalError(e.id,"missing source");let o=F(t);if(!o)return a.internalError(e.id,"missing source");let[{chainId:i}]=e.params;return await r.eth.switchChain(i,o)?a.result(e.id,null):(s.eth.unsupportedChain({origin:o,data:{method:e.method,hexChainId:i}}),a.chainDisconnected(e.id,n.t("Could not switch to the requested chain. It is not yet supported.")))};c();p();var Oi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.web3_clientVersion(i,e.params);return a.any(e.id,l)};c();p();var qi=async({request:e,source:t},{wallet:r,rpc:n})=>{if(!t)return a.internalError(e.id,"missing source");let s=F(t);if(!s)return a.internalError(e.id,"missing source");let o=await r.eth.getNetworkId(s),i=await r.eth.getRpcURL(o),l=await n.eth.web3_sha3(i,e.params);return a.any(e.id,l)};c();p();var Hi=async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=F(t),s=le(t),o=ye(t);if(!n||!s)return a.unauthorized(e.id);let i=e.params[0];if(!Object.keys(i).includes("eth_accounts"))return a.result(e.id,[]);let u={url:s,icon:o?new URL(o):void 0};return await r.addTrustedApp(n,u),a.result(e.id,[{parentCapability:"eth_accounts",date:Date.now()}])};c();p();var Fi=async({request:e,source:t},{wallet:r})=>{if(!t)return a.result(e.id,[]);let n=F(t);return n?await r.isTrustedApp(n)?a.result(e.id,[{invoker:n,parentCapability:"eth_accounts",caveats:[]}]):a.result(e.id,[]):a.result(e.id,[])};var mt={};Ne(mt,{sol_connect:()=>Dd,sol_disconnect:()=>Od,sol_signAllTransactions:()=>qd,sol_signAndSendAllTransactions:()=>Fd,sol_signAndSendTransaction:()=>Hd,sol_signIn:()=>Vd,sol_signMessage:()=>Wd,sol_signTransaction:()=>jd});c();p();c();p();var Dd=async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=F(t),s=le(t),o=ye(t);if(!n||!s)return a.unauthorized(e.id);let i={url:s,icon:o?new URL(o):void 0};await r.addTrustedApp(n,i);let l=await r.sol.getSelectedAccount();return a.result(e.id,{publicKey:l})};c();p();var Od=async({request:e,source:t})=>t?a.result(e.id,null):a.unauthorized(e.id);c();p();var qd=async({request:e},{wallet:t})=>{let r=await t.sol.signAllTransactions(e.params.transactions);return a.result(e.id,r)};c();p();var Hd=async({source:e,request:t},{wallet:r,i18n:n})=>{if(!e)return a.unauthorized(t.id,n.t("rpcErrorUnauthorizedUnknownSource"));let s=ye(e),o=le(e);if(!o)return a.unauthorized(t.id);let i=await r.sol.getSelectedAccount(),l=await r.sol.signTransaction(t.params.transaction);return t.params.showConfirmation&&r.requestUserApproval({jsonrpc:"2.0",method:"user_solTransactionConfirmation",id:Date.now(),params:[{url:o.toString(),icon:s},{signature:l.signature,postAction:t.params.postAction}]}),await r.sol.sendTransaction(l.transaction,t.params.options),a.result(t.id,{publicKey:i,signature:l.signature})};c();p();var Fd=async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await Promise.all(e.params.transactions.map(o=>t.sol.signTransaction(o))),s=await t.sol.sendAllTransactions(n.map(o=>o.transaction));return a.result(e.id,{publicKey:r,signatures:s})};c();p();var Wd=async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await t.sol.signMessage(e.params.message);return a.result(e.id,{publicKey:r,signature:n})};c();p();var Vd=async({request:e,source:t},{wallet:r,utils:n,i18n:s})=>{if(!t)return a.userRejectedRequest(e.id);let o=F(t),i=le(t),l=ye(t);if(!o||!i)return a.userRejectedRequest(e.id);let u=await r.isTrustedApp(o),h=await r.sol.getNetworkId(),x=await r.sol.getSelectedAccount(),g=new URL(i.toString()),f=n.sol.serializeSolanaSignInMessage(e.params.signInData,{expectedChainId:h,expectedAddress:x,expectedURL:g});if(f.type==="fail"){if(f.error[0].label==="PARSE_ERROR")return a.invalidInput(e.id,s.t("The app's signature request cannot be shown due to invalid formatting."));if(f.error.some(S=>S.label==="chain"))return a.invalidInput(e.id,s.t("The app's signature request cannot be shown as the chain ID does not match the provided chain ID for verification."));if(f.error.some(S=>S.label==="address"))return a.invalidInput(e.id,s.t("The app's signature request cannot be shown as the address does not match the provided address for verification."))}if(e.params.signInData.domain||(e.params.signInData.domain=g.host),e.params.signInData.address||(e.params.signInData.address=x),"error"in await r.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignIn",params:[{url:i.toString(),icon:l},{connect:!u,signInData:e.params.signInData,message:f.data,errorDetails:f.type==="fail"?f.error:void 0}],id:Date.now()}))return f.type==="fail"?a.invalidInput(e.id,s.t("This sign-in request is invalid. This either means the site is unsafe, or its developer made an error when sending the request.")):a.userRejectedRequest(e.id);u||await r.isTrustedApp(o)||await r.addTrustedApp(o,{url:i,icon:l?new URL(l):void 0});let w=await r.sol.signMessage(f.data);return a.result(e.id,{address:x,signedMessage:f.data,signature:w})};c();p();var jd=async({request:e},{wallet:t})=>{let r=await t.sol.signTransaction(e.params.transaction);return a.result(e.id,r)};var Dr={};Ne(Dr,{btc_requestAccounts:()=>zd,btc_signMessage:()=>Kd,btc_signPSBT:()=>$d});c();p();c();p();var zd=async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=F(t),s=le(t),o=ye(t);if(!n||!s)return a.unauthorized(e.id);let i={url:s,icon:o?new URL(o):void 0};await r.addTrustedApp(n,i);let l=await r.btc.getSelectedAccount();return a.result(e.id,l)};c();p();var Kd=async({request:e},{wallet:t})=>{let r=await t.btc.signMessage(e.params.address,e.params.message);return a.result(e.id,{...r})};c();p();var $d=async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=await r.btc.signPSBT(...e.params);return a.result(e.id,n)};var Ve={};Ne(Ve,{phantom_deep_link_browse:()=>Gd,phantom_deep_link_connect:()=>Jd,phantom_deep_link_disconnect:()=>Qd,phantom_deep_link_fungible:()=>Zd,phantom_deep_link_navigate:()=>dl,phantom_deep_link_onboard:()=>cl,phantom_deep_link_onramp:()=>pl,phantom_deep_link_signAllTransactions:()=>sl,phantom_deep_link_signAndSendAllTransactions:()=>il,phantom_deep_link_signAndSendTransaction:()=>ol,phantom_deep_link_signIn:()=>rl,phantom_deep_link_signMessage:()=>el,phantom_deep_link_signTransaction:()=>nl,phantom_deep_link_swap:()=>Yd,phantom_deep_link_tokens:()=>al,phantom_deep_link_user:()=>Xd});c();p();c();p();var Gd=async({request:e},{wallet:t})=>{let{url:r,ref:n}=e.params;return t.navigate("DetachedBrowser",{url:r,ref:n}),a.result(e.id,null)};c();p();var Yd=async({request:e},{wallet:t})=>(t.navigate("SwapTab",{screen:"Swap",params:{buyFungible:e.params.buy,sellFungible:e.params.sell,sellAmount:e.params.amount,navRef:e.id}}),a.result(e.id,null));c();p();var Zd=async({request:e},{wallet:t})=>(Sc(e.params.token),t.navigate("FungibleStack",{screen:"UnifiedFungibleDetail",params:{caip19:e.params.token,entryPoint:"deepLink"}}),a.result(e.id,null));c();p();var Xd=async({request:e},{wallet:t,analytics:r})=>{let{username:n,action:s}=e.params;return r.userDeepLink({username:n,action:s}),t.openUserProfile(n,s),a.result(e.id,null)};c();p();var Cf=0,Jd=async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:Cf++,params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)}]});if("error"in s)return a.error(e.id,s.error);let o=Tr(e.params.redirect_link)?.origin??"";await t.isTrustedApp(o)&&await t.deleteTrustedApp(o),await t.addTrustedApp(o,{url:new URL(o),icon:new URL(n.getFaviconURL(o))});let i=await t.sol.getSelectedAccount(),{sharedSecret:l,phantomKeySecret:u,phantomKeyPublicKey:h}=r.generateSharedSecret(e.params.dapp_encryption_public_key);await r.setSharedSecret(new we.PublicKey(i).toBase58(),e.params.dapp_encryption_public_key,l,u,h);let x=await r.generateSession(new we.PublicKey(i).toBase58(),e.params?.cluster??"mainnet-beta",e.params.app_url),{nonce:g,encryptedPayload:f}=await r.encryptDeepLinkDappPayload(x,new we.PublicKey(i).toBase58(),e.params.dapp_encryption_public_key);return a.result(e.id,{phantom_encryption_public_key:h,nonce:g,data:f})};c();p();var Qd=async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=Tr(e.params.redirect_link).origin??"";await t.isTrustedApp(s)&&await t.deleteTrustedApp(s);let o=await t.sol.getSelectedAccount(),i=n.sol.chainIdToCluster(await t.sol.getNetworkId());return typeof(await r.decryptDeepLinkDappPayload(e.params,e.params.dapp_encryption_public_key,new we.PublicKey(o),i)).session!="string"?a.error(e.id,{code:-32e3,message:"Missing or invalid parameters."}):(r.deleteSharedSecret(o,e.params.dapp_encryption_public_key),a.result(e.id,null))};c();p();var el=async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),o=n.sol.chainIdToCluster(await t.sol.getNetworkId()),i=e.params,l=await r.decryptDeepLinkDappPayload(i,e.params.dapp_encryption_public_key,new we.PublicKey(s),o);if(typeof l.session!="string"||typeof l.message!="string"||!(!l.display||["utf8","hex"].includes(l.display)))return a.error(e.id,{code:-32e3,message:"Missing or invalid parameters."});let u={message:l.message,display:l.display??"utf8"},h=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:Date.now(),params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{...u,autoConfirmStatusCode:"DISABLED"}]});if("error"in h)return a.error(e.id,h.error);let g={signature:await t.sol.signMessage(l.message),publicKey:s},{nonce:f,encryptedPayload:R}=await r.encryptDeepLinkDappPayload(g,new we.PublicKey(s).toBase58(),e.params.dapp_encryption_public_key);return a.result(e.id,{nonce:f,data:R})};c();p();var tl=re(Nr()),rl=async({request:e},{wallet:t,secrets:r,utils:n,i18n:s})=>{let o;try{o=JSON.parse(Buffer.from(tl.default.decode(e.params.payload)).toString())}catch{return a.invalidInput(e.id,s.t("The app's signature request cannot be shown due to invalid formatting. Please contact the app developer for assistance."))}let i=new URL(e.params.app_url).origin??"",l=new URL(e.params.redirect_link).origin;l=l==="null"?i:l;let u=await t.isTrustedApp(l),h=await t.sol.getNetworkId(),x=await t.sol.getSelectedAccount(),g=new URL(e.params.redirect_link),f=n.sol.serializeSolanaSignInMessage(o,{expectedChainId:h,expectedAddress:x,expectedURL:g});if(f.type==="fail"){if(f.error[0].label==="PARSE_ERROR")return a.invalidInput(e.id,s.t("The app's signature request cannot be shown due to invalid formatting."));if(f.error.some(M=>M.label==="chain"))return a.invalidInput(e.id,s.t("The app's signature request cannot be shown as the chain ID does not match the provided chain ID for verification."));if(f.error.some(M=>M.label==="address"))return a.invalidInput(e.id,s.t("The app's signature request cannot be shown as the address does not match the provided address for verification."))}if(o.domain||(o.domain=g.host),o.address||(o.address=x),"error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignIn",params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{connect:!u,signInData:o,message:f.data,errorDetails:f.type==="fail"?f.error:void 0}],id:Date.now()}))return f.type==="fail"?a.invalidInput(e.id,s.t("This sign-in request is invalid. This either means the site is unsafe, or its developer made an error when sending the request.")):a.userRejectedRequest(e.id);u||await t.isTrustedApp(l)||await t.addTrustedApp(l,{url:new URL(l),icon:new URL(n.getFaviconURL(l))});let{sharedSecret:w,phantomKeySecret:S,phantomKeyPublicKey:y}=r.generateSharedSecret(e.params.dapp_encryption_public_key);await r.setSharedSecret(new we.PublicKey(x).toBase58(),e.params.dapp_encryption_public_key,w,S,y);let v=await r.generateSession(new we.PublicKey(x).toBase58(),e.params?.cluster??"mainnet-beta",e.params.app_url),C=await t.sol.signMessage(f.data),_={address:v.public_key,signature:C,signedMessage:f.data,session:v.session},{nonce:I,encryptedPayload:P}=await r.encryptDeepLinkDappPayload(_,new we.PublicKey(x).toBase58(),e.params.dapp_encryption_public_key);return a.result(e.id,{phantom_encryption_public_key:y,nonce:I,data:P})};c();p();var nl=async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),o=n.sol.chainIdToCluster(await t.sol.getNetworkId()),i=await r.decryptDeepLinkDappPayload(e.params,e.params.dapp_encryption_public_key,new we.PublicKey(s),o);if(typeof i.session!="string"||typeof i.transaction!="string")return a.error(e.id,{code:-32e3,message:"Missing or invalid parameters."});let l=await t.sol.addPriorityFee(i.transaction),u=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignTransaction",id:Date.now(),params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{transaction:l,autoConfirmStatusCode:"DISABLED"}]});if("error"in u)return a.error(e.id,u.error);let{transaction:h}=await t.sol.signTransaction(l),x={transaction:h},{nonce:g,encryptedPayload:f}=await r.encryptDeepLinkDappPayload(x,new we.PublicKey(s).toBase58(),e.params.dapp_encryption_public_key);return a.result(e.id,{nonce:g,data:f})};c();p();var sl=async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),o=n.sol.chainIdToCluster(await t.sol.getNetworkId()),i=await r.decryptDeepLinkDappPayload(e.params,e.params.dapp_encryption_public_key,new we.PublicKey(s),o);if(typeof i.session!="string"||!Array.isArray(i.transactions)||!i.transactions.every(R=>typeof R=="string"))return a.error(e.id,{code:-32e3,message:"Missing or invalid parameters."});let l=await Promise.all(i.transactions.map(R=>t.sol.addPriorityFee(R))),u=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAllTransactions",id:Date.now(),params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{transactions:l,autoConfirmStatusCode:"DISABLED"}]});if("error"in u)return a.error(e.id,u.error);let x={transactions:(await t.sol.signAllTransactions(l)).map(R=>R.transaction)},{nonce:g,encryptedPayload:f}=await r.encryptDeepLinkDappPayload(x,new we.PublicKey(s).toBase58(),e.params.dapp_encryption_public_key);return a.result(e.id,{nonce:g,data:f})};c();p();var ol=async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),o=n.sol.chainIdToCluster(await t.sol.getNetworkId()),i=e.params,l=await r.decryptDeepLinkDappPayload(i,e.params.dapp_encryption_public_key,new we.PublicKey(s),o);if(typeof l.session!="string"||typeof l.transaction!="string")return a.error(e.id,{code:-32e3,message:"Missing or invalid parameters."});let u=await t.sol.addPriorityFee(l.transaction),h=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendTransaction",id:Date.now(),params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{transaction:u,autoConfirmStatusCode:"DISABLED"}]});if("error"in h)return a.error(e.id,h.error);let x=await t.sol.signTransaction(u);await t.sol.sendTransaction(x.transaction,l.sendOptions);let g={signature:x.signature},{nonce:f,encryptedPayload:R}=await r.encryptDeepLinkDappPayload(g,new we.PublicKey(s).toBase58(),e.params.dapp_encryption_public_key);return a.result(e.id,{nonce:f,data:R})};c();p();var il=async({request:e},{wallet:t,secrets:r,utils:n})=>{let s=await t.sol.getSelectedAccount(),o=n.sol.chainIdToCluster(await t.sol.getNetworkId()),i=await r.decryptDeepLinkDappPayload(e.params,e.params.dapp_encryption_public_key,new we.PublicKey(s),o);if(typeof i.session!="string"||!Array.isArray(i.transactions)||!i.transactions.every(w=>typeof w=="string"))return a.error(e.id,{code:-32e3,message:"Missing or invalid parameters."});let l=await Promise.all(i.transactions.map(w=>t.sol.addPriorityFee(w))),u=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendAllTransactions",id:Date.now(),params:[{url:`phantom.app.deep-link-${e.params.redirect_link}`,icon:n.getFaviconURL(e.params.redirect_link)},{transactions:l,autoConfirmStatusCode:"DISABLED"}]});if("error"in u)return a.error(e.id,u.error);let h=await t.sol.signAllTransactions(l),g={signatures:await t.sol.sendAllTransactions(h.map(w=>w.transaction),i.sendOptions)},{nonce:f,encryptedPayload:R}=await r.encryptDeepLinkDappPayload(g,new we.PublicKey(s).toBase58(),e.params.dapp_encryption_public_key);return a.result(e.id,{nonce:f,data:R})};c();p();var Bf=[He.solana,He.ethereum,He.polygon,He.bitcoin],Lf=(e,t)=>{let r=Bf.find(s=>s.id===e);if(!r)throw new Error(`Chain ${e} not supported`);let n=r.mainnetID;return typeof t!="string"?Bs({chainId:n,resourceType:"nativeToken",slip44:r.slip44}):Bs({chainId:n,address:t,resourceType:"address"})},al=async({request:e},{wallet:t,analytics:r})=>{let{chain:n,address:s}=e.params,o=Lf(n,s);return r.tokenDeepLink({caip19:o,...e.params}),t.navigate("FungibleStack",{screen:"UnifiedFungibleDetail",params:{caip19:o,entryPoint:"deepLink"}}),a.result(e.id,null)};c();p();var cl=async({request:e},{wallet:t})=>{if(!pc())return a.methodNotFound(e.id);let r=null,n=null,{value:s,accounts:o}=e.params;s&&(r=new Uint8Array(Buffer.from(s,"utf-8")),n=Qe.from(r),r.fill(0));let i=o?parseInt(o):1;if(i<1)throw new Error("accounts must be greater than 0");return await t.onboardQuickly(n,i),a.result(e.id,null)};c();p();var pl=async({request:e},{wallet:t})=>(t.navigate("FiatRamp",{buy:e.params.buy,amount:e.params.amount,redirectURL:e.params.redirectURL}),a.result(e.id,null));c();p();var dl=async({request:e},{wallet:t})=>(t.navigate(e.params.route),a.result(e.id,null));var Or={};Ne(Or,{sol_blink_connect:()=>ll,sol_blink_signAndSendAllTransactions:()=>ul,sol_blink_signMessage:()=>ml});c();p();c();p();var ll=async({request:e,source:t},{wallet:r,utils:n})=>{let s=e.params.context,{origin:o,hostname:i}=n.getOriginAndHostname(s.blinkUrl);if(!t||!o||!i)return a.unauthorized(e.id);await r.addTrustedApp(o,{icon:new URL(n.getFaviconURL(i)),url:new URL(o)});let l=await r.sol.getSelectedAccount();return a.result(e.id,{publicKey:l})};c();p();var ul=async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await Promise.all(e.params.transactions.map(o=>t.sol.signTransaction(o))),s=await t.sol.sendAllTransactions(n.map(o=>o.transaction));return a.result(e.id,{publicKey:r,signatures:s})};c();p();var ml=async({request:e},{wallet:t})=>{let r=await t.sol.getSelectedAccount(),n=await t.sol.signMessage(e.params.message);return a.result(e.id,{publicKey:r,signature:n})};var qr={};Ne(qr,{eth_blink_requestAccounts:()=>gl,eth_blink_sendTransaction:()=>hl,eth_blink_sign:()=>fl});c();p();c();p();var hl=async({request:e,source:t},{wallet:r,i18n:n,utils:s})=>{let[o,{context:i}]=e.params,l=s.getOrigin(i.blinkUrl);if(!i.blinkUrl||!l)return a.userRejectedRequest(e.id);if(!t)return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedUnknownSource"));if(!await r.isTrustedApp(l))return a.unauthorized(e.id);let h=await r.eth.getSelectedAccount();if(o.from.toLowerCase()!==h.toLowerCase())return a.unauthorized(e.id,n.t("rpcErrorUnauthorizedWrongAccount"));if(o.type!=="0x2")return a.transactionRejected(e.id);if(!o.chainId)return a.transactionRejected(e.id);if(!o.nonce)return a.transactionRejected(e.id);let x=await r.eth.signAndSendTransaction(o);return a.any(e.id,{result:x})};c();p();var fl=async({request:e},{wallet:t,i18n:r})=>{let[n,s]=e.params,o=await t.eth.getSelectedAccount();if(n.toLowerCase()!==o)return a.unauthorized(e.id,r.t("Message signer address does not match the selected account address."));let i=await t.eth.signMessage(s);return a.result(e.id,i)};c();p();var gl=async({request:e,source:t},{wallet:r,utils:n})=>{if(!t)return a.unauthorized(e.id);let{context:s}=e.params,{origin:o,hostname:i}=n.getOriginAndHostname(s.blinkUrl);if(!t||!o||!i)return a.unauthorized(e.id);await r.addTrustedApp(o,{icon:new URL(n.getFaviconURL(i)),url:new URL(o)});let l=await r.eth.getSelectedAccount();return a.result(e.id,[l])};var er={};Ne(er,{sol_mwa_authorize:()=>wl,sol_mwa_reauthorize:()=>yl,sol_mwa_sign_and_send_transactions:()=>bl,sol_mwa_sign_messages:()=>Al,sol_mwa_sign_transactions:()=>Sl});c();p();c();p();var yl=async({request:e},t)=>a.result(e.id,{type:"REAUTHORIZE_SUCCESS"});c();p();var xl=0,wl=async({request:e},{wallet:t,logger:r,utils:n})=>{let{cluster:s="mainnet-beta",identity:o}=e.params,{identityUri:i,iconRelativeUri:l}=o;if(!i)return r.error("identityUri is not defined in sol_mwa_authorize rpc request payload"),a.result(e.id,{type:"AUTHORIZE_DECLINE"});let u=s==="mainnet-beta"?"mainnet":"testnet",h=await t.sol.getNetworkId()===rc.value?"mainnet":"testnet";if(u!==h)return await t.requestUserApproval({jsonrpc:"2.0",method:"user_confirmIncorrectMode",id:xl++,params:[{url:`phantom.app.mwa-${i}`,icon:l?`${i}/${l}`:n.getFaviconURL(i)},h]}),a.result(e.id,{type:"AUTHORIZE_DECLINE"});if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolConnect",id:xl++,params:[{url:i,icon:l?`${i}/${l}`:n.getFaviconURL(i)}]}))return a.result(e.id,{type:"AUTHORIZE_DECLINE"});let g=await t.sol.getSelectedAccount();return a.result(e.id,{type:"AUTHORIZE_SUCCESS",publicKey:g,accountLabel:"phantom-wallet"})};c();p();var Wi=re(Nr()),bl=async({request:e},{wallet:t,logger:r,utils:n})=>{let{publicKey:s,payloads:o,verifiableIdentity:i}=e.params.signPayloads,{identityUri:l,iconRelativeUri:u}=i.identity,h=await t.sol.getSelectedAccount();if(s!==h)return a.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_ERROR_AUTHORIZATION_NOT_VALID"});if(!l)return r.error("identityUri is not defined in sol_mwa_sign_and_send_transactions rpc request payload"),a.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_DECLINE"});let x=o.map(R=>Wi.default.encode(Buffer.from(R,"base64"))),g=await Promise.all(x.map(R=>t.sol.addPriorityFee(R)));if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAndSendAllTransactions",id:Date.now(),params:[{url:`phantom.app.mwa-${l}`,icon:u?`${l}/${u}`:n.getFaviconURL(l)},{transactions:g,autoConfirmStatusCode:"DISABLED"}]}))return a.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_DECLINE"});try{let R=await t.sol.signAllTransactions(g);await t.sol.sendAllTransactions(R.map(S=>S.transaction));let w=R.map(S=>Buffer.from(Wi.default.decode(S.signature)).toString("base64"));return a.result(e.id,{type:"SIGN_AND_SEND_TRANSACTIONS_SUCCESS",signedPayloads:w})}catch{return a.error(e.id,{code:-32603,message:"Internal error"})}};c();p();var Vi=re(Nr()),Sl=async({request:e},{wallet:t,logger:r,utils:n})=>{let{publicKey:s,payloads:o,verifiableIdentity:i}=e.params.signPayloads,{identityUri:l,iconRelativeUri:u}=i.identity,h=await t.sol.getSelectedAccount();if(s!==h)return a.result(e.id,{type:"SIGN_PAYLOADS_ERROR_AUTHORIZATION_NOT_VALID"});if(!l)return r.error("identityUri is not defined in sol_mwa_sign_transactions rpc request payload"),a.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});let x=o.map(R=>Vi.default.encode(Buffer.from(R,"base64"))),g=await Promise.all(x.map(R=>t.sol.addPriorityFee(R)));if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignAllTransactions",id:Date.now(),params:[{url:`phantom.app.mwa-${l}`,icon:u?`${l}/${u}`:n.getFaviconURL(l)},{transactions:g,autoConfirmStatusCode:"DISABLED"}]}))return a.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});try{let w=(await t.sol.signAllTransactions(g)).map(S=>Buffer.from(Vi.default.decode(S.transaction)).toString("base64"));return a.result(e.id,{type:"SIGN_PAYLOADS_SUCCESS",signedPayloads:w})}catch{return a.error(e.id,{code:-32603,message:"Internal error"})}};c();p();var ji=re(Nr()),Al=async({request:e},{wallet:t,logger:r,utils:n})=>{let{publicKey:s,payloads:o,verifiableIdentity:i}=e.params.signPayloads,{identityUri:l,iconRelativeUri:u}=i.identity,h=await t.sol.getSelectedAccount();if(s!==h)return a.result(e.id,{type:"SIGN_PAYLOADS_ERROR_AUTHORIZATION_NOT_VALID"});if(!l)return r.error("identityUri is not defined in sol_mwa_sign_messages rpc request payload"),a.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});let x=ji.default.encode(Buffer.from(o[0],"base64")),g={message:x,display:"utf8"};if("error"in await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolSignMessage",id:Date.now(),params:[{url:`phantom.app.mwa-${l}`,icon:u?`${l}/${u}`:n.getFaviconURL(l)},{...g,autoConfirmStatusCode:"DISABLED"}]}))return a.result(e.id,{type:"SIGN_PAYLOADS_DECLINE"});try{let R=await t.sol.signMessage(x),w=Buffer.from(ji.default.decode(R)).toString("base64");return a.result(e.id,{type:"SIGN_PAYLOADS_SUCCESS",signedPayloads:[w]})}catch{return a.error(e.id,{code:-32603,message:"Internal error"})}};var an={};Ne(an,{sol_pay_transaction:()=>Rl,sol_pay_transfer:()=>vl});c();p();c();p();var vl=async({request:e},{wallet:t})=>await t.sol.handleSolanaPayTransfer(e.params)?a.result(e.id,null):a.error(e.id,{code:-32e3,message:"Missing or invalid parameters."});c();p();var Rl=async({request:e},{wallet:t})=>{let r=await t.sol.handleSolanaPayTransaction(e.params);if(!r)return a.error(e.id,{code:-32e3,message:"Missing or invalid parameters."});let{icon:n,label:s,transaction:o}=r,i=await t.requestUserApproval({jsonrpc:"2.0",method:"user_approveSolPayTransaction",id:Date.now(),params:[{url:e.params.link,icon:n},{label:s,transaction:o}]});if("error"in i)return a.error(e.id,i.error);if(!o)return a.error(e.id,{code:-32e3,message:"Missing or invalid parameters."});switch(i.result.type){case"send":{await t.sol.sendTransaction(o);break}case"signAndSend":{let l=await t.sol.signTransaction(o);await t.sol.sendTransaction(l.transaction);break}}return a.result(e.id,null)};var fr={};Ne(fr,{sui_requestAccounts:()=>kl,sui_signAndExecuteTransaction:()=>El,sui_signMessage:()=>Tl,sui_signTransaction:()=>_l});c();p();c();p();var kl=async({request:e,source:t},{wallet:r})=>{if(!t)return a.unauthorized(e.id);let n=F(t),s=ye(t),o=le(t);if(!n||!o)return a.unauthorized(e.id);let i={url:o,icon:s?new URL(s):void 0};await r.addTrustedApp(n,i);let l=await r.sui.getSelectedAccount();return a.result(e.id,l)};c();p();var _l=async({request:e},{wallet:t})=>{let r=await t.sui.signTransaction(e.params.address,e.params.transaction,e.params.networkID);return a.result(e.id,r)};c();p();var Tl=async({request:e},{wallet:t})=>{let r=await t.sui.signMessage(e.params.address,e.params.message);return a.result(e.id,r)};c();p();var El=async({request:e},{wallet:t})=>{let r=await t.sui.signAndExecuteTransaction(e.params.address,e.params.transaction,e.params.networkID);return a.result(e.id,r)};var Dt={};Ne(Dt,{btc:()=>$i,eth:()=>zi,eth_blink:()=>Zi,phantom_deep_link:()=>Gi,sol:()=>Ki,sol_blink:()=>Yi,sol_mwa:()=>Xi,sol_pay:()=>Ji,sui:()=>Qi});c();p();var zi={};Ne(zi,{initialize:()=>Mf});c();p();var Mf=(e,t="BrowserTabRpcRequestSource")=>({eth_accounts:Y().parse(he.eth_accounts).context(e).use([ze(10),oe(t),G,me,ce],Ho),eth_blockNumber:Y().parse(he.eth_blockNumber).context(e).use([G,oe(t),me,ce],Fo),eth_call:Y().parse(he.eth_call).context(e).use([G,oe(t),me,ce],Wo),eth_cancelPrivateTransaction:Y().parse(he.eth_cancelPrivateTransaction).context(e).use([G,oe(t),me,ce],Vo),eth_chainId:Y().parse(he.eth_chainId).context(e).use([G,oe(t),me,ce],jo),eth_estimateGas:Y().parse(he.eth_estimateGas).context(e).use([G,oe(t),me,ce],zo),eth_feeHistory:Y().parse(he.eth_feeHistory).context(e).use([G,oe(t),me,ce],Ko),eth_gasPrice:Y().parse(he.eth_gasPrice).context(e).use([G,oe(t),me,ce],$o),eth_getBalance:Y().parse(he.eth_getBalance).context(e).use([G,oe(t),me,ce],Go),eth_getBlockByHash:Y().parse(he.eth_getBlockByHash).context(e).use([G,oe(t),me,ce],Yo),eth_getBlockByNumber:Y().parse(he.eth_getBlockByNumber).context(e).use([G,oe(t),me,ce],Zo),eth_getBlockReceipts:Y().parse(he.eth_getBlockReceipts).context(e).use([G,oe(t),me,ce],Xo),eth_getBlockTransactionCountByHash:Y().parse(he.eth_getBlockTransactionCountByHash).context(e).use([G,oe(t),me,ce],Jo),eth_getBlockTransactionCountByNumber:Y().parse(he.eth_getBlockTransactionCountByNumber).context(e).use([G,oe(t),me,ce],Qo),eth_getCode:Y().parse(he.eth_getCode).context(e).use([G,oe(t),me,ce],ei),eth_getFilterChanges:Y().parse(he.eth_getFilterChanges).context(e).use([G,oe(t),me,ce],ti),eth_getFilterLogs:Y().parse(he.eth_getFilterLogs).context(e).use([G,oe(t),me,ce],ri),eth_getLogs:Y().parse(he.eth_getLogs).context(e).use([G,oe(t),me,ce],ni),eth_getProof:Y().parse(he.eth_getProof).context(e).use([G,oe(t),me,ce],si),eth_getStorageAt:Y().parse(he.eth_getStorageAt).context(e).use([G,oe(t),me,ce],oi),eth_getTransactionByBlockHashAndIndex:Y().parse(he.eth_getTransactionByBlockHashAndIndex).context(e).use([G,oe(t),me,ce],ii),eth_getTransactionByBlockNumberAndIndex:Y().parse(he.eth_getTransactionByBlockNumberAndIndex).context(e).use([G,oe(t),me,ce],ai),eth_getTransactionByHash:Y().parse(he.eth_getTransactionByHash).context(e).use([G,oe(t),me,ce],ci),eth_getTransactionCount:Y().parse(he.eth_getTransactionCount).context(e).use([G,oe(t),me,ce],pi),eth_getTransactionReceipt:Y().parse(he.eth_getTransactionReceipt).context(e).use([G,oe(t),me,ce],di),eth_getUncleByBlockHashAndIndex:Y().parse(he.eth_getUncleByBlockHashAndIndex).context(e).use([G,oe(t),me,ce],li),eth_getUncleByBlockNumberAndIndex:Y().parse(he.eth_getUncleByBlockNumberAndIndex).context(e).use([G,oe(t),me,ce],ui),eth_getUncleCountByBlockHash:Y().parse(he.eth_getUncleCountByBlockHash).context(e).use([G,oe(t),me,ce],mi),eth_getUncleCountByBlockNumber:Y().parse(he.eth_getUncleCountByBlockNumber).context(e).use([G,oe(t),me,ce],hi),eth_maxPriorityFeePerGas:Y().parse(he.eth_maxPriorityFeePerGas).context(e).use([G,oe(t),me,ce],fi),eth_newBlockFilter:Y().parse(he.eth_newBlockFilter).context(e).use([G,oe(t),me,ce],gi),eth_newFilter:Y().parse(he.eth_newFilter).context(e).use([G,oe(t),me,ce],yi),eth_newPendingTransactionFilter:Y().parse(he.eth_newPendingTransactionFilter).context(e).use([G,oe(t),me,ce],xi),eth_protocolVersion:Y().parse(he.eth_protocolVersion).context(e).use([G,oe(t),me,ce],wi),eth_requestAccounts:Y().parse(he.eth_requestAccounts).context(e).use([ze(10),oe(t),G,me,ce,lo,yo],bi),eth_sendRawTransaction:Y().parse(he.eth_sendRawTransaction).context(e).use([G,oe(t),me,ce],Si),eth_sendPrivateTransaction:Y().parse(he.eth_sendPrivateTransaction).context(e).use([G,oe(t),me,ce],Ai),eth_sendTransaction:Y().parse(he.eth_sendTransaction).context(e).use([G,oe(t),qe,me,ce,We(t),on,Qt,bo],vi),eth_sign:Y().parse(he.eth_sign).context(e).use([G,oe(t),qe,me,ce,We(t),Ao],Ri),eth_signTypedData:Y().parse(he.eth_signTypedData).context(e).use([G,oe(t),qe,me,ce,We(t),Qt,Ro],ki),eth_signTypedData_v3:Y().parse(he.eth_signTypedData_v3).context(e).use([G,oe(t),qe,me,ce,We(t),Qt,ko],_i),eth_signTypedData_v4:Y().parse(he.eth_signTypedData_v4).context(e).use([G,oe(t),qe,me,ce,We(t),Qt,_o],Ti),eth_subscribe:Y().parse(he.eth_subscribe).context(e).use([G,oe(t),me,ce],Ei),eth_syncing:Y().parse(he.eth_syncing).context(e).use([G,oe(t),me,ce],Ii),eth_uninstallFilter:Y().parse(he.eth_uninstallFilter).context(e).use([G,oe(t),me,ce],Ci),eth_unsubscribe:Y().parse(he.eth_unsubscribe).context(e).use([G,oe(t),me,ce],Bi),net_listening:Y().parse(he.net_listening).context(e).use([G,oe(t),me,ce],Li),net_version:Y().parse(he.net_version).context(e).use([G,oe(t),me,ce],Mi),personal_sign:Y().parse(he.personal_sign).context(e).use([G,oe(t),qe,me,ce,We(t),To],Ni),wallet_addEthereumChain:Y().parse(he.wallet_addEthereumChain).context(e).use([G,oe(t),me,ce,Qt],Pi),wallet_selectEthereumProvider:Y().parse(he.wallet_selectEthereumProvider).context(e).use([G,oe(t),me,ce],Ui),wallet_switchEthereumChain:Y().parse(he.wallet_switchEthereumChain).context(e).use([G,oe(t),me,ce,We(t),Qt],Di),wallet_requestPermissions:Y().parse(he.wallet_requestPermissions).context(e).use([G,oe(t),me,ce,wo],Hi),wallet_getPermissions:Y().parse(he.wallet_getPermissions).context(e).use([G,oe(t),me,ce],Fi),web3_clientVersion:Y().parse(he.web3_clientVersion).context(e).use([G,oe(t),me,ce],Oi),web3_sha3:Y().parse(he.web3_sha3).context(e).use([G,oe(t),me,ce],qi)});var Ki={};Ne(Ki,{initialize:()=>Nf});c();p();var Nf=(e,t="BrowserTabRpcRequestSource")=>({sol_connect:Y().parse(wt.sol_connect).context(e).use([ze(10),oe(t),G,At,et,ce,Eo],mt.sol_connect),sol_disconnect:Y().parse(wt.sol_disconnect).context(e).use([G,oe(t),et,ce],mt.sol_disconnect),sol_signAllTransactions:Y().parse(wt.sol_signAllTransactions).context(e).use([G,oe(t),qe,et,ce,We(t),Xt,Co],mt.sol_signAllTransactions),sol_signAndSendTransaction:Y().parse(wt.sol_signAndSendTransaction).context(e).use([G,oe(t),qe,et,ce,We(t),Xt,Mo],mt.sol_signAndSendTransaction),sol_signAndSendAllTransactions:Y().parse(wt.sol_signAndSendAllTransactions).context(e).use([G,oe(t),qe,et,ce,We(t),Xt,Bo],mt.sol_signAndSendAllTransactions),sol_signMessage:Y().parse(wt.sol_signMessage).context(e).use([G,oe(t),qe,et,ce,We(t),mo,No],mt.sol_signMessage),sol_signTransaction:Y().parse(wt.sol_signTransaction).context(e).use([G,oe(t),qe,et,ce,We(t),Xt,Uo],mt.sol_signTransaction),sol_signIn:Y().parse(wt.sol_signIn).context(e).use([G,oe(t),At,et,ce],mt.sol_signIn)});var $i={};Ne($i,{initialize:()=>Pf});c();p();var Pf=(e,t="BrowserTabRpcRequestSource")=>({btc_requestAccounts:Y().parse(An.btc_requestAccounts).context(e).use([ze(10),oe(t),G,sn,ho],Dr.btc_requestAccounts),btc_signPSBT:Y().parse(An.btc_signPSBT).context(e).use([G,oe(t),sn,go],Dr.btc_signPSBT),btc_signMessage:Y().parse(An.btc_signMessage).context(e).use([G,oe(t),sn,fo],Dr.btc_signMessage)});var Gi={};Ne(Gi,{initialize:()=>Uf});c();p();var Uf=e=>({phantom_deep_link_browse:Y().parse($e.phantom_deep_link_browse).context(e).use([ze(10),G,ot],Ve.phantom_deep_link_browse),phantom_deep_link_tokens:Y().parse($e.phantom_deep_link_tokens).context(e).use([G,ot],Ve.phantom_deep_link_tokens),phantom_deep_link_swap:Y().parse($e.phantom_deep_link_swap).context(e).use([G,At],Ve.phantom_deep_link_swap),phantom_deep_link_navigate:Y().parse($e.phantom_deep_link_navigate).context(e).use([G,At],Ve.phantom_deep_link_navigate),phantom_deep_link_onramp:Y().parse($e.phantom_deep_link_onramp).context(e).use([G,At],Ve.phantom_deep_link_onramp),phantom_deep_link_fungible:Y().parse($e.phantom_deep_link_fungible).context(e).use([G],Ve.phantom_deep_link_fungible),phantom_deep_link_user:Y().parse($e.phantom_deep_link_user).context(e).use([G,ot],Ve.phantom_deep_link_user),phantom_deep_link_onboard:Y().parse($e.phantom_deep_link_onboard).context(e).use([G],Ve.phantom_deep_link_onboard),phantom_deep_link_connect:Y().parse($e.phantom_deep_link_connect).context(e).use([G,ot],Ve.phantom_deep_link_connect),phantom_deep_link_disconnect:Y().parse($e.phantom_deep_link_disconnect).context(e).use([G,ot],Ve.phantom_deep_link_disconnect),phantom_deep_link_signMessage:Y().parse($e.phantom_deep_link_signMessage).context(e).use([G,ot],Ve.phantom_deep_link_signMessage),phantom_deep_link_signIn:Y().parse($e.phantom_deep_link_signIn).context(e).use([G,ot],Ve.phantom_deep_link_signIn),phantom_deep_link_signTransaction:Y().parse($e.phantom_deep_link_signTransaction).context(e).use([G,ot],Ve.phantom_deep_link_signTransaction),phantom_deep_link_signAllTransactions:Y().parse($e.phantom_deep_link_signAllTransactions).context(e).use([G,ot],Ve.phantom_deep_link_signAllTransactions),phantom_deep_link_signAndSendTransaction:Y().parse($e.phantom_deep_link_signAndSendTransaction).context(e).use([G,ot],Ve.phantom_deep_link_signAndSendTransaction),phantom_deep_link_signAndSendAllTransactions:Y().parse($e.phantom_deep_link_signAndSendAllTransactions).context(e).use([G,ot],Ve.phantom_deep_link_signAndSendAllTransactions)});var Yi={};Ne(Yi,{initialize:()=>Df});c();p();var Df=(e,t="BrowserTabRpcRequestSource")=>({sol_blink_connect:Y().parse(It.sol_blink_connect).context(e).use([ze(10),oe(t),Nt,G,et,ce,Pt,Io],Or.sol_blink_connect),sol_blink_signMessage:Y().parse(It.sol_blink_signMessage).context(e).use([Nt,G,oe(t),qe,et,ce,Pt,hr,Po],Or.sol_blink_signMessage),sol_blink_signAndSendAllTransactions:Y().parse(It.sol_blink_signAndSendAllTransactions).context(e).use([Nt,G,oe(t),qe,et,ce,Pt,hr,Xt,Lo],Or.sol_blink_signAndSendAllTransactions)});var Zi={};Ne(Zi,{initialize:()=>Of});c();p();var Of=(e,t="BrowserTabRpcRequestSource")=>({eth_blink_requestAccounts:Y().parse(Et.eth_blink_requestAccounts).context(e).use([ze(10),oe(t),Nt,G,me,ce,Pt,uo,xo],qr.eth_blink_requestAccounts),eth_blink_sendTransaction:Y().parse(Et.eth_blink_sendTransaction).context(e).use([Nt,oe(t),G,qe,ce,Pt,hr,on,po,So],qr.eth_blink_sendTransaction),eth_blink_sign:Y().parse(Et.eth_blink_sign).context(e).use([Nt,oe(t),G,qe,ce,Pt,hr,vo],qr.eth_blink_sign)});var Xi={};Ne(Xi,{initialize:()=>qf});c();p();var qf=e=>({sol_mwa_authorize:Y().parse(vr.sol_mwa_authorize).context(e).use([ze(10),G,Pr],er.sol_mwa_authorize),sol_mwa_reauthorize:Y().parse(vr.sol_mwa_reauthorize).context(e).use([G],er.sol_mwa_reauthorize),sol_mwa_sign_messages:Y().parse(vr.sol_mwa_sign_messages).context(e).use([G,Pr],er.sol_mwa_sign_messages),sol_mwa_sign_transactions:Y().parse(vr.sol_mwa_sign_transactions).context(e).use([G,Pr],er.sol_mwa_sign_transactions),sol_mwa_sign_and_send_transactions:Y().parse(vr.sol_mwa_sign_and_send_transactions).context(e).use([G,Pr],er.sol_mwa_sign_and_send_transactions)});var Ji={};Ne(Ji,{initialize:()=>Hf});c();p();var Hf=e=>({sol_pay_transfer:Y().parse(Cs.sol_pay_transfer).context(e).use([G],an.sol_pay_transfer),sol_pay_transaction:Y().parse(Cs.sol_pay_transaction).context(e).use([G],an.sol_pay_transaction)});var Qi={};Ne(Qi,{initialize:()=>Ff});c();p();var Ff=(e,t="BrowserTabRpcRequestSource")=>({sui_requestAccounts:Y().parse(kr.sui_requestAccounts).context(e).use([ze(10),oe(t),G,At,Ur,ce,Oo],fr.sui_requestAccounts),sui_signMessage:Y().parse(kr.sui_signMessage).context(e).use([G,oe(t),Ur,ce,We(t),qo],fr.sui_signMessage),sui_signTransaction:Y().parse(kr.sui_signTransaction).context(e).use([G,oe(t),Ur,ce,We(t),Yn],fr.sui_signTransaction),sui_signAndExecuteTransaction:Y().parse(kr.sui_signAndExecuteTransaction).context(e).use([G,oe(t),Ur,ce,We(t),Yn],fr.sui_signAndExecuteTransaction)});c();p();c();p();var Il={isEnabled:async e=>(await pt.getFeatureFlags())[e]===!0};c();p();var Rt=e=>t=>{Ie.capture(e,{data:t})},Cl={deepLinkDetected:Rt("deepLinkDetected"),tokenDeepLink:Rt("deepLinkTokens"),userDeepLink:Rt("deepLinkUser"),metamaskOverrideSelection:Rt("notificationMetamaskOverrideSelection"),approveConnection:Rt("connectionConfirm"),declineConnection:Rt("connectionDeny"),approveSignMessage:Rt("signMessageConfirm"),declineSignMessage:Rt("signMessageDeny"),approveTransaction:Rt("transactionConfirm"),declineTransaction:Rt("transactionDeny"),eth:{submittedTransaction:async({origin:e,request:t,signatures:r})=>{try{let n=await Xr(t,{origin:e},r);if(!n.success)throw new Error(`Failed to capture signature event analytics: ${n.error}`);await Ps(Ie,{data:{...n.data,ids:n.data.ids??r},action:"dapp"})}catch(n){de.captureError(n,"provider")}},signedMessage:async({origin:e,request:t,chainId:r})=>{try{let n=await Jr(t,{origin:e,chainId:Es(r)});if(!n.success)throw new Error(`Failed to capture signature event analytics: ${n.error}`);await Us(Ie,n.data)}catch(n){de.captureError(n,"provider")}},autoConfirmedTransaction:async({origin:e,request:t,data:r})=>{try{let n=new en(Ie),s=await Xr(t,{origin:e});if(!s.success)throw new Error(`Failed to capture signature event analytics: ${s.error}`);await n.transactionAutoConfirmed({...s.data,autoConfirm:r})}catch(n){de.captureError(n,"provider")}},autoConfirmedMessage:async({origin:e,request:t,chainId:r,data:n})=>{try{let s=new en(Ie),o=await Jr(t,{origin:e,chainId:Es(r)});if(!o.success)throw new Error(`Failed to capture signature event analytics: ${o.error}`);await s.messageAutoConfirmed({...o.data,autoConfirm:n})}catch(s){de.captureError(s,"provider")}},unsupportedChain:async({origin:e,data:t})=>{try{await Ie.capture("unsupportedChainId",{data:{origin:e,chainType:"eip155",chainId:Er(t.hexChainId),chainName:t.chainName,method:t.method}})}catch(r){de.captureError(r,"provider")}}},sol:{submittedTransaction:async({origin:e,request:t,chainId:r,signatures:n})=>{try{let s=await Xr(t,{origin:e,chainId:r},n);if(!s.success)throw new Error(`Failed to capture signature event analytics: ${s.error}`);await Ps(Ie,{data:{...s.data,ids:s.data.ids??n},action:"dapp"})}catch(s){de.captureError(s,"provider")}},signedMessage:async({origin:e,request:t,chainId:r})=>{try{let n=await Jr(t,{origin:e,chainId:r});if(!n.success)throw new Error(`Failed to capture signature event analytics: ${n.error}`);await Us(Ie,n.data)}catch(n){de.captureError(n,"provider")}},autoConfirmedTransaction:async({origin:e,request:t,data:r,chainId:n})=>{try{let s=new en(Ie),o=await Xr(t,{origin:e,chainId:n});if(!o.success)throw new Error(`Failed to capture signature event analytics: ${o.error}`);await s.transactionAutoConfirmed({...o.data,autoConfirm:r})}catch(s){de.captureError(s,"provider")}},autoConfirmedMessage:async({origin:e,request:t,chainId:r,data:n})=>{try{let s=new en(Ie),o=await Jr(t,{origin:e,chainId:r});if(!o.success)throw new Error(`Failed to capture signature event analytics: ${o.error}`);await s.messageAutoConfirmed({...o.data,autoConfirm:n})}catch(s){de.captureError(s,"provider")}}}};c();p();var Bl={env:cc()?"production":"development",logRequestMethods:new Set(["eth_requestAccounts","eth_accounts","eth_sendTransaction","eth_sign","personal_sign"]),logRequestsOnError:!0};c();p();var Ll={t(e){return e}};c();p();var Ml={debug(...e){console.debug(...e)},warn(...e){console.warn(...e)},error(...e){de.addBreadcrumb("provider",e.join(", "),"error")}};c();p();var Nl={eth:Wc};c();p();c();p();c();p();c();p();c();p();function Xn(e,t){let{expectedAddress:r,expectedURL:n,expectedChainId:s,issuedAtThreshold:o}=t,i=[],l=Date.now();if(e.address!==r&&i.push("ADDRESS_MISMATCH"),e.domain!==n.host&&i.push("DOMAIN_MISMATCH"),e.uri&&e.uri.origin!==n.origin&&i.push("URI_MISMATCH"),e.chainId&&(e.type!=="sign-in-with-solana"&&e.chainId!==s||e.type==="sign-in-with-solana"&&e.chainId.replace(/solana:/g,"")!==s)&&i.push("CHAIN_ID_MISMATCH"),e.issuedAt){let u=e.issuedAt.getTime();Math.abs(u-l)>o&&(u<l?i.push("ISSUED_TOO_FAR_IN_THE_PAST"):i.push("ISSUED_TOO_FAR_IN_THE_FUTURE"))}if(e.expirationTime){let u=e.expirationTime.getTime();u<=l&&i.push("EXPIRED"),e.issuedAt&&u<e.issuedAt.getTime()&&i.push("EXPIRES_BEFORE_ISSUANCE"),e.notBefore&&e.notBefore.getTime()>u&&i.push("VALID_AFTER_EXPIRATION")}return i}c();p();c();p();(function e(t,r,n){function s(l,u){if(!r[l]){if(!t[l]){var h=typeof Gr=="function"&&Gr;if(!u&&h)return h(l,!0);if(o)return o(l,!0);var x=new Error("Cannot find module '"+l+"'");throw x.code="MODULE_NOT_FOUND",x}var g=r[l]={exports:{}};t[l][0].call(g.exports,function(f){return s(t[l][1][f]||f)},g,g.exports,e,t,r,n)}return r[l].exports}for(var o=typeof Gr=="function"&&Gr,i=0;i<n.length;i++)s(n[i]);return s})({1:[function(e,t,r){"use strict";r.byteLength=function(g){var f=h(g),R=f[0],w=f[1];return 3*(R+w)/4-w},r.toByteArray=function(g){var f,R,w=h(g),S=w[0],y=w[1],v=new o(function(I,P,M){return 3*(P+M)/4-M}(0,S,y)),C=0,_=y>0?S-4:S;for(R=0;R<_;R+=4)f=s[g.charCodeAt(R)]<<18|s[g.charCodeAt(R+1)]<<12|s[g.charCodeAt(R+2)]<<6|s[g.charCodeAt(R+3)],v[C++]=f>>16&255,v[C++]=f>>8&255,v[C++]=255&f;return y===2&&(f=s[g.charCodeAt(R)]<<2|s[g.charCodeAt(R+1)]>>4,v[C++]=255&f),y===1&&(f=s[g.charCodeAt(R)]<<10|s[g.charCodeAt(R+1)]<<4|s[g.charCodeAt(R+2)]>>2,v[C++]=f>>8&255,v[C++]=255&f),v},r.fromByteArray=function(g){for(var f,R=g.length,w=R%3,S=[],y=16383,v=0,C=R-w;v<C;v+=y)S.push(x(g,v,v+y>C?C:v+y));return w===1?(f=g[R-1],S.push(n[f>>2]+n[f<<4&63]+"==")):w===2&&(f=(g[R-2]<<8)+g[R-1],S.push(n[f>>10]+n[f>>4&63]+n[f<<2&63]+"=")),S.join("")};for(var n=[],s=[],o=typeof Uint8Array<"u"?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,u=i.length;l<u;++l)n[l]=i[l],s[i.charCodeAt(l)]=l;function h(g){var f=g.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=g.indexOf("=");return R===-1&&(R=f),[R,R===f?0:4-R%4]}function x(g,f,R){for(var w,S,y=[],v=f;v<R;v+=3)w=(g[v]<<16&16711680)+(g[v+1]<<8&65280)+(255&g[v+2]),y.push(n[(S=w)>>18&63]+n[S>>12&63]+n[S>>6&63]+n[63&S]);return y.join("")}s[45]=62,s[95]=63},{}],2:[function(e,t,r){(function(n){(function(){"use strict";var s=e("base64-js"),o=e("ieee754");r.Buffer=u,r.SlowBuffer=function(d){return+d!=d&&(d=0),u.alloc(+d)},r.INSPECT_MAX_BYTES=50;var i=2147483647;function l(d){if(d>i)throw new RangeError('The value "'+d+'" is invalid for option "size"');var m=new Uint8Array(d);return m.__proto__=u.prototype,m}function u(d,m,b){if(typeof d=="number"){if(typeof m=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(d)}return h(d,m,b)}function h(d,m,b){if(typeof d=="string")return function(E,k){if(typeof k=="string"&&k!==""||(k="utf8"),!u.isEncoding(k))throw new TypeError("Unknown encoding: "+k);var q=0|w(E,k),K=l(q),j=K.write(E,k);return j!==q&&(K=K.slice(0,j)),K}(d,m);if(ArrayBuffer.isView(d))return f(d);if(d==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);if(ae(d,ArrayBuffer)||d&&ae(d.buffer,ArrayBuffer))return function(E,k,q){if(k<0||E.byteLength<k)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<k+(q||0))throw new RangeError('"length" is outside of buffer bounds');var K;return K=k===void 0&&q===void 0?new Uint8Array(E):q===void 0?new Uint8Array(E,k):new Uint8Array(E,k,q),K.__proto__=u.prototype,K}(d,m,b);if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var T=d.valueOf&&d.valueOf();if(T!=null&&T!==d)return u.from(T,m,b);var B=function(E){if(u.isBuffer(E)){var k=0|R(E.length),q=l(k);return q.length===0||E.copy(q,0,0,k),q}if(E.length!==void 0)return typeof E.length!="number"||H(E.length)?l(0):f(E);if(E.type==="Buffer"&&Array.isArray(E.data))return f(E.data)}(d);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof d[Symbol.toPrimitive]=="function")return u.from(d[Symbol.toPrimitive]("string"),m,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d)}function x(d){if(typeof d!="number")throw new TypeError('"size" argument must be of type number');if(d<0)throw new RangeError('The value "'+d+'" is invalid for option "size"')}function g(d){return x(d),l(d<0?0:0|R(d))}function f(d){for(var m=d.length<0?0:0|R(d.length),b=l(m),T=0;T<m;T+=1)b[T]=255&d[T];return b}function R(d){if(d>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|d}function w(d,m){if(u.isBuffer(d))return d.length;if(ArrayBuffer.isView(d)||ae(d,ArrayBuffer))return d.byteLength;if(typeof d!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof d);var b=d.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&b===0)return 0;for(var B=!1;;)switch(m){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return ie(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*b;case"hex":return b>>>1;case"base64":return Q(d).length;default:if(B)return T?-1:ie(d).length;m=(""+m).toLowerCase(),B=!0}}function S(d,m,b){var T=!1;if((m===void 0||m<0)&&(m=0),m>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0)<=(m>>>=0))return"";for(d||(d="utf8");;)switch(d){case"hex":return O(this,m,b);case"utf8":case"utf-8":return fe(this,m,b);case"ascii":return ne(this,m,b);case"latin1":case"binary":return W(this,m,b);case"base64":return X(this,m,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,m,b);default:if(T)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),T=!0}}function y(d,m,b){var T=d[m];d[m]=d[b],d[b]=T}function v(d,m,b,T,B){if(d.length===0)return-1;if(typeof b=="string"?(T=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),H(b=+b)&&(b=B?0:d.length-1),b<0&&(b=d.length+b),b>=d.length){if(B)return-1;b=d.length-1}else if(b<0){if(!B)return-1;b=0}if(typeof m=="string"&&(m=u.from(m,T)),u.isBuffer(m))return m.length===0?-1:C(d,m,b,T,B);if(typeof m=="number")return m&=255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(d,m,b):Uint8Array.prototype.lastIndexOf.call(d,m,b):C(d,[m],b,T,B);throw new TypeError("val must be string, number or Buffer")}function C(d,m,b,T,B){var E,k=1,q=d.length,K=m.length;if(T!==void 0&&((T=String(T).toLowerCase())==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(d.length<2||m.length<2)return-1;k=2,q/=2,K/=2,b/=2}function j(_e,Be){return k===1?_e[Be]:_e.readUInt16BE(Be*k)}if(B){var ee=-1;for(E=b;E<q;E++)if(j(d,E)===j(m,ee===-1?0:E-ee)){if(ee===-1&&(ee=E),E-ee+1===K)return ee*k}else ee!==-1&&(E-=E-ee),ee=-1}else for(b+K>q&&(b=q-K),E=b;E>=0;E--){for(var be=!0,Ae=0;Ae<K;Ae++)if(j(d,E+Ae)!==j(m,Ae)){be=!1;break}if(be)return E}return-1}function _(d,m,b,T){b=Number(b)||0;var B=d.length-b;T?(T=Number(T))>B&&(T=B):T=B;var E=m.length;T>E/2&&(T=E/2);for(var k=0;k<T;++k){var q=parseInt(m.substr(2*k,2),16);if(H(q))return k;d[b+k]=q}return k}function I(d,m,b,T){return se(ie(m,d.length-b),d,b,T)}function P(d,m,b,T){return se(function(B){for(var E=[],k=0;k<B.length;++k)E.push(255&B.charCodeAt(k));return E}(m),d,b,T)}function M(d,m,b,T){return P(d,m,b,T)}function Z(d,m,b,T){return se(Q(m),d,b,T)}function z(d,m,b,T){return se(function(B,E){for(var k,q,K,j=[],ee=0;ee<B.length&&!((E-=2)<0);++ee)q=(k=B.charCodeAt(ee))>>8,K=k%256,j.push(K),j.push(q);return j}(m,d.length-b),d,b,T)}function X(d,m,b){return m===0&&b===d.length?s.fromByteArray(d):s.fromByteArray(d.slice(m,b))}function fe(d,m,b){b=Math.min(d.length,b);for(var T=[],B=m;B<b;){var E,k,q,K,j=d[B],ee=null,be=j>239?4:j>223?3:j>191?2:1;if(B+be<=b)switch(be){case 1:j<128&&(ee=j);break;case 2:(192&(E=d[B+1]))==128&&(K=(31&j)<<6|63&E)>127&&(ee=K);break;case 3:E=d[B+1],k=d[B+2],(192&E)==128&&(192&k)==128&&(K=(15&j)<<12|(63&E)<<6|63&k)>2047&&(K<55296||K>57343)&&(ee=K);break;case 4:E=d[B+1],k=d[B+2],q=d[B+3],(192&E)==128&&(192&k)==128&&(192&q)==128&&(K=(15&j)<<18|(63&E)<<12|(63&k)<<6|63&q)>65535&&K<1114112&&(ee=K)}ee===null?(ee=65533,be=1):ee>65535&&(ee-=65536,T.push(ee>>>10&1023|55296),ee=56320|1023&ee),T.push(ee),B+=be}return function(Ae){var _e=Ae.length;if(_e<=te)return String.fromCharCode.apply(String,Ae);for(var Be="",Me=0;Me<_e;)Be+=String.fromCharCode.apply(String,Ae.slice(Me,Me+=te));return Be}(T)}r.kMaxLength=i,u.TYPED_ARRAY_SUPPORT=function(){try{var d=new Uint8Array(1);return d.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},d.foo()===42}catch{return!1}}(),u.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),u.poolSize=8192,u.from=function(d,m,b){return h(d,m,b)},u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,u.alloc=function(d,m,b){return function(T,B,E){return x(T),T<=0?l(T):B!==void 0?typeof E=="string"?l(T).fill(B,E):l(T).fill(B):l(T)}(d,m,b)},u.allocUnsafe=function(d){return g(d)},u.allocUnsafeSlow=function(d){return g(d)},u.isBuffer=function(d){return d!=null&&d._isBuffer===!0&&d!==u.prototype},u.compare=function(d,m){if(ae(d,Uint8Array)&&(d=u.from(d,d.offset,d.byteLength)),ae(m,Uint8Array)&&(m=u.from(m,m.offset,m.byteLength)),!u.isBuffer(d)||!u.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===m)return 0;for(var b=d.length,T=m.length,B=0,E=Math.min(b,T);B<E;++B)if(d[B]!==m[B]){b=d[B],T=m[B];break}return b<T?-1:T<b?1:0},u.isEncoding=function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(d,m){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return u.alloc(0);var b;if(m===void 0)for(m=0,b=0;b<d.length;++b)m+=d[b].length;var T=u.allocUnsafe(m),B=0;for(b=0;b<d.length;++b){var E=d[b];if(ae(E,Uint8Array)&&(E=u.from(E)),!u.isBuffer(E))throw new TypeError('"list" argument must be an Array of Buffers');E.copy(T,B),B+=E.length}return T},u.byteLength=w,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var m=0;m<d;m+=2)y(this,m,m+1);return this},u.prototype.swap32=function(){var d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var m=0;m<d;m+=4)y(this,m,m+3),y(this,m+1,m+2);return this},u.prototype.swap64=function(){var d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var m=0;m<d;m+=8)y(this,m,m+7),y(this,m+1,m+6),y(this,m+2,m+5),y(this,m+3,m+4);return this},u.prototype.toString=function(){var d=this.length;return d===0?"":arguments.length===0?fe(this,0,d):S.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(d){if(!u.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d||u.compare(this,d)===0},u.prototype.inspect=function(){var d="",m=r.INSPECT_MAX_BYTES;return d=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(d+=" ... "),"<Buffer "+d+">"},u.prototype.compare=function(d,m,b,T,B){if(ae(d,Uint8Array)&&(d=u.from(d,d.offset,d.byteLength)),!u.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(m===void 0&&(m=0),b===void 0&&(b=d?d.length:0),T===void 0&&(T=0),B===void 0&&(B=this.length),m<0||b>d.length||T<0||B>this.length)throw new RangeError("out of range index");if(T>=B&&m>=b)return 0;if(T>=B)return-1;if(m>=b)return 1;if(this===d)return 0;for(var E=(B>>>=0)-(T>>>=0),k=(b>>>=0)-(m>>>=0),q=Math.min(E,k),K=this.slice(T,B),j=d.slice(m,b),ee=0;ee<q;++ee)if(K[ee]!==j[ee]){E=K[ee],k=j[ee];break}return E<k?-1:k<E?1:0},u.prototype.includes=function(d,m,b){return this.indexOf(d,m,b)!==-1},u.prototype.indexOf=function(d,m,b){return v(this,d,m,b,!0)},u.prototype.lastIndexOf=function(d,m,b){return v(this,d,m,b,!1)},u.prototype.write=function(d,m,b,T){if(m===void 0)T="utf8",b=this.length,m=0;else if(b===void 0&&typeof m=="string")T=m,b=this.length,m=0;else{if(!isFinite(m))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");m>>>=0,isFinite(b)?(b>>>=0,T===void 0&&(T="utf8")):(T=b,b=void 0)}var B=this.length-m;if((b===void 0||b>B)&&(b=B),d.length>0&&(b<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");T||(T="utf8");for(var E=!1;;)switch(T){case"hex":return _(this,d,m,b);case"utf8":case"utf-8":return I(this,d,m,b);case"ascii":return P(this,d,m,b);case"latin1":case"binary":return M(this,d,m,b);case"base64":return Z(this,d,m,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,d,m,b);default:if(E)throw new TypeError("Unknown encoding: "+T);T=(""+T).toLowerCase(),E=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var te=4096;function ne(d,m,b){var T="";b=Math.min(d.length,b);for(var B=m;B<b;++B)T+=String.fromCharCode(127&d[B]);return T}function W(d,m,b){var T="";b=Math.min(d.length,b);for(var B=m;B<b;++B)T+=String.fromCharCode(d[B]);return T}function O(d,m,b){var T=d.length;(!m||m<0)&&(m=0),(!b||b<0||b>T)&&(b=T);for(var B="",E=m;E<b;++E)B+=J(d[E]);return B}function D(d,m,b){for(var T=d.slice(m,b),B="",E=0;E<T.length;E+=2)B+=String.fromCharCode(T[E]+256*T[E+1]);return B}function N(d,m,b){if(d%1!=0||d<0)throw new RangeError("offset is not uint");if(d+m>b)throw new RangeError("Trying to access beyond buffer length")}function L(d,m,b,T,B,E){if(!u.isBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(m>B||m<E)throw new RangeError('"value" argument is out of bounds');if(b+T>d.length)throw new RangeError("Index out of range")}function U(d,m,b,T,B,E){if(b+T>d.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function $(d,m,b,T,B){return m=+m,b>>>=0,B||U(d,0,b,4),o.write(d,m,b,T,23,4),b+4}function V(d,m,b,T,B){return m=+m,b>>>=0,B||U(d,0,b,8),o.write(d,m,b,T,52,8),b+8}u.prototype.slice=function(d,m){var b=this.length;(d=~~d)<0?(d+=b)<0&&(d=0):d>b&&(d=b),(m=m===void 0?b:~~m)<0?(m+=b)<0&&(m=0):m>b&&(m=b),m<d&&(m=d);var T=this.subarray(d,m);return T.__proto__=u.prototype,T},u.prototype.readUIntLE=function(d,m,b){d>>>=0,m>>>=0,b||N(d,m,this.length);for(var T=this[d],B=1,E=0;++E<m&&(B*=256);)T+=this[d+E]*B;return T},u.prototype.readUIntBE=function(d,m,b){d>>>=0,m>>>=0,b||N(d,m,this.length);for(var T=this[d+--m],B=1;m>0&&(B*=256);)T+=this[d+--m]*B;return T},u.prototype.readUInt8=function(d,m){return d>>>=0,m||N(d,1,this.length),this[d]},u.prototype.readUInt16LE=function(d,m){return d>>>=0,m||N(d,2,this.length),this[d]|this[d+1]<<8},u.prototype.readUInt16BE=function(d,m){return d>>>=0,m||N(d,2,this.length),this[d]<<8|this[d+1]},u.prototype.readUInt32LE=function(d,m){return d>>>=0,m||N(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+16777216*this[d+3]},u.prototype.readUInt32BE=function(d,m){return d>>>=0,m||N(d,4,this.length),16777216*this[d]+(this[d+1]<<16|this[d+2]<<8|this[d+3])},u.prototype.readIntLE=function(d,m,b){d>>>=0,m>>>=0,b||N(d,m,this.length);for(var T=this[d],B=1,E=0;++E<m&&(B*=256);)T+=this[d+E]*B;return T>=(B*=128)&&(T-=Math.pow(2,8*m)),T},u.prototype.readIntBE=function(d,m,b){d>>>=0,m>>>=0,b||N(d,m,this.length);for(var T=m,B=1,E=this[d+--T];T>0&&(B*=256);)E+=this[d+--T]*B;return E>=(B*=128)&&(E-=Math.pow(2,8*m)),E},u.prototype.readInt8=function(d,m){return d>>>=0,m||N(d,1,this.length),128&this[d]?-1*(255-this[d]+1):this[d]},u.prototype.readInt16LE=function(d,m){d>>>=0,m||N(d,2,this.length);var b=this[d]|this[d+1]<<8;return 32768&b?4294901760|b:b},u.prototype.readInt16BE=function(d,m){d>>>=0,m||N(d,2,this.length);var b=this[d+1]|this[d]<<8;return 32768&b?4294901760|b:b},u.prototype.readInt32LE=function(d,m){return d>>>=0,m||N(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},u.prototype.readInt32BE=function(d,m){return d>>>=0,m||N(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},u.prototype.readFloatLE=function(d,m){return d>>>=0,m||N(d,4,this.length),o.read(this,d,!0,23,4)},u.prototype.readFloatBE=function(d,m){return d>>>=0,m||N(d,4,this.length),o.read(this,d,!1,23,4)},u.prototype.readDoubleLE=function(d,m){return d>>>=0,m||N(d,8,this.length),o.read(this,d,!0,52,8)},u.prototype.readDoubleBE=function(d,m){return d>>>=0,m||N(d,8,this.length),o.read(this,d,!1,52,8)},u.prototype.writeUIntLE=function(d,m,b,T){d=+d,m>>>=0,b>>>=0,T||L(this,d,m,b,Math.pow(2,8*b)-1,0);var B=1,E=0;for(this[m]=255&d;++E<b&&(B*=256);)this[m+E]=d/B&255;return m+b},u.prototype.writeUIntBE=function(d,m,b,T){d=+d,m>>>=0,b>>>=0,T||L(this,d,m,b,Math.pow(2,8*b)-1,0);var B=b-1,E=1;for(this[m+B]=255&d;--B>=0&&(E*=256);)this[m+B]=d/E&255;return m+b},u.prototype.writeUInt8=function(d,m,b){return d=+d,m>>>=0,b||L(this,d,m,1,255,0),this[m]=255&d,m+1},u.prototype.writeUInt16LE=function(d,m,b){return d=+d,m>>>=0,b||L(this,d,m,2,65535,0),this[m]=255&d,this[m+1]=d>>>8,m+2},u.prototype.writeUInt16BE=function(d,m,b){return d=+d,m>>>=0,b||L(this,d,m,2,65535,0),this[m]=d>>>8,this[m+1]=255&d,m+2},u.prototype.writeUInt32LE=function(d,m,b){return d=+d,m>>>=0,b||L(this,d,m,4,4294967295,0),this[m+3]=d>>>24,this[m+2]=d>>>16,this[m+1]=d>>>8,this[m]=255&d,m+4},u.prototype.writeUInt32BE=function(d,m,b){return d=+d,m>>>=0,b||L(this,d,m,4,4294967295,0),this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=255&d,m+4},u.prototype.writeIntLE=function(d,m,b,T){if(d=+d,m>>>=0,!T){var B=Math.pow(2,8*b-1);L(this,d,m,b,B-1,-B)}var E=0,k=1,q=0;for(this[m]=255&d;++E<b&&(k*=256);)d<0&&q===0&&this[m+E-1]!==0&&(q=1),this[m+E]=(d/k>>0)-q&255;return m+b},u.prototype.writeIntBE=function(d,m,b,T){if(d=+d,m>>>=0,!T){var B=Math.pow(2,8*b-1);L(this,d,m,b,B-1,-B)}var E=b-1,k=1,q=0;for(this[m+E]=255&d;--E>=0&&(k*=256);)d<0&&q===0&&this[m+E+1]!==0&&(q=1),this[m+E]=(d/k>>0)-q&255;return m+b},u.prototype.writeInt8=function(d,m,b){return d=+d,m>>>=0,b||L(this,d,m,1,127,-128),d<0&&(d=255+d+1),this[m]=255&d,m+1},u.prototype.writeInt16LE=function(d,m,b){return d=+d,m>>>=0,b||L(this,d,m,2,32767,-32768),this[m]=255&d,this[m+1]=d>>>8,m+2},u.prototype.writeInt16BE=function(d,m,b){return d=+d,m>>>=0,b||L(this,d,m,2,32767,-32768),this[m]=d>>>8,this[m+1]=255&d,m+2},u.prototype.writeInt32LE=function(d,m,b){return d=+d,m>>>=0,b||L(this,d,m,4,2147483647,-2147483648),this[m]=255&d,this[m+1]=d>>>8,this[m+2]=d>>>16,this[m+3]=d>>>24,m+4},u.prototype.writeInt32BE=function(d,m,b){return d=+d,m>>>=0,b||L(this,d,m,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=255&d,m+4},u.prototype.writeFloatLE=function(d,m,b){return $(this,d,m,!0,b)},u.prototype.writeFloatBE=function(d,m,b){return $(this,d,m,!1,b)},u.prototype.writeDoubleLE=function(d,m,b){return V(this,d,m,!0,b)},u.prototype.writeDoubleBE=function(d,m,b){return V(this,d,m,!1,b)},u.prototype.copy=function(d,m,b,T){if(!u.isBuffer(d))throw new TypeError("argument should be a Buffer");if(b||(b=0),T||T===0||(T=this.length),m>=d.length&&(m=d.length),m||(m=0),T>0&&T<b&&(T=b),T===b||d.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(b<0||b>=this.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("sourceEnd out of bounds");T>this.length&&(T=this.length),d.length-m<T-b&&(T=d.length-m+b);var B=T-b;if(this===d&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(m,b,T);else if(this===d&&b<m&&m<T)for(var E=B-1;E>=0;--E)d[E+m]=this[E+b];else Uint8Array.prototype.set.call(d,this.subarray(b,T),m);return B},u.prototype.fill=function(d,m,b,T){if(typeof d=="string"){if(typeof m=="string"?(T=m,m=0,b=this.length):typeof b=="string"&&(T=b,b=this.length),T!==void 0&&typeof T!="string")throw new TypeError("encoding must be a string");if(typeof T=="string"&&!u.isEncoding(T))throw new TypeError("Unknown encoding: "+T);if(d.length===1){var B=d.charCodeAt(0);(T==="utf8"&&B<128||T==="latin1")&&(d=B)}}else typeof d=="number"&&(d&=255);if(m<0||this.length<m||this.length<b)throw new RangeError("Out of range index");if(b<=m)return this;var E;if(m>>>=0,b=b===void 0?this.length:b>>>0,d||(d=0),typeof d=="number")for(E=m;E<b;++E)this[E]=d;else{var k=u.isBuffer(d)?d:u.from(d,T),q=k.length;if(q===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(E=0;E<b-m;++E)this[E+m]=k[E%q]}return this};var pe=/[^+/0-9A-Za-z-_]/g;function J(d){return d<16?"0"+d.toString(16):d.toString(16)}function ie(d,m){var b;m=m||1/0;for(var T=d.length,B=null,E=[],k=0;k<T;++k){if((b=d.charCodeAt(k))>55295&&b<57344){if(!B){if(b>56319){(m-=3)>-1&&E.push(239,191,189);continue}if(k+1===T){(m-=3)>-1&&E.push(239,191,189);continue}B=b;continue}if(b<56320){(m-=3)>-1&&E.push(239,191,189),B=b;continue}b=65536+(B-55296<<10|b-56320)}else B&&(m-=3)>-1&&E.push(239,191,189);if(B=null,b<128){if((m-=1)<0)break;E.push(b)}else if(b<2048){if((m-=2)<0)break;E.push(b>>6|192,63&b|128)}else if(b<65536){if((m-=3)<0)break;E.push(b>>12|224,b>>6&63|128,63&b|128)}else{if(!(b<1114112))throw new Error("Invalid code point");if((m-=4)<0)break;E.push(b>>18|240,b>>12&63|128,b>>6&63|128,63&b|128)}}return E}function Q(d){return s.toByteArray(function(m){if((m=(m=m.split("=")[0]).trim().replace(pe,"")).length<2)return"";for(;m.length%4!=0;)m+="=";return m}(d))}function se(d,m,b,T){for(var B=0;B<T&&!(B+b>=m.length||B>=d.length);++B)m[B+b]=d[B];return B}function ae(d,m){return d instanceof m||d!=null&&d.constructor!=null&&d.constructor.name!=null&&d.constructor.name===m.name}function H(d){return d!=d}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":1,buffer:2,ieee754:3}],3:[function(e,t,r){r.read=function(n,s,o,i,l){var u,h,x=8*l-i-1,g=(1<<x)-1,f=g>>1,R=-7,w=o?l-1:0,S=o?-1:1,y=n[s+w];for(w+=S,u=y&(1<<-R)-1,y>>=-R,R+=x;R>0;u=256*u+n[s+w],w+=S,R-=8);for(h=u&(1<<-R)-1,u>>=-R,R+=i;R>0;h=256*h+n[s+w],w+=S,R-=8);if(u===0)u=1-f;else{if(u===g)return h?NaN:1/0*(y?-1:1);h+=Math.pow(2,i),u-=f}return(y?-1:1)*h*Math.pow(2,u-i)},r.write=function(n,s,o,i,l,u){var h,x,g,f=8*u-l-1,R=(1<<f)-1,w=R>>1,S=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=i?0:u-1,v=i?1:-1,C=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(x=isNaN(s)?1:0,h=R):(h=Math.floor(Math.log(s)/Math.LN2),s*(g=Math.pow(2,-h))<1&&(h--,g*=2),(s+=h+w>=1?S/g:S*Math.pow(2,1-w))*g>=2&&(h++,g/=2),h+w>=R?(x=0,h=R):h+w>=1?(x=(s*g-1)*Math.pow(2,l),h+=w):(x=s*Math.pow(2,w-1)*Math.pow(2,l),h=0));l>=8;n[o+y]=255&x,y+=v,x/=256,l-=8);for(h=h<<l|x,f+=l;f>0;n[o+y]=255&h,y+=v,h/=256,f-=8);n[o+y-v]|=128*C}},{}],4:[function(e,t,r){(function(n){(function(){let s=this,o=e("./transformers"),i="UTF8",l="UTF16",u="UTF16BE",h="UTF16LE",x="UTF32",g="UTF32BE",f="UTF32LE",R="UINT7",w="ASCII",S="BINARY",y="UINT8",v="UINT16",C="UINT16LE",_="UINT16BE",I="UINT32",P="UINT32LE",M="UINT32BE",Z="ESCAPED",z="STRING",X=function(te,ne){if(typeof te!="string"||te==="")throw new TypeError(`type: "${te}" not recognized`);let W=function(O){let D={type:"",base64:!1},N=/^(base64:)?([a-zA-Z0-9]+)$/i.exec(O);return N&&(N[2]&&(D.type=N[2].toUpperCase()),N[1]&&(D.base64=!0)),D}(te.toUpperCase());if(W.base64){if(W.type===z)throw new TypeError(`type: "${te} "BASE64:" prefix not allowed with type STRING`);if(n.isBuffer(ne))W.data=o.base64.decode(ne);else{if(typeof ne!="string")throw new TypeError(`type: "${te} unrecognized data type: typeof(data): ${typeof ne}`);{let O=n.from(ne,"ascii");W.data=o.base64.decode(O)}}}else W.data=ne;switch(W.type){case i:(function(O){O.type=i;let D=O.data;O.bom=0,D.length>=3&&D[0]===239&&D[1]===187&&D[2]===191&&(O.bom=3)})(W);break;case l:case u:case h:(function(O){let D=O.data;switch(O.bom=0,O.type){case l:O.type=u,D.length>=2&&(D[0]===254&&D[1]===255?O.bom=2:D[0]===255&&D[1]===254&&(O.type=h,O.bom=2));break;case u:if(O.type=u,D.length>=2){if(D[0]===254&&D[1]===255)O.bom=2;else if(D[0]===255&&D[1]===254)throw new TypeError('src type: "UTF16BE" specified but BOM is for "UTF16LE"')}break;case h:if(O.type=h,D.length>=0){if(D[0]===254&&D[1]===255)throw new TypeError('src type: "UTF16LE" specified but BOM is for "UTF16BE"');D[0]===255&&D[1]===254&&(O.bom=2)}break;default:throw new TypeError(`UTF16 BOM: src type "${O.type}" unrecognized`)}})(W);break;case x:case g:case f:(function(O){let D=O.data;switch(O.bom=0,O.type){case x:O.type=g,D.length>=4&&(D[0]===0&&D[1]===0&&D[2]===254&&D[3]===255&&(O.bom=4),D[0]===255&&D[1]===254&&D[2]===0&&D[3]===0&&(O.type=f,O.bom=4));break;case g:if(O.type=g,D.length>=4&&(D[0]===0&&D[1]===0&&D[2]===254&&D[3]===255&&(O.bom=4),D[0]===255&&D[1]===254&&D[2]===0&&D[3]===0))throw new TypeError('src type: UTF32BE specified but BOM is for UTF32LE"');break;case f:if(O.type=f,D.length>=4){if(D[0]===0&&D[1]===0&&D[2]===254&&D[3]===255)throw new TypeError('src type: "UTF32LE" specified but BOM is for "UTF32BE"');D[0]===255&&D[1]===254&&D[2]===0&&D[3]===0&&(O.bom=4)}break;default:throw new TypeError(`UTF32 BOM: src type "${O.type}" unrecognized`)}})(W);break;case v:W.type=_;break;case I:W.type=M;break;case w:W.type=R;break;case S:W.type=y;break;case R:case y:case C:case _:case P:case M:case z:case Z:break;default:throw new TypeError(`type: "${te}" not recognized`)}if(W.type===z){if(typeof W.data!="string")throw new TypeError(`type: "${te}" but data is not a string`)}else if(!n.isBuffer(W.data))throw new TypeError(`type: "${te}" but data is not a Buffer`);return W},fe=function(te,ne){switch(te){case i:return o.utf8.encode(ne);case u:return o.utf16be.encode(ne);case h:return o.utf16le.encode(ne);case g:return o.utf32be.encode(ne);case f:return o.utf32le.encode(ne);case R:return o.uint7.encode(ne);case y:return o.uint8.encode(ne);case _:return o.uint16be.encode(ne);case C:return o.uint16le.encode(ne);case M:return o.uint32be.encode(ne);case P:return o.uint32le.encode(ne);case z:return o.string.encode(ne);case Z:return o.escaped.encode(ne);default:throw new TypeError(`encode type "${te}" not recognized`)}};r.decode=function(te,ne){return function(W){switch(W.type){case i:return o.utf8.decode(W.data,W.bom);case h:return o.utf16le.decode(W.data,W.bom);case u:return o.utf16be.decode(W.data,W.bom);case g:return o.utf32be.decode(W.data,W.bom);case f:return o.utf32le.decode(W.data,W.bom);case R:return o.uint7.decode(W.data);case y:return o.uint8.decode(W.data);case _:return o.uint16be.decode(W.data);case C:return o.uint16le.decode(W.data);case M:return o.uint32be.decode(W.data);case P:return o.uint32le.decode(W.data);case z:return o.string.decode(W.data);case Z:return o.escaped.decode(W.data);default:throw new TypeError(`decode type "${W.type}" not recognized`)}}(X(te,ne))},r.encode=function(te,ne){let W,O,D=function(N,L){if(!Array.isArray(L))throw new TypeError('dst chars: not array: "'+typeof L);if(typeof N!="string")throw new TypeError('dst type: not string: "'+typeof N);let U=function($){let V,pe,J={crlf:!1,lf:!1,base64:!1,type:""};for(;;){if(pe=$,V=$.slice(0,5),V==="CRLF:"){J.crlf=!0,pe=$.slice(5);break}if(V=$.slice(0,3),V==="LF:"){J.lf=!0,pe=$.slice(3);break}break}return V=pe.split(":"),V.length===1?J.type=V[0]:V.length===2&&V[1]==="BASE64"&&(J.base64=!0,J.type=V[0]),J}(N.toUpperCase());switch(U.type){case i:case u:case h:case g:case f:case R:case y:case C:case _:case P:case M:case Z:break;case z:if(U.base64)throw new TypeError('":BASE64" suffix not allowed with type STRING');break;case w:U.type=R;break;case S:U.type=y;break;case l:U.type=u;break;case x:U.type=g;break;case v:U.type=_;break;case I:U.type=M;break;default:throw new TypeError(`dst type unrecognized: "${N}" : must have form [crlf:|lf:]type[:base64]`)}return U}(te,ne);return D.crlf?(W=o.lineEnds.crlf(ne),O=fe(D.type,W)):D.lf?(W=o.lineEnds.lf(ne),O=fe(D.type,W)):O=fe(D.type,ne),D.base64&&(O=o.base64.encode(O)),O},r.convert=function(te,ne,W){return s.encode(W,s.decode(te,ne))}}).call(this)}).call(this,e("buffer").Buffer)},{"./transformers":6,buffer:2}],5:[function(e,t,r){t.exports={converter:e("./converter"),transformers:e("./transformers")}},{"./converter":4,"./transformers":6}],6:[function(e,t,r){(function(n){(function(){let s=this,o=4294967292,i=4294967293,l=4294967294,u=4294967295,h=[0,1,3,7,15,31,63,127,255,511,1023],x=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),f=[];g.forEach(w=>{f.push(w.charCodeAt(0))}),r.utf8={encode(w){let S=[];return w.forEach(y=>{if(y>=0&&y<=127)S.push(y);else if(y<=2047)S.push(192+(y>>6&h[5])),S.push(128+(y&h[6]));else if(y<55296||y>57343&&y<=65535)S.push(224+(y>>12&h[4])),S.push(128+(y>>6&h[6])),S.push(128+(y&h[6]));else{if(!(y>=65536&&y<=1114111))throw new RangeError(`utf8.encode: character out of range: char: ${y}`);{let v=y>>16&h[5];S.push(240+(v>>2)),S.push(128+((v&h[2])<<4)+(y>>12&h[4])),S.push(128+(y>>6&h[6])),S.push(128+(y&h[6]))}}}),n.from(S)},decode(w,S){function y(ne,W){if((192&W)!=128)return i;let O=((ne&h[5])<<6)+(W&h[6]);return O<128?o:O}function v(ne,W,O){if((192&O)!=128||(192&W)!=128)return i;let D=((ne&h[4])<<12)+((W&h[6])<<6)+(O&h[6]);return D<2048?o:D>=55296&&D<=57343?l:D}function C(ne,W,O,D){if((192&D)!=128||(192&O)!=128||(192&W)!=128)return i;let N=(((ne&h[3])<<2)+(W>>4&h[2])<<16)+((W&h[4])<<12)+((O&h[6])<<6)+(D&h[6]);return N<65536?o:N>1114111?l:N}let _,I,P,M,Z,z,X=w.length,fe=S?3:0,te=[];for(;fe<X;){I=w[fe],_=u;let ne=!0;for(;ne;){if(I>=0&&I<=127){_=I,z=1;break}if(P=fe+1,P<X&&I>=194&&I<=223){_=y(I,w[P]),z=2;break}if(M=fe+2,M<X&&I>=224&&I<=239){_=v(I,w[P],w[M]),z=3;break}if(Z=fe+3,Z<X&&I>=240&&I<=244){_=C(I,w[P],w[M],w[Z]),z=4;break}break}if(_>1114111){let W=`byte[${fe}]`;throw _===u?new RangeError(`utf8.decode: ill-formed UTF8 byte sequence found at: ${W}`):_===i?new RangeError(`utf8.decode: illegal trailing byte found at: ${W}`):_===l?new RangeError(`utf8.decode: code point out of range found at: ${W}`):_===o?new RangeError(`utf8.decode: non-shortest form found at: ${W}`):new RangeError(`utf8.decode: unrecognized error found at: ${W}`)}te.push(_),fe+=z}return te}},r.utf16be={encode(w){let S=[],y,v,C;for(let _=0;_<w.length;_+=1)if(y=w[_],y>=0&&y<=55295||y>=57344&&y<=65535)S.push(y>>8&h[8]),S.push(y&h[8]);else{if(!(y>=65536&&y<=1114111))throw new RangeError(`utf16be.encode: UTF16BE value out of range: char[${_}]: ${y}`);C=y-65536,v=55296+(C>>10),C=56320+(C&h[10]),S.push(v>>8&h[8]),S.push(v&h[8]),S.push(C>>8&h[8]),S.push(C&h[8])}return n.from(S)},decode(w,S){if(w.length%2>0)throw new RangeError(`utf16be.decode: data length must be even multiple of 2: length: ${w.length}`);let y=[],v=w.length,C,_,I,P,M,Z,z=S?2:0,X=0;for(;z<v;){for(;;){if(I=z+1,I<v){if(M=(w[z]<<8)+w[I],M<55296||M>57343){C=M,_=2;break}if(P=z+3,P<v&&(Z=(w[z+2]<<8)+w[P],M<=56319&&Z>=56320&&Z<=57343)){C=65536+(M-55296<<10)+(Z-56320),_=4;break}}throw new RangeError(`utf16be.decode: ill-formed UTF16BE byte sequence found: byte[${z}]`)}y[X++]=C,z+=_}return y}},r.utf16le={encode(w){let S=[],y,v,C;for(let _=0;_<w.length;_+=1)if(y=w[_],y>=0&&y<=55295||y>=57344&&y<=65535)S.push(y&h[8]),S.push(y>>8&h[8]);else{if(!(y>=65536&&y<=1114111))throw new RangeError(`utf16le.encode: UTF16LE value out of range: char[${_}]: ${y}`);C=y-65536,v=55296+(C>>10),C=56320+(C&h[10]),S.push(v&h[8]),S.push(v>>8&h[8]),S.push(C&h[8]),S.push(C>>8&h[8])}return n.from(S)},decode(w,S){if(w.length%2>0)throw new RangeError(`utf16le.decode: data length must be even multiple of 2: length: ${w.length}`);let y=[],v=w.length,C,_,I,P,M,Z,z=S?2:0,X=0;for(;z<v;){for(;;){if(I=z+1,I<v){if(M=(w[I]<<8)+w[z],M<55296||M>57343){C=M,_=2;break}if(P=z+3,P<v&&(Z=(w[P]<<8)+w[z+2],M<=56319&&Z>=56320&&Z<=57343)){C=65536+(M-55296<<10)+(Z-56320),_=4;break}}throw new RangeError(`utf16le.decode: ill-formed UTF16LE byte sequence found: byte[${z}]`)}y[X++]=C,z+=_}return y}},r.utf32be={encode(w){let S=n.alloc(4*w.length),y=0;return w.forEach(v=>{if(v>=55296&&v<=57343||v>1114111)throw new RangeError(`utf32be.encode: UTF32BE character code out of range: char[${y/4}]: ${v}`);S[y++]=v>>24&h[8],S[y++]=v>>16&h[8],S[y++]=v>>8&h[8],S[y++]=v&h[8]}),S},decode(w,S){if(w.length%4>0)throw new RangeError(`utf32be.decode: UTF32BE byte length must be even multiple of 4: length: ${w.length}`);let y=[],v=S?4:0;for(;v<w.length;v+=4){let C=(w[v]<<24)+(w[v+1]<<16)+(w[v+2]<<8)+w[v+3];if(C>=55296&&C<=57343||C>1114111)throw new RangeError(`utf32be.decode: UTF32BE character code out of range: char[${v/4}]: ${C}`);y.push(C)}return y}},r.utf32le={encode(w){let S=n.alloc(4*w.length),y=0;return w.forEach(v=>{if(v>=55296&&v<=57343||v>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${y/4}]: ${v}`);S[y++]=v&h[8],S[y++]=v>>8&h[8],S[y++]=v>>16&h[8],S[y++]=v>>24&h[8]}),S},decode(w,S){if(w.length%4>0)throw new RangeError(`utf32be.decode: UTF32LE byte length must be even multiple of 4: length: ${w.length}`);let y=[],v=S?4:0;for(;v<w.length;v+=4){let C=(w[v+3]<<24)+(w[v+2]<<16)+(w[v+1]<<8)+w[v];if(C>=55296&&C<=57343||C>1114111)throw new RangeError(`utf32le.encode: UTF32LE character code out of range: char[${v/4}]: ${C}`);y.push(C)}return y}},r.uint7={encode(w){let S=n.alloc(w.length);for(let y=0;y<w.length;y+=1){if(w[y]>127)throw new RangeError(`uint7.encode: UINT7 character code out of range: char[${y}]: ${w[y]}`);S[y]=w[y]}return S},decode(w){let S=[];for(let y=0;y<w.length;y+=1){if(w[y]>127)throw new RangeError(`uint7.decode: UINT7 character code out of range: byte[${y}]: ${w[y]}`);S[y]=w[y]}return S}},r.uint8={encode(w){let S=n.alloc(w.length);for(let y=0;y<w.length;y+=1){if(w[y]>255)throw new RangeError(`uint8.encode: UINT8 character code out of range: char[${y}]: ${w[y]}`);S[y]=w[y]}return S},decode(w){let S=[];for(let y=0;y<w.length;y+=1)S[y]=w[y];return S}},r.uint16be={encode(w){let S=n.alloc(2*w.length),y=0;return w.forEach(v=>{if(v>65535)throw new RangeError(`uint16be.encode: UINT16BE character code out of range: char[${y/2}]: ${v}`);S[y++]=v>>8&h[8],S[y++]=v&h[8]}),S},decode(w){if(w.length%2>0)throw new RangeError(`uint16be.decode: UINT16BE byte length must be even multiple of 2: length: ${w.length}`);let S=[];for(let y=0;y<w.length;y+=2)S.push((w[y]<<8)+w[y+1]);return S}},r.uint16le={encode(w){let S=n.alloc(2*w.length),y=0;return w.forEach(v=>{if(v>65535)throw new RangeError(`uint16le.encode: UINT16LE character code out of range: char[${y/2}]: ${v}`);S[y++]=v&h[8],S[y++]=v>>8&h[8]}),S},decode(w){if(w.length%2>0)throw new RangeError(`uint16le.decode: UINT16LE byte length must be even multiple of 2: length: ${w.length}`);let S=[];for(let y=0;y<w.length;y+=2)S.push((w[y+1]<<8)+w[y]);return S}},r.uint32be={encode(w){let S=n.alloc(4*w.length),y=0;return w.forEach(v=>{S[y++]=v>>24&h[8],S[y++]=v>>16&h[8],S[y++]=v>>8&h[8],S[y++]=v&h[8]}),S},decode(w){if(w.length%4>0)throw new RangeError(`uint32be.decode: UINT32BE byte length must be even multiple of 4: length: ${w.length}`);let S=[];for(let y=0;y<w.length;y+=4)S.push((w[y]<<24)+(w[y+1]<<16)+(w[y+2]<<8)+w[y+3]);return S}},r.uint32le={encode(w){let S=n.alloc(4*w.length),y=0;return w.forEach(v=>{S[y++]=v&h[8],S[y++]=v>>8&h[8],S[y++]=v>>16&h[8],S[y++]=v>>24&h[8]}),S},decode(w){if(w.length%4>0)throw new RangeError(`uint32le.decode: UINT32LE byte length must be even multiple of 4: length: ${w.length}`);let S=[];for(let y=0;y<w.length;y+=4)S.push((w[y+3]<<24)+(w[y+2]<<16)+(w[y+1]<<8)+w[y]);return S}},r.string={encode:w=>s.utf16le.encode(w).toString("utf16le"),decode:w=>s.utf16le.decode(n.from(w,"utf16le"),0)},r.escaped={encode(w){let S=[];for(let y=0;y<w.length;y+=1){let v=w[y];if(v===96)S.push(v),S.push(v);else if(v===10)S.push(v);else if(v>=32&&v<=126)S.push(v);else{let C="";if(v>=0&&v<=31)C+=`\`x${x[v]}`;else if(v>=127&&v<=255)C+=`\`x${x[v]}`;else if(v>=256&&v<=65535)C+=`\`u${x[v>>8&h[8]]}${x[v&h[8]]}`;else{if(!(v>=65536&&v<=4294967295))throw new Error("escape.encode(char): char > 0xffffffff not allowed");{C+="`u{";let _=v>>24&h[8];_>0&&(C+=x[_]),C+=`${x[v>>16&h[8]]+x[v>>8&h[8]]+x[v&h[8]]}}`}}n.from(C).forEach(_=>{S.push(_)})}}return n.from(S)},decode(w){function S(X){return X>=48&&X<=57||X>=65&&X<=70||X>=97&&X<=102}function y(X,fe,te){let ne={char:null,nexti:X+2,error:!0};if(X+1<fe&&S(te[X])&&S(te[X+1])){let W=String.fromCodePoint(te[X],te[X+1]);ne.char=parseInt(W,16),Number.isNaN(ne.char)||(ne.error=!1)}return ne}function v(X,fe,te){let ne={char:null,nexti:X+4,error:!0};if(X+3<fe&&S(te[X])&&S(te[X+1])&&S(te[X+2])&&S(te[X+3])){let W=String.fromCodePoint(te[X],te[X+1],te[X+2],te[X+3]);ne.char=parseInt(W,16),Number.isNaN(ne.char)||(ne.error=!1)}return ne}function C(X,fe,te){let ne={char:null,nexti:X+4,error:!0},W="";for(;X<fe&&S(te[X]);)W+=String.fromCodePoint(te[X]),X+=1;return ne.char=parseInt(W,16),te[X]!==125||Number.isNaN(ne.char)||(ne.error=!1),ne.nexti=X+1,ne}let _=[],I=w.length,P,M,Z,z=0;for(;z<I;){for(;;){if(Z=!0,w[z]!==96){_.push(w[z]),z+=1,Z=!1;break}if(P=z+1,P>=I)break;if(w[P]===96){_.push(96),z+=2,Z=!1;break}if(w[P]===120){if(M=y(P+1,I,w),M.error)break;_.push(M.char),z=M.nexti,Z=!1;break}if(w[P]===117){if(w[P+1]===123){if(M=C(P+2,I,w),M.error)break;_.push(M.char),z=M.nexti,Z=!1;break}if(M=v(P+1,I,w),M.error)break;_.push(M.char),z=M.nexti,Z=!1;break}break}if(Z)throw new Error(`escaped.decode: ill-formed escape sequence at buf[${z}]`)}return _}};let R=10;r.lineEnds={crlf(w){let S=[],y=0;for(;y<w.length;)switch(w[y]){case 13:y+1<w.length&&w[y+1]===R?y+=2:y+=1,S.push(13),S.push(R);break;case R:S.push(13),S.push(R),y+=1;break;default:S.push(w[y]),y+=1}return S.length>0&&S[S.length-1]!==R&&(S.push(13),S.push(R)),S},lf(w){let S=[],y=0;for(;y<w.length;)switch(w[y]){case 13:y+1<w.length&&w[y+1]===R?y+=2:y+=1,S.push(R);break;case R:S.push(R),y+=1;break;default:S.push(w[y]),y+=1}return S.length>0&&S[S.length-1]!==R&&S.push(R),S}},r.base64={encode(w){if(w.length===0)return n.alloc(0);let S,y,v,C=w.length%3;C=C>0?3-C:0;let _=(w.length+C)/3,I=n.alloc(4*_);C>0&&(_-=1),S=0,y=0;for(let P=0;P<_;P+=1)v=w[S++]<<16,v+=w[S++]<<8,v+=w[S++],I[y++]=f[v>>18&h[6]],I[y++]=f[v>>12&h[6]],I[y++]=f[v>>6&h[6]],I[y++]=f[v&h[6]];return C===0?I:C===1?(v=w[S++]<<16,v+=w[S]<<8,I[y++]=f[v>>18&h[6]],I[y++]=f[v>>12&h[6]],I[y++]=f[v>>6&h[6]],I[y]=f[64],I):C===2?(v=w[S]<<16,I[y++]=f[v>>18&h[6]],I[y++]=f[v>>12&h[6]],I[y++]=f[64],I[y]=f[64],I):void 0},decode(w){if(w.length===0)return n.alloc(0);let S=function(Z){let z=[],X=0;for(let fe=0;fe<Z.length;fe+=1){let te=Z[fe],ne=!0;for(;ne&&te!==32&&te!==9&&te!==10&&te!==13;){if(te>=65&&te<=90){z.push(te-65);break}if(te>=97&&te<=122){z.push(te-71);break}if(te>=48&&te<=57){z.push(te+4);break}if(te===43){z.push(62);break}if(te===47){z.push(63);break}if(te===61){z.push(64),X+=1;break}throw new RangeError(`base64.decode: invalid character buf[${fe}]: ${te}`)}}if(z.length%4>0)throw new RangeError(`base64.decode: string length not integral multiple of 4: ${z.length}`);switch(X){case 0:break;case 1:if(z[z.length-1]!==64)throw new RangeError("base64.decode: one tail character found: not last character");break;case 2:if(z[z.length-1]!==64||z[z.length-2]!==64)throw new RangeError("base64.decode: two tail characters found: not last characters");break;default:throw new RangeError(`base64.decode: more than two tail characters found: ${X}`)}return{tail:X,buf:n.from(z)}}(w),{tail:y}=S,v=S.buf,C,_,I,P=v.length/4,M=n.alloc(3*P-y);y>0&&(P-=1),_=0,C=0;for(let Z=0;Z<P;Z+=1)I=v[C++]<<18,I+=v[C++]<<12,I+=v[C++]<<6,I+=v[C++],M[_++]=I>>16&h[8],M[_++]=I>>8&h[8],M[_++]=I&h[8];return y===1&&(I=v[C++]<<18,I+=v[C++]<<12,I+=v[C]<<6,M[_++]=I>>16&h[8],M[_]=I>>8&h[8]),y===2&&(I=v[C++]<<18,I+=v[C++]<<12,M[_]=I>>16&h[8]),M},toString(w){if(w.length%4>0)throw new RangeError(`base64.toString: input buffer length not multiple of 4: ${w.length}`);let S="",y=0;function v(_,I,P,M){switch(y){case 76:S+=`\r
${_}${I}${P}${M}`,y=4;break;case 75:S+=`${_}\r
${I}${P}${M}`,y=3;break;case 74:S+=`${_+I}\r
${P}${M}`,y=2;break;case 73:S+=`${_+I+P}\r
${M}`,y=1;break;default:S+=_+I+P+M,y+=4}}for(let _=0;_<w.length;_+=4){for(let I=_;I<_+4;I+=1)if(!((C=w[I])>=65&&C<=90||C>=97&&C<=122||C>=48&&C<=57||C===43||C===47||C===61))throw new RangeError(`base64.toString: buf[${I}]: ${w[I]} : not valid base64 character code`);v(String.fromCharCode(w[_]),String.fromCharCode(w[_+1]),String.fromCharCode(w[_+2]),String.fromCharCode(w[_+3]))}var C;return S}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:2}],7:[function(e,t,r){t.exports=function(){let n=e("./identifiers"),s=e("./utilities"),o=this,i=null,l=null,u=null,h=0,x=[],g=[],f=[],R=[];function w(S){let y="";for(let v=0;v<S;v+=1)y+=" ";return y}this.callbacks=[],this.astObject="astObject",this.init=function(S,y,v){let C;f.length=0,R.length=0,x.length=0,h=0,i=S,l=y,u=v;let _=[];for(C=0;C<i.length;C+=1)_.push(i[C].lower);for(C=0;C<l.length;C+=1)_.push(l[C].lower);for(h=i.length+l.length,C=0;C<h;C+=1)x[C]=!1,g[C]=null;for(let I in o.callbacks){let P=I.toLowerCase();if(C=_.indexOf(P),C<0)throw new Error(`ast.js: init: node '${I}' not a rule or udt name`);typeof o.callbacks[I]=="function"&&(x[C]=!0,g[C]=o.callbacks[I]),o.callbacks[I]===!0&&(x[C]=!0)}},this.ruleDefined=function(S){return x[S]!==!1},this.udtDefined=function(S){return x[i.length+S]!==!1},this.down=function(S,y){let v=R.length;return f.push(v),R.push({name:y,thisIndex:v,thatIndex:null,state:n.SEM_PRE,callbackIndex:S,phraseIndex:null,phraseLength:null,stack:f.length}),v},this.up=function(S,y,v,C){let _=R.length,I=f.pop();return R.push({name:y,thisIndex:_,thatIndex:I,state:n.SEM_POST,callbackIndex:S,phraseIndex:v,phraseLength:C,stack:f.length}),R[I].thatIndex=_,R[I].phraseIndex=v,R[I].phraseLength=C,_},this.translate=function(S){let y,v,C;for(let _=0;_<R.length;_+=1)C=R[_],v=g[C.callbackIndex],C.state===n.SEM_PRE?v!==null&&(y=v(n.SEM_PRE,u,C.phraseIndex,C.phraseLength,S),y===n.SEM_SKIP&&(_=C.thatIndex)):v!==null&&v(n.SEM_POST,u,C.phraseIndex,C.phraseLength,S)},this.setLength=function(S){R.length=S,f.length=S>0?R[S-1].stack:0},this.getLength=function(){return R.length},this.toXml=function(S){let y=s.charsToDec,v="decimal integer character codes";if(typeof S=="string"&&S.length>=3){let I=S.slice(0,3).toLowerCase();I==="asc"?(y=s.charsToAscii,v="ASCII for printing characters, hex for non-printing"):I==="hex"?(y=s.charsToHex,v="hexadecimal integer character codes"):I==="uni"&&(y=s.charsToUnicode,v="Unicode UTF-32 integer character codes")}let C="",_=0;return C+=`<?xml version="1.0" encoding="utf-8"?>
`,C+=`<root nodes="${R.length/2}" characters="${u.length}">
`,C+=`<!-- input string, ${v} -->
`,C+=w(_+2),C+=y(u),C+=`
`,R.forEach(I=>{I.state===n.SEM_PRE?(_+=1,C+=w(_),C+=`<node name="${I.name}" index="${I.phraseIndex}" length="${I.phraseLength}">
`,C+=w(_+2),C+=y(u,I.phraseIndex,I.phraseLength),C+=`
`):(C+=w(_),C+=`</node><!-- name="${I.name}" -->
`,_-=1)}),C+=`</root>
`,C},this.phrases=function(){let S={},y,v;for(y=0;y<R.length;y+=1)v=R[y],v.state===n.SEM_PRE&&(Array.isArray(S[v.name])||(S[v.name]=[]),S[v.name].push({index:v.phraseIndex,length:v.phraseLength}));return S}}},{"./identifiers":10,"./utilities":16}],8:[function(e,t,r){t.exports=function(){let n=-1,s=0;this.init=function(o){if(typeof o!="number"||o<=0)throw new Error("circular-buffer.js: init: circular buffer size must an integer > 0");s=Math.ceil(o),n=-1},this.increment=function(){return n+=1,(n+s)%s},this.maxSize=function(){return s},this.items=function(){return n+1},this.getListIndex=function(o){return n===-1||o<0||o>n||n-o>=s?-1:(o+s)%s},this.forEach=function(o){if(n!==-1)if(n<s)for(let i=0;i<=n;i+=1)o(i,i);else for(let i=n-s+1;i<=n;i+=1)o((i+s)%s,i)}}},{}],9:[function(e,t,r){t.exports=function(){return`/* This file automatically generated by jsonToless() and LESS. */
.apg-mono {
  font-family: monospace;
}
.apg-active {
  font-weight: bold;
  color: #000000;
}
.apg-match {
  font-weight: bold;
  color: #264BFF;
}
.apg-empty {
  font-weight: bold;
  color: #0fbd0f;
}
.apg-nomatch {
  font-weight: bold;
  color: #FF4000;
}
.apg-lh-match {
  font-weight: bold;
  color: #1A97BA;
}
.apg-lb-match {
  font-weight: bold;
  color: #5F1687;
}
.apg-remainder {
  font-weight: bold;
  color: #999999;
}
.apg-ctrl-char {
  font-weight: bolder;
  font-style: italic;
  font-size: 0.6em;
}
.apg-line-end {
  font-weight: bold;
  color: #000000;
}
.apg-error {
  font-weight: bold;
  color: #FF4000;
}
.apg-phrase {
  color: #000000;
  background-color: #8caae6;
}
.apg-empty-phrase {
  color: #0fbd0f;
}
table.apg-state {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th,
table.apg-state td {
  text-align: left;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-state th:nth-last-child(2),
table.apg-state td:nth-last-child(2) {
  text-align: right;
}
table.apg-state caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-stats {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats th,
table.apg-stats td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-stats caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-trace th,
table.apg-trace td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-trace th:last-child,
table.apg-trace th:nth-last-child(2),
table.apg-trace td:last-child,
table.apg-trace td:nth-last-child(2) {
  text-align: left;
}
table.apg-grammar {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-grammar th,
table.apg-grammar td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-grammar th:last-child,
table.apg-grammar td:last-child {
  text-align: left;
}
table.apg-rules {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-rules th,
table.apg-rules td {
  text-align: right;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-rules a {
  color: #003399 !important;
}
table.apg-rules a:hover {
  color: #8caae6 !important;
}
table.apg-attrs {
  font-family: monospace;
  margin-top: 5px;
  font-size: 11px;
  line-height: 130%;
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs caption {
  font-size: 125%;
  line-height: 130%;
  font-weight: bold;
  text-align: left;
}
table.apg-attrs th,
table.apg-attrs td {
  text-align: center;
  border: 1px solid black;
  border-collapse: collapse;
}
table.apg-attrs th:nth-child(1),
table.apg-attrs th:nth-child(2),
table.apg-attrs th:nth-child(3) {
  text-align: right;
}
table.apg-attrs td:nth-child(1),
table.apg-attrs td:nth-child(2),
table.apg-attrs td:nth-child(3) {
  text-align: right;
}
table.apg-attrs a {
  color: #003399 !important;
}
table.apg-attrs a:hover {
  color: #8caae6 !important;
}
`}},{}],10:[function(e,t,r){t.exports={ALT:1,CAT:2,REP:3,RNM:4,TRG:5,TBS:6,TLS:7,UDT:11,AND:12,NOT:13,BKR:14,BKA:15,BKN:16,ABG:17,AEN:18,ACTIVE:100,MATCH:101,EMPTY:102,NOMATCH:103,SEM_PRE:200,SEM_POST:201,SEM_OK:300,SEM_SKIP:301,ATTR_N:400,ATTR_R:401,ATTR_MR:402,LOOKAROUND_NONE:500,LOOKAROUND_AHEAD:501,LOOKAROUND_BEHIND:502,BKR_MODE_UM:601,BKR_MODE_PM:602,BKR_MODE_CS:603,BKR_MODE_CI:604}},{}],11:[function(e,t,r){t.exports={ast:e("./ast"),circular:e("./circular-buffer"),ids:e("./identifiers"),parser:e("./parser"),stats:e("./stats"),trace:e("./trace"),utils:e("./utilities"),emitcss:e("./emitcss"),style:e("./style")}},{"./ast":7,"./circular-buffer":8,"./emitcss":9,"./identifiers":10,"./parser":12,"./stats":13,"./style":14,"./trace":15,"./utilities":16}],12:[function(e,t,r){t.exports=function(){let n=e("./identifiers"),s=e("./utilities"),o=this,i;this.ast=null,this.stats=null,this.trace=null,this.callbacks=[];let l,u,h,x,g=null,f=null,R=0,w=0,S=0,y=null,v=null,C=null,_=null,I=null,P=0,M=1/0,Z=1/0,z=function(H,d,m){let b="parser.js: evaluateRule(): ";if(H>=C.length)throw new Error(`${b}rule index: ${H} out of range`);if(d>=h)throw new Error(`${b}phrase index: ${d} out of range`);let{length:T}=g;g.push({type:n.RNM,index:H}),i(T,d,m),g.pop()},X=function(H,d,m){let b="parser.js: evaluateUdt(): ";if(H>=_.length)throw new Error(`${b}udt index: ${H} out of range`);if(d>=h)throw new Error(`${b}phrase index: ${d} out of range`);let{length:T}=g;g.push({type:n.UDT,empty:_[H].empty,index:H}),i(T,d,m),g.pop()},fe=function(){R=0,w=0,S=0,P=0,x=[{lookAround:n.LOOKAROUND_NONE,anchor:0,charsEnd:0,charsLength:0}],C=null,_=null,f=null,l=0,u=0,h=0,y=null,v=null,I=null,g=null},te=function(){let H=[];this.push=function(){H.push(function(){let d=H[H.length-1],m={};for(let b in d)m[b]=d[b];return m}())},this.pop=function(d){let m=d;if(m||(m=H.length-1),m<1||m>H.length)throw new Error(`parser.js: backRef.pop(): bad length: ${m}`);return H.length=m,H[H.length-1]},this.length=function(){return H.length},this.savePhrase=function(d,m,b){H[H.length-1][d]={phraseIndex:m,phraseLength:b}},this.getPhrase=function(d){return H[H.length-1][d]},function(){let d={};C.forEach(m=>{m.isBkr&&(d[m.lower]=null)}),_.length>0&&_.forEach(m=>{m.isBkr&&(d[m.lower]=null)}),H.push(d)}()},ne=function(){let H=this;this.state=n.ACTIVE,this.phraseLength=0,this.ruleIndex=0,this.udtIndex=0,this.lookAround=x[x.length-1],this.uFrame=new te,this.pFrame=new te,this.evaluateRule=z,this.evaluateUdt=X,this.refresh=function(){H.state=n.ACTIVE,H.phraseLength=0,H.lookAround=x[x.length-1]}},W=function(){return x[x.length-1]},O=function(){return x.length>1},D=function(H,d,m){let b="parser.js: initializeInputChars(): ",T=H,B=d,E=m;if(T===void 0)throw new Error(`${b}input string is undefined`);if(T===null)throw new Error(`${b}input string is null`);if(typeof T=="string")T=s.stringToChars(T);else if(!Array.isArray(T))throw new Error(`${b}input string is not a string or array`);if(T.length>0&&typeof T[0]!="number")throw new Error(`${b}input string not an array of integers`);if(typeof B!="number")B=0;else if(B=Math.floor(B),B<0||B>T.length)throw new Error(`${b}input beginning index out of range: ${B}`);if(typeof E!="number")E=T.length-B;else if(E=Math.floor(E),E<0||E>T.length-B)throw new Error(`${b}input length out of range: ${E}`);f=T,l=B,u=E,h=l+u};this.setMaxTreeDepth=function(H){if(typeof H!="number")throw new Error(`parser: max tree depth must be integer > 0: ${H}`);if(M=Math.floor(H),M<=0)throw new Error(`parser: max tree depth must be integer > 0: ${H}`)},this.setMaxNodeHits=function(H){if(typeof H!="number")throw new Error(`parser: max node hits must be integer > 0: ${H}`);if(Z=Math.floor(H),Z<=0)throw new Error(`parser: max node hits must be integer > 0: ${H}`)};let N=function(H,d,m){let b;(function(E){let k="parser.js: initializeGrammar(): ";if(!E)throw new Error(`${k}grammar object undefined`);if(E.grammarObject!=="grammarObject")throw new Error(`${k}bad grammar object`);C=E.rules,_=E.udts})(H);let T=function(E){let k="parser.js: initializeStartRule(): ",q=null;if(typeof E=="number"){if(E>=C.length)throw new Error(`${k}start rule index too large: max: ${C.length}: index: ${E}`);q=E}else{if(typeof E!="string")throw new Error(`${k}type of start rule '${typeof E}' not recognized`);{let K=E.toLowerCase();for(let j=0;j<C.length;j+=1)if(K===C[j].lower){q=C[j].index;break}if(q===null)throw new Error(`${k}start rule name '${E}' not recognized`)}}return q}(d);(function(){let E="parser.js: initializeCallbacks(): ",k,q;for(y=[],v=[],k=0;k<C.length;k+=1)y[k]=null;for(k=0;k<_.length;k+=1)v[k]=null;let K=[];for(k=0;k<C.length;k+=1)K.push(C[k].lower);for(k=0;k<_.length;k+=1)K.push(_[k].lower);for(let j in o.callbacks){if(k=K.indexOf(j.toLowerCase()),k<0)throw new Error(`${E}syntax callback '${j}' not a rule or udt name`);if(q=o.callbacks[j],q||(q=null),typeof q!="function"&&q!==null)throw new Error(`${E}syntax callback[${j}] must be function reference or 'false' (false/null/undefined/etc.)`);k<C.length?y[k]=q:v[k-C.length]=q}for(k=0;k<_.length;k+=1)if(v[k]===null)throw new Error(`${E}all UDT callbacks must be defined. UDT callback[${_[k].lower}] not a function reference`)})(),function(){for(;;){if(o.trace===void 0){o.trace=null;break}if(o.trace===null)break;if(o.trace.traceObject!=="traceObject")throw new Error("parser.js: initializeTrace(): trace object not recognized");break}o.trace!==null&&o.trace.init(C,_,f)}(),function(){for(;;){if(o.stats===void 0){o.stats=null;break}if(o.stats===null)break;if(o.stats.statsObject!=="statsObject")throw new Error("parser.js: initializeStats(): stats object not recognized");break}o.stats!==null&&o.stats.init(C,_)}(),function(){for(;;){if(o.ast===void 0){o.ast=null;break}if(o.ast===null)break;if(o.ast.astObject!=="astObject")throw new Error("parser.js: initializeAst(): ast object not recognized");break}o.ast!==null&&o.ast.init(C,_,f)}();let B=new ne;switch(m!=null&&(I=m),g=[{type:n.RNM,index:T}],i(0,l,B),g=null,B.state){case n.ACTIVE:throw new Error("parser.js: parse(): final state should never be 'ACTIVE'");case n.NOMATCH:b=!1;break;case n.EMPTY:case n.MATCH:b=B.phraseLength===u;break;default:throw new Error("unrecognized state")}return{success:b,state:B.state,length:u,matched:B.phraseLength,maxMatched:P,maxTreeDepth:w,nodeHits:S,inputLength:f.length,subBegin:l,subEnd:h,subLength:u}};this.parseSubstring=function(H,d,m,b,T,B){return fe(),D(m,b,T),N(H,d,B)},this.parse=function(H,d,m,b){return fe(),D(m,0,m.length),N(H,d,b)};let L=function(H,d,m){let b=g[H];for(let T=0;T<b.children.length&&(i(b.children[T],d,m),m.state===n.NOMATCH);T+=1);},U=function(H,d,m,b){if(d.phraseLength>m){let T=`parser.js: opRNM(${H.name}): callback function error: `;throw T+=`sysData.phraseLength: ${d.phraseLength}`,T+=` must be <= remaining chars: ${m}`,new Error(T)}switch(d.state){case n.ACTIVE:if(b!==!0)throw new Error(`parser.js: opRNM(${H.name}): callback function return error. ACTIVE state not allowed.`);break;case n.EMPTY:d.phraseLength=0;break;case n.MATCH:d.phraseLength===0&&(d.state=n.EMPTY);break;case n.NOMATCH:d.phraseLength=0;break;default:throw new Error(`parser.js: opRNM(${H.name}): callback function return error. Unrecognized return state: ${d.state}`)}},$=function(H,d,m){let b,T,B,E,k,q,K=g[H],j=C[K.index],ee=y[j.index],be=!O();if(be&&(T=o.ast&&o.ast.ruleDefined(K.index),T&&(b=o.ast.getLength(),o.ast.down(K.index,C[K.index].name)),E=m.uFrame.length(),k=m.pFrame.length(),m.uFrame.push(),m.pFrame.push(),q=m.pFrame,m.pFrame=new te),ee===null)B=g,g=j.opcodes,i(0,d,m),g=B;else{let Ae=h-d;m.ruleIndex=j.index,ee(m,f,d,I),U(j,m,Ae,!0),m.state===n.ACTIVE&&(B=g,g=j.opcodes,i(0,d,m),g=B,m.ruleIndex=j.index,ee(m,f,d,I),U(j,m,Ae,!1))}be&&(T&&(m.state===n.NOMATCH?o.ast.setLength(b):o.ast.up(K.index,j.name,d,m.phraseLength)),m.pFrame=q,m.state===n.NOMATCH?(m.uFrame.pop(E),m.pFrame.pop(k)):j.isBkr&&(m.pFrame.savePhrase(j.lower,d,m.phraseLength),m.uFrame.savePhrase(j.lower,d,m.phraseLength)))},V=function(H,d,m){let b,T,B,E,k,q,K=g[H],j=_[K.index];m.UdtIndex=j.index;let ee=!O();ee&&(B=o.ast&&o.ast.udtDefined(K.index),B&&(T=C.length+K.index,b=o.ast.getLength(),o.ast.down(T,j.name)),E=m.uFrame.length(),k=m.pFrame.length(),m.uFrame.push(),m.pFrame.push(),q=m.pFrame,m.pFrame=new te);let be=h-d;v[K.index](m,f,d,I),function(Ae,_e,Be){if(_e.phraseLength>Be){let Me=`parser.js: opUDT(${Ae.name}): callback function error: `;throw Me+=`sysData.phraseLength: ${_e.phraseLength}`,Me+=` must be <= remaining chars: ${Be}`,new Error(Me)}switch(_e.state){case n.ACTIVE:throw new Error(`parser.js: opUDT(${Ae.name}): callback function return error. ACTIVE state not allowed.`);case n.EMPTY:if(Ae.empty===!1)throw new Error(`parser.js: opUDT(${Ae.name}): callback function return error. May not return EMPTY.`);_e.phraseLength=0;break;case n.MATCH:if(_e.phraseLength===0){if(Ae.empty===!1)throw new Error(`parser.js: opUDT(${Ae.name}): callback function return error. May not return EMPTY.`);_e.state=n.EMPTY}break;case n.NOMATCH:_e.phraseLength=0;break;default:throw new Error(`parser.js: opUDT(${Ae.name}): callback function return error. Unrecognized return state: ${_e.state}`)}}(j,m,be),ee&&(B&&(m.state===n.NOMATCH?o.ast.setLength(b):o.ast.up(T,j.name,d,m.phraseLength)),m.pFrame=q,m.state===n.NOMATCH?(m.uFrame.pop(E),m.pFrame.pop(k)):j.isBkr&&(m.pFrame.savePhrase(j.lower,d,m.phraseLength),m.uFrame.savePhrase(j.lower,d,m.phraseLength)))},pe=function(H,d,m){x.push({lookAround:n.LOOKAROUND_AHEAD,anchor:d,charsEnd:h,charsLength:u}),h=f.length,u=f.length-l,i(H+1,d,m);let b=x.pop();switch(h=b.charsEnd,u=b.charsLength,m.phraseLength=0,m.state){case n.EMPTY:case n.MATCH:m.state=n.EMPTY;break;case n.NOMATCH:m.state=n.NOMATCH;break;default:throw new Error(`opAND: invalid state ${m.state}`)}},J=function(H,d,m){x.push({lookAround:n.LOOKAROUND_AHEAD,anchor:d,charsEnd:h,charsLength:u}),h=f.length,u=f.length-l,i(H+1,d,m);let b=x.pop();switch(h=b.charsEnd,u=b.charsLength,m.phraseLength=0,m.state){case n.EMPTY:case n.MATCH:m.state=n.NOMATCH;break;case n.NOMATCH:m.state=n.EMPTY;break;default:throw new Error(`opNOT: invalid state ${m.state}`)}},ie=function(H,d,m){m.state=n.NOMATCH,m.phraseLength=0,m.state=d===0?n.EMPTY:n.NOMATCH},Q=function(H,d,m){m.state=n.NOMATCH,m.phraseLength=0,m.state=d===f.length?n.EMPTY:n.NOMATCH},se=function(H,d,m){switch(x.push({lookAround:n.LOOKAROUND_BEHIND,anchor:d}),i(H+1,d,m),x.pop(),m.phraseLength=0,m.state){case n.EMPTY:case n.MATCH:m.state=n.EMPTY;break;case n.NOMATCH:m.state=n.NOMATCH;break;default:throw new Error(`opBKA: invalid state ${m.state}`)}},ae=function(H,d,m){switch(x.push({lookAround:n.LOOKAROUND_BEHIND,anchor:d}),i(H+1,d,m),x.pop(),m.phraseLength=0,m.state){case n.EMPTY:case n.MATCH:m.state=n.NOMATCH;break;case n.NOMATCH:m.state=n.EMPTY;break;default:throw new Error(`opBKN: invalid state ${m.state}`)}};i=function(H,d,m){let b=!0,T=g[H];if(S+=1,S>Z)throw new Error(`parser: maximum number of node hits exceeded: ${Z}`);if(R+=1,R>w&&(w=R,w>M))throw new Error(`parser: maximum parse tree depth exceeded: ${M}`);if(m.refresh(),o.trace!==null){let B=W();o.trace.down(T,m.state,d,m.phraseLength,B.anchor,B.lookAround)}if(x[x.length-1].lookAround===n.LOOKAROUND_BEHIND)switch(T.type){case n.ALT:L(H,d,m);break;case n.CAT:(function(B,E,k){let q,K,j,ee,be=g[B],Ae=k.uFrame.length(),_e=k.pFrame.length();o.ast&&(K=o.ast.getLength()),q=!0,j=E,ee=0;for(let Be=be.children.length-1;Be>=0;Be-=1)if(i(be.children[Be],j,k),j-=k.phraseLength,ee+=k.phraseLength,k.state===n.NOMATCH){q=!1;break}q?(k.state=ee===0?n.EMPTY:n.MATCH,k.phraseLength=ee):(k.state=n.NOMATCH,k.phraseLength=0,k.uFrame.pop(Ae),k.pFrame.pop(_e),o.ast&&o.ast.setLength(K))})(H,d,m);break;case n.REP:(function(B,E,k){let q,K,j,ee,be=g[B];K=E,j=0,ee=0;let Ae=k.uFrame.length(),_e=k.pFrame.length();for(o.ast&&(q=o.ast.getLength());!(K<=0)&&(i(B+1,K,k),k.state!==n.NOMATCH)&&k.state!==n.EMPTY&&(ee+=1,j+=k.phraseLength,K-=k.phraseLength,ee!==be.max););k.state===n.EMPTY||ee>=be.min?(k.state=j===0?n.EMPTY:n.MATCH,k.phraseLength=j):(k.state=n.NOMATCH,k.phraseLength=0,k.uFrame.pop(Ae),k.pFrame.pop(_e),o.ast&&o.ast.setLength(q))})(H,d,m);break;case n.RNM:$(H,d,m);break;case n.UDT:V(H,d,m);break;case n.AND:pe(H,d,m);break;case n.NOT:J(H,d,m);break;case n.TRG:(function(B,E,k){let q=g[B];if(k.state=n.NOMATCH,k.phraseLength=0,E>0){let K=f[E-1];q.min<=K&&K<=q.max&&(k.state=n.MATCH,k.phraseLength=1)}})(H,d,m);break;case n.TBS:(function(B,E,k){let q,K=g[B];k.state=n.NOMATCH;let j=K.string.length,ee=E-j;if(ee>=0){for(q=0;q<j;q+=1)if(f[ee+q]!==K.string[q])return;k.state=n.MATCH,k.phraseLength=j}})(H,d,m);break;case n.TLS:(function(B,E,k){let q,K=g[B];k.state=n.NOMATCH;let j=K.string.length;if(j===0)return void(k.state=n.EMPTY);let ee=E-j;if(ee>=0){for(let be=0;be<j;be+=1)if(q=f[ee+be],q>=65&&q<=90&&(q+=32),q!==K.string[be])return;k.state=n.MATCH,k.phraseLength=j}})(H,d,m);break;case n.BKR:(function(B,E,k){let q,K,j,ee,be=g[B];k.state=n.NOMATCH,k.phraseLength=0,ee=be.index<C.length?C[be.index].lower:_[be.index-C.length].lower;let Ae=be.bkrMode===n.BKR_MODE_PM?k.pFrame.getPhrase(ee):k.uFrame.getPhrase(ee),_e=be.bkrCase===n.BKR_MODE_CI;if(Ae===null)return;let Be=Ae.phraseIndex,Me=Ae.phraseLength;if(Me===0)return k.state=n.EMPTY,void(k.phraseLength=0);let Ar=E-Me;if(Ar>=0){if(_e){for(q=0;q<Me;q+=1)if(K=f[Ar+q],j=f[Be+q],K>=65&&K<=90&&(K+=32),j>=65&&j<=90&&(j+=32),K!==j)return;k.state=n.MATCH,k.phraseLength=Me}else for(q=0;q<Me;q+=1)if(K=f[Ar+q],j=f[Be+q],K!==j)return;k.state=n.MATCH,k.phraseLength=Me}})(H,d,m);break;case n.BKA:se(H,d,m);break;case n.BKN:ae(H,d,m);break;case n.ABG:ie(0,d,m);break;case n.AEN:Q(0,d,m);break;default:b=!1}else switch(T.type){case n.ALT:L(H,d,m);break;case n.CAT:(function(B,E,k){let q,K,j,ee,be=g[B],Ae=k.uFrame.length(),_e=k.pFrame.length();o.ast&&(K=o.ast.getLength()),q=!0,j=E,ee=0;for(let Be=0;Be<be.children.length;Be+=1){if(i(be.children[Be],j,k),k.state===n.NOMATCH){q=!1;break}j+=k.phraseLength,ee+=k.phraseLength}q?(k.state=ee===0?n.EMPTY:n.MATCH,k.phraseLength=ee):(k.state=n.NOMATCH,k.phraseLength=0,k.uFrame.pop(Ae),k.pFrame.pop(_e),o.ast&&o.ast.setLength(K))})(H,d,m);break;case n.REP:(function(B,E,k){let q,K,j,ee,be=g[B];K=E,j=0,ee=0;let Ae=k.uFrame.length(),_e=k.pFrame.length();for(o.ast&&(q=o.ast.getLength());!(K>=h)&&(i(B+1,K,k),k.state!==n.NOMATCH)&&k.state!==n.EMPTY&&(ee+=1,j+=k.phraseLength,K+=k.phraseLength,ee!==be.max););k.state===n.EMPTY||ee>=be.min?(k.state=j===0?n.EMPTY:n.MATCH,k.phraseLength=j):(k.state=n.NOMATCH,k.phraseLength=0,k.uFrame.pop(Ae),k.pFrame.pop(_e),o.ast&&o.ast.setLength(q))})(H,d,m);break;case n.RNM:$(H,d,m);break;case n.UDT:V(H,d,m);break;case n.AND:pe(H,d,m);break;case n.NOT:J(H,d,m);break;case n.TRG:(function(B,E,k){let q=g[B];k.state=n.NOMATCH,E<h&&q.min<=f[E]&&f[E]<=q.max&&(k.state=n.MATCH,k.phraseLength=1)})(H,d,m);break;case n.TBS:(function(B,E,k){let q,K=g[B],j=K.string.length;if(k.state=n.NOMATCH,E+j<=h){for(q=0;q<j;q+=1)if(f[E+q]!==K.string[q])return;k.state=n.MATCH,k.phraseLength=j}})(H,d,m);break;case n.TLS:(function(B,E,k){let q,K,j=g[B];k.state=n.NOMATCH;let ee=j.string.length;if(ee!==0){if(E+ee<=h){for(q=0;q<ee;q+=1)if(K=f[E+q],K>=65&&K<=90&&(K+=32),K!==j.string[q])return;k.state=n.MATCH,k.phraseLength=ee}}else k.state=n.EMPTY})(H,d,m);break;case n.BKR:(function(B,E,k){let q,K,j,ee,be=g[B];k.state=n.NOMATCH,ee=be.index<C.length?C[be.index].lower:_[be.index-C.length].lower;let Ae=be.bkrMode===n.BKR_MODE_PM?k.pFrame.getPhrase(ee):k.uFrame.getPhrase(ee),_e=be.bkrCase===n.BKR_MODE_CI;if(Ae===null)return;let Be=Ae.phraseIndex,Me=Ae.phraseLength;if(Me!==0){if(E+Me<=h){if(_e){for(q=0;q<Me;q+=1)if(K=f[E+q],j=f[Be+q],K>=65&&K<=90&&(K+=32),j>=65&&j<=90&&(j+=32),K!==j)return;k.state=n.MATCH,k.phraseLength=Me}else for(q=0;q<Me;q+=1)if(K=f[E+q],j=f[Be+q],K!==j)return;k.state=n.MATCH,k.phraseLength=Me}}else k.state=n.EMPTY})(H,d,m);break;case n.BKA:se(H,d,m);break;case n.BKN:ae(H,d,m);break;case n.ABG:ie(0,d,m);break;case n.AEN:Q(0,d,m);break;default:b=!1}if(!O()&&d+m.phraseLength>P&&(P=d+m.phraseLength),o.stats!==null&&o.stats.collect(T,m),o.trace!==null){let B=W();o.trace.up(T,m.state,d,m.phraseLength,B.anchor,B.lookAround)}return R-=1,b}}},{"./identifiers":10,"./utilities":16}],13:[function(e,t,r){t.exports=function(){let n=e("./identifiers"),s=e("./utilities"),o=e("./style"),i=[],l=[],u=[],h,x=[],g=[];this.statsObject="statsObject";let f=function(I,P){return I.lower<P.lower?-1:I.lower>P.lower?1:0},R=function(I,P){return I.total<P.total?1:I.total>P.total?-1:f(I,P)},w=function(I,P){return I.index<P.index?-1:I.index>P.index?1:0},S=function(){this.empty=0,this.match=0,this.nomatch=0,this.total=0},y=function(I,P){switch(I.total+=1,P){case n.EMPTY:I.empty+=1;break;case n.MATCH:I.match+=1;break;case n.NOMATCH:I.nomatch+=1;break;default:throw new Error(`stats.js: collect(): incStat(): unrecognized state: ${P}`)}},v=function(I,P){let M="";return M+="<tr>",M+=`<td class="${o.CLASS_ACTIVE}">${I}</td>`,M+=`<td class="${o.CLASS_EMPTY}">${P.empty}</td>`,M+=`<td class="${o.CLASS_MATCH}">${P.match}</td>`,M+=`<td class="${o.CLASS_NOMATCH}">${P.nomatch}</td>`,M+=`<td class="${o.CLASS_ACTIVE}">${P.total}</td>`,M+=`</tr>
`,M},C=function(){let I="";return I+=v("ALT",u[n.ALT]),I+=v("CAT",u[n.CAT]),I+=v("REP",u[n.REP]),I+=v("RNM",u[n.RNM]),I+=v("TRG",u[n.TRG]),I+=v("TBS",u[n.TBS]),I+=v("TLS",u[n.TLS]),I+=v("UDT",u[n.UDT]),I+=v("AND",u[n.AND]),I+=v("NOT",u[n.NOT]),I+=v("BKR",u[n.BKR]),I+=v("BKA",u[n.BKA]),I+=v("BKN",u[n.BKN]),I+=v("ABG",u[n.ABG]),I+=v("AEN",u[n.AEN]),I+=v("totals",h),I},_=function(){let I="";I+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,I+=`<tr><th>rules</th><th></th><th></th><th></th><th></th></tr>
`;for(let P=0;P<i.length;P+=1)x[P].total>0&&(I+="<tr>",I+=`<td class="${o.CLASS_ACTIVE}">${x[P].name}</td>`,I+=`<td class="${o.CLASS_EMPTY}">${x[P].empty}</td>`,I+=`<td class="${o.CLASS_MATCH}">${x[P].match}</td>`,I+=`<td class="${o.CLASS_NOMATCH}">${x[P].nomatch}</td>`,I+=`<td class="${o.CLASS_ACTIVE}">${x[P].total}</td>`,I+=`</tr>
`);if(l.length>0){I+=`<tr><th></th><th></th><th></th><th></th><th></th></tr>
`,I+=`<tr><th>udts</th><th></th><th></th><th></th><th></th></tr>
`;for(let P=0;P<l.length;P+=1)g[P].total>0&&(I+="<tr>",I+=`<td class="${o.CLASS_ACTIVE}">${g[P].name}</td>`,I+=`<td class="${o.CLASS_EMPTY}">${g[P].empty}</td>`,I+=`<td class="${o.CLASS_MATCH}">${g[P].match}</td>`,I+=`<td class="${o.CLASS_NOMATCH}">${g[P].nomatch}</td>`,I+=`<td class="${o.CLASS_ACTIVE}">${g[P].total}</td>`,I+=`</tr>
`)}return I};this.validate=function(I){let P=!1;return typeof I=="string"&&I==="stats"&&(P=!0),P},this.init=function(I,P){i=I,l=P,function(){u.length=0,h=new S,u[n.ALT]=new S,u[n.CAT]=new S,u[n.REP]=new S,u[n.RNM]=new S,u[n.TRG]=new S,u[n.TBS]=new S,u[n.TLS]=new S,u[n.UDT]=new S,u[n.AND]=new S,u[n.NOT]=new S,u[n.BKR]=new S,u[n.BKA]=new S,u[n.BKN]=new S,u[n.ABG]=new S,u[n.AEN]=new S,x.length=0;for(let M=0;M<i.length;M+=1)x.push({empty:0,match:0,nomatch:0,total:0,name:i[M].name,lower:i[M].lower,index:i[M].index});if(l.length>0){g.length=0;for(let M=0;M<l.length;M+=1)g.push({empty:0,match:0,nomatch:0,total:0,name:l[M].name,lower:l[M].lower,index:l[M].index})}}()},this.collect=function(I,P){y(h,P.state,P.phraseLength),y(u[I.type],P.state,P.phraseLength),I.type===n.RNM&&y(x[I.index],P.state,P.phraseLength),I.type===n.UDT&&y(g[I.index],P.state,P.phraseLength)},this.toHtml=function(I,P){let M="";for(M+=`<table class="${o.CLASS_STATS}">
`,typeof P=="string"&&(M+=`<caption>${P}</caption>
`),M+=`<tr><th class="${o.CLASS_ACTIVE}">ops</th>
`,M+=`<th class="${o.CLASS_EMPTY}">EMPTY</th>
`,M+=`<th class="${o.CLASS_MATCH}">MATCH</th>
`,M+=`<th class="${o.CLASS_NOMATCH}">NOMATCH</th>
`,M+=`<th class="${o.CLASS_ACTIVE}">totals</th></tr>
`;;){if(I===void 0){M+=C();break}if(I===null){M+=C();break}if(I==="ops"){M+=C();break}if(I==="index"){x.sort(w),g.length>0&&g.sort(w),M+=C(),M+=_();break}if(I==="hits"){x.sort(R),g.length>0&&g.sort(w),M+=C(),M+=_();break}if(I==="alpha"){x.sort(f),g.length>0&&g.sort(f),M+=C(),M+=_();break}break}return M+=`</table>
`,M},this.toHtmlPage=function(I,P,M){return s.htmlToPage(this.toHtml(I,P),M)}}},{"./identifiers":10,"./style":14,"./utilities":16}],14:[function(e,t,r){t.exports={CLASS_MONOSPACE:"apg-mono",CLASS_ACTIVE:"apg-active",CLASS_EMPTY:"apg-empty",CLASS_MATCH:"apg-match",CLASS_NOMATCH:"apg-nomatch",CLASS_LOOKAHEAD:"apg-lh-match",CLASS_LOOKBEHIND:"apg-lb-match",CLASS_REMAINDER:"apg-remainder",CLASS_CTRLCHAR:"apg-ctrl-char",CLASS_LINEEND:"apg-line-end",CLASS_ERROR:"apg-error",CLASS_PHRASE:"apg-phrase",CLASS_EMPTYPHRASE:"apg-empty-phrase",CLASS_STATE:"apg-state",CLASS_STATS:"apg-stats",CLASS_TRACE:"apg-trace",CLASS_GRAMMAR:"apg-grammar",CLASS_RULES:"apg-rules",CLASS_RULESLINK:"apg-rules-link",CLASS_ATTRIBUTES:"apg-attrs"}},{}],15:[function(e,t,r){t.exports=function(){let n=e("./utilities"),s=e("./style"),o=new(e("./circular-buffer")),i=e("./identifiers"),l=this,u=16,h=80,x=[],g=5e3,f=-1,R=0,w=0,S=[],y=null,v=null,C=null,_=[],I=[],P=`<span class="${s.CLASS_LINEEND}">&bull;</span>`,M=`<span class="${s.CLASS_LINEEND}">&hellip;</span>`,Z=`<span class="${s.CLASS_EMPTY}">&#120634;</span>`;this.traceObject="traceObject",this.filter={operators:[],rules:[]},this.setMaxRecords=function(W,O){f=-1,typeof W=="number"&&W>0?(g=Math.ceil(W),typeof O=="number"&&(f=Math.floor(O),f<0&&(f=-1))):g=0},this.getMaxRecords=function(){return g},this.getLastRecord=function(){return f},this.init=function(W,O,D){x.length=0,S.length=0,R=0,w=0,y=D,v=W,C=O,function(){let N=function(U){_[i.ALT]=U,_[i.CAT]=U,_[i.REP]=U,_[i.TLS]=U,_[i.TBS]=U,_[i.TRG]=U,_[i.AND]=U,_[i.NOT]=U,_[i.BKR]=U,_[i.BKA]=U,_[i.BKN]=U,_[i.ABG]=U,_[i.AEN]=U},L=0;for(let U in l.filter.operators)L+=1;if(L!==0){for(let U in l.filter.operators){let $=U.toUpperCase();if($==="<ALL>")return void N(!0);if($==="<NONE>")return void N(!1)}N(!1);for(let U in l.filter.operators){let $=U.toUpperCase();if($==="ALT")_[i.ALT]=l.filter.operators[U]===!0;else if($==="CAT")_[i.CAT]=l.filter.operators[U]===!0;else if($==="REP")_[i.REP]=l.filter.operators[U]===!0;else if($==="AND")_[i.AND]=l.filter.operators[U]===!0;else if($==="NOT")_[i.NOT]=l.filter.operators[U]===!0;else if($==="TLS")_[i.TLS]=l.filter.operators[U]===!0;else if($==="TBS")_[i.TBS]=l.filter.operators[U]===!0;else if($==="TRG")_[i.TRG]=l.filter.operators[U]===!0;else if($==="BKR")_[i.BKR]=l.filter.operators[U]===!0;else if($==="BKA")_[i.BKA]=l.filter.operators[U]===!0;else if($==="BKN")_[i.BKN]=l.filter.operators[U]===!0;else if($==="ABG")_[i.ABG]=l.filter.operators[U]===!0;else{if($!=="AEN")throw new Error(`trace.js: initOpratorFilter: '${U}' not a valid operator name. Must be <all>, <none>, alt, cat, rep, tls, tbs, trg, and, not, bkr, bka or bkn`);_[i.AEN]=l.filter.operators[U]===!0}}}else N(!1)}(),function(){let N=function(V){_[i.RNM]=V,_[i.UDT]=V;let pe=v.length+C.length;I.length=0;for(let J=0;J<pe;J+=1)I.push(V)},L,U,$=[];for(U=0;U<v.length;U+=1)$.push(v[U].lower);for(U=0;U<C.length;U+=1)$.push(C[U].lower);I.length=0,L=0;for(let V in l.filter.rules)L+=1;if(L!==0){for(let V in l.filter.rules){let pe=V.toLowerCase();if(pe==="<all>")return void N(!0);if(pe==="<none>")return void N(!1)}N(!1),_[i.RNM]=!0,_[i.UDT]=!0;for(let V in l.filter.rules){let pe=V.toLowerCase();if(U=$.indexOf(pe),U<0)throw new Error(`trace.js: initRuleFilter: '${V}' not a valid rule or udt name`);I[U]=l.filter.rules[V]===!0}}else N(!0)}(),o.init(g)};let z=function(W){let O=!1;return O=W.type===i.RNM?!(!_[W.type]||!I[W.index]):W.type===i.UDT?!(!_[W.type]||!I[v.length+W.index]):_[W.type],O},X=function(W){return f===-1||W<=f};this.down=function(W,O,D,N,L,U){X(R)&&z(W)&&(S.push(R),x[o.increment()]={dirUp:!1,depth:w,thisLine:R,thatLine:void 0,opcode:W,state:O,phraseIndex:D,phraseLength:N,lookAnchor:L,lookAround:U},R+=1,w+=1)},this.up=function(W,O,D,N,L,U){if(X(R)&&z(W)){let $=R,V=S.pop(),pe=o.getListIndex(V);pe!==-1&&(x[pe].thatLine=$),w-=1,x[o.increment()]={dirUp:!0,depth:w,thisLine:$,thatLine:V,opcode:W,state:O,phraseIndex:D,phraseLength:N,lookAnchor:L,lookAround:U},R+=1}},this.toTree=function(W){let O=function(){function D(E,k){let q,K,j;if(k)switch(E.op={id:k.type,name:n.opcodeToString(k.type)},E.opData=void 0,k.type){case i.RNM:E.opData=v[k.index].name;break;case i.UDT:E.opData=C[k.index].name;break;case i.BKR:q=k.index<v.length?v[k.index].name:C[k.index-v.length].name,K=k.bkrCase===i.BKR_MODE_CI?"%i":"%s",j=k.bkrMode===i.BKR_MODE_UM?"%u":"%p",E.opData=`\\\\${K}${j}${q}`;break;case i.TLS:E.opData=[];for(let ee=0;ee<k.string.length;ee+=1)E.opData.push(k.string[ee]);break;case i.TBS:E.opData=[];for(let ee=0;ee<k.string.length;ee+=1)E.opData.push(k.string[ee]);break;case i.TRG:case i.REP:E.opData=[k.min,k.max];break;default:throw new Error("unrecognized opcode")}else E.op={id:void 0,name:void 0},E.opData=void 0}function N(E,k,q){return E===i.MATCH?{index:k,length:q}:E===i.NOMATCH||E===i.EMPTY?{index:k,length:0}:null}let L=-1;function U(E,k,q){let K={id:L++,branch:-1,parent:E,up:!1,down:!1,depth:q,children:[]};return k?(K.down=!0,K.state={id:k.state,name:n.stateToString(k.state)},K.phrase=null,D(K,k.opcode)):(K.state={id:void 0,name:void 0},K.phrase=N(),D(K,void 0)),K}function $(E,k){k&&(E.up=!0,E.state={id:k.state,name:n.stateToString(k.state)},E.phrase=N(k.state,k.phraseIndex,k.phraseLength),E.down||D(E,k.opcode))}let V=0,pe=-1,J=1,ie=[],Q,se,ae,H,d=!0,m=U(null,null,-1);for(ie.push(m),se=m,o.forEach(E=>{if(H=x[E],d&&(d=!1,H.depth>0)){let k=H.dirUp?H.depth+1:H.depth;for(let q=0;q<k;q+=1)ae=se,se=U(se,null,q),ie.push(se),ae.children.push(se)}H.dirUp?(se=ie.pop(),$(se,H),se=ie[ie.length-1]):(ae=se,se=U(se,H,H.depth),ie.push(se),ae.children.push(se))});ie.length>1;)se=ie.pop(),$(se,null);if(m.children.length===0)throw new Error("trace.toTree(): parse tree has no nodes");if(ie.length===0)throw new Error("trace.toTree(): integrity check: dummy root node disappeared?");Q=m.children[0];let b=Q;for(;Q&&!Q.down&&!Q.up;)b=Q,Q=Q.children[0];Q=b,Q.leftMost=!0,Q.rightMost=!0,function E(k){if(pe+=1,k.branch=J,pe>w&&(w=pe),k.children.length===0)V+=1;else for(let q=0;q<k.children.length;q+=1)q>0&&(J+=1),k.children[q].leftMost=!1,k.children[q].rightMost=!1,k.leftMost&&(k.children[q].leftMost=q===0),k.rightMost&&(k.children[q].rightMost=q===k.children.length-1),E(k.children[q]);pe-=1}(Q),Q.branch=0;let T={string:[]};for(let E=0;E<y.length;E+=1)T.string[E]=y[E];T.rules=[];for(let E=0;E<v.length;E+=1)T.rules[E]=v[E].name;T.udts=[];for(let E=0;E<C.length;E+=1)T.udts[E]=C[E].name;let B;return T.id={},T.id.ALT={id:i.ALT,name:"ALT"},T.id.CAT={id:i.CAT,name:"CAT"},T.id.REP={id:i.REP,name:"REP"},T.id.RNM={id:i.RNM,name:"RNM"},T.id.TLS={id:i.TLS,name:"TLS"},T.id.TBS={id:i.TBS,name:"TBS"},T.id.TRG={id:i.TRG,name:"TRG"},T.id.UDT={id:i.UDT,name:"UDT"},T.id.AND={id:i.AND,name:"AND"},T.id.NOT={id:i.NOT,name:"NOT"},T.id.BKR={id:i.BKR,name:"BKR"},T.id.BKA={id:i.BKA,name:"BKA"},T.id.BKN={id:i.BKN,name:"BKN"},T.id.ABG={id:i.ABG,name:"ABG"},T.id.AEN={id:i.AEN,name:"AEN"},T.id.ACTIVE={id:i.ACTIVE,name:"ACTIVE"},T.id.MATCH={id:i.MATCH,name:"MATCH"},T.id.EMPTY={id:i.EMPTY,name:"EMPTY"},T.id.NOMATCH={id:i.NOMATCH,name:"NOMATCH"},T.treeDepth=w,T.leafNodes=V,B=Q.down?Q.up?"none":"right":Q.up?"left":"both",T.branchesIncomplete=B,T.tree=function E(k,q){let K,j={};if(j.id=k.id,j.branch=k.branch,j.leftMost=k.leftMost,j.rightMost=k.rightMost,K=k.state.name?k.state.name:"ACTIVE",j.state={id:k.state.id,name:K},K=k.op.name?k.op.name:"?",j.op={id:k.op.id,name:K},typeof k.opData=="string")j.opData=k.opData;else if(Array.isArray(k.opData)){j.opData=[];for(let ee=0;ee<k.opData.length;ee+=1)j.opData[ee]=k.opData[ee]}else j.opData=void 0;k.phrase?j.phrase={index:k.phrase.index,length:k.phrase.length}:j.phrase=null,j.depth=k.depth,j.children=[];for(let ee=0;ee<k.children.length;ee+=1)k.children.length,j.children[ee]=E(k.children[ee],q);return j}(Q,Q.depth),T}();return W?JSON.stringify(O):O},this.toHtmlPage=function(W,O,D){return n.htmlToPage(this.toHtml(W,O),D)},this.indent=function(W){let O="";for(let D=0;D<W;D+=1)O+=".";return O};let fe=function(W,O,D,N,L){if(N===0)return"";let U="",$=L?",":"";switch(W){case u:U=$+n.charsToHex(O,D,N);break;case 10:if(L)return`,${n.charsToDec(O,D,N)}`;U=$+n.charsToDec(O,D,N);break;case 32:U=n.charsToUnicode(O,D,N);break;case 8:default:U=n.charsToAsciiHtml(O,D,N)}return U},te=function(W,O,D,N,L,U){let $,V,pe,J,ie="",Q=P,se=`<span class="${s.CLASS_REMAINDER}">`,ae="</span>",H=!1;switch(D){case i.EMPTY:ie+=Z;case i.NOMATCH:case i.ACTIVE:$=N,V=0,pe=N,J=O.length-pe;break;case i.MATCH:$=N,V=L,pe=N+V,J=O.length-pe;break;default:throw new Error("unrecognized state")}return Q=P,V>h?(V=h,Q=M,J=0):V+J>h&&(Q=M,J=h-V),V>0&&(ie+=U,ie+=fe(W,O,$,V,H),ie+=ae,H=!0),J>0&&(ie+=se,ie+=fe(W,O,pe,J,H),ie+=ae),ie+Q},ne=function(W){if(v===null)return"";let O,D,N,L,U,$,V="";return V+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",V+=`<th>operator</th><th>phrase</th></tr>
`,o.forEach(pe=>{let J=x[pe];switch(O=J.thisLine,D=J.thatLine!==void 0?J.thatLine:"--",N=!1,L=!1,U=!1,J.lookAround===i.LOOKAROUND_AHEAD&&(N=!0,U=!0,$=J.lookAnchor),J.opcode.type!==i.AND&&J.opcode.type!==i.NOT||(N=!0,U=!0,$=J.phraseIndex),J.lookAround===i.LOOKAROUND_BEHIND&&(L=!0,U=!0,$=J.lookAnchor),J.opcode.type!==i.BKA&&J.opcode.type!==i.BKN||(L=!0,U=!0,$=J.phraseIndex),V+="<tr>",V+=`<td>${O}</td><td>${D}</td>`,V+=`<td>${J.phraseIndex}</td>`,V+=`<td>${J.phraseLength}</td>`,V+=`<td>${J.depth}</td>`,V+="<td>",J.state){case i.ACTIVE:V+=`<span class="${s.CLASS_ACTIVE}">&darr;&nbsp;</span>`;break;case i.MATCH:V+=`<span class="${s.CLASS_MATCH}">&uarr;M</span>`;break;case i.NOMATCH:V+=`<span class="${s.CLASS_NOMATCH}">&uarr;N</span>`;break;case i.EMPTY:V+=`<span class="${s.CLASS_EMPTY}">&uarr;E</span>`;break;default:V+=`<span class="${s.CLASS_ACTIVE}">--</span>`}if(V+="</td>",V+="<td>",V+=l.indent(J.depth),N?V+=`<span class="${s.CLASS_LOOKAHEAD}">`:L&&(V+=`<span class="${s.CLASS_LOOKBEHIND}">`),V+=n.opcodeToString(J.opcode.type),J.opcode.type===i.RNM&&(V+=`(${v[J.opcode.index].name}) `),J.opcode.type===i.BKR){let ie=J.opcode.bkrCase===i.BKR_MODE_CI?"%i":"%s",Q=J.opcode.bkrMode===i.BKR_MODE_UM?"%u":"%p";V+=`(\\${ie}${Q}${v[J.opcode.index].name}) `}J.opcode.type===i.UDT&&(V+=`(${C[J.opcode.index].name}) `),J.opcode.type===i.TRG&&(V+=`(${function(ie,Q){let se="";if(Q.type===i.TRG)if(ie===u||ie===32){let ae=Q.min.toString(16).toUpperCase();ae.length%2!=0&&(ae=`0${ae}`),se+=ie===u?"%x":"U+",se+=ae,ae=Q.max.toString(16).toUpperCase(),ae.length%2!=0&&(ae=`0${ae}`),se+=`&ndash;${ae}`}else se=`%d${Q.min.toString(10)}&ndash;${Q.max.toString(10)}`;return se}(W,J.opcode)}) `),J.opcode.type===i.TBS&&(V+=`(${function(ie,Q){let se="";if(Q.type===i.TBS){let ae=Math.min(Q.string.length,10);if(ie===u||ie===32){se+=ie===u?"%x":"U+";for(let H=0;H<ae;H+=1){let d;H>0&&(se+="."),d=Q.string[H].toString(16).toUpperCase(),d.length%2!=0&&(d=`0${d}`),se+=d}}else{se="%d";for(let H=0;H<ae;H+=1)H>0&&(se+="."),se+=Q.string[H].toString(10)}ae<Q.string.length&&(se+=M)}return se}(W,J.opcode)}) `),J.opcode.type===i.TLS&&(V+=`(${function(ie,Q){let se="";if(Q.type===i.TLS){let ae=Math.min(Q.string.length,5);if(ie===u||ie===10){let H,d,m;ie===u?(se="%x",m=16):(se="%d",m=10);for(let b=0;b<ae;b+=1)b>0&&(se+="."),d=Q.string[b],d>=97&&d<=122?(H=d-32,se+=`${H.toString(m)}/${d.toString(m)}`.toUpperCase()):d>=65&&d<=90?(H=d,d+=32,se+=`${H.toString(m)}/${d.toString(m)}`.toUpperCase()):se+=d.toString(m).toUpperCase();ae<Q.string.length&&(se+=M)}else{se='"';for(let H=0;H<ae;H+=1)se+=n.asciiChars[Q.string[H]];ae<Q.string.length&&(se+=M),se+='"'}}return se}(W,J.opcode)}) `),J.opcode.type===i.REP&&(V+=`(${function(ie,Q){let se="";if(Q.type===i.REP)if(ie===u){let ae=Q.min.toString(16).toUpperCase();ae.length%2!=0&&(ae=`0${ae}`),se=`x${ae}`,Q.max<1/0?(ae=Q.max.toString(16).toUpperCase(),ae.length%2!=0&&(ae=`0${ae}`)):ae="inf",se+=`&ndash;${ae}`}else se=Q.max<1/0?`${Q.min.toString(10)}&ndash;${Q.max.toString(10)}`:`${Q.min.toString(10)}&ndash;inf`;return se}(W,J.opcode)}) `),U&&(V+="</span>"),V+="</td>",V+="<td>",V+=L?function(ie,Q,se,ae,H,d){let m,b,T,B,E="",k=P,q=`<span class="${s.CLASS_LOOKBEHIND}">`,K=`<span class="${s.CLASS_REMAINDER}">`,j="</span>",ee=!1;switch(se){case i.EMPTY:E+=Z;case i.NOMATCH:case i.MATCH:case i.ACTIVE:m=ae-H,b=d-m,T=d,B=Q.length-T;break;default:throw new Error("unrecognized state")}return k=P,b>h?(b=h,k=M,B=0):b+B>h&&(k=M,B=h-b),b>0&&(E+=q,E+=fe(ie,Q,m,b,ee),E+=j,ee=!0),B>0&&(E+=K,E+=fe(ie,Q,T,B,ee),E+=j),E+k}(W,y,J.state,J.phraseIndex,J.phraseLength,$):N?function(ie,Q,se,ae,H){let d=`<span class="${s.CLASS_LOOKAHEAD}">`;return te(ie,Q,se,ae,H,d)}(W,y,J.state,J.phraseIndex,J.phraseLength):function(ie,Q,se,ae,H){let d=`<span class="${s.CLASS_MATCH}">`;return te(ie,Q,se,ae,H,d)}(W,y,J.state,J.phraseIndex,J.phraseLength),V+=`</td></tr>
`}),V+="<tr><th>(a)</th><th>(b)</th><th>(c)</th><th>(d)</th><th>(e)</th><th>(f)</th>",V+=`<th>operator</th><th>phrase</th></tr>
`,V+=`</table>
`,V};this.toHtml=function(W,O){let D=8;if(typeof W=="string"&&W.length>=3){let L=W.toLowerCase().slice(0,3);L==="hex"?D=u:L==="dec"?D=10:L==="uni"&&(D=32)}let N="";return N+=function(L,U){let $;switch(L){case u:$="hexadecimal";break;case 10:$="decimal";break;case 8:$="ASCII";break;case 32:$="UNICODE";break;default:throw new Error(`trace.js: htmlHeader: unrecognized mode: ${L}`)}let V="";return V+=`<p>display mode: ${$}</p>
`,V+=`<table class="${s.CLASS_TRACE}">
`,typeof U=="string"&&(V+=`<caption>${U}</caption>`),V}(D,O),N+=ne(D),N+=function(){let L="";return L+=`</table>
`,L+=`<p class="${s.CLASS_MONOSPACE}">legend:<br>
`,L+=`(a)&nbsp;-&nbsp;line number<br>
`,L+=`(b)&nbsp;-&nbsp;matching line number<br>
`,L+=`(c)&nbsp;-&nbsp;phrase offset<br>
`,L+=`(d)&nbsp;-&nbsp;phrase length<br>
`,L+=`(e)&nbsp;-&nbsp;tree depth<br>
`,L+=`(f)&nbsp;-&nbsp;operator state<br>
`,L+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_ACTIVE}">&darr;</span>&nbsp;&nbsp;phrase opened<br>
`,L+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_MATCH}">&uarr;M</span> phrase matched<br>
`,L+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_EMPTY}">&uarr;E</span> empty phrase matched<br>
`,L+=`&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_NOMATCH}">&uarr;N</span> phrase not matched<br>
`,L+=`operator&nbsp;-&nbsp;ALT, CAT, REP, RNM, TRG, TLS, TBS<sup>&dagger;</sup>, UDT, AND, NOT, BKA, BKN, BKR, ABG, AEN<sup>&Dagger;</sup><br>
`,L+=`phrase&nbsp;&nbsp;&nbsp;-&nbsp;up to 80 characters of the phrase being matched<br>
`,L+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_MATCH}">matched characters</span><br>
`,L+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_LOOKAHEAD}">matched characters in look ahead mode</span><br>
`,L+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_LOOKBEHIND}">matched characters in look behind mode</span><br>
`,L+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_REMAINDER}">remainder characters(not yet examined by parser)</span><br>
`,L+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;<span class="${s.CLASS_CTRLCHAR}">control characters, TAB, LF, CR, etc. (ASCII mode only)</span><br>
`,L+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${Z} empty string<br>
`,L+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${P} end of input string<br>
`,L+=`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;${M} input string display truncated<br>
`,L+=`</p>
`,L+=`<p class="${s.CLASS_MONOSPACE}">
`,L+=`<sup>&dagger;</sup>original ABNF operators:<br>
`,L+=`ALT - alternation<br>
`,L+=`CAT - concatenation<br>
`,L+=`REP - repetition<br>
`,L+=`RNM - rule name<br>
`,L+=`TRG - terminal range<br>
`,L+=`TLS - terminal literal string (case insensitive)<br>
`,L+=`TBS - terminal binary string (case sensitive)<br>
`,L+=`<br>
`,L+=`<sup>&Dagger;</sup>super set SABNF operators:<br>
`,L+=`UDT - user-defined terminal<br>
`,L+=`AND - positive look ahead<br>
`,L+=`NOT - negative look ahead<br>
`,L+=`BKA - positive look behind<br>
`,L+=`BKN - negative look behind<br>
`,L+=`BKR - back reference<br>
`,L+=`ABG - anchor - begin of input string<br>
`,L+=`AEN - anchor - end of input string<br>
`,L+=`</p>
`,L}(),N}}},{"./circular-buffer":8,"./identifiers":10,"./style":14,"./utilities":16}],16:[function(e,t,r){let n=e("./style"),s=e("../apg-conv-api/converter"),o=e("./emitcss"),i=e("./identifiers"),l=this,u=function(h,x,g){let f,R=x;for(;;){if(h<=0){R=0,f=0;break}if(typeof R!="number"){R=0,f=h;break}if(R>=h){R=h,f=h;break}if(typeof g!="number"){f=h;break}if(f=R+g,f>h){f=h;break}break}return{beg:R,end:f}};r.htmlToPage=function(h,x){let g;if(typeof h!="string")throw new Error("utilities.js: htmlToPage: input HTML is not a string");g=typeof x!="string"?"htmlToPage":x;let f="";return f+=`<!DOCTYPE html>
`,f+=`<html lang="en">
`,f+=`<head>
`,f+=`<meta charset="utf-8">
`,f+=`<title>${g}</title>
`,f+=`<style>
`,f+=o(),f+=`</style>
`,f+=`</head>
<body>
`,f+=`<p>${new Date}</p>
`,f+=h,f+=`</body>
</html>
`,f},r.parserResultToHtml=function(h,x){let g,f,R=null;typeof x=="string"&&x!==""&&(R=x),g=h.success===!0?`<span class="${n.CLASS_MATCH}">true</span>`:`<span class="${n.CLASS_NOMATCH}">false</span>`,f=h.state===i.EMPTY?`<span class="${n.CLASS_EMPTY}">EMPTY</span>`:h.state===i.MATCH?`<span class="${n.CLASS_MATCH}">MATCH</span>`:h.state===i.NOMATCH?`<span class="${n.CLASS_NOMATCH}">NOMATCH</span>`:`<span class="${n.CLASS_NOMATCH}">unrecognized</span>`;let w="";return w+=`<table class="${n.CLASS_STATE}">
`,R&&(w+=`<caption>${R}</caption>
`),w+=`<tr><th>state item</th><th>value</th><th>description</th></tr>
`,w+=`<tr><td>parser success</td><td>${g}</td>
`,w+=`<td><span class="${n.CLASS_MATCH}">true</span> if the parse succeeded,
`,w+=` <span class="${n.CLASS_NOMATCH}">false</span> otherwise`,w+=`<br><i>NOTE: for success, entire string must be matched</i></td></tr>
`,w+=`<tr><td>parser state</td><td>${f}</td>
`,w+=`<td><span class="${n.CLASS_EMPTY}">EMPTY</span>, `,w+=`<span class="${n.CLASS_MATCH}">MATCH</span> or 
`,w+=`<span class="${n.CLASS_NOMATCH}">NOMATCH</span></td></tr>
`,w+=`<tr><td>string length</td><td>${h.length}</td><td>length of the input (sub)string</td></tr>
`,w+=`<tr><td>matched length</td><td>${h.matched}</td><td>number of input string characters matched</td></tr>
`,w+=`<tr><td>max matched</td><td>${h.maxMatched}</td><td>maximum number of input string characters matched</td></tr>
`,w+=`<tr><td>max tree depth</td><td>${h.maxTreeDepth}</td><td>maximum depth of the parse tree reached</td></tr>
`,w+=`<tr><td>node hits</td><td>${h.nodeHits}</td><td>number of parse tree node hits (opcode function calls)</td></tr>
`,w+=`<tr><td>input length</td><td>${h.inputLength}</td><td>length of full input string</td></tr>
`,w+=`<tr><td>sub-string begin</td><td>${h.subBegin}</td><td>sub-string first character index</td></tr>
`,w+=`<tr><td>sub-string end</td><td>${h.subEnd}</td><td>sub-string end-of-string index</td></tr>
`,w+=`<tr><td>sub-string length</td><td>${h.subLength}</td><td>sub-string length</td></tr>
`,w+=`</table>
`,w},r.charsToString=function(h,x,g){let f,R;if(typeof x=="number"){if(x>=h.length)return"";f=x<0?0:x}else f=0;if(typeof g=="number"){if(g<=0)return"";R=g>h.length-f?h.length:f+g}else R=h.length;return f<R?s.encode("UTF16LE",h.slice(f,R)).toString("utf16le"):""},r.stringToChars=function(h){return s.decode("STRING",h)},r.opcodeToString=function(h){let x="unknown";switch(h){case i.ALT:x="ALT";break;case i.CAT:x="CAT";break;case i.RNM:x="RNM";break;case i.UDT:x="UDT";break;case i.AND:x="AND";break;case i.NOT:x="NOT";break;case i.REP:x="REP";break;case i.TRG:x="TRG";break;case i.TBS:x="TBS";break;case i.TLS:x="TLS";break;case i.BKR:x="BKR";break;case i.BKA:x="BKA";break;case i.BKN:x="BKN";break;case i.ABG:x="ABG";break;case i.AEN:x="AEN";break;default:throw new Error("unrecognized opcode")}return x},r.stateToString=function(h){let x="unknown";switch(h){case i.ACTIVE:x="ACTIVE";break;case i.MATCH:x="MATCH";break;case i.EMPTY:x="EMPTY";break;case i.NOMATCH:x="NOMATCH";break;default:throw new Error("unrecognized state")}return x},r.asciiChars=["NUL","SOH","STX","ETX","EOT","ENQ","ACK","BEL","BS","TAB","LF","VT","FF","CR","SO","SI","DLE","DC1","DC2","DC3","DC4","NAK","SYN","ETB","CAN","EM","SUB","ESC","FS","GS","RS","US","&nbsp;","!","&#34;","#","$","%","&#38;","&#39;","(",")","*","+",",","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&#60;","=","&#62;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","&#92;","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","DEL"],r.charToHex=function(h){let x=h.toString(16).toUpperCase();switch(x.length){case 1:case 3:case 7:x=`0${x}`;break;case 2:case 6:x=`00${x}`;break;case 4:break;case 5:x=`000${x}`;break;default:throw new Error("unrecognized option")}return x},r.charsToDec=function(h,x,g){let f="";if(!Array.isArray(h))throw new Error("utilities.js: charsToDec: input must be an array of integers");let R=u(h.length,x,g);if(R.end>R.beg){f+=h[R.beg];for(let w=R.beg+1;w<R.end;w+=1)f+=`,${h[w]}`}return f},r.charsToHex=function(h,x,g){let f="";if(!Array.isArray(h))throw new Error("utilities.js: charsToHex: input must be an array of integers");let R=u(h.length,x,g);if(R.end>R.beg){f+=`\\x${l.charToHex(h[R.beg])}`;for(let w=R.beg+1;w<R.end;w+=1)f+=`,\\x${l.charToHex(h[w])}`}return f},r.charsToHtmlEntities=function(h,x,g){let f="";if(!Array.isArray(h))throw new Error("utilities.js: charsToHex: input must be an array of integers");let R=u(h.length,x,g);if(R.end>R.beg)for(let w=R.beg;w<R.end;w+=1)f+=`&#x${h[w].toString(16)};`;return f},r.charsToUnicode=function(h,x,g){let f="";if(!Array.isArray(h))throw new Error("utilities.js: charsToUnicode: input must be an array of integers");let R=u(h.length,x,g);if(R.end>R.beg)for(let S=R.beg;S<R.end;S+=1)f+=(w=h[S])>=55296&&w<=57343||w>1114111?` U+${l.charToHex(h[S])}`:`&#${h[S]};`;var w;return f},r.charsToJsUnicode=function(h,x,g){let f="";if(!Array.isArray(h))throw new Error("utilities.js: charsToJsUnicode: input must be an array of integers");let R=u(h.length,x,g);if(R.end>R.beg){f+=`\\u${l.charToHex(h[R.beg])}`;for(let w=R.beg+1;w<R.end;w+=1)f+=`,\\u${l.charToHex(h[w])}`}return f},r.charsToAscii=function(h,x,g){let f="";if(!Array.isArray(h))throw new Error("utilities.js: charsToAscii: input must be an array of integers");let R=u(h.length,x,g);for(let w=R.beg;w<R.end;w+=1){let S=h[w];f+=S>=32&&S<=126?String.fromCharCode(S):`\\x${l.charToHex(S)}`}return f},r.charsToAsciiHtml=function(h,x,g){if(!Array.isArray(h))throw new Error("utilities.js: charsToAsciiHtml: input must be an array of integers");let f,R="",w=u(h.length,x,g);for(let S=w.beg;S<w.end;S+=1)f=h[S],R+=f<32||f===127?`<span class="${n.CLASS_CTRLCHAR}">${l.asciiChars[f]}</span>`:f>127?`<span class="${n.CLASS_CTRLCHAR}">U+${l.charToHex(f)}</span>`:l.asciiChars[f];return R},r.stringToAsciiHtml=function(h){let x=s.decode("STRING",h);return this.charsToAsciiHtml(x)}},{"../apg-conv-api/converter":4,"./emitcss":9,"./identifiers":10,"./style":14}],17:[function(e,t,r){globalThis.apgLib=e("./node-exports"),globalThis.apgConvApi=e("../apg-conv-api/node-exports")},{"../apg-conv-api/node-exports":5,"./node-exports":11}]},{},[17]);c();p();function ea(){let e={};return e.grammarObject="grammarObject",e.rules=[],e.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},e.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},e.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},e.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},e.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},e.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},e.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},e.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},e.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},e.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},e.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},e.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},e.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},e.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},e.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},e.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},e.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},e.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},e.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},e.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},e.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},e.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},e.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},e.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},e.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},e.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},e.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},e.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},e.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},e.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},e.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},e.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},e.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},e.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},e.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},e.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},e.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},e.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},e.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},e.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},e.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},e.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},e.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},e.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},e.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},e.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},e.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},e.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},e.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},e.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},e.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},e.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},e.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},e.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},e.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},e.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},e.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},e.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},e.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},e.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},e.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},e.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},e.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},e.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},e.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},e.rules[65]={name:"sign-in-with-ethereum",lower:"sign-in-with-ethereum",index:65,isBkr:!1},e.rules[66]={name:"message-domain",lower:"message-domain",index:66,isBkr:!1},e.rules[67]={name:"message-address",lower:"message-address",index:67,isBkr:!1},e.rules[68]={name:"message-statement",lower:"message-statement",index:68,isBkr:!1},e.rules[69]={name:"message-uri",lower:"message-uri",index:69,isBkr:!1},e.rules[70]={name:"message-version",lower:"message-version",index:70,isBkr:!1},e.rules[71]={name:"message-chain-id",lower:"message-chain-id",index:71,isBkr:!1},e.rules[72]={name:"message-nonce",lower:"message-nonce",index:72,isBkr:!1},e.rules[73]={name:"message-issued-at",lower:"message-issued-at",index:73,isBkr:!1},e.rules[74]={name:"message-expiration-time",lower:"message-expiration-time",index:74,isBkr:!1},e.rules[75]={name:"message-not-before",lower:"message-not-before",index:75,isBkr:!1},e.rules[76]={name:"message-request-id",lower:"message-request-id",index:76,isBkr:!1},e.rules[77]={name:"message-resources",lower:"message-resources",index:77,isBkr:!1},e.udts=[],e.rules[0].opcodes=[],e.rules[0].opcodes[0]={type:1,children:[1,2]},e.rules[0].opcodes[1]={type:5,min:65,max:90},e.rules[0].opcodes[2]={type:5,min:97,max:122},e.rules[1].opcodes=[],e.rules[1].opcodes[0]={type:1,children:[1,2]},e.rules[1].opcodes[1]={type:7,string:[48]},e.rules[1].opcodes[2]={type:7,string:[49]},e.rules[2].opcodes=[],e.rules[2].opcodes[0]={type:5,min:1,max:127},e.rules[3].opcodes=[],e.rules[3].opcodes[0]={type:6,string:[13]},e.rules[4].opcodes=[],e.rules[4].opcodes[0]={type:2,children:[1,2]},e.rules[4].opcodes[1]={type:4,index:3},e.rules[4].opcodes[2]={type:4,index:10},e.rules[5].opcodes=[],e.rules[5].opcodes[0]={type:1,children:[1,2]},e.rules[5].opcodes[1]={type:5,min:0,max:31},e.rules[5].opcodes[2]={type:6,string:[127]},e.rules[6].opcodes=[],e.rules[6].opcodes[0]={type:5,min:48,max:57},e.rules[7].opcodes=[],e.rules[7].opcodes[0]={type:6,string:[34]},e.rules[8].opcodes=[],e.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[8].opcodes[1]={type:4,index:6},e.rules[8].opcodes[2]={type:7,string:[97]},e.rules[8].opcodes[3]={type:7,string:[98]},e.rules[8].opcodes[4]={type:7,string:[99]},e.rules[8].opcodes[5]={type:7,string:[100]},e.rules[8].opcodes[6]={type:7,string:[101]},e.rules[8].opcodes[7]={type:7,string:[102]},e.rules[9].opcodes=[],e.rules[9].opcodes[0]={type:6,string:[9]},e.rules[10].opcodes=[],e.rules[10].opcodes[0]={type:6,string:[10]},e.rules[11].opcodes=[],e.rules[11].opcodes[0]={type:3,min:0,max:1/0},e.rules[11].opcodes[1]={type:1,children:[2,3]},e.rules[11].opcodes[2]={type:4,index:15},e.rules[11].opcodes[3]={type:2,children:[4,5]},e.rules[11].opcodes[4]={type:4,index:4},e.rules[11].opcodes[5]={type:4,index:15},e.rules[12].opcodes=[],e.rules[12].opcodes[0]={type:5,min:0,max:255},e.rules[13].opcodes=[],e.rules[13].opcodes[0]={type:6,string:[32]},e.rules[14].opcodes=[],e.rules[14].opcodes[0]={type:5,min:33,max:126},e.rules[15].opcodes=[],e.rules[15].opcodes[0]={type:1,children:[1,2]},e.rules[15].opcodes[1]={type:4,index:13},e.rules[15].opcodes[2]={type:4,index:9},e.rules[16].opcodes=[],e.rules[16].opcodes[0]={type:3,min:4,max:4},e.rules[16].opcodes[1]={type:4,index:6},e.rules[17].opcodes=[],e.rules[17].opcodes[0]={type:3,min:2,max:2},e.rules[17].opcodes[1]={type:4,index:6},e.rules[18].opcodes=[],e.rules[18].opcodes[0]={type:3,min:2,max:2},e.rules[18].opcodes[1]={type:4,index:6},e.rules[19].opcodes=[],e.rules[19].opcodes[0]={type:3,min:2,max:2},e.rules[19].opcodes[1]={type:4,index:6},e.rules[20].opcodes=[],e.rules[20].opcodes[0]={type:3,min:2,max:2},e.rules[20].opcodes[1]={type:4,index:6},e.rules[21].opcodes=[],e.rules[21].opcodes[0]={type:3,min:2,max:2},e.rules[21].opcodes[1]={type:4,index:6},e.rules[22].opcodes=[],e.rules[22].opcodes[0]={type:2,children:[1,2]},e.rules[22].opcodes[1]={type:7,string:[46]},e.rules[22].opcodes[2]={type:3,min:1,max:1/0},e.rules[22].opcodes[3]={type:4,index:6},e.rules[23].opcodes=[],e.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},e.rules[23].opcodes[1]={type:1,children:[2,3]},e.rules[23].opcodes[2]={type:7,string:[43]},e.rules[23].opcodes[3]={type:7,string:[45]},e.rules[23].opcodes[4]={type:4,index:19},e.rules[23].opcodes[5]={type:7,string:[58]},e.rules[23].opcodes[6]={type:4,index:20},e.rules[24].opcodes=[],e.rules[24].opcodes[0]={type:1,children:[1,2]},e.rules[24].opcodes[1]={type:7,string:[122]},e.rules[24].opcodes[2]={type:4,index:23},e.rules[25].opcodes=[],e.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},e.rules[25].opcodes[1]={type:4,index:19},e.rules[25].opcodes[2]={type:7,string:[58]},e.rules[25].opcodes[3]={type:4,index:20},e.rules[25].opcodes[4]={type:7,string:[58]},e.rules[25].opcodes[5]={type:4,index:21},e.rules[25].opcodes[6]={type:3,min:0,max:1},e.rules[25].opcodes[7]={type:4,index:22},e.rules[26].opcodes=[],e.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},e.rules[26].opcodes[1]={type:4,index:16},e.rules[26].opcodes[2]={type:7,string:[45]},e.rules[26].opcodes[3]={type:4,index:17},e.rules[26].opcodes[4]={type:7,string:[45]},e.rules[26].opcodes[5]={type:4,index:18},e.rules[27].opcodes=[],e.rules[27].opcodes[0]={type:2,children:[1,2]},e.rules[27].opcodes[1]={type:4,index:25},e.rules[27].opcodes[2]={type:4,index:24},e.rules[28].opcodes=[],e.rules[28].opcodes[0]={type:2,children:[1,2,3]},e.rules[28].opcodes[1]={type:4,index:26},e.rules[28].opcodes[2]={type:7,string:[116]},e.rules[28].opcodes[3]={type:4,index:27},e.rules[29].opcodes=[],e.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},e.rules[29].opcodes[1]={type:4,index:35},e.rules[29].opcodes[2]={type:7,string:[58]},e.rules[29].opcodes[3]={type:4,index:30},e.rules[29].opcodes[4]={type:3,min:0,max:1},e.rules[29].opcodes[5]={type:2,children:[6,7]},e.rules[29].opcodes[6]={type:7,string:[63]},e.rules[29].opcodes[7]={type:4,index:58},e.rules[29].opcodes[8]={type:3,min:0,max:1},e.rules[29].opcodes[9]={type:2,children:[10,11]},e.rules[29].opcodes[10]={type:7,string:[35]},e.rules[29].opcodes[11]={type:4,index:59},e.rules[30].opcodes=[],e.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[30].opcodes[1]={type:2,children:[2,3,4]},e.rules[30].opcodes[2]={type:7,string:[47,47]},e.rules[30].opcodes[3]={type:4,index:36},e.rules[30].opcodes[4]={type:4,index:49},e.rules[30].opcodes[5]={type:4,index:50},e.rules[30].opcodes[6]={type:4,index:52},e.rules[30].opcodes[7]={type:4,index:53},e.rules[31].opcodes=[],e.rules[31].opcodes[0]={type:1,children:[1,2]},e.rules[31].opcodes[1]={type:4,index:29},e.rules[31].opcodes[2]={type:4,index:33},e.rules[32].opcodes=[],e.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},e.rules[32].opcodes[1]={type:4,index:35},e.rules[32].opcodes[2]={type:7,string:[58]},e.rules[32].opcodes[3]={type:4,index:30},e.rules[32].opcodes[4]={type:3,min:0,max:1},e.rules[32].opcodes[5]={type:2,children:[6,7]},e.rules[32].opcodes[6]={type:7,string:[63]},e.rules[32].opcodes[7]={type:4,index:58},e.rules[33].opcodes=[],e.rules[33].opcodes[0]={type:2,children:[1,2,6]},e.rules[33].opcodes[1]={type:4,index:34},e.rules[33].opcodes[2]={type:3,min:0,max:1},e.rules[33].opcodes[3]={type:2,children:[4,5]},e.rules[33].opcodes[4]={type:7,string:[63]},e.rules[33].opcodes[5]={type:4,index:58},e.rules[33].opcodes[6]={type:3,min:0,max:1},e.rules[33].opcodes[7]={type:2,children:[8,9]},e.rules[33].opcodes[8]={type:7,string:[35]},e.rules[33].opcodes[9]={type:4,index:59},e.rules[34].opcodes=[],e.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[34].opcodes[1]={type:2,children:[2,3,4]},e.rules[34].opcodes[2]={type:7,string:[47,47]},e.rules[34].opcodes[3]={type:4,index:36},e.rules[34].opcodes[4]={type:4,index:49},e.rules[34].opcodes[5]={type:4,index:50},e.rules[34].opcodes[6]={type:4,index:51},e.rules[34].opcodes[7]={type:4,index:53},e.rules[35].opcodes=[],e.rules[35].opcodes[0]={type:2,children:[1,2]},e.rules[35].opcodes[1]={type:4,index:0},e.rules[35].opcodes[2]={type:3,min:0,max:1/0},e.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},e.rules[35].opcodes[4]={type:4,index:0},e.rules[35].opcodes[5]={type:4,index:6},e.rules[35].opcodes[6]={type:7,string:[43]},e.rules[35].opcodes[7]={type:7,string:[45]},e.rules[35].opcodes[8]={type:7,string:[46]},e.rules[36].opcodes=[],e.rules[36].opcodes[0]={type:2,children:[1,5,6]},e.rules[36].opcodes[1]={type:3,min:0,max:1},e.rules[36].opcodes[2]={type:2,children:[3,4]},e.rules[36].opcodes[3]={type:4,index:37},e.rules[36].opcodes[4]={type:7,string:[64]},e.rules[36].opcodes[5]={type:4,index:38},e.rules[36].opcodes[6]={type:3,min:0,max:1},e.rules[36].opcodes[7]={type:2,children:[8,9]},e.rules[36].opcodes[8]={type:7,string:[58]},e.rules[36].opcodes[9]={type:4,index:39},e.rules[37].opcodes=[],e.rules[37].opcodes[0]={type:3,min:0,max:1/0},e.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[37].opcodes[2]={type:4,index:61},e.rules[37].opcodes[3]={type:4,index:60},e.rules[37].opcodes[4]={type:4,index:64},e.rules[37].opcodes[5]={type:7,string:[58]},e.rules[38].opcodes=[],e.rules[38].opcodes[0]={type:1,children:[1,2,3]},e.rules[38].opcodes[1]={type:4,index:40},e.rules[38].opcodes[2]={type:4,index:45},e.rules[38].opcodes[3]={type:4,index:47},e.rules[39].opcodes=[],e.rules[39].opcodes[0]={type:3,min:0,max:1/0},e.rules[39].opcodes[1]={type:4,index:6},e.rules[40].opcodes=[],e.rules[40].opcodes[0]={type:2,children:[1,2,5]},e.rules[40].opcodes[1]={type:7,string:[91]},e.rules[40].opcodes[2]={type:1,children:[3,4]},e.rules[40].opcodes[3]={type:4,index:42},e.rules[40].opcodes[4]={type:4,index:41},e.rules[40].opcodes[5]={type:7,string:[93]},e.rules[41].opcodes=[],e.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},e.rules[41].opcodes[1]={type:7,string:[118]},e.rules[41].opcodes[2]={type:3,min:1,max:1/0},e.rules[41].opcodes[3]={type:4,index:8},e.rules[41].opcodes[4]={type:7,string:[46]},e.rules[41].opcodes[5]={type:3,min:1,max:1/0},e.rules[41].opcodes[6]={type:1,children:[7,8,9]},e.rules[41].opcodes[7]={type:4,index:61},e.rules[41].opcodes[8]={type:4,index:64},e.rules[41].opcodes[9]={type:7,string:[58]},e.rules[42].opcodes=[],e.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},e.rules[42].opcodes[1]={type:2,children:[2,6]},e.rules[42].opcodes[2]={type:3,min:6,max:6},e.rules[42].opcodes[3]={type:2,children:[4,5]},e.rules[42].opcodes[4]={type:4,index:43},e.rules[42].opcodes[5]={type:7,string:[58]},e.rules[42].opcodes[6]={type:4,index:44},e.rules[42].opcodes[7]={type:2,children:[8,9,13]},e.rules[42].opcodes[8]={type:7,string:[58,58]},e.rules[42].opcodes[9]={type:3,min:5,max:5},e.rules[42].opcodes[10]={type:2,children:[11,12]},e.rules[42].opcodes[11]={type:4,index:43},e.rules[42].opcodes[12]={type:7,string:[58]},e.rules[42].opcodes[13]={type:4,index:44},e.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},e.rules[42].opcodes[15]={type:3,min:0,max:1},e.rules[42].opcodes[16]={type:4,index:43},e.rules[42].opcodes[17]={type:7,string:[58,58]},e.rules[42].opcodes[18]={type:3,min:4,max:4},e.rules[42].opcodes[19]={type:2,children:[20,21]},e.rules[42].opcodes[20]={type:4,index:43},e.rules[42].opcodes[21]={type:7,string:[58]},e.rules[42].opcodes[22]={type:4,index:44},e.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},e.rules[42].opcodes[24]={type:3,min:0,max:1},e.rules[42].opcodes[25]={type:2,children:[26,30]},e.rules[42].opcodes[26]={type:3,min:0,max:1},e.rules[42].opcodes[27]={type:2,children:[28,29]},e.rules[42].opcodes[28]={type:4,index:43},e.rules[42].opcodes[29]={type:7,string:[58]},e.rules[42].opcodes[30]={type:4,index:43},e.rules[42].opcodes[31]={type:7,string:[58,58]},e.rules[42].opcodes[32]={type:3,min:3,max:3},e.rules[42].opcodes[33]={type:2,children:[34,35]},e.rules[42].opcodes[34]={type:4,index:43},e.rules[42].opcodes[35]={type:7,string:[58]},e.rules[42].opcodes[36]={type:4,index:44},e.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},e.rules[42].opcodes[38]={type:3,min:0,max:1},e.rules[42].opcodes[39]={type:2,children:[40,44]},e.rules[42].opcodes[40]={type:3,min:0,max:2},e.rules[42].opcodes[41]={type:2,children:[42,43]},e.rules[42].opcodes[42]={type:4,index:43},e.rules[42].opcodes[43]={type:7,string:[58]},e.rules[42].opcodes[44]={type:4,index:43},e.rules[42].opcodes[45]={type:7,string:[58,58]},e.rules[42].opcodes[46]={type:3,min:2,max:2},e.rules[42].opcodes[47]={type:2,children:[48,49]},e.rules[42].opcodes[48]={type:4,index:43},e.rules[42].opcodes[49]={type:7,string:[58]},e.rules[42].opcodes[50]={type:4,index:44},e.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},e.rules[42].opcodes[52]={type:3,min:0,max:1},e.rules[42].opcodes[53]={type:2,children:[54,58]},e.rules[42].opcodes[54]={type:3,min:0,max:3},e.rules[42].opcodes[55]={type:2,children:[56,57]},e.rules[42].opcodes[56]={type:4,index:43},e.rules[42].opcodes[57]={type:7,string:[58]},e.rules[42].opcodes[58]={type:4,index:43},e.rules[42].opcodes[59]={type:7,string:[58,58]},e.rules[42].opcodes[60]={type:4,index:43},e.rules[42].opcodes[61]={type:7,string:[58]},e.rules[42].opcodes[62]={type:4,index:44},e.rules[42].opcodes[63]={type:2,children:[64,71,72]},e.rules[42].opcodes[64]={type:3,min:0,max:1},e.rules[42].opcodes[65]={type:2,children:[66,70]},e.rules[42].opcodes[66]={type:3,min:0,max:4},e.rules[42].opcodes[67]={type:2,children:[68,69]},e.rules[42].opcodes[68]={type:4,index:43},e.rules[42].opcodes[69]={type:7,string:[58]},e.rules[42].opcodes[70]={type:4,index:43},e.rules[42].opcodes[71]={type:7,string:[58,58]},e.rules[42].opcodes[72]={type:4,index:44},e.rules[42].opcodes[73]={type:2,children:[74,81,82]},e.rules[42].opcodes[74]={type:3,min:0,max:1},e.rules[42].opcodes[75]={type:2,children:[76,80]},e.rules[42].opcodes[76]={type:3,min:0,max:5},e.rules[42].opcodes[77]={type:2,children:[78,79]},e.rules[42].opcodes[78]={type:4,index:43},e.rules[42].opcodes[79]={type:7,string:[58]},e.rules[42].opcodes[80]={type:4,index:43},e.rules[42].opcodes[81]={type:7,string:[58,58]},e.rules[42].opcodes[82]={type:4,index:43},e.rules[42].opcodes[83]={type:2,children:[84,91]},e.rules[42].opcodes[84]={type:3,min:0,max:1},e.rules[42].opcodes[85]={type:2,children:[86,90]},e.rules[42].opcodes[86]={type:3,min:0,max:6},e.rules[42].opcodes[87]={type:2,children:[88,89]},e.rules[42].opcodes[88]={type:4,index:43},e.rules[42].opcodes[89]={type:7,string:[58]},e.rules[42].opcodes[90]={type:4,index:43},e.rules[42].opcodes[91]={type:7,string:[58,58]},e.rules[43].opcodes=[],e.rules[43].opcodes[0]={type:3,min:1,max:4},e.rules[43].opcodes[1]={type:4,index:8},e.rules[44].opcodes=[],e.rules[44].opcodes[0]={type:1,children:[1,5]},e.rules[44].opcodes[1]={type:2,children:[2,3,4]},e.rules[44].opcodes[2]={type:4,index:43},e.rules[44].opcodes[3]={type:7,string:[58]},e.rules[44].opcodes[4]={type:4,index:43},e.rules[44].opcodes[5]={type:4,index:45},e.rules[45].opcodes=[],e.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},e.rules[45].opcodes[1]={type:4,index:46},e.rules[45].opcodes[2]={type:7,string:[46]},e.rules[45].opcodes[3]={type:4,index:46},e.rules[45].opcodes[4]={type:7,string:[46]},e.rules[45].opcodes[5]={type:4,index:46},e.rules[45].opcodes[6]={type:7,string:[46]},e.rules[45].opcodes[7]={type:4,index:46},e.rules[46].opcodes=[],e.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},e.rules[46].opcodes[1]={type:4,index:6},e.rules[46].opcodes[2]={type:2,children:[3,4]},e.rules[46].opcodes[3]={type:5,min:49,max:57},e.rules[46].opcodes[4]={type:4,index:6},e.rules[46].opcodes[5]={type:2,children:[6,7]},e.rules[46].opcodes[6]={type:7,string:[49]},e.rules[46].opcodes[7]={type:3,min:2,max:2},e.rules[46].opcodes[8]={type:4,index:6},e.rules[46].opcodes[9]={type:2,children:[10,11,12]},e.rules[46].opcodes[10]={type:7,string:[50]},e.rules[46].opcodes[11]={type:5,min:48,max:52},e.rules[46].opcodes[12]={type:4,index:6},e.rules[46].opcodes[13]={type:2,children:[14,15]},e.rules[46].opcodes[14]={type:7,string:[50,53]},e.rules[46].opcodes[15]={type:5,min:48,max:53},e.rules[47].opcodes=[],e.rules[47].opcodes[0]={type:3,min:0,max:1/0},e.rules[47].opcodes[1]={type:1,children:[2,3,4]},e.rules[47].opcodes[2]={type:4,index:61},e.rules[47].opcodes[3]={type:4,index:60},e.rules[47].opcodes[4]={type:4,index:64},e.rules[48].opcodes=[],e.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[48].opcodes[1]={type:4,index:49},e.rules[48].opcodes[2]={type:4,index:50},e.rules[48].opcodes[3]={type:4,index:51},e.rules[48].opcodes[4]={type:4,index:52},e.rules[48].opcodes[5]={type:4,index:53},e.rules[49].opcodes=[],e.rules[49].opcodes[0]={type:3,min:0,max:1/0},e.rules[49].opcodes[1]={type:2,children:[2,3]},e.rules[49].opcodes[2]={type:7,string:[47]},e.rules[49].opcodes[3]={type:4,index:54},e.rules[50].opcodes=[],e.rules[50].opcodes[0]={type:2,children:[1,2]},e.rules[50].opcodes[1]={type:7,string:[47]},e.rules[50].opcodes[2]={type:3,min:0,max:1},e.rules[50].opcodes[3]={type:2,children:[4,5]},e.rules[50].opcodes[4]={type:4,index:55},e.rules[50].opcodes[5]={type:3,min:0,max:1/0},e.rules[50].opcodes[6]={type:2,children:[7,8]},e.rules[50].opcodes[7]={type:7,string:[47]},e.rules[50].opcodes[8]={type:4,index:54},e.rules[51].opcodes=[],e.rules[51].opcodes[0]={type:2,children:[1,2]},e.rules[51].opcodes[1]={type:4,index:56},e.rules[51].opcodes[2]={type:3,min:0,max:1/0},e.rules[51].opcodes[3]={type:2,children:[4,5]},e.rules[51].opcodes[4]={type:7,string:[47]},e.rules[51].opcodes[5]={type:4,index:54},e.rules[52].opcodes=[],e.rules[52].opcodes[0]={type:2,children:[1,2]},e.rules[52].opcodes[1]={type:4,index:55},e.rules[52].opcodes[2]={type:3,min:0,max:1/0},e.rules[52].opcodes[3]={type:2,children:[4,5]},e.rules[52].opcodes[4]={type:7,string:[47]},e.rules[52].opcodes[5]={type:4,index:54},e.rules[53].opcodes=[],e.rules[53].opcodes[0]={type:3,min:0,max:0},e.rules[53].opcodes[1]={type:4,index:57},e.rules[54].opcodes=[],e.rules[54].opcodes[0]={type:3,min:0,max:1/0},e.rules[54].opcodes[1]={type:4,index:57},e.rules[55].opcodes=[],e.rules[55].opcodes[0]={type:3,min:1,max:1/0},e.rules[55].opcodes[1]={type:4,index:57},e.rules[56].opcodes=[],e.rules[56].opcodes[0]={type:3,min:1,max:1/0},e.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[56].opcodes[2]={type:4,index:61},e.rules[56].opcodes[3]={type:4,index:60},e.rules[56].opcodes[4]={type:4,index:64},e.rules[56].opcodes[5]={type:7,string:[64]},e.rules[57].opcodes=[],e.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[57].opcodes[1]={type:4,index:61},e.rules[57].opcodes[2]={type:4,index:60},e.rules[57].opcodes[3]={type:4,index:64},e.rules[57].opcodes[4]={type:7,string:[58]},e.rules[57].opcodes[5]={type:7,string:[64]},e.rules[58].opcodes=[],e.rules[58].opcodes[0]={type:3,min:0,max:1/0},e.rules[58].opcodes[1]={type:1,children:[2,3,4]},e.rules[58].opcodes[2]={type:4,index:57},e.rules[58].opcodes[3]={type:7,string:[47]},e.rules[58].opcodes[4]={type:7,string:[63]},e.rules[59].opcodes=[],e.rules[59].opcodes[0]={type:3,min:0,max:1/0},e.rules[59].opcodes[1]={type:1,children:[2,3,4]},e.rules[59].opcodes[2]={type:4,index:57},e.rules[59].opcodes[3]={type:7,string:[47]},e.rules[59].opcodes[4]={type:7,string:[63]},e.rules[60].opcodes=[],e.rules[60].opcodes[0]={type:2,children:[1,2,3]},e.rules[60].opcodes[1]={type:7,string:[37]},e.rules[60].opcodes[2]={type:4,index:8},e.rules[60].opcodes[3]={type:4,index:8},e.rules[61].opcodes=[],e.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},e.rules[61].opcodes[1]={type:4,index:0},e.rules[61].opcodes[2]={type:4,index:6},e.rules[61].opcodes[3]={type:7,string:[45]},e.rules[61].opcodes[4]={type:7,string:[46]},e.rules[61].opcodes[5]={type:7,string:[95]},e.rules[61].opcodes[6]={type:7,string:[126]},e.rules[62].opcodes=[],e.rules[62].opcodes[0]={type:1,children:[1,2]},e.rules[62].opcodes[1]={type:4,index:63},e.rules[62].opcodes[2]={type:4,index:64},e.rules[63].opcodes=[],e.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[63].opcodes[1]={type:7,string:[58]},e.rules[63].opcodes[2]={type:7,string:[47]},e.rules[63].opcodes[3]={type:7,string:[63]},e.rules[63].opcodes[4]={type:7,string:[35]},e.rules[63].opcodes[5]={type:7,string:[91]},e.rules[63].opcodes[6]={type:7,string:[93]},e.rules[63].opcodes[7]={type:7,string:[64]},e.rules[64].opcodes=[],e.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},e.rules[64].opcodes[1]={type:7,string:[33]},e.rules[64].opcodes[2]={type:7,string:[36]},e.rules[64].opcodes[3]={type:7,string:[38]},e.rules[64].opcodes[4]={type:7,string:[39]},e.rules[64].opcodes[5]={type:7,string:[40]},e.rules[64].opcodes[6]={type:7,string:[41]},e.rules[64].opcodes[7]={type:7,string:[42]},e.rules[64].opcodes[8]={type:7,string:[43]},e.rules[64].opcodes[9]={type:7,string:[44]},e.rules[64].opcodes[10]={type:7,string:[59]},e.rules[64].opcodes[11]={type:7,string:[61]},e.rules[65].opcodes=[],e.rules[65].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},e.rules[65].opcodes[1]={type:4,index:66},e.rules[65].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,69,116,104,101,114,101,117,109,32,97,99,99,111,117,110,116,58]},e.rules[65].opcodes[3]={type:4,index:10},e.rules[65].opcodes[4]={type:4,index:67},e.rules[65].opcodes[5]={type:4,index:10},e.rules[65].opcodes[6]={type:4,index:10},e.rules[65].opcodes[7]={type:3,min:0,max:1},e.rules[65].opcodes[8]={type:2,children:[9,10]},e.rules[65].opcodes[9]={type:4,index:68},e.rules[65].opcodes[10]={type:4,index:10},e.rules[65].opcodes[11]={type:4,index:10},e.rules[65].opcodes[12]={type:6,string:[85,82,73,58,32]},e.rules[65].opcodes[13]={type:4,index:69},e.rules[65].opcodes[14]={type:4,index:10},e.rules[65].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[65].opcodes[16]={type:4,index:70},e.rules[65].opcodes[17]={type:4,index:10},e.rules[65].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[65].opcodes[19]={type:4,index:71},e.rules[65].opcodes[20]={type:4,index:10},e.rules[65].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},e.rules[65].opcodes[22]={type:4,index:72},e.rules[65].opcodes[23]={type:4,index:10},e.rules[65].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[65].opcodes[25]={type:4,index:73},e.rules[65].opcodes[26]={type:3,min:0,max:1},e.rules[65].opcodes[27]={type:2,children:[28,29,30]},e.rules[65].opcodes[28]={type:4,index:10},e.rules[65].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[65].opcodes[30]={type:4,index:74},e.rules[65].opcodes[31]={type:3,min:0,max:1},e.rules[65].opcodes[32]={type:2,children:[33,34,35]},e.rules[65].opcodes[33]={type:4,index:10},e.rules[65].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[65].opcodes[35]={type:4,index:75},e.rules[65].opcodes[36]={type:3,min:0,max:1},e.rules[65].opcodes[37]={type:2,children:[38,39,40]},e.rules[65].opcodes[38]={type:4,index:10},e.rules[65].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[65].opcodes[40]={type:4,index:76},e.rules[65].opcodes[41]={type:3,min:0,max:1},e.rules[65].opcodes[42]={type:2,children:[43,44,45]},e.rules[65].opcodes[43]={type:4,index:10},e.rules[65].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[65].opcodes[45]={type:4,index:77},e.rules[66].opcodes=[],e.rules[66].opcodes[0]={type:4,index:36},e.rules[67].opcodes=[],e.rules[67].opcodes[0]={type:2,children:[1,2]},e.rules[67].opcodes[1]={type:7,string:[48,120]},e.rules[67].opcodes[2]={type:3,min:40,max:40},e.rules[67].opcodes[3]={type:4,index:8},e.rules[68].opcodes=[],e.rules[68].opcodes[0]={type:3,min:1,max:1/0},e.rules[68].opcodes[1]={type:1,children:[2,3,4]},e.rules[68].opcodes[2]={type:4,index:62},e.rules[68].opcodes[3]={type:4,index:61},e.rules[68].opcodes[4]={type:7,string:[32]},e.rules[69].opcodes=[],e.rules[69].opcodes[0]={type:4,index:29},e.rules[70].opcodes=[],e.rules[70].opcodes[0]={type:7,string:[49]},e.rules[71].opcodes=[],e.rules[71].opcodes[0]={type:3,min:1,max:1/0},e.rules[71].opcodes[1]={type:4,index:6},e.rules[72].opcodes=[],e.rules[72].opcodes[0]={type:3,min:8,max:1/0},e.rules[72].opcodes[1]={type:1,children:[2,3]},e.rules[72].opcodes[2]={type:4,index:0},e.rules[72].opcodes[3]={type:4,index:6},e.rules[73].opcodes=[],e.rules[73].opcodes[0]={type:4,index:28},e.rules[74].opcodes=[],e.rules[74].opcodes[0]={type:4,index:28},e.rules[75].opcodes=[],e.rules[75].opcodes[0]={type:4,index:28},e.rules[76].opcodes=[],e.rules[76].opcodes[0]={type:3,min:0,max:1/0},e.rules[76].opcodes[1]={type:4,index:57},e.rules[77].opcodes=[],e.rules[77].opcodes[0]={type:3,min:0,max:1/0},e.rules[77].opcodes[1]={type:2,children:[2,3,4]},e.rules[77].opcodes[2]={type:4,index:10},e.rules[77].opcodes[3]={type:7,string:[45,32]},e.rules[77].opcodes[4]={type:4,index:29},e.toString=function(){let r="";return r+=`; ==============================================================================
`,r+=`; Core rules for ABNF (RFC 5234)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1
`,r+=`
`,r+=`ALPHA          =  %x41-5A / %x61-7A
`,r+=`               ; A-Z / a-z
`,r+=`
`,r+=`BIT            =  "0" / "1"
`,r+=`
`,r+=`CHAR           =  %x01-7F
`,r+=`               ; any 7-bit US-ASCII character,
`,r+=`               ;  excluding NUL
`,r+=`
`,r+=`CR             =  %x0D
`,r+=`               ; carriage return
`,r+=`
`,r+=`CRLF           =  CR LF
`,r+=`               ; Internet standard newline
`,r+=`
`,r+=`CTL            =  %x00-1F / %x7F
`,r+=`               ; controls
`,r+=`
`,r+=`DIGIT          =  %x30-39
`,r+=`               ; 0-9
`,r+=`
`,r+=`DQUOTE         =  %x22
`,r+=`               ; " (Double Quote)
`,r+=`
`,r+=`HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`,r+=`
`,r+=`HTAB           =  %x09
`,r+=`               ; horizontal tab
`,r+=`
`,r+=`LF             =  %x0A
`,r+=`               ; linefeed
`,r+=`
`,r+=`LWSP           =  *(WSP / CRLF WSP)
`,r+=`               ; Use of this linear-white-space rule
`,r+=`               ;  permits lines containing only white
`,r+=`               ;  space that are no longer legal in
`,r+=`               ;  mail headers and have caused
`,r+=`               ;  interoperability problems in other
`,r+=`               ;  contexts.
`,r+=`               ; Do not use when defining mail
`,r+=`               ;  headers and use with caution in
`,r+=`               ;  other contexts.
`,r+=`
`,r+=`OCTET          =  %x00-FF
`,r+=`               ; 8 bits of data
`,r+=`
`,r+=`SP             =  %x20
`,r+=`
`,r+=`VCHAR          =  %x21-7E
`,r+=`               ; visible (printing) characters
`,r+=`
`,r+=`WSP            =  SP / HTAB
`,r+=`               ; white space
`,r+=`; ==============================================================================
`,r+=`; Internet Date/Time Format (RFC 3339)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6
`,r+=`
`,r+=`date-fullyear   = 4DIGIT
`,r+=`
`,r+=`date-month      = 2DIGIT  ; 01-12
`,r+=`
`,r+=`date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
`,r+=`                          ; month/year
`,r+=`
`,r+=`time-hour       = 2DIGIT  ; 00-23
`,r+=`
`,r+=`time-minute     = 2DIGIT  ; 00-59
`,r+=`
`,r+=`time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
`,r+=`                          ; rules
`,r+=`
`,r+=`time-secfrac    = "." 1*DIGIT
`,r+=`
`,r+=`time-numoffset  = ("+" / "-") time-hour ":" time-minute
`,r+=`
`,r+=`time-offset     = "Z" / time-numoffset
`,r+=`
`,r+=`partial-time    = time-hour ":" time-minute ":" time-second
`,r+=`                  [time-secfrac]
`,r+=`
`,r+=`full-date       = date-fullyear "-" date-month "-" date-mday
`,r+=`
`,r+=`full-time       = partial-time time-offset
`,r+=`
`,r+=`date-time       = full-date "T" full-time
`,r+=`; ==============================================================================
`,r+=`; Uniform Resource Identifier (RFC 3986)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A
`,r+=`
`,r+=`URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]
`,r+=`
`,r+=`hier-part     = "//" authority path-abempty
`,r+=`              / path-absolute
`,r+=`              / path-rootless
`,r+=`              / path-empty
`,r+=`
`,r+=`URI-reference = URI / relative-ref
`,r+=`
`,r+=`absolute-URI  = scheme ":" hier-part [ "?" query ]
`,r+=`
`,r+=`relative-ref  = relative-part [ "?" query ] [ "#" fragment ]
`,r+=`
`,r+=`relative-part = "//" authority path-abempty
`,r+=`              / path-absolute
`,r+=`              / path-noscheme
`,r+=`              / path-empty
`,r+=`
`,r+=`scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )
`,r+=`
`,r+=`authority     = [ userinfo "@" ] host [ ":" port ]
`,r+=`userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
`,r+=`host          = IP-literal / IPv4address / reg-name
`,r+=`port          = *DIGIT
`,r+=`
`,r+=`IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"
`,r+=`
`,r+=`IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )
`,r+=`
`,r+=`IPv6address   =                            6( h16 ":" ) ls32
`,r+=`              /                       "::" 5( h16 ":" ) ls32
`,r+=`              / [               h16 ] "::" 4( h16 ":" ) ls32
`,r+=`              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
`,r+=`              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
`,r+=`              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
`,r+=`              / [ *4( h16 ":" ) h16 ] "::"              ls32
`,r+=`              / [ *5( h16 ":" ) h16 ] "::"              h16
`,r+=`              / [ *6( h16 ":" ) h16 ] "::"
`,r+=`
`,r+=`h16           = 1*4HEXDIG
`,r+=`ls32          = ( h16 ":" h16 ) / IPv4address
`,r+=`IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
`,r+=`dec-octet     = DIGIT                 ; 0-9
`,r+=`              / %x31-39 DIGIT         ; 10-99
`,r+=`              / "1" 2DIGIT            ; 100-199
`,r+=`              / "2" %x30-34 DIGIT     ; 200-249
`,r+=`              / "25" %x30-35          ; 250-255
`,r+=`
`,r+=`reg-name      = *( unreserved / pct-encoded / sub-delims )
`,r+=`
`,r+=`path          = path-abempty    ; begins with "/" or is empty
`,r+=`              / path-absolute   ; begins with "/" but not "//"
`,r+=`              / path-noscheme   ; begins with a non-colon segment
`,r+=`              / path-rootless   ; begins with a segment
`,r+=`              / path-empty      ; zero characters
`,r+=`
`,r+=`path-abempty  = *( "/" segment )
`,r+=`path-absolute = "/" [ segment-nz *( "/" segment ) ]
`,r+=`path-noscheme = segment-nz-nc *( "/" segment )
`,r+=`path-rootless = segment-nz *( "/" segment )
`,r+=`path-empty    = 0pchar
`,r+=`
`,r+=`segment       = *pchar
`,r+=`segment-nz    = 1*pchar
`,r+=`segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )
`,r+=`; non-zero-length segment without any colon ":"
`,r+=`
`,r+=`pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"
`,r+=`
`,r+=`query         = *( pchar / "/" / "?" )
`,r+=`
`,r+=`fragment      = *( pchar / "/" / "?" )
`,r+=`
`,r+=`pct-encoded   = "%" HEXDIG HEXDIG
`,r+=`
`,r+=`unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
`,r+=`reserved      = gen-delims / sub-delims
`,r+=`gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
`,r+=`sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
`,r+=`              / "*" / "+" / "," / ";" / "="
`,r+=`; ==============================================================================
`,r+=`; Sign in with Ethereum (EIP-4361)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`; - datetime.bnf
`,r+=`; - uri.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://eips.ethereum.org/EIPS/eip-4361
`,r+=`
`,r+=`sign-in-with-ethereum =
`,r+=`  message-domain %s" wants you to sign in with your Ethereum account:" LF
`,r+=`  message-address LF
`,r+=`  LF
`,r+=`  [ message-statement LF ]
`,r+=`  LF
`,r+=`  %s"URI: " message-uri LF
`,r+=`  %s"Version: " message-version LF
`,r+=`  %s"Chain ID: " message-chain-id LF
`,r+=`  %s"Nonce: " message-nonce LF
`,r+=`  %s"Issued At: " message-issued-at
`,r+=`  [ LF %s"Expiration Time: " message-expiration-time ]
`,r+=`  [ LF %s"Not Before: " message-not-before ]
`,r+=`  [ LF %s"Request ID: " message-request-id ]
`,r+=`  [ LF %s"Resources:" message-resources ]
`,r+=`
`,r+=`message-domain          = authority
`,r+=`message-address         = "0x" 40*40HEXDIG
`,r+=`message-statement       = 1*( reserved / unreserved / " " )
`,r+=`message-uri             = URI
`,r+=`message-version         = "1"
`,r+=`message-chain-id        = 1*DIGIT
`,r+=`message-nonce           = 8*( ALPHA / DIGIT )
`,r+=`message-issued-at       = date-time
`,r+=`message-expiration-time = date-time
`,r+=`message-not-before      = date-time
`,r+=`message-request-id      = *pchar
`,r+=`message-resources       = *( LF "- " URI )
`,r},e}c();p();function ta(){let e={};return e.grammarObject="grammarObject",e.rules=[],e.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},e.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},e.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},e.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},e.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},e.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},e.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},e.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},e.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},e.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},e.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},e.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},e.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},e.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},e.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},e.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},e.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},e.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},e.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},e.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},e.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},e.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},e.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},e.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},e.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},e.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},e.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},e.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},e.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},e.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},e.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},e.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},e.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},e.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},e.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},e.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},e.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},e.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},e.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},e.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},e.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},e.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},e.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},e.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},e.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},e.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},e.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},e.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},e.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},e.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},e.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},e.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},e.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},e.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},e.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},e.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},e.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},e.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},e.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},e.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},e.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},e.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},e.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},e.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},e.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},e.rules[65]={name:"sign-in-with-solana",lower:"sign-in-with-solana",index:65,isBkr:!1},e.rules[66]={name:"advanced-fields",lower:"advanced-fields",index:66,isBkr:!1},e.rules[67]={name:"message-domain",lower:"message-domain",index:67,isBkr:!1},e.rules[68]={name:"message-address",lower:"message-address",index:68,isBkr:!1},e.rules[69]={name:"message-statement",lower:"message-statement",index:69,isBkr:!1},e.rules[70]={name:"message-uri",lower:"message-uri",index:70,isBkr:!1},e.rules[71]={name:"message-version",lower:"message-version",index:71,isBkr:!1},e.rules[72]={name:"message-chain-id",lower:"message-chain-id",index:72,isBkr:!1},e.rules[73]={name:"message-nonce",lower:"message-nonce",index:73,isBkr:!1},e.rules[74]={name:"message-issued-at",lower:"message-issued-at",index:74,isBkr:!1},e.rules[75]={name:"message-expiration-time",lower:"message-expiration-time",index:75,isBkr:!1},e.rules[76]={name:"message-not-before",lower:"message-not-before",index:76,isBkr:!1},e.rules[77]={name:"message-request-id",lower:"message-request-id",index:77,isBkr:!1},e.rules[78]={name:"message-resources",lower:"message-resources",index:78,isBkr:!1},e.udts=[],e.rules[0].opcodes=[],e.rules[0].opcodes[0]={type:1,children:[1,2]},e.rules[0].opcodes[1]={type:5,min:65,max:90},e.rules[0].opcodes[2]={type:5,min:97,max:122},e.rules[1].opcodes=[],e.rules[1].opcodes[0]={type:1,children:[1,2]},e.rules[1].opcodes[1]={type:7,string:[48]},e.rules[1].opcodes[2]={type:7,string:[49]},e.rules[2].opcodes=[],e.rules[2].opcodes[0]={type:5,min:1,max:127},e.rules[3].opcodes=[],e.rules[3].opcodes[0]={type:6,string:[13]},e.rules[4].opcodes=[],e.rules[4].opcodes[0]={type:2,children:[1,2]},e.rules[4].opcodes[1]={type:4,index:3},e.rules[4].opcodes[2]={type:4,index:10},e.rules[5].opcodes=[],e.rules[5].opcodes[0]={type:1,children:[1,2]},e.rules[5].opcodes[1]={type:5,min:0,max:31},e.rules[5].opcodes[2]={type:6,string:[127]},e.rules[6].opcodes=[],e.rules[6].opcodes[0]={type:5,min:48,max:57},e.rules[7].opcodes=[],e.rules[7].opcodes[0]={type:6,string:[34]},e.rules[8].opcodes=[],e.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[8].opcodes[1]={type:4,index:6},e.rules[8].opcodes[2]={type:7,string:[97]},e.rules[8].opcodes[3]={type:7,string:[98]},e.rules[8].opcodes[4]={type:7,string:[99]},e.rules[8].opcodes[5]={type:7,string:[100]},e.rules[8].opcodes[6]={type:7,string:[101]},e.rules[8].opcodes[7]={type:7,string:[102]},e.rules[9].opcodes=[],e.rules[9].opcodes[0]={type:6,string:[9]},e.rules[10].opcodes=[],e.rules[10].opcodes[0]={type:6,string:[10]},e.rules[11].opcodes=[],e.rules[11].opcodes[0]={type:3,min:0,max:1/0},e.rules[11].opcodes[1]={type:1,children:[2,3]},e.rules[11].opcodes[2]={type:4,index:15},e.rules[11].opcodes[3]={type:2,children:[4,5]},e.rules[11].opcodes[4]={type:4,index:4},e.rules[11].opcodes[5]={type:4,index:15},e.rules[12].opcodes=[],e.rules[12].opcodes[0]={type:5,min:0,max:255},e.rules[13].opcodes=[],e.rules[13].opcodes[0]={type:6,string:[32]},e.rules[14].opcodes=[],e.rules[14].opcodes[0]={type:5,min:33,max:126},e.rules[15].opcodes=[],e.rules[15].opcodes[0]={type:1,children:[1,2]},e.rules[15].opcodes[1]={type:4,index:13},e.rules[15].opcodes[2]={type:4,index:9},e.rules[16].opcodes=[],e.rules[16].opcodes[0]={type:3,min:4,max:4},e.rules[16].opcodes[1]={type:4,index:6},e.rules[17].opcodes=[],e.rules[17].opcodes[0]={type:3,min:2,max:2},e.rules[17].opcodes[1]={type:4,index:6},e.rules[18].opcodes=[],e.rules[18].opcodes[0]={type:3,min:2,max:2},e.rules[18].opcodes[1]={type:4,index:6},e.rules[19].opcodes=[],e.rules[19].opcodes[0]={type:3,min:2,max:2},e.rules[19].opcodes[1]={type:4,index:6},e.rules[20].opcodes=[],e.rules[20].opcodes[0]={type:3,min:2,max:2},e.rules[20].opcodes[1]={type:4,index:6},e.rules[21].opcodes=[],e.rules[21].opcodes[0]={type:3,min:2,max:2},e.rules[21].opcodes[1]={type:4,index:6},e.rules[22].opcodes=[],e.rules[22].opcodes[0]={type:2,children:[1,2]},e.rules[22].opcodes[1]={type:7,string:[46]},e.rules[22].opcodes[2]={type:3,min:1,max:1/0},e.rules[22].opcodes[3]={type:4,index:6},e.rules[23].opcodes=[],e.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},e.rules[23].opcodes[1]={type:1,children:[2,3]},e.rules[23].opcodes[2]={type:7,string:[43]},e.rules[23].opcodes[3]={type:7,string:[45]},e.rules[23].opcodes[4]={type:4,index:19},e.rules[23].opcodes[5]={type:7,string:[58]},e.rules[23].opcodes[6]={type:4,index:20},e.rules[24].opcodes=[],e.rules[24].opcodes[0]={type:1,children:[1,2]},e.rules[24].opcodes[1]={type:7,string:[122]},e.rules[24].opcodes[2]={type:4,index:23},e.rules[25].opcodes=[],e.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},e.rules[25].opcodes[1]={type:4,index:19},e.rules[25].opcodes[2]={type:7,string:[58]},e.rules[25].opcodes[3]={type:4,index:20},e.rules[25].opcodes[4]={type:7,string:[58]},e.rules[25].opcodes[5]={type:4,index:21},e.rules[25].opcodes[6]={type:3,min:0,max:1},e.rules[25].opcodes[7]={type:4,index:22},e.rules[26].opcodes=[],e.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},e.rules[26].opcodes[1]={type:4,index:16},e.rules[26].opcodes[2]={type:7,string:[45]},e.rules[26].opcodes[3]={type:4,index:17},e.rules[26].opcodes[4]={type:7,string:[45]},e.rules[26].opcodes[5]={type:4,index:18},e.rules[27].opcodes=[],e.rules[27].opcodes[0]={type:2,children:[1,2]},e.rules[27].opcodes[1]={type:4,index:25},e.rules[27].opcodes[2]={type:4,index:24},e.rules[28].opcodes=[],e.rules[28].opcodes[0]={type:2,children:[1,2,3]},e.rules[28].opcodes[1]={type:4,index:26},e.rules[28].opcodes[2]={type:7,string:[116]},e.rules[28].opcodes[3]={type:4,index:27},e.rules[29].opcodes=[],e.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},e.rules[29].opcodes[1]={type:4,index:35},e.rules[29].opcodes[2]={type:7,string:[58]},e.rules[29].opcodes[3]={type:4,index:30},e.rules[29].opcodes[4]={type:3,min:0,max:1},e.rules[29].opcodes[5]={type:2,children:[6,7]},e.rules[29].opcodes[6]={type:7,string:[63]},e.rules[29].opcodes[7]={type:4,index:58},e.rules[29].opcodes[8]={type:3,min:0,max:1},e.rules[29].opcodes[9]={type:2,children:[10,11]},e.rules[29].opcodes[10]={type:7,string:[35]},e.rules[29].opcodes[11]={type:4,index:59},e.rules[30].opcodes=[],e.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[30].opcodes[1]={type:2,children:[2,3,4]},e.rules[30].opcodes[2]={type:7,string:[47,47]},e.rules[30].opcodes[3]={type:4,index:36},e.rules[30].opcodes[4]={type:4,index:49},e.rules[30].opcodes[5]={type:4,index:50},e.rules[30].opcodes[6]={type:4,index:52},e.rules[30].opcodes[7]={type:4,index:53},e.rules[31].opcodes=[],e.rules[31].opcodes[0]={type:1,children:[1,2]},e.rules[31].opcodes[1]={type:4,index:29},e.rules[31].opcodes[2]={type:4,index:33},e.rules[32].opcodes=[],e.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},e.rules[32].opcodes[1]={type:4,index:35},e.rules[32].opcodes[2]={type:7,string:[58]},e.rules[32].opcodes[3]={type:4,index:30},e.rules[32].opcodes[4]={type:3,min:0,max:1},e.rules[32].opcodes[5]={type:2,children:[6,7]},e.rules[32].opcodes[6]={type:7,string:[63]},e.rules[32].opcodes[7]={type:4,index:58},e.rules[33].opcodes=[],e.rules[33].opcodes[0]={type:2,children:[1,2,6]},e.rules[33].opcodes[1]={type:4,index:34},e.rules[33].opcodes[2]={type:3,min:0,max:1},e.rules[33].opcodes[3]={type:2,children:[4,5]},e.rules[33].opcodes[4]={type:7,string:[63]},e.rules[33].opcodes[5]={type:4,index:58},e.rules[33].opcodes[6]={type:3,min:0,max:1},e.rules[33].opcodes[7]={type:2,children:[8,9]},e.rules[33].opcodes[8]={type:7,string:[35]},e.rules[33].opcodes[9]={type:4,index:59},e.rules[34].opcodes=[],e.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[34].opcodes[1]={type:2,children:[2,3,4]},e.rules[34].opcodes[2]={type:7,string:[47,47]},e.rules[34].opcodes[3]={type:4,index:36},e.rules[34].opcodes[4]={type:4,index:49},e.rules[34].opcodes[5]={type:4,index:50},e.rules[34].opcodes[6]={type:4,index:51},e.rules[34].opcodes[7]={type:4,index:53},e.rules[35].opcodes=[],e.rules[35].opcodes[0]={type:2,children:[1,2]},e.rules[35].opcodes[1]={type:4,index:0},e.rules[35].opcodes[2]={type:3,min:0,max:1/0},e.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},e.rules[35].opcodes[4]={type:4,index:0},e.rules[35].opcodes[5]={type:4,index:6},e.rules[35].opcodes[6]={type:7,string:[43]},e.rules[35].opcodes[7]={type:7,string:[45]},e.rules[35].opcodes[8]={type:7,string:[46]},e.rules[36].opcodes=[],e.rules[36].opcodes[0]={type:2,children:[1,5,6]},e.rules[36].opcodes[1]={type:3,min:0,max:1},e.rules[36].opcodes[2]={type:2,children:[3,4]},e.rules[36].opcodes[3]={type:4,index:37},e.rules[36].opcodes[4]={type:7,string:[64]},e.rules[36].opcodes[5]={type:4,index:38},e.rules[36].opcodes[6]={type:3,min:0,max:1},e.rules[36].opcodes[7]={type:2,children:[8,9]},e.rules[36].opcodes[8]={type:7,string:[58]},e.rules[36].opcodes[9]={type:4,index:39},e.rules[37].opcodes=[],e.rules[37].opcodes[0]={type:3,min:0,max:1/0},e.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[37].opcodes[2]={type:4,index:61},e.rules[37].opcodes[3]={type:4,index:60},e.rules[37].opcodes[4]={type:4,index:64},e.rules[37].opcodes[5]={type:7,string:[58]},e.rules[38].opcodes=[],e.rules[38].opcodes[0]={type:1,children:[1,2,3]},e.rules[38].opcodes[1]={type:4,index:40},e.rules[38].opcodes[2]={type:4,index:45},e.rules[38].opcodes[3]={type:4,index:47},e.rules[39].opcodes=[],e.rules[39].opcodes[0]={type:3,min:0,max:1/0},e.rules[39].opcodes[1]={type:4,index:6},e.rules[40].opcodes=[],e.rules[40].opcodes[0]={type:2,children:[1,2,5]},e.rules[40].opcodes[1]={type:7,string:[91]},e.rules[40].opcodes[2]={type:1,children:[3,4]},e.rules[40].opcodes[3]={type:4,index:42},e.rules[40].opcodes[4]={type:4,index:41},e.rules[40].opcodes[5]={type:7,string:[93]},e.rules[41].opcodes=[],e.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},e.rules[41].opcodes[1]={type:7,string:[118]},e.rules[41].opcodes[2]={type:3,min:1,max:1/0},e.rules[41].opcodes[3]={type:4,index:8},e.rules[41].opcodes[4]={type:7,string:[46]},e.rules[41].opcodes[5]={type:3,min:1,max:1/0},e.rules[41].opcodes[6]={type:1,children:[7,8,9]},e.rules[41].opcodes[7]={type:4,index:61},e.rules[41].opcodes[8]={type:4,index:64},e.rules[41].opcodes[9]={type:7,string:[58]},e.rules[42].opcodes=[],e.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},e.rules[42].opcodes[1]={type:2,children:[2,6]},e.rules[42].opcodes[2]={type:3,min:6,max:6},e.rules[42].opcodes[3]={type:2,children:[4,5]},e.rules[42].opcodes[4]={type:4,index:43},e.rules[42].opcodes[5]={type:7,string:[58]},e.rules[42].opcodes[6]={type:4,index:44},e.rules[42].opcodes[7]={type:2,children:[8,9,13]},e.rules[42].opcodes[8]={type:7,string:[58,58]},e.rules[42].opcodes[9]={type:3,min:5,max:5},e.rules[42].opcodes[10]={type:2,children:[11,12]},e.rules[42].opcodes[11]={type:4,index:43},e.rules[42].opcodes[12]={type:7,string:[58]},e.rules[42].opcodes[13]={type:4,index:44},e.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},e.rules[42].opcodes[15]={type:3,min:0,max:1},e.rules[42].opcodes[16]={type:4,index:43},e.rules[42].opcodes[17]={type:7,string:[58,58]},e.rules[42].opcodes[18]={type:3,min:4,max:4},e.rules[42].opcodes[19]={type:2,children:[20,21]},e.rules[42].opcodes[20]={type:4,index:43},e.rules[42].opcodes[21]={type:7,string:[58]},e.rules[42].opcodes[22]={type:4,index:44},e.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},e.rules[42].opcodes[24]={type:3,min:0,max:1},e.rules[42].opcodes[25]={type:2,children:[26,30]},e.rules[42].opcodes[26]={type:3,min:0,max:1},e.rules[42].opcodes[27]={type:2,children:[28,29]},e.rules[42].opcodes[28]={type:4,index:43},e.rules[42].opcodes[29]={type:7,string:[58]},e.rules[42].opcodes[30]={type:4,index:43},e.rules[42].opcodes[31]={type:7,string:[58,58]},e.rules[42].opcodes[32]={type:3,min:3,max:3},e.rules[42].opcodes[33]={type:2,children:[34,35]},e.rules[42].opcodes[34]={type:4,index:43},e.rules[42].opcodes[35]={type:7,string:[58]},e.rules[42].opcodes[36]={type:4,index:44},e.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},e.rules[42].opcodes[38]={type:3,min:0,max:1},e.rules[42].opcodes[39]={type:2,children:[40,44]},e.rules[42].opcodes[40]={type:3,min:0,max:2},e.rules[42].opcodes[41]={type:2,children:[42,43]},e.rules[42].opcodes[42]={type:4,index:43},e.rules[42].opcodes[43]={type:7,string:[58]},e.rules[42].opcodes[44]={type:4,index:43},e.rules[42].opcodes[45]={type:7,string:[58,58]},e.rules[42].opcodes[46]={type:3,min:2,max:2},e.rules[42].opcodes[47]={type:2,children:[48,49]},e.rules[42].opcodes[48]={type:4,index:43},e.rules[42].opcodes[49]={type:7,string:[58]},e.rules[42].opcodes[50]={type:4,index:44},e.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},e.rules[42].opcodes[52]={type:3,min:0,max:1},e.rules[42].opcodes[53]={type:2,children:[54,58]},e.rules[42].opcodes[54]={type:3,min:0,max:3},e.rules[42].opcodes[55]={type:2,children:[56,57]},e.rules[42].opcodes[56]={type:4,index:43},e.rules[42].opcodes[57]={type:7,string:[58]},e.rules[42].opcodes[58]={type:4,index:43},e.rules[42].opcodes[59]={type:7,string:[58,58]},e.rules[42].opcodes[60]={type:4,index:43},e.rules[42].opcodes[61]={type:7,string:[58]},e.rules[42].opcodes[62]={type:4,index:44},e.rules[42].opcodes[63]={type:2,children:[64,71,72]},e.rules[42].opcodes[64]={type:3,min:0,max:1},e.rules[42].opcodes[65]={type:2,children:[66,70]},e.rules[42].opcodes[66]={type:3,min:0,max:4},e.rules[42].opcodes[67]={type:2,children:[68,69]},e.rules[42].opcodes[68]={type:4,index:43},e.rules[42].opcodes[69]={type:7,string:[58]},e.rules[42].opcodes[70]={type:4,index:43},e.rules[42].opcodes[71]={type:7,string:[58,58]},e.rules[42].opcodes[72]={type:4,index:44},e.rules[42].opcodes[73]={type:2,children:[74,81,82]},e.rules[42].opcodes[74]={type:3,min:0,max:1},e.rules[42].opcodes[75]={type:2,children:[76,80]},e.rules[42].opcodes[76]={type:3,min:0,max:5},e.rules[42].opcodes[77]={type:2,children:[78,79]},e.rules[42].opcodes[78]={type:4,index:43},e.rules[42].opcodes[79]={type:7,string:[58]},e.rules[42].opcodes[80]={type:4,index:43},e.rules[42].opcodes[81]={type:7,string:[58,58]},e.rules[42].opcodes[82]={type:4,index:43},e.rules[42].opcodes[83]={type:2,children:[84,91]},e.rules[42].opcodes[84]={type:3,min:0,max:1},e.rules[42].opcodes[85]={type:2,children:[86,90]},e.rules[42].opcodes[86]={type:3,min:0,max:6},e.rules[42].opcodes[87]={type:2,children:[88,89]},e.rules[42].opcodes[88]={type:4,index:43},e.rules[42].opcodes[89]={type:7,string:[58]},e.rules[42].opcodes[90]={type:4,index:43},e.rules[42].opcodes[91]={type:7,string:[58,58]},e.rules[43].opcodes=[],e.rules[43].opcodes[0]={type:3,min:1,max:4},e.rules[43].opcodes[1]={type:4,index:8},e.rules[44].opcodes=[],e.rules[44].opcodes[0]={type:1,children:[1,5]},e.rules[44].opcodes[1]={type:2,children:[2,3,4]},e.rules[44].opcodes[2]={type:4,index:43},e.rules[44].opcodes[3]={type:7,string:[58]},e.rules[44].opcodes[4]={type:4,index:43},e.rules[44].opcodes[5]={type:4,index:45},e.rules[45].opcodes=[],e.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},e.rules[45].opcodes[1]={type:4,index:46},e.rules[45].opcodes[2]={type:7,string:[46]},e.rules[45].opcodes[3]={type:4,index:46},e.rules[45].opcodes[4]={type:7,string:[46]},e.rules[45].opcodes[5]={type:4,index:46},e.rules[45].opcodes[6]={type:7,string:[46]},e.rules[45].opcodes[7]={type:4,index:46},e.rules[46].opcodes=[],e.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},e.rules[46].opcodes[1]={type:4,index:6},e.rules[46].opcodes[2]={type:2,children:[3,4]},e.rules[46].opcodes[3]={type:5,min:49,max:57},e.rules[46].opcodes[4]={type:4,index:6},e.rules[46].opcodes[5]={type:2,children:[6,7]},e.rules[46].opcodes[6]={type:7,string:[49]},e.rules[46].opcodes[7]={type:3,min:2,max:2},e.rules[46].opcodes[8]={type:4,index:6},e.rules[46].opcodes[9]={type:2,children:[10,11,12]},e.rules[46].opcodes[10]={type:7,string:[50]},e.rules[46].opcodes[11]={type:5,min:48,max:52},e.rules[46].opcodes[12]={type:4,index:6},e.rules[46].opcodes[13]={type:2,children:[14,15]},e.rules[46].opcodes[14]={type:7,string:[50,53]},e.rules[46].opcodes[15]={type:5,min:48,max:53},e.rules[47].opcodes=[],e.rules[47].opcodes[0]={type:3,min:0,max:1/0},e.rules[47].opcodes[1]={type:1,children:[2,3,4]},e.rules[47].opcodes[2]={type:4,index:61},e.rules[47].opcodes[3]={type:4,index:60},e.rules[47].opcodes[4]={type:4,index:64},e.rules[48].opcodes=[],e.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[48].opcodes[1]={type:4,index:49},e.rules[48].opcodes[2]={type:4,index:50},e.rules[48].opcodes[3]={type:4,index:51},e.rules[48].opcodes[4]={type:4,index:52},e.rules[48].opcodes[5]={type:4,index:53},e.rules[49].opcodes=[],e.rules[49].opcodes[0]={type:3,min:0,max:1/0},e.rules[49].opcodes[1]={type:2,children:[2,3]},e.rules[49].opcodes[2]={type:7,string:[47]},e.rules[49].opcodes[3]={type:4,index:54},e.rules[50].opcodes=[],e.rules[50].opcodes[0]={type:2,children:[1,2]},e.rules[50].opcodes[1]={type:7,string:[47]},e.rules[50].opcodes[2]={type:3,min:0,max:1},e.rules[50].opcodes[3]={type:2,children:[4,5]},e.rules[50].opcodes[4]={type:4,index:55},e.rules[50].opcodes[5]={type:3,min:0,max:1/0},e.rules[50].opcodes[6]={type:2,children:[7,8]},e.rules[50].opcodes[7]={type:7,string:[47]},e.rules[50].opcodes[8]={type:4,index:54},e.rules[51].opcodes=[],e.rules[51].opcodes[0]={type:2,children:[1,2]},e.rules[51].opcodes[1]={type:4,index:56},e.rules[51].opcodes[2]={type:3,min:0,max:1/0},e.rules[51].opcodes[3]={type:2,children:[4,5]},e.rules[51].opcodes[4]={type:7,string:[47]},e.rules[51].opcodes[5]={type:4,index:54},e.rules[52].opcodes=[],e.rules[52].opcodes[0]={type:2,children:[1,2]},e.rules[52].opcodes[1]={type:4,index:55},e.rules[52].opcodes[2]={type:3,min:0,max:1/0},e.rules[52].opcodes[3]={type:2,children:[4,5]},e.rules[52].opcodes[4]={type:7,string:[47]},e.rules[52].opcodes[5]={type:4,index:54},e.rules[53].opcodes=[],e.rules[53].opcodes[0]={type:3,min:0,max:0},e.rules[53].opcodes[1]={type:4,index:57},e.rules[54].opcodes=[],e.rules[54].opcodes[0]={type:3,min:0,max:1/0},e.rules[54].opcodes[1]={type:4,index:57},e.rules[55].opcodes=[],e.rules[55].opcodes[0]={type:3,min:1,max:1/0},e.rules[55].opcodes[1]={type:4,index:57},e.rules[56].opcodes=[],e.rules[56].opcodes[0]={type:3,min:1,max:1/0},e.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[56].opcodes[2]={type:4,index:61},e.rules[56].opcodes[3]={type:4,index:60},e.rules[56].opcodes[4]={type:4,index:64},e.rules[56].opcodes[5]={type:7,string:[64]},e.rules[57].opcodes=[],e.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[57].opcodes[1]={type:4,index:61},e.rules[57].opcodes[2]={type:4,index:60},e.rules[57].opcodes[3]={type:4,index:64},e.rules[57].opcodes[4]={type:7,string:[58]},e.rules[57].opcodes[5]={type:7,string:[64]},e.rules[58].opcodes=[],e.rules[58].opcodes[0]={type:3,min:0,max:1/0},e.rules[58].opcodes[1]={type:1,children:[2,3,4]},e.rules[58].opcodes[2]={type:4,index:57},e.rules[58].opcodes[3]={type:7,string:[47]},e.rules[58].opcodes[4]={type:7,string:[63]},e.rules[59].opcodes=[],e.rules[59].opcodes[0]={type:3,min:0,max:1/0},e.rules[59].opcodes[1]={type:1,children:[2,3,4]},e.rules[59].opcodes[2]={type:4,index:57},e.rules[59].opcodes[3]={type:7,string:[47]},e.rules[59].opcodes[4]={type:7,string:[63]},e.rules[60].opcodes=[],e.rules[60].opcodes[0]={type:2,children:[1,2,3]},e.rules[60].opcodes[1]={type:7,string:[37]},e.rules[60].opcodes[2]={type:4,index:8},e.rules[60].opcodes[3]={type:4,index:8},e.rules[61].opcodes=[],e.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},e.rules[61].opcodes[1]={type:4,index:0},e.rules[61].opcodes[2]={type:4,index:6},e.rules[61].opcodes[3]={type:7,string:[45]},e.rules[61].opcodes[4]={type:7,string:[46]},e.rules[61].opcodes[5]={type:7,string:[95]},e.rules[61].opcodes[6]={type:7,string:[126]},e.rules[62].opcodes=[],e.rules[62].opcodes[0]={type:1,children:[1,2]},e.rules[62].opcodes[1]={type:4,index:63},e.rules[62].opcodes[2]={type:4,index:64},e.rules[63].opcodes=[],e.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[63].opcodes[1]={type:7,string:[58]},e.rules[63].opcodes[2]={type:7,string:[47]},e.rules[63].opcodes[3]={type:7,string:[63]},e.rules[63].opcodes[4]={type:7,string:[35]},e.rules[63].opcodes[5]={type:7,string:[91]},e.rules[63].opcodes[6]={type:7,string:[93]},e.rules[63].opcodes[7]={type:7,string:[64]},e.rules[64].opcodes=[],e.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},e.rules[64].opcodes[1]={type:7,string:[33]},e.rules[64].opcodes[2]={type:7,string:[36]},e.rules[64].opcodes[3]={type:7,string:[38]},e.rules[64].opcodes[4]={type:7,string:[39]},e.rules[64].opcodes[5]={type:7,string:[40]},e.rules[64].opcodes[6]={type:7,string:[41]},e.rules[64].opcodes[7]={type:7,string:[42]},e.rules[64].opcodes[8]={type:7,string:[43]},e.rules[64].opcodes[9]={type:7,string:[44]},e.rules[64].opcodes[10]={type:7,string:[59]},e.rules[64].opcodes[11]={type:7,string:[61]},e.rules[65].opcodes=[],e.rules[65].opcodes[0]={type:2,children:[1,2,3,4,5,10]},e.rules[65].opcodes[1]={type:4,index:67},e.rules[65].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,83,111,108,97,110,97,32,97,99,99,111,117,110,116,58]},e.rules[65].opcodes[3]={type:4,index:10},e.rules[65].opcodes[4]={type:4,index:68},e.rules[65].opcodes[5]={type:3,min:0,max:1},e.rules[65].opcodes[6]={type:2,children:[7,8,9]},e.rules[65].opcodes[7]={type:4,index:10},e.rules[65].opcodes[8]={type:4,index:10},e.rules[65].opcodes[9]={type:4,index:69},e.rules[65].opcodes[10]={type:3,min:0,max:1},e.rules[65].opcodes[11]={type:2,children:[12,13]},e.rules[65].opcodes[12]={type:4,index:10},e.rules[65].opcodes[13]={type:4,index:66},e.rules[66].opcodes=[],e.rules[66].opcodes[0]={type:2,children:[1,6,11,16,21,26,31,36,41]},e.rules[66].opcodes[1]={type:3,min:0,max:1},e.rules[66].opcodes[2]={type:2,children:[3,4,5]},e.rules[66].opcodes[3]={type:4,index:10},e.rules[66].opcodes[4]={type:6,string:[85,82,73,58,32]},e.rules[66].opcodes[5]={type:4,index:70},e.rules[66].opcodes[6]={type:3,min:0,max:1},e.rules[66].opcodes[7]={type:2,children:[8,9,10]},e.rules[66].opcodes[8]={type:4,index:10},e.rules[66].opcodes[9]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[66].opcodes[10]={type:4,index:71},e.rules[66].opcodes[11]={type:3,min:0,max:1},e.rules[66].opcodes[12]={type:2,children:[13,14,15]},e.rules[66].opcodes[13]={type:4,index:10},e.rules[66].opcodes[14]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[66].opcodes[15]={type:4,index:72},e.rules[66].opcodes[16]={type:3,min:0,max:1},e.rules[66].opcodes[17]={type:2,children:[18,19,20]},e.rules[66].opcodes[18]={type:4,index:10},e.rules[66].opcodes[19]={type:6,string:[78,111,110,99,101,58,32]},e.rules[66].opcodes[20]={type:4,index:73},e.rules[66].opcodes[21]={type:3,min:0,max:1},e.rules[66].opcodes[22]={type:2,children:[23,24,25]},e.rules[66].opcodes[23]={type:4,index:10},e.rules[66].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[66].opcodes[25]={type:4,index:74},e.rules[66].opcodes[26]={type:3,min:0,max:1},e.rules[66].opcodes[27]={type:2,children:[28,29,30]},e.rules[66].opcodes[28]={type:4,index:10},e.rules[66].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[66].opcodes[30]={type:4,index:75},e.rules[66].opcodes[31]={type:3,min:0,max:1},e.rules[66].opcodes[32]={type:2,children:[33,34,35]},e.rules[66].opcodes[33]={type:4,index:10},e.rules[66].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[66].opcodes[35]={type:4,index:76},e.rules[66].opcodes[36]={type:3,min:0,max:1},e.rules[66].opcodes[37]={type:2,children:[38,39,40]},e.rules[66].opcodes[38]={type:4,index:10},e.rules[66].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[66].opcodes[40]={type:4,index:77},e.rules[66].opcodes[41]={type:3,min:0,max:1},e.rules[66].opcodes[42]={type:2,children:[43,44,45]},e.rules[66].opcodes[43]={type:4,index:10},e.rules[66].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[66].opcodes[45]={type:4,index:78},e.rules[67].opcodes=[],e.rules[67].opcodes[0]={type:4,index:36},e.rules[68].opcodes=[],e.rules[68].opcodes[0]={type:3,min:32,max:44},e.rules[68].opcodes[1]={type:1,children:[2,3,4,5,6,7]},e.rules[68].opcodes[2]={type:5,min:49,max:57},e.rules[68].opcodes[3]={type:5,min:65,max:72},e.rules[68].opcodes[4]={type:5,min:74,max:78},e.rules[68].opcodes[5]={type:5,min:80,max:90},e.rules[68].opcodes[6]={type:5,min:97,max:107},e.rules[68].opcodes[7]={type:5,min:109,max:122},e.rules[69].opcodes=[],e.rules[69].opcodes[0]={type:3,min:1,max:1/0},e.rules[69].opcodes[1]={type:1,children:[2,3,4]},e.rules[69].opcodes[2]={type:4,index:62},e.rules[69].opcodes[3]={type:4,index:61},e.rules[69].opcodes[4]={type:7,string:[32]},e.rules[70].opcodes=[],e.rules[70].opcodes[0]={type:4,index:29},e.rules[71].opcodes=[],e.rules[71].opcodes[0]={type:7,string:[49]},e.rules[72].opcodes=[],e.rules[72].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[72].opcodes[1]={type:6,string:[109,97,105,110,110,101,116]},e.rules[72].opcodes[2]={type:6,string:[116,101,115,116,110,101,116]},e.rules[72].opcodes[3]={type:6,string:[100,101,118,110,101,116]},e.rules[72].opcodes[4]={type:6,string:[108,111,99,97,108,110,101,116]},e.rules[72].opcodes[5]={type:6,string:[115,111,108,97,110,97,58,109,97,105,110,110,101,116]},e.rules[72].opcodes[6]={type:6,string:[115,111,108,97,110,97,58,116,101,115,116,110,101,116]},e.rules[72].opcodes[7]={type:6,string:[115,111,108,97,110,97,58,100,101,118,110,101,116]},e.rules[73].opcodes=[],e.rules[73].opcodes[0]={type:3,min:8,max:1/0},e.rules[73].opcodes[1]={type:1,children:[2,3]},e.rules[73].opcodes[2]={type:4,index:0},e.rules[73].opcodes[3]={type:4,index:6},e.rules[74].opcodes=[],e.rules[74].opcodes[0]={type:4,index:28},e.rules[75].opcodes=[],e.rules[75].opcodes[0]={type:4,index:28},e.rules[76].opcodes=[],e.rules[76].opcodes[0]={type:4,index:28},e.rules[77].opcodes=[],e.rules[77].opcodes[0]={type:3,min:0,max:1/0},e.rules[77].opcodes[1]={type:4,index:57},e.rules[78].opcodes=[],e.rules[78].opcodes[0]={type:3,min:0,max:1/0},e.rules[78].opcodes[1]={type:2,children:[2,3,4]},e.rules[78].opcodes[2]={type:4,index:10},e.rules[78].opcodes[3]={type:7,string:[45,32]},e.rules[78].opcodes[4]={type:4,index:29},e.toString=function(){let r="";return r+=`; ==============================================================================
`,r+=`; Core rules for ABNF (RFC 5234)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1
`,r+=`
`,r+=`ALPHA          =  %x41-5A / %x61-7A
`,r+=`               ; A-Z / a-z
`,r+=`
`,r+=`BIT            =  "0" / "1"
`,r+=`
`,r+=`CHAR           =  %x01-7F
`,r+=`               ; any 7-bit US-ASCII character,
`,r+=`               ;  excluding NUL
`,r+=`
`,r+=`CR             =  %x0D
`,r+=`               ; carriage return
`,r+=`
`,r+=`CRLF           =  CR LF
`,r+=`               ; Internet standard newline
`,r+=`
`,r+=`CTL            =  %x00-1F / %x7F
`,r+=`               ; controls
`,r+=`
`,r+=`DIGIT          =  %x30-39
`,r+=`               ; 0-9
`,r+=`
`,r+=`DQUOTE         =  %x22
`,r+=`               ; " (Double Quote)
`,r+=`
`,r+=`HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`,r+=`
`,r+=`HTAB           =  %x09
`,r+=`               ; horizontal tab
`,r+=`
`,r+=`LF             =  %x0A
`,r+=`               ; linefeed
`,r+=`
`,r+=`LWSP           =  *(WSP / CRLF WSP)
`,r+=`               ; Use of this linear-white-space rule
`,r+=`               ;  permits lines containing only white
`,r+=`               ;  space that are no longer legal in
`,r+=`               ;  mail headers and have caused
`,r+=`               ;  interoperability problems in other
`,r+=`               ;  contexts.
`,r+=`               ; Do not use when defining mail
`,r+=`               ;  headers and use with caution in
`,r+=`               ;  other contexts.
`,r+=`
`,r+=`OCTET          =  %x00-FF
`,r+=`               ; 8 bits of data
`,r+=`
`,r+=`SP             =  %x20
`,r+=`
`,r+=`VCHAR          =  %x21-7E
`,r+=`               ; visible (printing) characters
`,r+=`
`,r+=`WSP            =  SP / HTAB
`,r+=`               ; white space
`,r+=`; ==============================================================================
`,r+=`; Internet Date/Time Format (RFC 3339)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6
`,r+=`
`,r+=`date-fullyear   = 4DIGIT
`,r+=`
`,r+=`date-month      = 2DIGIT  ; 01-12
`,r+=`
`,r+=`date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
`,r+=`                          ; month/year
`,r+=`
`,r+=`time-hour       = 2DIGIT  ; 00-23
`,r+=`
`,r+=`time-minute     = 2DIGIT  ; 00-59
`,r+=`
`,r+=`time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
`,r+=`                          ; rules
`,r+=`
`,r+=`time-secfrac    = "." 1*DIGIT
`,r+=`
`,r+=`time-numoffset  = ("+" / "-") time-hour ":" time-minute
`,r+=`
`,r+=`time-offset     = "Z" / time-numoffset
`,r+=`
`,r+=`partial-time    = time-hour ":" time-minute ":" time-second
`,r+=`                  [time-secfrac]
`,r+=`
`,r+=`full-date       = date-fullyear "-" date-month "-" date-mday
`,r+=`
`,r+=`full-time       = partial-time time-offset
`,r+=`
`,r+=`date-time       = full-date "T" full-time
`,r+=`; ==============================================================================
`,r+=`; Uniform Resource Identifier (RFC 3986)
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A
`,r+=`
`,r+=`URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]
`,r+=`
`,r+=`hier-part     = "//" authority path-abempty
`,r+=`              / path-absolute
`,r+=`              / path-rootless
`,r+=`              / path-empty
`,r+=`
`,r+=`URI-reference = URI / relative-ref
`,r+=`
`,r+=`absolute-URI  = scheme ":" hier-part [ "?" query ]
`,r+=`
`,r+=`relative-ref  = relative-part [ "?" query ] [ "#" fragment ]
`,r+=`
`,r+=`relative-part = "//" authority path-abempty
`,r+=`              / path-absolute
`,r+=`              / path-noscheme
`,r+=`              / path-empty
`,r+=`
`,r+=`scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )
`,r+=`
`,r+=`authority     = [ userinfo "@" ] host [ ":" port ]
`,r+=`userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
`,r+=`host          = IP-literal / IPv4address / reg-name
`,r+=`port          = *DIGIT
`,r+=`
`,r+=`IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"
`,r+=`
`,r+=`IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )
`,r+=`
`,r+=`IPv6address   =                            6( h16 ":" ) ls32
`,r+=`              /                       "::" 5( h16 ":" ) ls32
`,r+=`              / [               h16 ] "::" 4( h16 ":" ) ls32
`,r+=`              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
`,r+=`              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
`,r+=`              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
`,r+=`              / [ *4( h16 ":" ) h16 ] "::"              ls32
`,r+=`              / [ *5( h16 ":" ) h16 ] "::"              h16
`,r+=`              / [ *6( h16 ":" ) h16 ] "::"
`,r+=`
`,r+=`h16           = 1*4HEXDIG
`,r+=`ls32          = ( h16 ":" h16 ) / IPv4address
`,r+=`IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
`,r+=`dec-octet     = DIGIT                 ; 0-9
`,r+=`              / %x31-39 DIGIT         ; 10-99
`,r+=`              / "1" 2DIGIT            ; 100-199
`,r+=`              / "2" %x30-34 DIGIT     ; 200-249
`,r+=`              / "25" %x30-35          ; 250-255
`,r+=`
`,r+=`reg-name      = *( unreserved / pct-encoded / sub-delims )
`,r+=`
`,r+=`path          = path-abempty    ; begins with "/" or is empty
`,r+=`              / path-absolute   ; begins with "/" but not "//"
`,r+=`              / path-noscheme   ; begins with a non-colon segment
`,r+=`              / path-rootless   ; begins with a segment
`,r+=`              / path-empty      ; zero characters
`,r+=`
`,r+=`path-abempty  = *( "/" segment )
`,r+=`path-absolute = "/" [ segment-nz *( "/" segment ) ]
`,r+=`path-noscheme = segment-nz-nc *( "/" segment )
`,r+=`path-rootless = segment-nz *( "/" segment )
`,r+=`path-empty    = 0pchar
`,r+=`
`,r+=`segment       = *pchar
`,r+=`segment-nz    = 1*pchar
`,r+=`segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )
`,r+=`; non-zero-length segment without any colon ":"
`,r+=`
`,r+=`pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"
`,r+=`
`,r+=`query         = *( pchar / "/" / "?" )
`,r+=`
`,r+=`fragment      = *( pchar / "/" / "?" )
`,r+=`
`,r+=`pct-encoded   = "%" HEXDIG HEXDIG
`,r+=`
`,r+=`unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
`,r+=`reserved      = gen-delims / sub-delims
`,r+=`gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
`,r+=`sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
`,r+=`              / "*" / "+" / "," / ";" / "="
`,r+=`; ==============================================================================
`,r+=`; Sign in with Solana
`,r+=`; ==============================================================================
`,r+=`;
`,r+=`; Requires:
`,r+=`; - core.bnf
`,r+=`; - datetime.bnf
`,r+=`; - uri.bnf
`,r+=`; - dns.bnf
`,r+=`;
`,r+=`; References:
`,r+=`; - https://eips.ethereum.org/EIPS/eip-4361
`,r+=` 
`,r+=`sign-in-with-solana =
`,r+=`  message-domain %s" wants you to sign in with your Solana account:" LF
`,r+=`  message-address
`,r+=`  [ LF LF message-statement ]
`,r+=`  [ LF advanced-fields ]
`,r+=`
`,r+=`advanced-fields =
`,r+=`  [ LF %s"URI: " message-uri ]
`,r+=`  [ LF %s"Version: " message-version ]
`,r+=`  [ LF %s"Chain ID: " message-chain-id ]
`,r+=`  [ LF %s"Nonce: " message-nonce ]
`,r+=`  [ LF %s"Issued At: " message-issued-at ]
`,r+=`  [ LF %s"Expiration Time: " message-expiration-time ]
`,r+=`  [ LF %s"Not Before: " message-not-before ]
`,r+=`  [ LF %s"Request ID: " message-request-id ]
`,r+=`  [ LF %s"Resources:" message-resources ]
`,r+=`
`,r+=`message-domain          = authority
`,r+=`message-address         = 32*44( %x31-39 / %x41-48 / %x4A-4E / %x50-5A / %x61-6B / %x6D-7A )
`,r+=`message-statement       = 1*( reserved / unreserved / " " )
`,r+=`message-uri             = URI
`,r+=`message-version         = "1"
`,r+=`message-chain-id        = %s"mainnet" / %s"testnet" / %s"devnet" / %s"localnet" / %s"solana:mainnet" / %s"solana:testnet" / %s"solana:devnet"
`,r+=`message-nonce           = 8*( ALPHA / DIGIT )
`,r+=`message-issued-at       = date-time
`,r+=`message-expiration-time = date-time
`,r+=`message-not-before      = date-time
`,r+=`message-request-id      = *pchar
`,r+=`message-resources       = *( LF "- " URI )
`,r},e}c();p();function ra(){let e={};return e.grammarObject="grammarObject",e.rules=[],e.rules[0]={name:"ALPHA",lower:"alpha",index:0,isBkr:!1},e.rules[1]={name:"BIT",lower:"bit",index:1,isBkr:!1},e.rules[2]={name:"CHAR",lower:"char",index:2,isBkr:!1},e.rules[3]={name:"CR",lower:"cr",index:3,isBkr:!1},e.rules[4]={name:"CRLF",lower:"crlf",index:4,isBkr:!1},e.rules[5]={name:"CTL",lower:"ctl",index:5,isBkr:!1},e.rules[6]={name:"DIGIT",lower:"digit",index:6,isBkr:!1},e.rules[7]={name:"DQUOTE",lower:"dquote",index:7,isBkr:!1},e.rules[8]={name:"HEXDIG",lower:"hexdig",index:8,isBkr:!1},e.rules[9]={name:"HTAB",lower:"htab",index:9,isBkr:!1},e.rules[10]={name:"LF",lower:"lf",index:10,isBkr:!1},e.rules[11]={name:"LWSP",lower:"lwsp",index:11,isBkr:!1},e.rules[12]={name:"OCTET",lower:"octet",index:12,isBkr:!1},e.rules[13]={name:"SP",lower:"sp",index:13,isBkr:!1},e.rules[14]={name:"VCHAR",lower:"vchar",index:14,isBkr:!1},e.rules[15]={name:"WSP",lower:"wsp",index:15,isBkr:!1},e.rules[16]={name:"date-fullyear",lower:"date-fullyear",index:16,isBkr:!1},e.rules[17]={name:"date-month",lower:"date-month",index:17,isBkr:!1},e.rules[18]={name:"date-mday",lower:"date-mday",index:18,isBkr:!1},e.rules[19]={name:"time-hour",lower:"time-hour",index:19,isBkr:!1},e.rules[20]={name:"time-minute",lower:"time-minute",index:20,isBkr:!1},e.rules[21]={name:"time-second",lower:"time-second",index:21,isBkr:!1},e.rules[22]={name:"time-secfrac",lower:"time-secfrac",index:22,isBkr:!1},e.rules[23]={name:"time-numoffset",lower:"time-numoffset",index:23,isBkr:!1},e.rules[24]={name:"time-offset",lower:"time-offset",index:24,isBkr:!1},e.rules[25]={name:"partial-time",lower:"partial-time",index:25,isBkr:!1},e.rules[26]={name:"full-date",lower:"full-date",index:26,isBkr:!1},e.rules[27]={name:"full-time",lower:"full-time",index:27,isBkr:!1},e.rules[28]={name:"date-time",lower:"date-time",index:28,isBkr:!1},e.rules[29]={name:"URI",lower:"uri",index:29,isBkr:!1},e.rules[30]={name:"hier-part",lower:"hier-part",index:30,isBkr:!1},e.rules[31]={name:"URI-reference",lower:"uri-reference",index:31,isBkr:!1},e.rules[32]={name:"absolute-URI",lower:"absolute-uri",index:32,isBkr:!1},e.rules[33]={name:"relative-ref",lower:"relative-ref",index:33,isBkr:!1},e.rules[34]={name:"relative-part",lower:"relative-part",index:34,isBkr:!1},e.rules[35]={name:"scheme",lower:"scheme",index:35,isBkr:!1},e.rules[36]={name:"authority",lower:"authority",index:36,isBkr:!1},e.rules[37]={name:"userinfo",lower:"userinfo",index:37,isBkr:!1},e.rules[38]={name:"host",lower:"host",index:38,isBkr:!1},e.rules[39]={name:"port",lower:"port",index:39,isBkr:!1},e.rules[40]={name:"IP-literal",lower:"ip-literal",index:40,isBkr:!1},e.rules[41]={name:"IPvFuture",lower:"ipvfuture",index:41,isBkr:!1},e.rules[42]={name:"IPv6address",lower:"ipv6address",index:42,isBkr:!1},e.rules[43]={name:"h16",lower:"h16",index:43,isBkr:!1},e.rules[44]={name:"ls32",lower:"ls32",index:44,isBkr:!1},e.rules[45]={name:"IPv4address",lower:"ipv4address",index:45,isBkr:!1},e.rules[46]={name:"dec-octet",lower:"dec-octet",index:46,isBkr:!1},e.rules[47]={name:"reg-name",lower:"reg-name",index:47,isBkr:!1},e.rules[48]={name:"path",lower:"path",index:48,isBkr:!1},e.rules[49]={name:"path-abempty",lower:"path-abempty",index:49,isBkr:!1},e.rules[50]={name:"path-absolute",lower:"path-absolute",index:50,isBkr:!1},e.rules[51]={name:"path-noscheme",lower:"path-noscheme",index:51,isBkr:!1},e.rules[52]={name:"path-rootless",lower:"path-rootless",index:52,isBkr:!1},e.rules[53]={name:"path-empty",lower:"path-empty",index:53,isBkr:!1},e.rules[54]={name:"segment",lower:"segment",index:54,isBkr:!1},e.rules[55]={name:"segment-nz",lower:"segment-nz",index:55,isBkr:!1},e.rules[56]={name:"segment-nz-nc",lower:"segment-nz-nc",index:56,isBkr:!1},e.rules[57]={name:"pchar",lower:"pchar",index:57,isBkr:!1},e.rules[58]={name:"query",lower:"query",index:58,isBkr:!1},e.rules[59]={name:"fragment",lower:"fragment",index:59,isBkr:!1},e.rules[60]={name:"pct-encoded",lower:"pct-encoded",index:60,isBkr:!1},e.rules[61]={name:"unreserved",lower:"unreserved",index:61,isBkr:!1},e.rules[62]={name:"reserved",lower:"reserved",index:62,isBkr:!1},e.rules[63]={name:"gen-delims",lower:"gen-delims",index:63,isBkr:!1},e.rules[64]={name:"sub-delims",lower:"sub-delims",index:64,isBkr:!1},e.rules[65]={name:"dnsurl",lower:"dnsurl",index:65,isBkr:!1},e.rules[66]={name:"dnsauthority",lower:"dnsauthority",index:66,isBkr:!1},e.rules[67]={name:"dnsname",lower:"dnsname",index:67,isBkr:!1},e.rules[68]={name:"dnsquery",lower:"dnsquery",index:68,isBkr:!1},e.rules[69]={name:"dnsqueryelement",lower:"dnsqueryelement",index:69,isBkr:!1},e.rules[70]={name:"dnsclassval",lower:"dnsclassval",index:70,isBkr:!1},e.rules[71]={name:"dnstypeval",lower:"dnstypeval",index:71,isBkr:!1},e.rules[72]={name:"chain-id",lower:"chain-id",index:72,isBkr:!1},e.rules[73]={name:"eth-namespace",lower:"eth-namespace",index:73,isBkr:!1},e.rules[74]={name:"eth-network-id",lower:"eth-network-id",index:74,isBkr:!1},e.rules[75]={name:"eth-chain-id",lower:"eth-chain-id",index:75,isBkr:!1},e.rules[76]={name:"sol-namespace",lower:"sol-namespace",index:76,isBkr:!1},e.rules[77]={name:"sol-network-id",lower:"sol-network-id",index:77,isBkr:!1},e.rules[78]={name:"sol-chain-id",lower:"sol-chain-id",index:78,isBkr:!1},e.rules[79]={name:"account-id",lower:"account-id",index:79,isBkr:!1},e.rules[80]={name:"eth-address",lower:"eth-address",index:80,isBkr:!1},e.rules[81]={name:"eth-account-id",lower:"eth-account-id",index:81,isBkr:!1},e.rules[82]={name:"sol-address",lower:"sol-address",index:82,isBkr:!1},e.rules[83]={name:"sol-account-id",lower:"sol-account-id",index:83,isBkr:!1},e.rules[84]={name:"sign-in-with-x",lower:"sign-in-with-x",index:84,isBkr:!1},e.rules[85]={name:"sign-in-with-eth",lower:"sign-in-with-eth",index:85,isBkr:!1},e.rules[86]={name:"sign-in-with-sol",lower:"sign-in-with-sol",index:86,isBkr:!1},e.rules[87]={name:"message-domain",lower:"message-domain",index:87,isBkr:!1},e.rules[88]={name:"message-address",lower:"message-address",index:88,isBkr:!1},e.rules[89]={name:"message-statement",lower:"message-statement",index:89,isBkr:!1},e.rules[90]={name:"message-uri",lower:"message-uri",index:90,isBkr:!1},e.rules[91]={name:"message-version",lower:"message-version",index:91,isBkr:!1},e.rules[92]={name:"message-chain-id",lower:"message-chain-id",index:92,isBkr:!1},e.rules[93]={name:"message-nonce",lower:"message-nonce",index:93,isBkr:!1},e.rules[94]={name:"message-issued-at",lower:"message-issued-at",index:94,isBkr:!1},e.rules[95]={name:"message-expiration-time",lower:"message-expiration-time",index:95,isBkr:!1},e.rules[96]={name:"message-not-before",lower:"message-not-before",index:96,isBkr:!1},e.rules[97]={name:"message-request-id",lower:"message-request-id",index:97,isBkr:!1},e.rules[98]={name:"message-resources",lower:"message-resources",index:98,isBkr:!1},e.udts=[],e.rules[0].opcodes=[],e.rules[0].opcodes[0]={type:1,children:[1,2]},e.rules[0].opcodes[1]={type:5,min:65,max:90},e.rules[0].opcodes[2]={type:5,min:97,max:122},e.rules[1].opcodes=[],e.rules[1].opcodes[0]={type:1,children:[1,2]},e.rules[1].opcodes[1]={type:7,string:[48]},e.rules[1].opcodes[2]={type:7,string:[49]},e.rules[2].opcodes=[],e.rules[2].opcodes[0]={type:5,min:1,max:127},e.rules[3].opcodes=[],e.rules[3].opcodes[0]={type:6,string:[13]},e.rules[4].opcodes=[],e.rules[4].opcodes[0]={type:2,children:[1,2]},e.rules[4].opcodes[1]={type:4,index:3},e.rules[4].opcodes[2]={type:4,index:10},e.rules[5].opcodes=[],e.rules[5].opcodes[0]={type:1,children:[1,2]},e.rules[5].opcodes[1]={type:5,min:0,max:31},e.rules[5].opcodes[2]={type:6,string:[127]},e.rules[6].opcodes=[],e.rules[6].opcodes[0]={type:5,min:48,max:57},e.rules[7].opcodes=[],e.rules[7].opcodes[0]={type:6,string:[34]},e.rules[8].opcodes=[],e.rules[8].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[8].opcodes[1]={type:4,index:6},e.rules[8].opcodes[2]={type:7,string:[97]},e.rules[8].opcodes[3]={type:7,string:[98]},e.rules[8].opcodes[4]={type:7,string:[99]},e.rules[8].opcodes[5]={type:7,string:[100]},e.rules[8].opcodes[6]={type:7,string:[101]},e.rules[8].opcodes[7]={type:7,string:[102]},e.rules[9].opcodes=[],e.rules[9].opcodes[0]={type:6,string:[9]},e.rules[10].opcodes=[],e.rules[10].opcodes[0]={type:6,string:[10]},e.rules[11].opcodes=[],e.rules[11].opcodes[0]={type:3,min:0,max:1/0},e.rules[11].opcodes[1]={type:1,children:[2,3]},e.rules[11].opcodes[2]={type:4,index:15},e.rules[11].opcodes[3]={type:2,children:[4,5]},e.rules[11].opcodes[4]={type:4,index:4},e.rules[11].opcodes[5]={type:4,index:15},e.rules[12].opcodes=[],e.rules[12].opcodes[0]={type:5,min:0,max:255},e.rules[13].opcodes=[],e.rules[13].opcodes[0]={type:6,string:[32]},e.rules[14].opcodes=[],e.rules[14].opcodes[0]={type:5,min:33,max:126},e.rules[15].opcodes=[],e.rules[15].opcodes[0]={type:1,children:[1,2]},e.rules[15].opcodes[1]={type:4,index:13},e.rules[15].opcodes[2]={type:4,index:9},e.rules[16].opcodes=[],e.rules[16].opcodes[0]={type:3,min:4,max:4},e.rules[16].opcodes[1]={type:4,index:6},e.rules[17].opcodes=[],e.rules[17].opcodes[0]={type:3,min:2,max:2},e.rules[17].opcodes[1]={type:4,index:6},e.rules[18].opcodes=[],e.rules[18].opcodes[0]={type:3,min:2,max:2},e.rules[18].opcodes[1]={type:4,index:6},e.rules[19].opcodes=[],e.rules[19].opcodes[0]={type:3,min:2,max:2},e.rules[19].opcodes[1]={type:4,index:6},e.rules[20].opcodes=[],e.rules[20].opcodes[0]={type:3,min:2,max:2},e.rules[20].opcodes[1]={type:4,index:6},e.rules[21].opcodes=[],e.rules[21].opcodes[0]={type:3,min:2,max:2},e.rules[21].opcodes[1]={type:4,index:6},e.rules[22].opcodes=[],e.rules[22].opcodes[0]={type:2,children:[1,2]},e.rules[22].opcodes[1]={type:7,string:[46]},e.rules[22].opcodes[2]={type:3,min:1,max:1/0},e.rules[22].opcodes[3]={type:4,index:6},e.rules[23].opcodes=[],e.rules[23].opcodes[0]={type:2,children:[1,4,5,6]},e.rules[23].opcodes[1]={type:1,children:[2,3]},e.rules[23].opcodes[2]={type:7,string:[43]},e.rules[23].opcodes[3]={type:7,string:[45]},e.rules[23].opcodes[4]={type:4,index:19},e.rules[23].opcodes[5]={type:7,string:[58]},e.rules[23].opcodes[6]={type:4,index:20},e.rules[24].opcodes=[],e.rules[24].opcodes[0]={type:1,children:[1,2]},e.rules[24].opcodes[1]={type:7,string:[122]},e.rules[24].opcodes[2]={type:4,index:23},e.rules[25].opcodes=[],e.rules[25].opcodes[0]={type:2,children:[1,2,3,4,5,6]},e.rules[25].opcodes[1]={type:4,index:19},e.rules[25].opcodes[2]={type:7,string:[58]},e.rules[25].opcodes[3]={type:4,index:20},e.rules[25].opcodes[4]={type:7,string:[58]},e.rules[25].opcodes[5]={type:4,index:21},e.rules[25].opcodes[6]={type:3,min:0,max:1},e.rules[25].opcodes[7]={type:4,index:22},e.rules[26].opcodes=[],e.rules[26].opcodes[0]={type:2,children:[1,2,3,4,5]},e.rules[26].opcodes[1]={type:4,index:16},e.rules[26].opcodes[2]={type:7,string:[45]},e.rules[26].opcodes[3]={type:4,index:17},e.rules[26].opcodes[4]={type:7,string:[45]},e.rules[26].opcodes[5]={type:4,index:18},e.rules[27].opcodes=[],e.rules[27].opcodes[0]={type:2,children:[1,2]},e.rules[27].opcodes[1]={type:4,index:25},e.rules[27].opcodes[2]={type:4,index:24},e.rules[28].opcodes=[],e.rules[28].opcodes[0]={type:2,children:[1,2,3]},e.rules[28].opcodes[1]={type:4,index:26},e.rules[28].opcodes[2]={type:7,string:[116]},e.rules[28].opcodes[3]={type:4,index:27},e.rules[29].opcodes=[],e.rules[29].opcodes[0]={type:2,children:[1,2,3,4,8]},e.rules[29].opcodes[1]={type:4,index:35},e.rules[29].opcodes[2]={type:7,string:[58]},e.rules[29].opcodes[3]={type:4,index:30},e.rules[29].opcodes[4]={type:3,min:0,max:1},e.rules[29].opcodes[5]={type:2,children:[6,7]},e.rules[29].opcodes[6]={type:7,string:[63]},e.rules[29].opcodes[7]={type:4,index:58},e.rules[29].opcodes[8]={type:3,min:0,max:1},e.rules[29].opcodes[9]={type:2,children:[10,11]},e.rules[29].opcodes[10]={type:7,string:[35]},e.rules[29].opcodes[11]={type:4,index:59},e.rules[30].opcodes=[],e.rules[30].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[30].opcodes[1]={type:2,children:[2,3,4]},e.rules[30].opcodes[2]={type:7,string:[47,47]},e.rules[30].opcodes[3]={type:4,index:36},e.rules[30].opcodes[4]={type:4,index:49},e.rules[30].opcodes[5]={type:4,index:50},e.rules[30].opcodes[6]={type:4,index:52},e.rules[30].opcodes[7]={type:4,index:53},e.rules[31].opcodes=[],e.rules[31].opcodes[0]={type:1,children:[1,2]},e.rules[31].opcodes[1]={type:4,index:29},e.rules[31].opcodes[2]={type:4,index:33},e.rules[32].opcodes=[],e.rules[32].opcodes[0]={type:2,children:[1,2,3,4]},e.rules[32].opcodes[1]={type:4,index:35},e.rules[32].opcodes[2]={type:7,string:[58]},e.rules[32].opcodes[3]={type:4,index:30},e.rules[32].opcodes[4]={type:3,min:0,max:1},e.rules[32].opcodes[5]={type:2,children:[6,7]},e.rules[32].opcodes[6]={type:7,string:[63]},e.rules[32].opcodes[7]={type:4,index:58},e.rules[33].opcodes=[],e.rules[33].opcodes[0]={type:2,children:[1,2,6]},e.rules[33].opcodes[1]={type:4,index:34},e.rules[33].opcodes[2]={type:3,min:0,max:1},e.rules[33].opcodes[3]={type:2,children:[4,5]},e.rules[33].opcodes[4]={type:7,string:[63]},e.rules[33].opcodes[5]={type:4,index:58},e.rules[33].opcodes[6]={type:3,min:0,max:1},e.rules[33].opcodes[7]={type:2,children:[8,9]},e.rules[33].opcodes[8]={type:7,string:[35]},e.rules[33].opcodes[9]={type:4,index:59},e.rules[34].opcodes=[],e.rules[34].opcodes[0]={type:1,children:[1,5,6,7]},e.rules[34].opcodes[1]={type:2,children:[2,3,4]},e.rules[34].opcodes[2]={type:7,string:[47,47]},e.rules[34].opcodes[3]={type:4,index:36},e.rules[34].opcodes[4]={type:4,index:49},e.rules[34].opcodes[5]={type:4,index:50},e.rules[34].opcodes[6]={type:4,index:51},e.rules[34].opcodes[7]={type:4,index:53},e.rules[35].opcodes=[],e.rules[35].opcodes[0]={type:2,children:[1,2]},e.rules[35].opcodes[1]={type:4,index:0},e.rules[35].opcodes[2]={type:3,min:0,max:1/0},e.rules[35].opcodes[3]={type:1,children:[4,5,6,7,8]},e.rules[35].opcodes[4]={type:4,index:0},e.rules[35].opcodes[5]={type:4,index:6},e.rules[35].opcodes[6]={type:7,string:[43]},e.rules[35].opcodes[7]={type:7,string:[45]},e.rules[35].opcodes[8]={type:7,string:[46]},e.rules[36].opcodes=[],e.rules[36].opcodes[0]={type:2,children:[1,5,6]},e.rules[36].opcodes[1]={type:3,min:0,max:1},e.rules[36].opcodes[2]={type:2,children:[3,4]},e.rules[36].opcodes[3]={type:4,index:37},e.rules[36].opcodes[4]={type:7,string:[64]},e.rules[36].opcodes[5]={type:4,index:38},e.rules[36].opcodes[6]={type:3,min:0,max:1},e.rules[36].opcodes[7]={type:2,children:[8,9]},e.rules[36].opcodes[8]={type:7,string:[58]},e.rules[36].opcodes[9]={type:4,index:39},e.rules[37].opcodes=[],e.rules[37].opcodes[0]={type:3,min:0,max:1/0},e.rules[37].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[37].opcodes[2]={type:4,index:61},e.rules[37].opcodes[3]={type:4,index:60},e.rules[37].opcodes[4]={type:4,index:64},e.rules[37].opcodes[5]={type:7,string:[58]},e.rules[38].opcodes=[],e.rules[38].opcodes[0]={type:1,children:[1,2,3]},e.rules[38].opcodes[1]={type:4,index:40},e.rules[38].opcodes[2]={type:4,index:45},e.rules[38].opcodes[3]={type:4,index:47},e.rules[39].opcodes=[],e.rules[39].opcodes[0]={type:3,min:0,max:1/0},e.rules[39].opcodes[1]={type:4,index:6},e.rules[40].opcodes=[],e.rules[40].opcodes[0]={type:2,children:[1,2,5]},e.rules[40].opcodes[1]={type:7,string:[91]},e.rules[40].opcodes[2]={type:1,children:[3,4]},e.rules[40].opcodes[3]={type:4,index:42},e.rules[40].opcodes[4]={type:4,index:41},e.rules[40].opcodes[5]={type:7,string:[93]},e.rules[41].opcodes=[],e.rules[41].opcodes[0]={type:2,children:[1,2,4,5]},e.rules[41].opcodes[1]={type:7,string:[118]},e.rules[41].opcodes[2]={type:3,min:1,max:1/0},e.rules[41].opcodes[3]={type:4,index:8},e.rules[41].opcodes[4]={type:7,string:[46]},e.rules[41].opcodes[5]={type:3,min:1,max:1/0},e.rules[41].opcodes[6]={type:1,children:[7,8,9]},e.rules[41].opcodes[7]={type:4,index:61},e.rules[41].opcodes[8]={type:4,index:64},e.rules[41].opcodes[9]={type:7,string:[58]},e.rules[42].opcodes=[],e.rules[42].opcodes[0]={type:1,children:[1,7,14,23,37,51,63,73,83]},e.rules[42].opcodes[1]={type:2,children:[2,6]},e.rules[42].opcodes[2]={type:3,min:6,max:6},e.rules[42].opcodes[3]={type:2,children:[4,5]},e.rules[42].opcodes[4]={type:4,index:43},e.rules[42].opcodes[5]={type:7,string:[58]},e.rules[42].opcodes[6]={type:4,index:44},e.rules[42].opcodes[7]={type:2,children:[8,9,13]},e.rules[42].opcodes[8]={type:7,string:[58,58]},e.rules[42].opcodes[9]={type:3,min:5,max:5},e.rules[42].opcodes[10]={type:2,children:[11,12]},e.rules[42].opcodes[11]={type:4,index:43},e.rules[42].opcodes[12]={type:7,string:[58]},e.rules[42].opcodes[13]={type:4,index:44},e.rules[42].opcodes[14]={type:2,children:[15,17,18,22]},e.rules[42].opcodes[15]={type:3,min:0,max:1},e.rules[42].opcodes[16]={type:4,index:43},e.rules[42].opcodes[17]={type:7,string:[58,58]},e.rules[42].opcodes[18]={type:3,min:4,max:4},e.rules[42].opcodes[19]={type:2,children:[20,21]},e.rules[42].opcodes[20]={type:4,index:43},e.rules[42].opcodes[21]={type:7,string:[58]},e.rules[42].opcodes[22]={type:4,index:44},e.rules[42].opcodes[23]={type:2,children:[24,31,32,36]},e.rules[42].opcodes[24]={type:3,min:0,max:1},e.rules[42].opcodes[25]={type:2,children:[26,30]},e.rules[42].opcodes[26]={type:3,min:0,max:1},e.rules[42].opcodes[27]={type:2,children:[28,29]},e.rules[42].opcodes[28]={type:4,index:43},e.rules[42].opcodes[29]={type:7,string:[58]},e.rules[42].opcodes[30]={type:4,index:43},e.rules[42].opcodes[31]={type:7,string:[58,58]},e.rules[42].opcodes[32]={type:3,min:3,max:3},e.rules[42].opcodes[33]={type:2,children:[34,35]},e.rules[42].opcodes[34]={type:4,index:43},e.rules[42].opcodes[35]={type:7,string:[58]},e.rules[42].opcodes[36]={type:4,index:44},e.rules[42].opcodes[37]={type:2,children:[38,45,46,50]},e.rules[42].opcodes[38]={type:3,min:0,max:1},e.rules[42].opcodes[39]={type:2,children:[40,44]},e.rules[42].opcodes[40]={type:3,min:0,max:2},e.rules[42].opcodes[41]={type:2,children:[42,43]},e.rules[42].opcodes[42]={type:4,index:43},e.rules[42].opcodes[43]={type:7,string:[58]},e.rules[42].opcodes[44]={type:4,index:43},e.rules[42].opcodes[45]={type:7,string:[58,58]},e.rules[42].opcodes[46]={type:3,min:2,max:2},e.rules[42].opcodes[47]={type:2,children:[48,49]},e.rules[42].opcodes[48]={type:4,index:43},e.rules[42].opcodes[49]={type:7,string:[58]},e.rules[42].opcodes[50]={type:4,index:44},e.rules[42].opcodes[51]={type:2,children:[52,59,60,61,62]},e.rules[42].opcodes[52]={type:3,min:0,max:1},e.rules[42].opcodes[53]={type:2,children:[54,58]},e.rules[42].opcodes[54]={type:3,min:0,max:3},e.rules[42].opcodes[55]={type:2,children:[56,57]},e.rules[42].opcodes[56]={type:4,index:43},e.rules[42].opcodes[57]={type:7,string:[58]},e.rules[42].opcodes[58]={type:4,index:43},e.rules[42].opcodes[59]={type:7,string:[58,58]},e.rules[42].opcodes[60]={type:4,index:43},e.rules[42].opcodes[61]={type:7,string:[58]},e.rules[42].opcodes[62]={type:4,index:44},e.rules[42].opcodes[63]={type:2,children:[64,71,72]},e.rules[42].opcodes[64]={type:3,min:0,max:1},e.rules[42].opcodes[65]={type:2,children:[66,70]},e.rules[42].opcodes[66]={type:3,min:0,max:4},e.rules[42].opcodes[67]={type:2,children:[68,69]},e.rules[42].opcodes[68]={type:4,index:43},e.rules[42].opcodes[69]={type:7,string:[58]},e.rules[42].opcodes[70]={type:4,index:43},e.rules[42].opcodes[71]={type:7,string:[58,58]},e.rules[42].opcodes[72]={type:4,index:44},e.rules[42].opcodes[73]={type:2,children:[74,81,82]},e.rules[42].opcodes[74]={type:3,min:0,max:1},e.rules[42].opcodes[75]={type:2,children:[76,80]},e.rules[42].opcodes[76]={type:3,min:0,max:5},e.rules[42].opcodes[77]={type:2,children:[78,79]},e.rules[42].opcodes[78]={type:4,index:43},e.rules[42].opcodes[79]={type:7,string:[58]},e.rules[42].opcodes[80]={type:4,index:43},e.rules[42].opcodes[81]={type:7,string:[58,58]},e.rules[42].opcodes[82]={type:4,index:43},e.rules[42].opcodes[83]={type:2,children:[84,91]},e.rules[42].opcodes[84]={type:3,min:0,max:1},e.rules[42].opcodes[85]={type:2,children:[86,90]},e.rules[42].opcodes[86]={type:3,min:0,max:6},e.rules[42].opcodes[87]={type:2,children:[88,89]},e.rules[42].opcodes[88]={type:4,index:43},e.rules[42].opcodes[89]={type:7,string:[58]},e.rules[42].opcodes[90]={type:4,index:43},e.rules[42].opcodes[91]={type:7,string:[58,58]},e.rules[43].opcodes=[],e.rules[43].opcodes[0]={type:3,min:1,max:4},e.rules[43].opcodes[1]={type:4,index:8},e.rules[44].opcodes=[],e.rules[44].opcodes[0]={type:1,children:[1,5]},e.rules[44].opcodes[1]={type:2,children:[2,3,4]},e.rules[44].opcodes[2]={type:4,index:43},e.rules[44].opcodes[3]={type:7,string:[58]},e.rules[44].opcodes[4]={type:4,index:43},e.rules[44].opcodes[5]={type:4,index:45},e.rules[45].opcodes=[],e.rules[45].opcodes[0]={type:2,children:[1,2,3,4,5,6,7]},e.rules[45].opcodes[1]={type:4,index:46},e.rules[45].opcodes[2]={type:7,string:[46]},e.rules[45].opcodes[3]={type:4,index:46},e.rules[45].opcodes[4]={type:7,string:[46]},e.rules[45].opcodes[5]={type:4,index:46},e.rules[45].opcodes[6]={type:7,string:[46]},e.rules[45].opcodes[7]={type:4,index:46},e.rules[46].opcodes=[],e.rules[46].opcodes[0]={type:1,children:[1,2,5,9,13]},e.rules[46].opcodes[1]={type:4,index:6},e.rules[46].opcodes[2]={type:2,children:[3,4]},e.rules[46].opcodes[3]={type:5,min:49,max:57},e.rules[46].opcodes[4]={type:4,index:6},e.rules[46].opcodes[5]={type:2,children:[6,7]},e.rules[46].opcodes[6]={type:7,string:[49]},e.rules[46].opcodes[7]={type:3,min:2,max:2},e.rules[46].opcodes[8]={type:4,index:6},e.rules[46].opcodes[9]={type:2,children:[10,11,12]},e.rules[46].opcodes[10]={type:7,string:[50]},e.rules[46].opcodes[11]={type:5,min:48,max:52},e.rules[46].opcodes[12]={type:4,index:6},e.rules[46].opcodes[13]={type:2,children:[14,15]},e.rules[46].opcodes[14]={type:7,string:[50,53]},e.rules[46].opcodes[15]={type:5,min:48,max:53},e.rules[47].opcodes=[],e.rules[47].opcodes[0]={type:3,min:0,max:1/0},e.rules[47].opcodes[1]={type:1,children:[2,3,4]},e.rules[47].opcodes[2]={type:4,index:61},e.rules[47].opcodes[3]={type:4,index:60},e.rules[47].opcodes[4]={type:4,index:64},e.rules[48].opcodes=[],e.rules[48].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[48].opcodes[1]={type:4,index:49},e.rules[48].opcodes[2]={type:4,index:50},e.rules[48].opcodes[3]={type:4,index:51},e.rules[48].opcodes[4]={type:4,index:52},e.rules[48].opcodes[5]={type:4,index:53},e.rules[49].opcodes=[],e.rules[49].opcodes[0]={type:3,min:0,max:1/0},e.rules[49].opcodes[1]={type:2,children:[2,3]},e.rules[49].opcodes[2]={type:7,string:[47]},e.rules[49].opcodes[3]={type:4,index:54},e.rules[50].opcodes=[],e.rules[50].opcodes[0]={type:2,children:[1,2]},e.rules[50].opcodes[1]={type:7,string:[47]},e.rules[50].opcodes[2]={type:3,min:0,max:1},e.rules[50].opcodes[3]={type:2,children:[4,5]},e.rules[50].opcodes[4]={type:4,index:55},e.rules[50].opcodes[5]={type:3,min:0,max:1/0},e.rules[50].opcodes[6]={type:2,children:[7,8]},e.rules[50].opcodes[7]={type:7,string:[47]},e.rules[50].opcodes[8]={type:4,index:54},e.rules[51].opcodes=[],e.rules[51].opcodes[0]={type:2,children:[1,2]},e.rules[51].opcodes[1]={type:4,index:56},e.rules[51].opcodes[2]={type:3,min:0,max:1/0},e.rules[51].opcodes[3]={type:2,children:[4,5]},e.rules[51].opcodes[4]={type:7,string:[47]},e.rules[51].opcodes[5]={type:4,index:54},e.rules[52].opcodes=[],e.rules[52].opcodes[0]={type:2,children:[1,2]},e.rules[52].opcodes[1]={type:4,index:55},e.rules[52].opcodes[2]={type:3,min:0,max:1/0},e.rules[52].opcodes[3]={type:2,children:[4,5]},e.rules[52].opcodes[4]={type:7,string:[47]},e.rules[52].opcodes[5]={type:4,index:54},e.rules[53].opcodes=[],e.rules[53].opcodes[0]={type:3,min:0,max:0},e.rules[53].opcodes[1]={type:4,index:57},e.rules[54].opcodes=[],e.rules[54].opcodes[0]={type:3,min:0,max:1/0},e.rules[54].opcodes[1]={type:4,index:57},e.rules[55].opcodes=[],e.rules[55].opcodes[0]={type:3,min:1,max:1/0},e.rules[55].opcodes[1]={type:4,index:57},e.rules[56].opcodes=[],e.rules[56].opcodes[0]={type:3,min:1,max:1/0},e.rules[56].opcodes[1]={type:1,children:[2,3,4,5]},e.rules[56].opcodes[2]={type:4,index:61},e.rules[56].opcodes[3]={type:4,index:60},e.rules[56].opcodes[4]={type:4,index:64},e.rules[56].opcodes[5]={type:7,string:[64]},e.rules[57].opcodes=[],e.rules[57].opcodes[0]={type:1,children:[1,2,3,4,5]},e.rules[57].opcodes[1]={type:4,index:61},e.rules[57].opcodes[2]={type:4,index:60},e.rules[57].opcodes[3]={type:4,index:64},e.rules[57].opcodes[4]={type:7,string:[58]},e.rules[57].opcodes[5]={type:7,string:[64]},e.rules[58].opcodes=[],e.rules[58].opcodes[0]={type:3,min:0,max:1/0},e.rules[58].opcodes[1]={type:1,children:[2,3,4]},e.rules[58].opcodes[2]={type:4,index:57},e.rules[58].opcodes[3]={type:7,string:[47]},e.rules[58].opcodes[4]={type:7,string:[63]},e.rules[59].opcodes=[],e.rules[59].opcodes[0]={type:3,min:0,max:1/0},e.rules[59].opcodes[1]={type:1,children:[2,3,4]},e.rules[59].opcodes[2]={type:4,index:57},e.rules[59].opcodes[3]={type:7,string:[47]},e.rules[59].opcodes[4]={type:7,string:[63]},e.rules[60].opcodes=[],e.rules[60].opcodes[0]={type:2,children:[1,2,3]},e.rules[60].opcodes[1]={type:7,string:[37]},e.rules[60].opcodes[2]={type:4,index:8},e.rules[60].opcodes[3]={type:4,index:8},e.rules[61].opcodes=[],e.rules[61].opcodes[0]={type:1,children:[1,2,3,4,5,6]},e.rules[61].opcodes[1]={type:4,index:0},e.rules[61].opcodes[2]={type:4,index:6},e.rules[61].opcodes[3]={type:7,string:[45]},e.rules[61].opcodes[4]={type:7,string:[46]},e.rules[61].opcodes[5]={type:7,string:[95]},e.rules[61].opcodes[6]={type:7,string:[126]},e.rules[62].opcodes=[],e.rules[62].opcodes[0]={type:1,children:[1,2]},e.rules[62].opcodes[1]={type:4,index:63},e.rules[62].opcodes[2]={type:4,index:64},e.rules[63].opcodes=[],e.rules[63].opcodes[0]={type:1,children:[1,2,3,4,5,6,7]},e.rules[63].opcodes[1]={type:7,string:[58]},e.rules[63].opcodes[2]={type:7,string:[47]},e.rules[63].opcodes[3]={type:7,string:[63]},e.rules[63].opcodes[4]={type:7,string:[35]},e.rules[63].opcodes[5]={type:7,string:[91]},e.rules[63].opcodes[6]={type:7,string:[93]},e.rules[63].opcodes[7]={type:7,string:[64]},e.rules[64].opcodes=[],e.rules[64].opcodes[0]={type:1,children:[1,2,3,4,5,6,7,8,9,10,11]},e.rules[64].opcodes[1]={type:7,string:[33]},e.rules[64].opcodes[2]={type:7,string:[36]},e.rules[64].opcodes[3]={type:7,string:[38]},e.rules[64].opcodes[4]={type:7,string:[39]},e.rules[64].opcodes[5]={type:7,string:[40]},e.rules[64].opcodes[6]={type:7,string:[41]},e.rules[64].opcodes[7]={type:7,string:[42]},e.rules[64].opcodes[8]={type:7,string:[43]},e.rules[64].opcodes[9]={type:7,string:[44]},e.rules[64].opcodes[10]={type:7,string:[59]},e.rules[64].opcodes[11]={type:7,string:[61]},e.rules[65].opcodes=[],e.rules[65].opcodes[0]={type:2,children:[1,2,7,8]},e.rules[65].opcodes[1]={type:7,string:[100,110,115,58]},e.rules[65].opcodes[2]={type:3,min:0,max:1},e.rules[65].opcodes[3]={type:2,children:[4,5,6]},e.rules[65].opcodes[4]={type:7,string:[47,47]},e.rules[65].opcodes[5]={type:4,index:66},e.rules[65].opcodes[6]={type:7,string:[47]},e.rules[65].opcodes[7]={type:4,index:67},e.rules[65].opcodes[8]={type:3,min:0,max:1},e.rules[65].opcodes[9]={type:2,children:[10,11]},e.rules[65].opcodes[10]={type:7,string:[63]},e.rules[65].opcodes[11]={type:4,index:68},e.rules[66].opcodes=[],e.rules[66].opcodes[0]={type:2,children:[1,2]},e.rules[66].opcodes[1]={type:4,index:38},e.rules[66].opcodes[2]={type:3,min:0,max:1},e.rules[66].opcodes[3]={type:2,children:[4,5]},e.rules[66].opcodes[4]={type:7,string:[58]},e.rules[66].opcodes[5]={type:4,index:39},e.rules[67].opcodes=[],e.rules[67].opcodes[0]={type:3,min:0,max:1/0},e.rules[67].opcodes[1]={type:4,index:57},e.rules[68].opcodes=[],e.rules[68].opcodes[0]={type:2,children:[1,2]},e.rules[68].opcodes[1]={type:4,index:69},e.rules[68].opcodes[2]={type:3,min:0,max:1},e.rules[68].opcodes[3]={type:2,children:[4,5]},e.rules[68].opcodes[4]={type:7,string:[59]},e.rules[68].opcodes[5]={type:4,index:68},e.rules[69].opcodes=[],e.rules[69].opcodes[0]={type:1,children:[1,4]},e.rules[69].opcodes[1]={type:2,children:[2,3]},e.rules[69].opcodes[2]={type:7,string:[99,108,97,115,115,61]},e.rules[69].opcodes[3]={type:4,index:70},e.rules[69].opcodes[4]={type:2,children:[5,6]},e.rules[69].opcodes[5]={type:7,string:[116,121,112,101,61]},e.rules[69].opcodes[6]={type:4,index:71},e.rules[70].opcodes=[],e.rules[70].opcodes[0]={type:1,children:[1,3,4]},e.rules[70].opcodes[1]={type:3,min:1,max:1/0},e.rules[70].opcodes[2]={type:4,index:6},e.rules[70].opcodes[3]={type:7,string:[105,110]},e.rules[70].opcodes[4]={type:7,string:[99,104]},e.rules[71].opcodes=[],e.rules[71].opcodes[0]={type:1,children:[1,3,4,5]},e.rules[71].opcodes[1]={type:3,min:1,max:1/0},e.rules[71].opcodes[2]={type:4,index:6},e.rules[71].opcodes[3]={type:7,string:[97]},e.rules[71].opcodes[4]={type:7,string:[110,115]},e.rules[71].opcodes[5]={type:7,string:[109,100]},e.rules[72].opcodes=[],e.rules[72].opcodes[0]={type:1,children:[1,2]},e.rules[72].opcodes[1]={type:4,index:75},e.rules[72].opcodes[2]={type:4,index:78},e.rules[73].opcodes=[],e.rules[73].opcodes[0]={type:6,string:[101,105,112,49,53,53]},e.rules[74].opcodes=[],e.rules[74].opcodes[0]={type:3,min:1,max:32},e.rules[74].opcodes[1]={type:4,index:6},e.rules[75].opcodes=[],e.rules[75].opcodes[0]={type:2,children:[1,2,3]},e.rules[75].opcodes[1]={type:4,index:73},e.rules[75].opcodes[2]={type:7,string:[58]},e.rules[75].opcodes[3]={type:4,index:74},e.rules[76].opcodes=[],e.rules[76].opcodes[0]={type:6,string:[115,111,108,97,110,97]},e.rules[77].opcodes=[],e.rules[77].opcodes[0]={type:1,children:[1,2,3,4]},e.rules[77].opcodes[1]={type:6,string:[109,97,105,110,110,101,116]},e.rules[77].opcodes[2]={type:6,string:[116,101,115,116,110,101,116]},e.rules[77].opcodes[3]={type:6,string:[100,101,118,110,101,116]},e.rules[77].opcodes[4]={type:6,string:[108,111,99,97,108,110,101,116]},e.rules[78].opcodes=[],e.rules[78].opcodes[0]={type:2,children:[1,2,3]},e.rules[78].opcodes[1]={type:4,index:76},e.rules[78].opcodes[2]={type:7,string:[58]},e.rules[78].opcodes[3]={type:4,index:77},e.rules[79].opcodes=[],e.rules[79].opcodes[0]={type:1,children:[1,2]},e.rules[79].opcodes[1]={type:4,index:81},e.rules[79].opcodes[2]={type:4,index:83},e.rules[80].opcodes=[],e.rules[80].opcodes[0]={type:2,children:[1,2]},e.rules[80].opcodes[1]={type:7,string:[48,120]},e.rules[80].opcodes[2]={type:3,min:40,max:40},e.rules[80].opcodes[3]={type:4,index:8},e.rules[81].opcodes=[],e.rules[81].opcodes[0]={type:2,children:[1,2,3]},e.rules[81].opcodes[1]={type:4,index:75},e.rules[81].opcodes[2]={type:7,string:[58]},e.rules[81].opcodes[3]={type:4,index:80},e.rules[82].opcodes=[],e.rules[82].opcodes[0]={type:3,min:32,max:44},e.rules[82].opcodes[1]={type:1,children:[2,3,4,5,6,7]},e.rules[82].opcodes[2]={type:5,min:49,max:57},e.rules[82].opcodes[3]={type:5,min:65,max:72},e.rules[82].opcodes[4]={type:5,min:74,max:78},e.rules[82].opcodes[5]={type:5,min:80,max:90},e.rules[82].opcodes[6]={type:5,min:97,max:107},e.rules[82].opcodes[7]={type:5,min:109,max:122},e.rules[83].opcodes=[],e.rules[83].opcodes[0]={type:2,children:[1,2,3]},e.rules[83].opcodes[1]={type:4,index:78},e.rules[83].opcodes[2]={type:7,string:[58]},e.rules[83].opcodes[3]={type:4,index:82},e.rules[84].opcodes=[],e.rules[84].opcodes[0]={type:1,children:[1,2]},e.rules[84].opcodes[1]={type:4,index:85},e.rules[84].opcodes[2]={type:4,index:86},e.rules[85].opcodes=[],e.rules[85].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},e.rules[85].opcodes[1]={type:4,index:87},e.rules[85].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,69,116,104,101,114,101,117,109,32,97,99,99,111,117,110,116,58]},e.rules[85].opcodes[3]={type:4,index:10},e.rules[85].opcodes[4]={type:4,index:81},e.rules[85].opcodes[5]={type:4,index:10},e.rules[85].opcodes[6]={type:4,index:10},e.rules[85].opcodes[7]={type:3,min:0,max:1},e.rules[85].opcodes[8]={type:2,children:[9,10]},e.rules[85].opcodes[9]={type:4,index:89},e.rules[85].opcodes[10]={type:4,index:10},e.rules[85].opcodes[11]={type:4,index:10},e.rules[85].opcodes[12]={type:6,string:[85,82,73,58,32]},e.rules[85].opcodes[13]={type:4,index:90},e.rules[85].opcodes[14]={type:4,index:10},e.rules[85].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[85].opcodes[16]={type:4,index:91},e.rules[85].opcodes[17]={type:4,index:10},e.rules[85].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[85].opcodes[19]={type:4,index:75},e.rules[85].opcodes[20]={type:4,index:10},e.rules[85].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},e.rules[85].opcodes[22]={type:4,index:93},e.rules[85].opcodes[23]={type:4,index:10},e.rules[85].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[85].opcodes[25]={type:4,index:94},e.rules[85].opcodes[26]={type:3,min:0,max:1},e.rules[85].opcodes[27]={type:2,children:[28,29,30]},e.rules[85].opcodes[28]={type:4,index:10},e.rules[85].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[85].opcodes[30]={type:4,index:95},e.rules[85].opcodes[31]={type:3,min:0,max:1},e.rules[85].opcodes[32]={type:2,children:[33,34,35]},e.rules[85].opcodes[33]={type:4,index:10},e.rules[85].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[85].opcodes[35]={type:4,index:96},e.rules[85].opcodes[36]={type:3,min:0,max:1},e.rules[85].opcodes[37]={type:2,children:[38,39,40]},e.rules[85].opcodes[38]={type:4,index:10},e.rules[85].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[85].opcodes[40]={type:4,index:97},e.rules[85].opcodes[41]={type:3,min:0,max:1},e.rules[85].opcodes[42]={type:2,children:[43,44,45]},e.rules[85].opcodes[43]={type:4,index:10},e.rules[85].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[85].opcodes[45]={type:4,index:98},e.rules[86].opcodes=[],e.rules[86].opcodes[0]={type:2,children:[1,2,3,4,5,6,7,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,31,36,41]},e.rules[86].opcodes[1]={type:4,index:87},e.rules[86].opcodes[2]={type:6,string:[32,119,97,110,116,115,32,121,111,117,32,116,111,32,115,105,103,110,32,105,110,32,119,105,116,104,32,121,111,117,114,32,83,111,108,97,110,97,32,97,99,99,111,117,110,116,58]},e.rules[86].opcodes[3]={type:4,index:10},e.rules[86].opcodes[4]={type:4,index:83},e.rules[86].opcodes[5]={type:4,index:10},e.rules[86].opcodes[6]={type:4,index:10},e.rules[86].opcodes[7]={type:3,min:0,max:1},e.rules[86].opcodes[8]={type:2,children:[9,10]},e.rules[86].opcodes[9]={type:4,index:89},e.rules[86].opcodes[10]={type:4,index:10},e.rules[86].opcodes[11]={type:4,index:10},e.rules[86].opcodes[12]={type:6,string:[85,82,73,58,32]},e.rules[86].opcodes[13]={type:4,index:90},e.rules[86].opcodes[14]={type:4,index:10},e.rules[86].opcodes[15]={type:6,string:[86,101,114,115,105,111,110,58,32]},e.rules[86].opcodes[16]={type:4,index:91},e.rules[86].opcodes[17]={type:4,index:10},e.rules[86].opcodes[18]={type:6,string:[67,104,97,105,110,32,73,68,58,32]},e.rules[86].opcodes[19]={type:4,index:78},e.rules[86].opcodes[20]={type:4,index:10},e.rules[86].opcodes[21]={type:6,string:[78,111,110,99,101,58,32]},e.rules[86].opcodes[22]={type:4,index:93},e.rules[86].opcodes[23]={type:4,index:10},e.rules[86].opcodes[24]={type:6,string:[73,115,115,117,101,100,32,65,116,58,32]},e.rules[86].opcodes[25]={type:4,index:94},e.rules[86].opcodes[26]={type:3,min:0,max:1},e.rules[86].opcodes[27]={type:2,children:[28,29,30]},e.rules[86].opcodes[28]={type:4,index:10},e.rules[86].opcodes[29]={type:6,string:[69,120,112,105,114,97,116,105,111,110,32,84,105,109,101,58,32]},e.rules[86].opcodes[30]={type:4,index:95},e.rules[86].opcodes[31]={type:3,min:0,max:1},e.rules[86].opcodes[32]={type:2,children:[33,34,35]},e.rules[86].opcodes[33]={type:4,index:10},e.rules[86].opcodes[34]={type:6,string:[78,111,116,32,66,101,102,111,114,101,58,32]},e.rules[86].opcodes[35]={type:4,index:96},e.rules[86].opcodes[36]={type:3,min:0,max:1},e.rules[86].opcodes[37]={type:2,children:[38,39,40]},e.rules[86].opcodes[38]={type:4,index:10},e.rules[86].opcodes[39]={type:6,string:[82,101,113,117,101,115,116,32,73,68,58,32]},e.rules[86].opcodes[40]={type:4,index:97},e.rules[86].opcodes[41]={type:3,min:0,max:1},e.rules[86].opcodes[42]={type:2,children:[43,44,45]},e.rules[86].opcodes[43]={type:4,index:10},e.rules[86].opcodes[44]={type:6,string:[82,101,115,111,117,114,99,101,115,58]},e.rules[86].opcodes[45]={type:4,index:98},e.rules[87].opcodes=[],e.rules[87].opcodes[0]={type:4,index:66},e.rules[88].opcodes=[],e.rules[88].opcodes[0]={type:1,children:[1,2]},e.rules[88].opcodes[1]={type:4,index:81},e.rules[88].opcodes[2]={type:4,index:83},e.rules[89].opcodes=[],e.rules[89].opcodes[0]={type:3,min:1,max:1/0},e.rules[89].opcodes[1]={type:1,children:[2,3,4]},e.rules[89].opcodes[2]={type:4,index:62},e.rules[89].opcodes[3]={type:4,index:61},e.rules[89].opcodes[4]={type:7,string:[32]},e.rules[90].opcodes=[],e.rules[90].opcodes[0]={type:4,index:29},e.rules[91].opcodes=[],e.rules[91].opcodes[0]={type:7,string:[49]},e.rules[92].opcodes=[],e.rules[92].opcodes[0]={type:1,children:[1,2]},e.rules[92].opcodes[1]={type:4,index:75},e.rules[92].opcodes[2]={type:4,index:78},e.rules[93].opcodes=[],e.rules[93].opcodes[0]={type:3,min:8,max:1/0},e.rules[93].opcodes[1]={type:1,children:[2,3]},e.rules[93].opcodes[2]={type:4,index:0},e.rules[93].opcodes[3]={type:4,index:6},e.rules[94].opcodes=[],e.rules[94].opcodes[0]={type:4,index:28},e.rules[95].opcodes=[],e.rules[95].opcodes[0]={type:4,index:28},e.rules[96].opcodes=[],e.rules[96].opcodes[0]={type:4,index:28},e.rules[97].opcodes=[],e.rules[97].opcodes[0]={type:3,min:0,max:1/0},e.rules[97].opcodes[1]={type:4,index:57},e.rules[98].opcodes=[],e.rules[98].opcodes[0]={type:3,min:0,max:1/0},e.rules[98].opcodes[1]={type:2,children:[2,3,4]},e.rules[98].opcodes[2]={type:4,index:10},e.rules[98].opcodes[3]={type:7,string:[45,32]},e.rules[98].opcodes[4]={type:4,index:29},e.toString=()=>{let t="";return t+=`; ==============================================================================
`,t+=`; Core rules for ABNF (RFC 5234)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; References:
`,t+=`; - https://www.rfc-editor.org/rfc/rfc5234#appendix-B.1
`,t+=`
`,t+=`ALPHA          =  %x41-5A / %x61-7A
`,t+=`               ; A-Z / a-z
`,t+=`
`,t+=`BIT            =  "0" / "1"
`,t+=`
`,t+=`CHAR           =  %x01-7F
`,t+=`               ; any 7-bit US-ASCII character,
`,t+=`               ;  excluding NUL
`,t+=`
`,t+=`CR             =  %x0D
`,t+=`               ; carriage return
`,t+=`
`,t+=`CRLF           =  CR LF
`,t+=`               ; Internet standard newline
`,t+=`
`,t+=`CTL            =  %x00-1F / %x7F
`,t+=`               ; controls
`,t+=`
`,t+=`DIGIT          =  %x30-39
`,t+=`               ; 0-9
`,t+=`
`,t+=`DQUOTE         =  %x22
`,t+=`               ; " (Double Quote)
`,t+=`
`,t+=`HEXDIG         =  DIGIT / "A" / "B" / "C" / "D" / "E" / "F"
`,t+=`
`,t+=`HTAB           =  %x09
`,t+=`               ; horizontal tab
`,t+=`
`,t+=`LF             =  %x0A
`,t+=`               ; linefeed
`,t+=`
`,t+=`LWSP           =  *(WSP / CRLF WSP)
`,t+=`               ; Use of this linear-white-space rule
`,t+=`               ;  permits lines containing only white
`,t+=`               ;  space that are no longer legal in
`,t+=`               ;  mail headers and have caused
`,t+=`               ;  interoperability problems in other
`,t+=`               ;  contexts.
`,t+=`               ; Do not use when defining mail
`,t+=`               ;  headers and use with caution in
`,t+=`               ;  other contexts.
`,t+=`
`,t+=`OCTET          =  %x00-FF
`,t+=`               ; 8 bits of data
`,t+=`
`,t+=`SP             =  %x20
`,t+=`
`,t+=`VCHAR          =  %x21-7E
`,t+=`               ; visible (printing) characters
`,t+=`
`,t+=`WSP            =  SP / HTAB
`,t+=`               ; white space
`,t+=`; ==============================================================================
`,t+=`; Internet Date/Time Format (RFC 3339)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://www.rfc-editor.org/rfc/rfc3339#section-5.6
`,t+=`
`,t+=`date-fullyear   = 4DIGIT
`,t+=`
`,t+=`date-month      = 2DIGIT  ; 01-12
`,t+=`
`,t+=`date-mday       = 2DIGIT  ; 01-28, 01-29, 01-30, 01-31 based on
`,t+=`                          ; month/year
`,t+=`
`,t+=`time-hour       = 2DIGIT  ; 00-23
`,t+=`
`,t+=`time-minute     = 2DIGIT  ; 00-59
`,t+=`
`,t+=`time-second     = 2DIGIT  ; 00-58, 00-59, 00-60 based on leap second
`,t+=`                          ; rules
`,t+=`
`,t+=`time-secfrac    = "." 1*DIGIT
`,t+=`
`,t+=`time-numoffset  = ("+" / "-") time-hour ":" time-minute
`,t+=`
`,t+=`time-offset     = "Z" / time-numoffset
`,t+=`
`,t+=`partial-time    = time-hour ":" time-minute ":" time-second
`,t+=`                  [time-secfrac]
`,t+=`
`,t+=`full-date       = date-fullyear "-" date-month "-" date-mday
`,t+=`
`,t+=`full-time       = partial-time time-offset
`,t+=`
`,t+=`date-time       = full-date "T" full-time
`,t+=`; ==============================================================================
`,t+=`; Uniform Resource Identifier (RFC 3986)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://www.rfc-editor.org/rfc/rfc3986#appendix-A
`,t+=`
`,t+=`URI           = scheme ":" hier-part [ "?" query ] [ "#" fragment ]
`,t+=`
`,t+=`hier-part     = "//" authority path-abempty
`,t+=`              / path-absolute
`,t+=`              / path-rootless
`,t+=`              / path-empty
`,t+=`
`,t+=`URI-reference = URI / relative-ref
`,t+=`
`,t+=`absolute-URI  = scheme ":" hier-part [ "?" query ]
`,t+=`
`,t+=`relative-ref  = relative-part [ "?" query ] [ "#" fragment ]
`,t+=`
`,t+=`relative-part = "//" authority path-abempty
`,t+=`              / path-absolute
`,t+=`              / path-noscheme
`,t+=`              / path-empty
`,t+=`
`,t+=`scheme        = ALPHA *( ALPHA / DIGIT / "+" / "-" / "." )
`,t+=`
`,t+=`authority     = [ userinfo "@" ] host [ ":" port ]
`,t+=`userinfo      = *( unreserved / pct-encoded / sub-delims / ":" )
`,t+=`host          = IP-literal / IPv4address / reg-name
`,t+=`port          = *DIGIT
`,t+=`
`,t+=`IP-literal    = "[" ( IPv6address / IPvFuture  ) "]"
`,t+=`
`,t+=`IPvFuture     = "v" 1*HEXDIG "." 1*( unreserved / sub-delims / ":" )
`,t+=`
`,t+=`IPv6address   =                            6( h16 ":" ) ls32
`,t+=`              /                       "::" 5( h16 ":" ) ls32
`,t+=`              / [               h16 ] "::" 4( h16 ":" ) ls32
`,t+=`              / [ *1( h16 ":" ) h16 ] "::" 3( h16 ":" ) ls32
`,t+=`              / [ *2( h16 ":" ) h16 ] "::" 2( h16 ":" ) ls32
`,t+=`              / [ *3( h16 ":" ) h16 ] "::"    h16 ":"   ls32
`,t+=`              / [ *4( h16 ":" ) h16 ] "::"              ls32
`,t+=`              / [ *5( h16 ":" ) h16 ] "::"              h16
`,t+=`              / [ *6( h16 ":" ) h16 ] "::"
`,t+=`
`,t+=`h16           = 1*4HEXDIG
`,t+=`ls32          = ( h16 ":" h16 ) / IPv4address
`,t+=`IPv4address   = dec-octet "." dec-octet "." dec-octet "." dec-octet
`,t+=`dec-octet     = DIGIT                 ; 0-9
`,t+=`              / %x31-39 DIGIT         ; 10-99
`,t+=`              / "1" 2DIGIT            ; 100-199
`,t+=`              / "2" %x30-34 DIGIT     ; 200-249
`,t+=`              / "25" %x30-35          ; 250-255
`,t+=`
`,t+=`reg-name      = *( unreserved / pct-encoded / sub-delims )
`,t+=`
`,t+=`path          = path-abempty    ; begins with "/" or is empty
`,t+=`              / path-absolute   ; begins with "/" but not "//"
`,t+=`              / path-noscheme   ; begins with a non-colon segment
`,t+=`              / path-rootless   ; begins with a segment
`,t+=`              / path-empty      ; zero characters
`,t+=`
`,t+=`path-abempty  = *( "/" segment )
`,t+=`path-absolute = "/" [ segment-nz *( "/" segment ) ]
`,t+=`path-noscheme = segment-nz-nc *( "/" segment )
`,t+=`path-rootless = segment-nz *( "/" segment )
`,t+=`path-empty    = 0pchar
`,t+=`
`,t+=`segment       = *pchar
`,t+=`segment-nz    = 1*pchar
`,t+=`segment-nz-nc = 1*( unreserved / pct-encoded / sub-delims / "@" )
`,t+=`; non-zero-length segment without any colon ":"
`,t+=`
`,t+=`pchar         = unreserved / pct-encoded / sub-delims / ":" / "@"
`,t+=`
`,t+=`query         = *( pchar / "/" / "?" )
`,t+=`
`,t+=`fragment      = *( pchar / "/" / "?" )
`,t+=`
`,t+=`pct-encoded   = "%" HEXDIG HEXDIG
`,t+=`
`,t+=`unreserved    = ALPHA / DIGIT / "-" / "." / "_" / "~"
`,t+=`reserved      = gen-delims / sub-delims
`,t+=`gen-delims    = ":" / "/" / "?" / "#" / "[" / "]" / "@"
`,t+=`sub-delims    = "!" / "$" / "&" / "'" / "(" / ")"
`,t+=`              / "*" / "+" / "," / ";" / "="
`,t+=`; ==============================================================================
`,t+=`; DNS URI (RFC 4501)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`; - uri.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://www.rfc-editor.org/rfc/rfc4501.html#section-3
`,t+=`;
`,t+=`; Note:
`,t+=`; dnsclassval and dnstypeval are not defined exhaustively
`,t+=`; but their definitions are unused in SIW grammars.
`,t+=`
`,t+=`
`,t+=`dnsurl          = "dns:" [ "//" dnsauthority "/" ]
`,t+=`                  dnsname ["?" dnsquery]
`,t+=`
`,t+=`dnsauthority    = host [ ":" port ]
`,t+=`                ; See RFC 3986 for the
`,t+=`                ; definition of "host" and "port".
`,t+=`
`,t+=`dnsname         = *pchar
`,t+=`                ; See RFC 3986 for the
`,t+=`                ; definition of "pchar".
`,t+=`
`,t+=`                ; The "dnsname" field may be a
`,t+=`                ; "relative" or "absolute" name,
`,t+=`                ; as per RFC 1034, section 3.1.
`,t+=`
`,t+=`                ; Note further that an empty
`,t+=`                ; "dnsname" value is to be
`,t+=`                ; interpreted as the root itself.
`,t+=`                ; See below on relative dnsnames.
`,t+=`
`,t+=`dnsquery        = dnsqueryelement [";" dnsquery]
`,t+=`
`,t+=`dnsqueryelement = ( "CLASS=" dnsclassval ) / ( "TYPE=" dnstypeval )
`,t+=`                ; Each clause MUST NOT be used more
`,t+=`                ; than once.
`,t+=`
`,t+=`dnsclassval     = 1*digit / "IN" / "CH"
`,t+=`                ; omitted:
`,t+=`                ; / <Any IANA registered DNS class mnemonic>
`,t+=`
`,t+=`dnstypeval      = 1*digit / "A" / "NS" / "MD"
`,t+=`                ; omitted:
`,t+=`                ; / <Any IANA registered DNS type mnemonic>
`,t+=`; ==============================================================================
`,t+=`; Chain-agnostic IDs (CAIP-2)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax
`,t+=`
`,t+=`chain-id        = eth-chain-id
`,t+=`                / sol-chain-id
`,t+=`                ; NOTE: Only Ethereum and Solana are supported at the moment
`,t+=`
`,t+=`
`,t+=`; Ethereum
`,t+=`; ------------------------------------------------------------------------------
`,t+=`
`,t+=`eth-namespace   = %s"eip155"
`,t+=`                ; The chain-id namespace for evm chains
`,t+=`
`,t+=`eth-network-id  = 1*32DIGIT
`,t+=`                ; Accept up to 32 digits. Could probably be lowered
`,t+=`
`,t+=`eth-chain-id    = eth-namespace ":" eth-network-id
`,t+=`                ; Examples:
`,t+=`                ; - eip155:1   (eth mainnet)
`,t+=`                ; - eip155:137 (polygon mainnet)
`,t+=`
`,t+=`; Solana
`,t+=`; ------------------------------------------------------------------------------
`,t+=`
`,t+=`sol-namespace   = %s"solana"
`,t+=`                ; The chain-id namespace for solana
`,t+=`
`,t+=`sol-network-id  = %s"mainnet" / %s"testnet" / %s"devnet" / %s"localnet"
`,t+=`                ; This enumeration comes from https://github.com/solana-labs/wallet-standard/blob/master/packages/core/chains/src/index.ts
`,t+=`
`,t+=`sol-chain-id    = sol-namespace ":" sol-network-id
`,t+=`                ; Examples:
`,t+=`                ; - solana:mainnet (solana mainnet)
`,t+=`                ; - solana:testnet (solana testnet)
`,t+=`; ==============================================================================
`,t+=`; Chain-agnostic account identifiers (CAIP-10)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`; - chain-id.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax
`,t+=`
`,t+=`account-id      = eth-account-id
`,t+=`                / sol-account-id
`,t+=`                ; NOTE: Only Ethereum and Solana are supported at the moment
`,t+=`
`,t+=`; Ethereum
`,t+=`; ------------------------------------------------------------------------------
`,t+=`
`,t+=`eth-address     = "0x" 40HEXDIG
`,t+=`                ; Must also conform to captilization
`,t+=`                ; checksum encoding specified in EIP-55
`,t+=`                ; where applicable (EOAs).
`,t+=`
`,t+=`eth-account-id  = eth-chain-id ":" eth-address
`,t+=`                ; See CAIP-2 for definition of "eth-chain-id"
`,t+=`                ; Examples:
`,t+=`                ; - eip155:1:0xb9c5714089478a327f09197987f16f9e5d936e8a   (eth mainnet)
`,t+=`                ; - eip155:137:0xb9c5714089478a327f09197987f16f9e5d936e8a (polygon mainnet)
`,t+=`
`,t+=`; Solana
`,t+=`; ------------------------------------------------------------------------------
`,t+=`
`,t+=`sol-address     = 32*44( %x31-39 / %x41-48 / %x4A-4E / %x50-5A / %x61-6B / %x6D-7A )
`,t+=`                ; Valid Solana addresses are 32-44 base58-encoded chars: 1-9 / A-H / J-N / P-Z / a-k / m-z
`,t+=`                ; Note: this doesn't validate whether the address is "on the curve"
`,t+=`
`,t+=`sol-account-id  = sol-chain-id ":" sol-address
`,t+=`                ; See CAIP-2 for definition of "sol-chain-id"
`,t+=`                ; Examples:
`,t+=`                ; - solana:mainnet:FYpB58cLw5cwiN763ayB2sFT8HLF2MRUBbbyRgHYiRpK (solana mainnet)
`,t+=`                ; - solana:testnet:QhnBSSbjScn9VHBBqwosy99icpeJrW4iuEwkJ3d9Fn9  (solana testnet)
`,t+=`; ==============================================================================
`,t+=`; Sign in with X (CAIP-122)
`,t+=`; ==============================================================================
`,t+=`;
`,t+=`; Requires:
`,t+=`; - core.bnf
`,t+=`; - datetime.bnf
`,t+=`; - uri.bnf
`,t+=`; - dns.bnf
`,t+=`; - chain-id.bnf
`,t+=`; - account-id.bnf
`,t+=`;
`,t+=`; References:
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-2.md#syntax
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-10.md#syntax
`,t+=`; - https://github.com/ChainAgnostic/CAIPs/blob/master/CAIPs/caip-122.md
`,t+=`;
`,t+=`; Note:
`,t+=`; Currently, this grammar file only supports the Ethereum and Solana blockchains
`,t+=`
`,t+=`sign-in-with-x = sign-in-with-eth
`,t+=`               / sign-in-with-sol
`,t+=`
`,t+=`; Ethereum
`,t+=`;-----------------------------------------------------------------------------
`,t+=`
`,t+=`sign-in-with-eth =
`,t+=`  message-domain %s" wants you to sign in with your Ethereum account:" LF
`,t+=`  eth-account-id LF
`,t+=`  LF
`,t+=`  [ message-statement LF ]
`,t+=`  LF
`,t+=`  %s"URI: " message-uri LF
`,t+=`  %s"Version: " message-version LF
`,t+=`  %s"Chain ID: " eth-chain-id LF
`,t+=`  %s"Nonce: " message-nonce LF
`,t+=`  %s"Issued At: " message-issued-at
`,t+=`  [ LF %s"Expiration Time: " message-expiration-time ]
`,t+=`  [ LF %s"Not Before: " message-not-before ]
`,t+=`  [ LF %s"Request ID: " message-request-id ]
`,t+=`  [ LF %s"Resources:" message-resources ]
`,t+=`
`,t+=`; Solana
`,t+=`;-----------------------------------------------------------------------------
`,t+=`
`,t+=`sign-in-with-sol =
`,t+=`  message-domain %s" wants you to sign in with your Solana account:" LF
`,t+=`  sol-account-id LF
`,t+=`  LF
`,t+=`  [ message-statement LF ]
`,t+=`  LF
`,t+=`  %s"URI: " message-uri LF
`,t+=`  %s"Version: " message-version LF
`,t+=`  %s"Chain ID: " sol-chain-id LF
`,t+=`  %s"Nonce: " message-nonce LF
`,t+=`  %s"Issued At: " message-issued-at
`,t+=`  [ LF %s"Expiration Time: " message-expiration-time ]
`,t+=`  [ LF %s"Not Before: " message-not-before ]
`,t+=`  [ LF %s"Request ID: " message-request-id ]
`,t+=`  [ LF %s"Resources:" message-resources ]
`,t+=`
`,t+=`; Common
`,t+=`;-----------------------------------------------------------------------------
`,t+=`
`,t+=`message-domain          = dnsauthority ; CAIP-10 spec defines domain as dnsauthority unlike EIP-4361, which uses authority
`,t+=`message-address         = eth-account-id / sol-account-id ; See CAIP-10 for address identifier definition
`,t+=`message-statement       = 1*( reserved / unreserved / " " )
`,t+=`message-uri             = URI
`,t+=`message-version         = "1"
`,t+=`message-chain-id        = eth-chain-id / sol-chain-id
`,t+=`message-nonce           = 8*( ALPHA / DIGIT )
`,t+=`message-issued-at       = date-time
`,t+=`message-expiration-time = date-time
`,t+=`message-not-before      = date-time
`,t+=`message-request-id      = *pchar
`,t+=`message-resources       = *( LF "- " URI )
`,t},e}c();p();var it=(e,t)=>(r,n,s,o,i)=>(r===200&&(i[e]=t(n,s,o,i)),300);var{apgLib:cn}=globalThis;function Jn(e,t){let r=new cn.parser;r.stats=new cn.stats,r.trace=new cn.trace,r.ast=new cn.ast;let n=cn.utils.charsToString,s=(x,g,f)=>new Date(n(x,g,f)),o=(x,g,f)=>new URL(n(x,g,f));r.ast.callbacks["message-domain"]=it("domain",n),r.ast.callbacks["message-address"]=it("address",n),r.ast.callbacks["message-statement"]=it("statement",n),r.ast.callbacks["message-uri"]=it("uri",o),r.ast.callbacks["message-version"]=it("version",n),r.ast.callbacks["message-chain-id"]=it("chainId",n),r.ast.callbacks["message-nonce"]=it("nonce",n),r.ast.callbacks["message-issued-at"]=it("issuedAt",s),r.ast.callbacks["message-expiration-time"]=it("expirationTime",s),r.ast.callbacks["message-not-before"]=it("notBefore",s),r.ast.callbacks["message-request-id"]=it("requestId",n),r.ast.callbacks["message-resources"]=it("resources",(x,g,f)=>f?n(x,g,f).slice(3).split(`
- `).map(R=>new URL(R)):[]),e==="sign-in-with-x"&&(r.ast.callbacks["eth-account-id"]=r.ast.callbacks["message-address"],r.ast.callbacks["eth-chain-id"]=r.ast.callbacks["message-chain-id"],r.ast.callbacks["sol-account-id"]=r.ast.callbacks["message-address"],r.ast.callbacks["sol-chain-id"]=r.ast.callbacks["message-chain-id"]);let i=null;switch(e){case"sign-in-with-ethereum":i=ea;break;case"sign-in-with-solana":i=ta;break;case"sign-in-with-x":i=ra;break}if(!i)throw new Error(`Could not find grammar for ${e}`);let l=i(),u=r.parse(l,e,t);if(!u.success){let g=u.maxMatched+1,f=t.slice(0,g),R=f.split(`
`),w=R[R.length-1].length-1,S=[f,w>-1?" ".repeat(w)+"^":"^"].join(`
`);return{success:!1,error:new Error(S)}}let h={type:e};return r.ast.translate(h),{success:!0,data:h}}c();p();c();p();var na={ADDRESS_MISMATCH:"address",DOMAIN_MISMATCH:"domain",URI_MISMATCH:"uri",CHAIN_ID_MISMATCH:"chainId",ISSUED_TOO_FAR_IN_THE_PAST:"issuedAt",ISSUED_TOO_FAR_IN_THE_FUTURE:"issuedAt",EXPIRED:"expirationTime",EXPIRES_BEFORE_ISSUANCE:"expirationTime",VALID_AFTER_EXPIRATION:"notBefore"};var pn=re(Tt()),Ul={eth:{hexToCAIP2:e=>`eip155:${parseInt(e,16)}`,getBufferedGasLimit(e){return"0x"+new Rr(jc(new Rr(e))).toString(16)}},sol:{chainIdToCAIP2:Ze,chainIdToCluster:Ac,serializeSolanaSignInMessage(e,{expectedChainId:t,expectedAddress:r,expectedURL:n}){let s=e.domain||n.host,o=e.address||r,i=`${s} wants you to sign in with your Solana account:
`;i+=`${o}`,e.statement&&(i+=`

${e.statement}`);let l=[];if(e.uri&&l.push(`URI: ${e.uri}`),e.version&&l.push(`Version: ${e.version}`),e.chainId&&l.push(`Chain ID: ${e.chainId}`),e.nonce&&l.push(`Nonce: ${e.nonce}`),e.issuedAt&&l.push(`Issued At: ${e.issuedAt}`),e.expirationTime&&l.push(`Expiration Time: ${e.expirationTime}`),e.notBefore&&l.push(`Not Before: ${e.notBefore}`),e.requestId&&l.push(`Request ID: ${e.requestId}`),e.resources){l.push("Resources:");for(let g of e.resources)l.push(`- ${g}`)}l.length&&(i+=`

${l.join(`
`)}`);let u=Jn("sign-in-with-solana",i);if(!u.success)return{type:"fail",data:pn.default.encode(Buffer.from(i)),error:[{label:"PARSE_ERROR",message:u.error.message}]};let h=1e3*60*10,x=Xn(u.data,{expectedAddress:r,expectedURL:n,expectedChainId:t,issuedAtThreshold:h});return x.length?{type:"fail",data:pn.default.encode(Buffer.from(i)),error:x.map(g=>({label:na[g],message:`siwsErrorMessage_${g}`}))}:{type:"success",data:pn.default.encode(Buffer.from(i))}},base58Encode:e=>pn.default.encode(e)},getFaviconURL:Rn,parseURL:gc,getOrigin:vn,getHostname:fc,getOriginAndHostname:Tr};var Va={};Ne(Va,{addTrustedApp:()=>Ol,btc:()=>da,deleteTrustedApp:()=>ql,eth:()=>ia,getMetaMaskOverrideSetting:()=>Hl,isTrustedApp:()=>Fl,isUserOnboarded:()=>Xl,navigate:()=>Gl,onboardQuickly:()=>Yl,openUserProfile:()=>Zl,requestUserApproval:()=>Kl,requestUserOnboard:()=>Jl,setMetaMaskOverrideSetting:()=>$l,sol:()=>ca,sui:()=>Wa});c();p();c();p();c();p();var kt=class{storage;target;numListeners;unsubscribeFromStorageChanges;constructor(t){this.storage=t,this.target=new EventTarget,this.numListeners={revoked:0},this.unsubscribeFromStorageChanges=null}async get(t){return(await Br(this.storage)).apps[t]??{}}async add(t,r,n){let s=await Br(this.storage),o=s?.apps?.[t]?.[r]??{},i={...s?.apps[t]??{},[r]:{...o,...n}},l={...s.apps,[t]:i},u={...s,apps:l};return await Ms(this.storage,u)}async delete(t,r){let n=await Br(this.storage),s={...n?.apps[t]??{}};delete s[r];let o={...n.apps,[t]:s},i={...n,apps:o};return await Ms(this.storage,i)}dispatchEvent({type:t,data:r}){let n=new Event(t);n.data=r,this.target.dispatchEvent(n)}removeEventListener(t,r){this.target.removeEventListener(t,r),this.numListeners[t]--,Object.values(this.numListeners).reduce((s,o)=>s+o,0)===0&&(this.unsubscribeFromStorageChanges?.(),this.unsubscribeFromStorageChanges=null)}addEventListener(t,r){this.target.addEventListener(t,r),this.numListeners[t]++,Object.values(this.numListeners).reduce((s,o)=>s+o,0)===1&&(this.unsubscribeFromStorageChanges=this.subscribeToStorageChanges())}subscribeToStorageChanges(){let t=null,r=Br(this.storage);return this.storage.subscribe(async n=>{if(n!==Uc)return;let s=await Br(this.storage);if(t??await r){let o=this.getRevokedApps(t??await r,s);for(let i of o)try{this.dispatchEvent({type:"revoked",data:i})}catch(l){de.captureError(l,"trustedApps")}}t=s})}getRevokedApps(t,r){let n=[],s=Object.entries(t.apps);for(let[o,i]of s){let l=Object.entries(i);for(let[u,h]of l)r.apps[o]?.[u]||n.push({origin:u,accountId:o})}return n}};c();p();var Vf=new Error("There is no currently selected account"),Dl=new ke,xe=async()=>{let e=await Hc(ge,Dl,await kc(Dl));if(!e)throw Vf;return e};var jf=new ke,zf=new kt(jf),Ol=async(e,t)=>{let r=(await xe()).identifier;await zf.add(r,e,{dappMeta:{appUrl:t.url.origin,title:t.title,imageUrl:t.icon?.toString()},lastConnectedTimestamp:Date.now()})};c();p();var Kf=new ke,$f=new kt(Kf),ql=async e=>{let t=(await xe()).identifier;await $f.delete(t,e)};c();p();var Gf=new ke,Hl=async()=>await ur(Gf);c();p();var Yf=new ke,Zf=new kt(Yf),Fl=async e=>{let t=(await xe()).identifier;return!!(await Zf.get(t))[e]};c();p();var Qn=re(bt());c();p();var Vl=re(bt());var Wl=30,sa=class{findPopupIfExists=async()=>{try{de.addBreadcrumb("NotificationManager","focusPopupIfExists","info");let t=await up();for(let r of t){if(typeof r.id!="number"){de.addBreadcrumb("NotificationManager","popup has no id","info");continue}if(r.type!=="popup"){de.addBreadcrumb("NotificationManager","found a non-popup type window","error");continue}let n=!1;if(r.tabs?.length===1){let[s]=r.tabs;if(s.url){let o=new URL(s.url).hostname,i=Vl.default.runtime.id;n=o===i}}if(!n){de.addBreadcrumb("NotificationManager","popup tab url does not have the extension origin","info");continue}return r.id}return}catch(t){de.addBreadcrumb("NotificationManager","failed to get open popups","error"),de.captureError(t instanceof Error?t:new Error("failed to get open popups"),"provider");return}};showNotificationPopupAsync=async()=>{de.addBreadcrumb("NotificationManager","showNotificationPopupAsync","info");let t=await this.findPopupIfExists();t&&await lp(t);let r=0,n=0;try{let o=await dp();if(o.top!==void 0&&o.left!==void 0&&o.width!==void 0&&o.height!==void 0)n=o.top,r=o.left+o.width-tn;else throw new Error("Couldn't get last focused window")}catch(o){de.addBreadcrumb("NotificationManager","failed to get last focused window","error"),de.captureError(o instanceof Error?o:new Error("failed to get last focused window"),"provider");let{screenX:i,screenY:l,outerWidth:u}=self;n=Math.max(l,0),r=Math.max(i+(u-tn),0)}let s;try{s=await Ds({url:"notification.html",type:"popup",width:tn,height:Ws+Wl,left:r,top:n,focused:!0})}catch{n=0,r=0,s=await Ds({url:"notification.html",type:"popup",width:tn,height:Ws+Wl,left:r,top:n,focused:!0})}if(!s){let o=new Error("Could not open new popup notification");throw de.captureError(o,"provider"),o}try{(s.left!==r||s.top!==n)&&s.id&&s.state!=="fullscreen"&&await pp(s.id,r,n)}catch(o){de.addBreadcrumb("NotificationManager","failed to update window position","error"),de.captureError(o instanceof Error?o:new Error("failed to update window position"),"provider")}return s}},jl=new sa;var Xf=(e,t,r)=>{if(typeof r!="string")throw new Error("message must be a string");try{let s=Gt(r);console.log("> Received message from popup:",s);let o=lr[t].response.parse(s);if(o.id===e)return o}catch(s){console.error(s)}throw new Error("RPC response ID does not match RPC request ID")},zl=(e,t,r)=>async n=>await Xf(t,r,n),Jf=async(e,t,r)=>{let n=!1,o=Qn.default.runtime.connect({name:"popup/sidepanel"}),i=zl(o,e,t);return new Promise((l,u)=>{o.postMessage(r),o.onMessage.addListener(async h=>{o.onMessage.removeListener(i);try{let x=await i(h);return n=!0,o.disconnect(),l(x)}catch(x){return u(x)}}),o.onDisconnect.addListener(()=>{if(!n)return o.onMessage.removeListener(i),a.userRejectedRequest(e)})})},Qf=async(e,t,r)=>{let n=await jl.showNotificationPopupAsync();if(!n)return a.resourceUnavailable(e);let s=n.id;if(typeof s!="number")throw new Error("No notification window id");let o=`notification/${s}`,i=`${On()}/notification.html`;return await new Promise((l,u)=>{let h=!1,x=g=>{let f=zl(g,e,t);g.name===o&&g.sender&&g.sender.tab?.url===i&&(g.onMessage.addListener(async w=>{try{let S=await f(w);return h=!0,g.disconnect(),g.onMessage.removeListener(f),l(S)}catch(S){return u(S)}}),g.onDisconnect.addListener(()=>{h||(g.onMessage.removeListener(f),l(a.userRejectedRequest(e))),Qn.default.runtime.onConnect.removeListener(x)}),g.postMessage(r))};Qn.default.runtime.onConnect.addListener(x)})},Kl=async e=>{let[t]=e.params,r=t.icon??void 0,s=pt.isFeatureEnabled("enable-sidepanel-tx-notifications")&&await Ap(),o=hc(t.url),i=Ct({url:o,req:e,icon:r});return s?Jf(e.id,e.method,i):Qf(e.id,e.method,i)};c();p();var eg=new ke,$l=async e=>await Oc(eg,e);c();p();var Gl=()=>{};c();p();var Yl=()=>{throw new Error("This method is unsupported on extension.")};c();p();var Zl=()=>{throw new Error("This method is unsupported on extension.")};c();p();var Xl=async()=>!0;c();p();var Jl=async()=>{throw new Error("not implemented")};var ia={};Ne(ia,{addChain:()=>Ql,autoConfirmValidateMessage:()=>ou,autoConfirmValidateTransaction:()=>iu,doesSupportEth:()=>au,getAccountNonce:()=>cu,getAccounts:()=>pu,getEnabledChains:()=>du,getNetworkId:()=>Hr,getRpcURL:()=>lu,getSelectedAccount:()=>uu,getSupportedNetworks:()=>mu,sendTransaction:()=>fu,signAndSendTransaction:()=>gu,signMessage:()=>yu,signTypedData:()=>xu,switchChain:()=>wu});c();p();c();p();var Ql=async e=>{let t=parseInt(e.chainId.substring(2),16);return!!Ir(t)};c();p();c();p();var eu=re(bt());var tg=new ke,oa=class extends Sp{constructor(){super(tg)}async isTabFocused(t){this.executedChecksAudit.push("IS_TAB_FOCUSED");let n=(await eu.default.tabs.query({active:!0,lastFocusedWindow:!0}))[0]?.url;return n?new URL(n).hostname===new URL(t).hostname:!1}async isFeatureEnabled(){return this.executedChecksAudit.push("IS_FEATURE_FLAG_ENABLED"),(await pt.getFeatureFlags())["kill-automatic-approval"]!==!0}async isWalletUnlocked(){return this.executedChecksAudit.push("IS_WALLET_UNLOCKED"),!!Ue()}async isDappWhitelistOverridden(){return this.executedChecksAudit.push("IS_DAPP_WHITELIST_OVERRIDDEN"),(await pt.getFeatureFlags())["enable-automatic-approval-for-all-dapps"]===!0}},tr=new oa;c();p();c();p();var es={};c();p();var ru=[new ke];async function nu(){for(let e of ru){let t=await e.get("developerMode");if(t)return t.isDeveloperMode}return!1}async function su(){for(let e of ru){let t=await e.get("networkSetting");if(t)return t.setting}return _c.setting}var Hr=async e=>{if(await nu()){let o=(await su()).eip155;if(!o)throw new Error("No evm developer mode chainId set");let i=o.replace("eip155:","");return Is(i)}let r=es[e]??"eip155:1",n=He.getEVMNetworkIDValue(r);return Is(n.toString())};var ou=async(e,t)=>{let r=await Hr(e.origin);if(!r)return{status:"UNSUPPORTED_NETWORK_ID"};let n=Er(r);if(!He.isEVMNetworkID(n))return{status:"UNSUPPORTED_NETWORK_ID"};let s=await xe(),o=await Ee(s,"eip155"),i=Cr(at.language)??"en",l=await Ie.getDeviceId();return await tr.isEthMessageAutoConfirmable({url:e,networkID:n,data:t,account:s,userAccountAddress:o,accountIdentifier:s.identifier},{locale:i,deviceId:l})};c();p();var iu=async(e,t)=>{let r=t[0]?.chainId;if(!r)return{status:"UNSUPPORTED_NETWORK_ID"};let n=Er(r);if(!He.isEVMNetworkID(n))return{status:"UNSUPPORTED_NETWORK_ID"};let s=await xe(),o=await Ee(s,"eip155"),i=Cr(at.language)??"en",l=await Ie.getDeviceId();return tr.isEthTransactionAutoConfirmable({url:e,networkID:n,data:t,account:s,userAccountAddress:o,accountIdentifier:s.identifier},{locale:i,deviceId:l})};c();p();var au=async()=>(await xe()).addresses.some(t=>t.addressType==="eip155");c();p();var rg=new ke,cu=async(e,t)=>{let r=parseInt(e.replace("0x",""),16),n=Ir(r);if(!n)throw new Error(`Unsupported EVM Network ID: ${r}`);return ep(n,t,rg)};c();p();var pu=async()=>{let e=await xe();return[Ee(e,"eip155").toLowerCase()]};c();p();var ng=new ke,du=async()=>{let t=(await ng.get("developerMode"))?.isDeveloperMode===!0?"testnets_only":"mainnets_only";return Tn(t)};c();p();var lu=async e=>{let t=_n.parse(`eip155:${parseInt(e,16)}`);if(!He.isEVMNetworkID(t))throw new Error(`Invalid EVM NetworkID for chainID: ${e}`);let r=He.getRpcProxyUrl(t);if(!r)throw new Error(`No RPC URL found for chainID ${e}`);return r};c();p();var uu=async()=>{let e=await xe();return Ee(e,"eip155").toLowerCase()};c();p();var mu=()=>Tn();c();p();c();p();var sg=new ke,ts=async(e,t)=>{let r=await xe();Ee(r,"eip155");let n=at.t("transactionsAppInteraction"),s=_n.parse(`eip155:${e.chainId?parseInt(e.chainId,16):void 0}`),o=Bc(e.to??"",void 0,void 0,5),i=xc(e.value??"",He.getTokenDecimals(s)),l=He.getTokenSymbol(s);if(e.nonce===void 0)throw new Error("nonce missing on unsigned transaction");if(e.maxFeePerGas==null||e.maxPriorityFeePerGas==null){let x=(await Vc(s,!0))?.standard;if(x)e.maxFeePerGas==null&&(e.maxFeePerGas=`0x${x.maxFeePerGas.integerValue(Rr.ROUND_CEIL).toString(16)}`),e.maxPriorityFeePerGas==null&&(e.maxPriorityFeePerGas=`0x${x.maxPriorityFeePerGas.integerValue(Rr.ROUND_CEIL).toString(16)}`);else throw new Error("Standard transaction speed price information is missing.")}let u={accountSigner:ge,accountIdentifier:r.identifier,networkID:s,unsignedTransaction:e,callPayload:void 0,pendingTransactionInput:{ownerAddress:e.from,networkID:s,data:{nonce:e.nonce,hash:"",unsignedTransaction:ec.parse({from:e.from})},type:"dappInteraction",display:{summary:{topLeft:{text:n},topRight:{text:i?`- ${i} ${l}`:""}},detail:{uiRecipient:o}}},storage:sg};return t?await tp({...u,signature:t}):await rp(u)};var fu=ts;c();p();var gu=ts;c();p();var yu=async e=>{let t=vp(e),r=await xe();Ee(r,"eip155");let n=await ge.sign(r.identifier,{chainType:"eip155",signingType:"message",message:t});if(n.status==="error")throw new Error(`[${n.type}] ${n.message}`);return n.signature};c();p();var xu=async e=>{let t=await xe();Ee(t,"eip155");let r=await ge.sign(t.identifier,{chainType:"eip155",signingType:"typedData",...e});if(r.status==="error")throw new Error(`[${r.type}] ${r.message}`);return r.signature};c();p();var wu=async(e,t)=>{let r=parseInt(e.substring(2),16),n=Ir(r);return n?(es[t]=n,!0):!1};var ca={};Ne(ca,{addPriorityFee:()=>Su,autoConfirmValidateMessage:()=>Au,autoConfirmValidateTransaction:()=>vu,getNetworkId:()=>tt,getSelectedAccount:()=>Ru,handleSolanaPayTransaction:()=>Lu,handleSolanaPayTransfer:()=>Mu,sendAllTransactions:()=>Eu,sendTransaction:()=>_u,signAllTransactions:()=>rs,signMessage:()=>Cu,signTransaction:()=>Bu});c();p();c();p();c();p();var tt=async()=>{let e=await xe(),t=Cc(e,"solana").networkID;return He.getSolanaNetworkIDValue(t)};var Su=async e=>{let{transaction:t}=ut.deserializeVersionedTransaction(e);t.version==="legacy"&&(t=ut.deserializeWithVersion({transaction:e,type:"legacy"}).transaction);let r=await tt(),n=await Qc(t,{connection:Yt(Ze(r)),calculators:{cost:Jc,budget:new Xc(2e5,2e5)}});return ut.serialize(n).transaction};c();p();var Au=async(e,t)=>{let r=await tt();if(r==="localnet")return{status:"UNSUPPORTED_NETWORK_ID"};let n=await xe(),s=await Ee(n,"solana");return tr.isSolMessageAutoConfirmable({url:e,data:t,networkID:Ze(r),account:n,userAccountAddress:s,accountIdentifier:n.identifier??""})};c();p();var vu=async(e,t)=>{let r=await tt();if(r==="localnet")return{status:"UNSUPPORTED_NETWORK_ID"};let n=await xe(),s=await Ee(n,"solana"),o=Cr(at.language)??"en",i=await Ie.getDeviceId();return tr.isSolTransactionAutoConfirmable({url:e,networkID:Ze(r),data:t,account:n,userAccountAddress:s,accountIdentifier:n.identifier??""},{locale:o,deviceId:i})};c();p();var Ru=async()=>{let e=await xe();return Ee(e,"solana")};c();p();var ku=re(Tt());var _u=async(e,t)=>{let r=await tt(),n=$t.VersionedMessage.deserializeMessageVersion(ku.default.decode(_r(e))),s=ut.deserializeWithVersion({transaction:e,type:n});await sp({connection:Yt(Ze(r)),signedTx:s.transaction,opts:t})};c();p();var Tu=re(Tt());var Eu=async(e,t)=>{let r=await tt(),n=Yt(Ze(r)),s=e.map(o=>{let i=$t.VersionedMessage.deserializeMessageVersion(Tu.default.decode(_r(o)));return ut.deserializeWithVersion({transaction:o,type:i}).transaction});return await op({connection:n,signedTxs:s,opts:t})};c();p();var Iu=re(Tt());var Cu=async e=>{let t=await xe();Ee(t,"solana");let r=Iu.default.decode(e).toString("utf-8"),n=await ge.sign(t.identifier,{chainType:"solana",signingType:"message",message:r});if(n.status!=="success")throw new Error(`[${n.type}] ${n.message}`);return n.signature};c();p();c();p();var aa=re(Tt());var og=new ke,rs=async e=>{let t=await xe();Ee(t,"solana");let r=Ee(t,"solana"),n=await tt(),s={ownerAddress:r,networkID:Ze(n),data:{signature:""},type:"dappInteraction",display:{summary:{topLeft:{text:at.t("transactionsPendingAppInteraction")}}}};return(async()=>{let i=[];for(let l=0;l<e.length;l++){let u=e[l],h=$t.VersionedMessage.deserializeMessageVersion(aa.default.decode(_r(u))),x=ut.deserializeWithVersion({transaction:u,type:h}),g=await ip({pendingTransactionInput:s,accountIdentifier:t.identifier,feePayer:new we.PublicKey(r),connection:Yt(Ze(n)),accountSigner:ge,transaction:x.transaction,storage:og}),f=ut.serialize(g);i.push({transaction:f.transaction,signature:aa.default.encode(oc(g)[0]),version:"version"in g?g.version:"legacy"})}return i})()};var Bu=async e=>(await rs([e]))[0];c();p();var Lu=async()=>{};c();p();var Mu=async()=>!1;var da={};Ne(da,{getSelectedAccount:()=>ns,signMessage:()=>Pu,signPSBT:()=>Nu});c();p();c();p();var ns=async()=>{let e=await xe();return pa(e)},pa=e=>{let t=e.addresses.filter(s=>s.networkID==="bip122:000000000019d6689c085ae165831e93"||s.networkID==="bip122:000000000933ea01ad0ee984209779ba");if(t.length===0)throw Ec;if(t.length===1){let[s]=t;if(!s?.publicKey)throw new Error("[btc provider] selected account account does not have a public key");return[{address:s.address,publicKey:Buffer.from(s.publicKey).toString("hex"),addressType:s.addressType,purpose:"payment"},{address:s.address,publicKey:Buffer.from(s.publicKey).toString("hex"),addressType:s.addressType,purpose:"ordinals"}]}let r=t.find(s=>s.addressType==="bip122_p2tr");if(!r?.publicKey)throw new Error("[btc provider] ordinalAddress does not have a public key");let n=t.find(s=>s.addressType==="bip122_p2wpkh");if(!n?.publicKey)throw new Error("[btc provider] paymentAddress does not have a public key");return[{address:n.address,publicKey:Buffer.from(n.publicKey).toString("hex"),addressType:n.addressType,purpose:"payment"},{address:r.address,publicKey:Buffer.from(r.publicKey).toString("hex"),addressType:r.addressType,purpose:"ordinals"}]};c();p();var Nu=async(e,t)=>{let r=await xe(),n=await ge.sign(r.identifier,{chainType:"bip122_p2tr",signingType:"transaction",message:Buffer.from(e).toString("hex"),inputsToSign:t.inputsToSign,finalize:t.finalize});if(n.status==="error")throw new Error(`[${n.type}] ${n.message}`);return Buffer.from(n.signature,"hex")};c();p();var Pu=async(e,t)=>{let r=await xe(),n=vc("bip122:000000000019d6689c085ae165831e93",e),s=await ge.sign(r.identifier,{chainType:n,signingType:"message",message:t});if(s.status==="error")throw new Error(`[btc provider][${s.type}] ${s.message}`);let o=s.message;if(!o)throw new Error("[btc provider] no message on vault response");return{signature:Buffer.from(s.signature,"hex"),signedMessage:o}};var Wa={};Ne(Wa,{getSelectedAccount:()=>_s,getSuiAddressWithPubkey:()=>yn,signAndExecuteTransaction:()=>_m,signMessage:()=>km,signTransaction:()=>Rm});c();p();c();p();c();p();c();p();c();p();c();p();function ag(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let s=BigInt(32),o=BigInt(4294967295),i=Number(r>>s&o),l=Number(r&o),u=n?4:0,h=n?0:4;e.setUint32(t+u,i,n),e.setUint32(t+h,l,n)}var Uu=(e,t,r)=>e&t^~e&r,Du=(e,t,r)=>e&t^e&r^t&r,Fr=class extends Mn{constructor(t,r,n,s){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Cn(this.buffer)}update(t){Lr(this);let{view:r,buffer:n,blockLen:s}=this;t=Ln(t);let o=t.length;for(let i=0;i<o;){let l=Math.min(s-this.pos,o-i);if(l===s){let u=Cn(t);for(;s<=o-i;i+=s)this.process(u,i);continue}n.set(t.subarray(i,i+l),this.pos),this.pos+=l,i+=l,this.pos===s&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Lr(this),Yc(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:s,isLE:o}=this,{pos:i}=this;r[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>s-i&&(this.process(n,0),i=0);for(let g=i;g<s;g++)r[g]=0;ag(n,s-8,BigInt(this.length*8),o),this.process(n,0);let l=Cn(t),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let h=u/4,x=this.get();if(h>x.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<h;g++)l.setUint32(4*g,x[g],o)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:s,finished:o,destroyed:i,pos:l}=this;return t.length=s,t.pos=l,t.finished=o,t.destroyed=i,s%r&&t.buffer.set(n),t}};var[cg,pg]=Se.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),rr=new Uint32Array(80),nr=new Uint32Array(80),la=class extends Fr{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:s,Ch:o,Cl:i,Dh:l,Dl:u,Eh:h,El:x,Fh:g,Fl:f,Gh:R,Gl:w,Hh:S,Hl:y}=this;return[t,r,n,s,o,i,l,u,h,x,g,f,R,w,S,y]}set(t,r,n,s,o,i,l,u,h,x,g,f,R,w,S,y){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=s|0,this.Ch=o|0,this.Cl=i|0,this.Dh=l|0,this.Dl=u|0,this.Eh=h|0,this.El=x|0,this.Fh=g|0,this.Fl=f|0,this.Gh=R|0,this.Gl=w|0,this.Hh=S|0,this.Hl=y|0}process(t,r){for(let _=0;_<16;_++,r+=4)rr[_]=t.getUint32(r),nr[_]=t.getUint32(r+=4);for(let _=16;_<80;_++){let I=rr[_-15]|0,P=nr[_-15]|0,M=Se.rotrSH(I,P,1)^Se.rotrSH(I,P,8)^Se.shrSH(I,P,7),Z=Se.rotrSL(I,P,1)^Se.rotrSL(I,P,8)^Se.shrSL(I,P,7),z=rr[_-2]|0,X=nr[_-2]|0,fe=Se.rotrSH(z,X,19)^Se.rotrBH(z,X,61)^Se.shrSH(z,X,6),te=Se.rotrSL(z,X,19)^Se.rotrBL(z,X,61)^Se.shrSL(z,X,6),ne=Se.add4L(Z,te,nr[_-7],nr[_-16]),W=Se.add4H(ne,M,fe,rr[_-7],rr[_-16]);rr[_]=W|0,nr[_]=ne|0}let{Ah:n,Al:s,Bh:o,Bl:i,Ch:l,Cl:u,Dh:h,Dl:x,Eh:g,El:f,Fh:R,Fl:w,Gh:S,Gl:y,Hh:v,Hl:C}=this;for(let _=0;_<80;_++){let I=Se.rotrSH(g,f,14)^Se.rotrSH(g,f,18)^Se.rotrBH(g,f,41),P=Se.rotrSL(g,f,14)^Se.rotrSL(g,f,18)^Se.rotrBL(g,f,41),M=g&R^~g&S,Z=f&w^~f&y,z=Se.add5L(C,P,Z,pg[_],nr[_]),X=Se.add5H(z,v,I,M,cg[_],rr[_]),fe=z|0,te=Se.rotrSH(n,s,28)^Se.rotrBH(n,s,34)^Se.rotrBH(n,s,39),ne=Se.rotrSL(n,s,28)^Se.rotrBL(n,s,34)^Se.rotrBL(n,s,39),W=n&o^n&l^o&l,O=s&i^s&u^i&u;v=S|0,C=y|0,S=R|0,y=w|0,R=g|0,w=f|0,{h:g,l:f}=Se.add(h|0,x|0,X|0,fe|0),h=l|0,x=u|0,l=o|0,u=i|0,o=n|0,i=s|0;let D=Se.add3L(fe,ne,O);n=Se.add3H(D,X,te,W),s=D|0}({h:n,l:s}=Se.add(this.Ah|0,this.Al|0,n|0,s|0)),{h:o,l:i}=Se.add(this.Bh|0,this.Bl|0,o|0,i|0),{h:l,l:u}=Se.add(this.Ch|0,this.Cl|0,l|0,u|0),{h,l:x}=Se.add(this.Dh|0,this.Dl|0,h|0,x|0),{h:g,l:f}=Se.add(this.Eh|0,this.El|0,g|0,f|0),{h:R,l:w}=Se.add(this.Fh|0,this.Fl|0,R|0,w|0),{h:S,l:y}=Se.add(this.Gh|0,this.Gl|0,S|0,y|0),{h:v,l:C}=Se.add(this.Hh|0,this.Hl|0,v|0,C|0),this.set(n,s,o,i,l,u,h,x,g,f,R,w,S,y,v,C)}roundClean(){rr.fill(0),nr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var Ou=Nn(()=>new la);c();p();c();p();c();p();var os={};Ne(os,{aInRange:()=>rt,abool:()=>ht,abytes:()=>Wr,bitGet:()=>fg,bitLen:()=>ga,bitMask:()=>ln,bitSet:()=>gg,bytesToHex:()=>qt,bytesToNumberBE:()=>Ht,bytesToNumberLE:()=>or,concatBytes:()=>Ft,createHmacDrbg:()=>ya,ensureBytes:()=>Oe,equalBytes:()=>mg,hexToBytes:()=>yr,hexToNumber:()=>fa,inRange:()=>dn,isBytes:()=>sr,memoized:()=>wr,notImplemented:()=>xg,numberToBytesBE:()=>ir,numberToBytesLE:()=>xr,numberToHexUnpadded:()=>gr,numberToVarBytesBE:()=>ug,utf8ToBytes:()=>hg,validateObject:()=>_t});c();p();var ha=BigInt(0),ss=BigInt(1),dg=BigInt(2);function sr(e){return e instanceof Uint8Array||e!=null&&typeof e=="object"&&e.constructor.name==="Uint8Array"}function Wr(e){if(!sr(e))throw new Error("Uint8Array expected")}function ht(e,t){if(typeof t!="boolean")throw new Error(`${e} must be valid boolean, got "${t}".`)}var lg=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function qt(e){Wr(e);let t="";for(let r=0;r<e.length;r++)t+=lg[e[r]];return t}function gr(e){let t=e.toString(16);return t.length&1?`0${t}`:t}function fa(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}var Ot={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function qu(e){if(e>=Ot._0&&e<=Ot._9)return e-Ot._0;if(e>=Ot._A&&e<=Ot._F)return e-(Ot._A-10);if(e>=Ot._a&&e<=Ot._f)return e-(Ot._a-10)}function yr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let s=0,o=0;s<r;s++,o+=2){let i=qu(e.charCodeAt(o)),l=qu(e.charCodeAt(o+1));if(i===void 0||l===void 0){let u=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+o)}n[s]=i*16+l}return n}function Ht(e){return fa(qt(e))}function or(e){return Wr(e),fa(qt(Uint8Array.from(e).reverse()))}function ir(e,t){return yr(e.toString(16).padStart(t*2,"0"))}function xr(e,t){return ir(e,t).reverse()}function ug(e){return yr(gr(e))}function Oe(e,t,r){let n;if(typeof t=="string")try{n=yr(t)}catch(o){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${o}`)}else if(sr(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);let s=n.length;if(typeof r=="number"&&s!==r)throw new Error(`${e} expected ${r} bytes, got ${s}`);return n}function Ft(...e){let t=0;for(let n=0;n<e.length;n++){let s=e[n];Wr(s),t+=s.length}let r=new Uint8Array(t);for(let n=0,s=0;n<e.length;n++){let o=e[n];r.set(o,s),s+=o.length}return r}function mg(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return r===0}function hg(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}var ua=e=>typeof e=="bigint"&&ha<=e;function dn(e,t,r){return ua(e)&&ua(t)&&ua(r)&&t<=e&&e<r}function rt(e,t,r,n){if(!dn(t,r,n))throw new Error(`expected valid ${e}: ${r} <= n < ${n}, got ${typeof t} ${t}`)}function ga(e){let t;for(t=0;e>ha;e>>=ss,t+=1);return t}function fg(e,t){return e>>BigInt(t)&ss}function gg(e,t,r){return e|(r?ss:ha)<<BigInt(t)}var ln=e=>(dg<<BigInt(e-1))-ss,ma=e=>new Uint8Array(e),Hu=e=>Uint8Array.from(e);function ya(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=ma(e),s=ma(e),o=0,i=()=>{n.fill(1),s.fill(0),o=0},l=(...g)=>r(s,n,...g),u=(g=ma())=>{s=l(Hu([0]),g),n=l(),g.length!==0&&(s=l(Hu([1]),g),n=l())},h=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let g=0,f=[];for(;g<t;){n=l();let R=n.slice();f.push(R),g+=n.length}return Ft(...f)};return(g,f)=>{i(),u(g);let R;for(;!(R=f(h()));)u();return i(),R}}var yg={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||sr(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function _t(e,t,r={}){let n=(s,o,i)=>{let l=yg[o];if(typeof l!="function")throw new Error(`Invalid validator "${o}", expected function`);let u=e[s];if(!(i&&u===void 0)&&!l(u,e))throw new Error(`Invalid param ${String(s)}=${u} (${typeof u}), expected ${o}`)};for(let[s,o]of Object.entries(t))n(s,o,!1);for(let[s,o]of Object.entries(r))n(s,o,!0);return e}var xg=()=>{throw new Error("not implemented")};function wr(e){let t=new WeakMap;return(r,...n)=>{let s=t.get(r);if(s!==void 0)return s;let o=e(r,...n);return t.set(r,o),o}}var je=BigInt(0),De=BigInt(1),br=BigInt(2),wg=BigInt(3),xa=BigInt(4),Fu=BigInt(5),Wu=BigInt(8),bg=BigInt(9),Sg=BigInt(16);function Le(e,t){let r=e%t;return r>=je?r:t+r}function Ag(e,t,r){if(r<=je||t<je)throw new Error("Expected power/modulo > 0");if(r===De)return je;let n=De;for(;t>je;)t&De&&(n=n*e%r),e=e*e%r,t>>=De;return n}function ft(e,t,r){let n=e;for(;t-- >je;)n*=n,n%=r;return n}function is(e,t){if(e===je||t<=je)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Le(e,t),n=t,s=je,o=De,i=De,l=je;for(;r!==je;){let h=n/r,x=n%r,g=s-i*h,f=o-l*h;n=r,r=x,s=i,o=l,i=g,l=f}if(n!==De)throw new Error("invert: does not exist");return Le(s,t)}function vg(e){let t=(e-De)/br,r,n,s;for(r=e-De,n=0;r%br===je;r/=br,n++);for(s=br;s<e&&Ag(s,t,e)!==e-De;s++);if(n===1){let i=(e+De)/xa;return function(u,h){let x=u.pow(h,i);if(!u.eql(u.sqr(x),h))throw new Error("Cannot find square root");return x}}let o=(r+De)/br;return function(l,u){if(l.pow(u,t)===l.neg(l.ONE))throw new Error("Cannot find square root");let h=n,x=l.pow(l.mul(l.ONE,s),r),g=l.pow(u,o),f=l.pow(u,r);for(;!l.eql(f,l.ONE);){if(l.eql(f,l.ZERO))return l.ZERO;let R=1;for(let S=l.sqr(f);R<h&&!l.eql(S,l.ONE);R++)S=l.sqr(S);let w=l.pow(x,De<<BigInt(h-R-1));x=l.sqr(w),g=l.mul(g,w),f=l.mul(f,x),h=R}return g}}function Rg(e){if(e%xa===wg){let t=(e+De)/xa;return function(n,s){let o=n.pow(s,t);if(!n.eql(n.sqr(o),s))throw new Error("Cannot find square root");return o}}if(e%Wu===Fu){let t=(e-Fu)/Wu;return function(n,s){let o=n.mul(s,br),i=n.pow(o,t),l=n.mul(s,i),u=n.mul(n.mul(l,br),i),h=n.mul(l,n.sub(u,n.ONE));if(!n.eql(n.sqr(h),s))throw new Error("Cannot find square root");return h}}return e%Sg,vg(e)}var Vu=(e,t)=>(Le(e,t)&De)===De,kg=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function wa(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=kg.reduce((n,s)=>(n[s]="function",n),t);return _t(e,r)}function _g(e,t,r){if(r<je)throw new Error("Expected power > 0");if(r===je)return e.ONE;if(r===De)return t;let n=e.ONE,s=t;for(;r>je;)r&De&&(n=e.mul(n,s)),s=e.sqr(s),r>>=De;return n}function Tg(e,t){let r=new Array(t.length),n=t.reduce((o,i,l)=>e.is0(i)?o:(r[l]=o,e.mul(o,i)),e.ONE),s=e.inv(n);return t.reduceRight((o,i,l)=>e.is0(i)?o:(r[l]=e.mul(o,r[l]),e.mul(o,i)),s),r}function ba(e,t){let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function ar(e,t,r=!1,n={}){if(e<=je)throw new Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:s,nByteLength:o}=ba(e,t);if(o>2048)throw new Error("Field lengths over 2048 bytes are not supported");let i=Rg(e),l=Object.freeze({ORDER:e,BITS:s,BYTES:o,MASK:ln(s),ZERO:je,ONE:De,create:u=>Le(u,e),isValid:u=>{if(typeof u!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof u}`);return je<=u&&u<e},is0:u=>u===je,isOdd:u=>(u&De)===De,neg:u=>Le(-u,e),eql:(u,h)=>u===h,sqr:u=>Le(u*u,e),add:(u,h)=>Le(u+h,e),sub:(u,h)=>Le(u-h,e),mul:(u,h)=>Le(u*h,e),pow:(u,h)=>_g(l,u,h),div:(u,h)=>Le(u*is(h,e),e),sqrN:u=>u*u,addN:(u,h)=>u+h,subN:(u,h)=>u-h,mulN:(u,h)=>u*h,inv:u=>is(u,e),sqrt:n.sqrt||(u=>i(l,u)),invertBatch:u=>Tg(l,u),cmov:(u,h,x)=>x?h:u,toBytes:u=>r?xr(u,o):ir(u,o),fromBytes:u=>{if(u.length!==o)throw new Error(`Fp.fromBytes: expected ${o}, got ${u.length}`);return r?or(u):Ht(u)}});return Object.freeze(l)}function ju(e){if(typeof e!="bigint")throw new Error("field order must be bigint");let t=e.toString(2).length;return Math.ceil(t/8)}function Sa(e){let t=ju(e);return t+Math.ceil(t/2)}function zu(e,t,r=!1){let n=e.length,s=ju(t),o=Sa(t);if(n<16||n<o||n>1024)throw new Error(`expected ${o}-1024 bytes of input, got ${n}`);let i=r?Ht(e):or(e),l=Le(i,t-De)+De;return r?xr(l,s):ir(l,s)}var Ig=BigInt(0),Aa=BigInt(1),va=new WeakMap,Ku=new WeakMap;function as(e,t){let r=(o,i)=>{let l=i.negate();return o?l:i},n=o=>{if(!Number.isSafeInteger(o)||o<=0||o>t)throw new Error(`Wrong window size=${o}, should be [1..${t}]`)},s=o=>{n(o);let i=Math.ceil(t/o)+1,l=2**(o-1);return{windows:i,windowSize:l}};return{constTimeNegate:r,unsafeLadder(o,i){let l=e.ZERO,u=o;for(;i>Ig;)i&Aa&&(l=l.add(u)),u=u.double(),i>>=Aa;return l},precomputeWindow(o,i){let{windows:l,windowSize:u}=s(i),h=[],x=o,g=x;for(let f=0;f<l;f++){g=x,h.push(g);for(let R=1;R<u;R++)g=g.add(x),h.push(g);x=g.double()}return h},wNAF(o,i,l){let{windows:u,windowSize:h}=s(o),x=e.ZERO,g=e.BASE,f=BigInt(2**o-1),R=2**o,w=BigInt(o);for(let S=0;S<u;S++){let y=S*h,v=Number(l&f);l>>=w,v>h&&(v-=R,l+=Aa);let C=y,_=y+Math.abs(v)-1,I=S%2!==0,P=v<0;v===0?g=g.add(r(I,i[C])):x=x.add(r(P,i[_]))}return{p:x,f:g}},wNAFCached(o,i,l){let u=Ku.get(o)||1,h=va.get(o);return h||(h=this.precomputeWindow(o,u),u!==1&&va.set(o,l(h))),this.wNAF(u,h,i)},setWindowSize(o,i){n(i),Ku.set(o,i),va.delete(o)}}}function cs(e,t,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach((x,g)=>{if(!t.isValid(x))throw new Error(`wrong scalar at index ${g}`)}),r.forEach((x,g)=>{if(!(x instanceof e))throw new Error(`wrong point at index ${g}`)});let s=ga(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,i=(1<<o)-1,l=new Array(i+1).fill(e.ZERO),u=Math.floor((t.BITS-1)/o)*o,h=e.ZERO;for(let x=u;x>=0;x-=o){l.fill(e.ZERO);for(let f=0;f<n.length;f++){let R=n[f],w=Number(R>>BigInt(x)&BigInt(i));l[w]=l[w].add(r[f])}let g=e.ZERO;for(let f=l.length-1,R=e.ZERO;f>0;f--)R=R.add(l[f]),g=g.add(R);if(h=h.add(g),x!==0)for(let f=0;f<o;f++)h=h.double()}return h}function un(e){return wa(e.Fp),_t(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ba(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}var gt=BigInt(0),nt=BigInt(1),ps=BigInt(2),Cg=BigInt(8),Bg={zip215:!0};function Lg(e){let t=un(e);return _t(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function $u(e){let t=Lg(e),{Fp:r,n,prehash:s,hash:o,randomBytes:i,nByteLength:l,h:u}=t,h=ps<<BigInt(l*8)-nt,x=r.create,g=ar(t.n,t.nBitLength),f=t.uvRatio||((N,L)=>{try{return{isValid:!0,value:r.sqrt(N*r.inv(L))}}catch{return{isValid:!1,value:gt}}}),R=t.adjustScalarBytes||(N=>N),w=t.domain||((N,L,U)=>{if(ht("phflag",U),L.length||U)throw new Error("Contexts/pre-hash are not supported");return N});function S(N,L){rt("coordinate "+N,L,gt,h)}function y(N){if(!(N instanceof _))throw new Error("ExtendedPoint expected")}let v=wr((N,L)=>{let{ex:U,ey:$,ez:V}=N,pe=N.is0();L==null&&(L=pe?Cg:r.inv(V));let J=x(U*L),ie=x($*L),Q=x(V*L);if(pe)return{x:gt,y:nt};if(Q!==nt)throw new Error("invZ was invalid");return{x:J,y:ie}}),C=wr(N=>{let{a:L,d:U}=t;if(N.is0())throw new Error("bad point: ZERO");let{ex:$,ey:V,ez:pe,et:J}=N,ie=x($*$),Q=x(V*V),se=x(pe*pe),ae=x(se*se),H=x(ie*L),d=x(se*x(H+Q)),m=x(ae+x(U*x(ie*Q)));if(d!==m)throw new Error("bad point: equation left != right (1)");let b=x($*V),T=x(pe*J);if(b!==T)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(L,U,$,V){this.ex=L,this.ey=U,this.ez=$,this.et=V,S("x",L),S("y",U),S("z",$),S("t",V),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(L){if(L instanceof _)throw new Error("extended point not allowed");let{x:U,y:$}=L||{};return S("x",U),S("y",$),new _(U,$,nt,x(U*$))}static normalizeZ(L){let U=r.invertBatch(L.map($=>$.ez));return L.map(($,V)=>$.toAffine(U[V])).map(_.fromAffine)}static msm(L,U){return cs(_,g,L,U)}_setWindowSize(L){M.setWindowSize(this,L)}assertValidity(){C(this)}equals(L){y(L);let{ex:U,ey:$,ez:V}=this,{ex:pe,ey:J,ez:ie}=L,Q=x(U*ie),se=x(pe*V),ae=x($*ie),H=x(J*V);return Q===se&&ae===H}is0(){return this.equals(_.ZERO)}negate(){return new _(x(-this.ex),this.ey,this.ez,x(-this.et))}double(){let{a:L}=t,{ex:U,ey:$,ez:V}=this,pe=x(U*U),J=x($*$),ie=x(ps*x(V*V)),Q=x(L*pe),se=U+$,ae=x(x(se*se)-pe-J),H=Q+J,d=H-ie,m=Q-J,b=x(ae*d),T=x(H*m),B=x(ae*m),E=x(d*H);return new _(b,T,E,B)}add(L){y(L);let{a:U,d:$}=t,{ex:V,ey:pe,ez:J,et:ie}=this,{ex:Q,ey:se,ez:ae,et:H}=L;if(U===BigInt(-1)){let Ae=x((pe-V)*(se+Q)),_e=x((pe+V)*(se-Q)),Be=x(_e-Ae);if(Be===gt)return this.double();let Me=x(J*ps*H),Ar=x(ie*ps*ae),Za=Ar+Me,Xa=_e+Ae,Ja=Ar-Me,Hm=x(Za*Be),Fm=x(Xa*Ja),Wm=x(Za*Ja),Vm=x(Be*Xa);return new _(Hm,Fm,Vm,Wm)}let d=x(V*Q),m=x(pe*se),b=x(ie*$*H),T=x(J*ae),B=x((V+pe)*(Q+se)-d-m),E=T-b,k=T+b,q=x(m-U*d),K=x(B*E),j=x(k*q),ee=x(B*q),be=x(E*k);return new _(K,j,be,ee)}subtract(L){return this.add(L.negate())}wNAF(L){return M.wNAFCached(this,L,_.normalizeZ)}multiply(L){let U=L;rt("scalar",U,nt,n);let{p:$,f:V}=this.wNAF(U);return _.normalizeZ([$,V])[0]}multiplyUnsafe(L){let U=L;return rt("scalar",U,gt,n),U===gt?P:this.equals(P)||U===nt?this:this.equals(I)?this.wNAF(U).p:M.unsafeLadder(this,U)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return M.unsafeLadder(this,n).is0()}toAffine(L){return v(this,L)}clearCofactor(){let{h:L}=t;return L===nt?this:this.multiplyUnsafe(L)}static fromHex(L,U=!1){let{d:$,a:V}=t,pe=r.BYTES;L=Oe("pointHex",L,pe),ht("zip215",U);let J=L.slice(),ie=L[pe-1];J[pe-1]=ie&-129;let Q=or(J),se=U?h:r.ORDER;rt("pointHex.y",Q,gt,se);let ae=x(Q*Q),H=x(ae-nt),d=x($*ae-V),{isValid:m,value:b}=f(H,d);if(!m)throw new Error("Point.fromHex: invalid y coordinate");let T=(b&nt)===nt,B=(ie&128)!==0;if(!U&&b===gt&&B)throw new Error("Point.fromHex: x=0 and x_0=1");return B!==T&&(b=x(-b)),_.fromAffine({x:b,y:Q})}static fromPrivateKey(L){return X(L).point}toRawBytes(){let{x:L,y:U}=this.toAffine(),$=xr(U,r.BYTES);return $[$.length-1]|=L&nt?128:0,$}toHex(){return qt(this.toRawBytes())}}_.BASE=new _(t.Gx,t.Gy,nt,x(t.Gx*t.Gy)),_.ZERO=new _(gt,nt,nt,gt);let{BASE:I,ZERO:P}=_,M=as(_,l*8);function Z(N){return Le(N,n)}function z(N){return Z(or(N))}function X(N){let L=l;N=Oe("private key",N,L);let U=Oe("hashed private key",o(N),2*L),$=R(U.slice(0,L)),V=U.slice(L,2*L),pe=z($),J=I.multiply(pe),ie=J.toRawBytes();return{head:$,prefix:V,scalar:pe,point:J,pointBytes:ie}}function fe(N){return X(N).pointBytes}function te(N=new Uint8Array,...L){let U=Ft(...L);return z(o(w(U,Oe("context",N),!!s)))}function ne(N,L,U={}){N=Oe("message",N),s&&(N=s(N));let{prefix:$,scalar:V,pointBytes:pe}=X(L),J=te(U.context,$,N),ie=I.multiply(J).toRawBytes(),Q=te(U.context,ie,pe,N),se=Z(J+Q*V);rt("signature.s",se,gt,n);let ae=Ft(ie,xr(se,r.BYTES));return Oe("result",ae,l*2)}let W=Bg;function O(N,L,U,$=W){let{context:V,zip215:pe}=$,J=r.BYTES;N=Oe("signature",N,2*J),L=Oe("message",L),pe!==void 0&&ht("zip215",pe),s&&(L=s(L));let ie=or(N.slice(J,2*J)),Q,se,ae;try{Q=_.fromHex(U,pe),se=_.fromHex(N.slice(0,J),pe),ae=I.multiplyUnsafe(ie)}catch{return!1}if(!pe&&Q.isSmallOrder())return!1;let H=te(V,se.toRawBytes(),Q.toRawBytes(),L);return se.add(Q.multiplyUnsafe(H)).subtract(ae).clearCofactor().equals(_.ZERO)}return I._setWindowSize(8),{CURVE:t,getPublicKey:fe,sign:ne,verify:O,ExtendedPoint:_,utils:{getExtendedPublicKey:X,randomPrivateKey:()=>i(r.BYTES),precompute(N=8,L=_.BASE){return L._setWindowSize(N),L.multiply(BigInt(3)),L}}}}var Ra=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Gu=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),tH=BigInt(0),Mg=BigInt(1),Yu=BigInt(2),rH=BigInt(3),Ng=BigInt(5),Pg=BigInt(8);function Ug(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),s=BigInt(80),o=Ra,l=e*e%o*e%o,u=ft(l,Yu,o)*l%o,h=ft(u,Mg,o)*e%o,x=ft(h,Ng,o)*h%o,g=ft(x,t,o)*x%o,f=ft(g,r,o)*g%o,R=ft(f,n,o)*f%o,w=ft(R,s,o)*R%o,S=ft(w,s,o)*R%o,y=ft(S,t,o)*x%o;return{pow_p_5_8:ft(y,Yu,o)*e%o,b2:l}}function Dg(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Og(e,t){let r=Ra,n=Le(t*t*t,r),s=Le(n*n*t,r),o=Ug(e*s).pow_p_5_8,i=Le(e*n*o,r),l=Le(t*i*i,r),u=i,h=Le(i*Gu,r),x=l===e,g=l===Le(-e,r),f=l===Le(-e*Gu,r);return x&&(i=u),(g||f)&&(i=h),Vu(i,r)&&(i=Le(-i,r)),{isValid:x||g,value:i}}var qg=ar(Ra,void 0,!0),Hg={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:qg,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Pg,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Ou,randomBytes:Pn,adjustScalarBytes:Dg,uvRatio:Og},Zu=$u(Hg);c();p();function Xu(e,t){return Bt.IntentMessage(Bt.fixedArray(t.length,Bt.u8())).serialize({intent:{scope:{[e]:!0},version:{V0:!0},appId:{Sui:!0}},value:t}).toBytes()}c();p();var Wt={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5,Passkey:6},Ju={ED25519:32,Secp256k1:33,Secp256r1:33},Qu={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin",6:"Passkey"};c();p();c();p();c();p();c();p();var Fg=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),pr=new Uint32Array(64),ka=class extends Fr{constructor(){super(64,32,8,!1),this.A=cr[0]|0,this.B=cr[1]|0,this.C=cr[2]|0,this.D=cr[3]|0,this.E=cr[4]|0,this.F=cr[5]|0,this.G=cr[6]|0,this.H=cr[7]|0}get(){let{A:t,B:r,C:n,D:s,E:o,F:i,G:l,H:u}=this;return[t,r,n,s,o,i,l,u]}set(t,r,n,s,o,i,l,u){this.A=t|0,this.B=r|0,this.C=n|0,this.D=s|0,this.E=o|0,this.F=i|0,this.G=l|0,this.H=u|0}process(t,r){for(let g=0;g<16;g++,r+=4)pr[g]=t.getUint32(r,!1);for(let g=16;g<64;g++){let f=pr[g-15],R=pr[g-2],w=lt(f,7)^lt(f,18)^f>>>3,S=lt(R,17)^lt(R,19)^R>>>10;pr[g]=S+pr[g-7]+w+pr[g-16]|0}let{A:n,B:s,C:o,D:i,E:l,F:u,G:h,H:x}=this;for(let g=0;g<64;g++){let f=lt(l,6)^lt(l,11)^lt(l,25),R=x+f+Uu(l,u,h)+Fg[g]+pr[g]|0,S=(lt(n,2)^lt(n,13)^lt(n,22))+Du(n,s,o)|0;x=h,h=u,u=l,l=i+R|0,i=o,o=s,s=n,n=R+S|0}n=n+this.A|0,s=s+this.B|0,o=o+this.C|0,i=i+this.D|0,l=l+this.E|0,u=u+this.F|0,h=h+this.G|0,x=x+this.H|0,this.set(n,s,o,i,l,u,h,x)}roundClean(){pr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var mn=Nn(()=>new ka);c();p();c();p();var ds=class extends Mn{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,Gc(t);let n=Ln(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let s=this.blockLen,o=new Uint8Array(s);o.set(n.length>s?t.create().update(n).digest():n);for(let i=0;i<o.length;i++)o[i]^=54;this.iHash.update(o),this.oHash=t.create();for(let i=0;i<o.length;i++)o[i]^=106;this.oHash.update(o),o.fill(0)}update(t){return Lr(this),this.iHash.update(t),this}digestInto(t){Lr(this),$c(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:r,iHash:n,finished:s,destroyed:o,blockLen:i,outputLen:l}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=i,t.outputLen=l,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},_a=(e,t,r)=>new ds(e,t).update(r).digest();_a.create=(e,t)=>new ds(e,t);c();p();function em(e){e.lowS!==void 0&&ht("lowS",e.lowS),e.prehash!==void 0&&ht("prehash",e.prehash)}function Wg(e){let t=un(e);_t(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:s}=t;if(r){if(!n.eql(s,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}var{bytesToNumberBE:Vg,hexToBytes:jg}=os,Vt={Err:class extends Error{constructor(t=""){super(t)}},_tlv:{encode:(e,t)=>{let{Err:r}=Vt;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length&1)throw new r("tlv.encode: unpadded data");let n=t.length/2,s=gr(n);if(s.length/2&128)throw new r("tlv.encode: long form length too big");let o=n>127?gr(s.length/2|128):"";return`${gr(e)}${o}${s}${t}`},decode(e,t){let{Err:r}=Vt,n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");let s=t[n++],o=!!(s&128),i=0;if(!o)i=s;else{let u=s&127;if(!u)throw new r("tlv.decode(long): indefinite length not supported");if(u>4)throw new r("tlv.decode(long): byte length is too big");let h=t.subarray(n,n+u);if(h.length!==u)throw new r("tlv.decode: length bytes not complete");if(h[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(let x of h)i=i<<8|x;if(n+=u,i<128)throw new r("tlv.decode(long): not minimal encoding")}let l=t.subarray(n,n+i);if(l.length!==i)throw new r("tlv.decode: wrong value length");return{v:l,l:t.subarray(n+i)}}},_int:{encode(e){let{Err:t}=Vt;if(e<jt)throw new t("integer: negative integers are not allowed");let r=gr(e);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new t("unexpected assertion");return r},decode(e){let{Err:t}=Vt;if(e[0]&128)throw new t("Invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return Vg(e)}},toSig(e){let{Err:t,_int:r,_tlv:n}=Vt,s=typeof e=="string"?jg(e):e;Wr(s);let{v:o,l:i}=n.decode(48,s);if(i.length)throw new t("Invalid signature: left bytes after parsing");let{v:l,l:u}=n.decode(2,o),{v:h,l:x}=n.decode(2,u);if(x.length)throw new t("Invalid signature: left bytes after parsing");return{r:r.decode(l),s:r.decode(h)}},hexFromSig(e){let{_tlv:t,_int:r}=Vt,n=`${t.encode(2,r.encode(e.r))}${t.encode(2,r.encode(e.s))}`;return t.encode(48,n)}},jt=BigInt(0),Ke=BigInt(1),_H=BigInt(2),tm=BigInt(3),TH=BigInt(4);function zg(e){let t=Wg(e),{Fp:r}=t,n=ar(t.n,t.nBitLength),s=t.toBytes||((S,y,v)=>{let C=y.toAffine();return Ft(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),o=t.fromBytes||(S=>{let y=S.subarray(1),v=r.fromBytes(y.subarray(0,r.BYTES)),C=r.fromBytes(y.subarray(r.BYTES,2*r.BYTES));return{x:v,y:C}});function i(S){let{a:y,b:v}=t,C=r.sqr(S),_=r.mul(C,S);return r.add(r.add(_,r.mul(S,y)),v)}if(!r.eql(r.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function l(S){return dn(S,Ke,t.n)}function u(S){let{allowedPrivateKeyLengths:y,nByteLength:v,wrapPrivateKey:C,n:_}=t;if(y&&typeof S!="bigint"){if(sr(S)&&(S=qt(S)),typeof S!="string"||!y.includes(S.length))throw new Error("Invalid key");S=S.padStart(v*2,"0")}let I;try{I=typeof S=="bigint"?S:Ht(Oe("private key",S,v))}catch{throw new Error(`private key must be ${v} bytes, hex or bigint, not ${typeof S}`)}return C&&(I=Le(I,_)),rt("private key",I,Ke,_),I}function h(S){if(!(S instanceof f))throw new Error("ProjectivePoint expected")}let x=wr((S,y)=>{let{px:v,py:C,pz:_}=S;if(r.eql(_,r.ONE))return{x:v,y:C};let I=S.is0();y==null&&(y=I?r.ONE:r.inv(_));let P=r.mul(v,y),M=r.mul(C,y),Z=r.mul(_,y);if(I)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Z,r.ONE))throw new Error("invZ was invalid");return{x:P,y:M}}),g=wr(S=>{if(S.is0()){if(t.allowInfinityPoint&&!r.is0(S.py))return;throw new Error("bad point: ZERO")}let{x:y,y:v}=S.toAffine();if(!r.isValid(y)||!r.isValid(v))throw new Error("bad point: x or y not FE");let C=r.sqr(v),_=i(y);if(!r.eql(C,_))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class f{constructor(y,v,C){if(this.px=y,this.py=v,this.pz=C,y==null||!r.isValid(y))throw new Error("x required");if(v==null||!r.isValid(v))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required");Object.freeze(this)}static fromAffine(y){let{x:v,y:C}=y||{};if(!y||!r.isValid(v)||!r.isValid(C))throw new Error("invalid affine point");if(y instanceof f)throw new Error("projective point not allowed");let _=I=>r.eql(I,r.ZERO);return _(v)&&_(C)?f.ZERO:new f(v,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){let v=r.invertBatch(y.map(C=>C.pz));return y.map((C,_)=>C.toAffine(v[_])).map(f.fromAffine)}static fromHex(y){let v=f.fromAffine(o(Oe("pointHex",y)));return v.assertValidity(),v}static fromPrivateKey(y){return f.BASE.multiply(u(y))}static msm(y,v){return cs(f,n,y,v)}_setWindowSize(y){w.setWindowSize(this,y)}assertValidity(){g(this)}hasEvenY(){let{y}=this.toAffine();if(r.isOdd)return!r.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){h(y);let{px:v,py:C,pz:_}=this,{px:I,py:P,pz:M}=y,Z=r.eql(r.mul(v,M),r.mul(I,_)),z=r.eql(r.mul(C,M),r.mul(P,_));return Z&&z}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){let{a:y,b:v}=t,C=r.mul(v,tm),{px:_,py:I,pz:P}=this,M=r.ZERO,Z=r.ZERO,z=r.ZERO,X=r.mul(_,_),fe=r.mul(I,I),te=r.mul(P,P),ne=r.mul(_,I);return ne=r.add(ne,ne),z=r.mul(_,P),z=r.add(z,z),M=r.mul(y,z),Z=r.mul(C,te),Z=r.add(M,Z),M=r.sub(fe,Z),Z=r.add(fe,Z),Z=r.mul(M,Z),M=r.mul(ne,M),z=r.mul(C,z),te=r.mul(y,te),ne=r.sub(X,te),ne=r.mul(y,ne),ne=r.add(ne,z),z=r.add(X,X),X=r.add(z,X),X=r.add(X,te),X=r.mul(X,ne),Z=r.add(Z,X),te=r.mul(I,P),te=r.add(te,te),X=r.mul(te,ne),M=r.sub(M,X),z=r.mul(te,fe),z=r.add(z,z),z=r.add(z,z),new f(M,Z,z)}add(y){h(y);let{px:v,py:C,pz:_}=this,{px:I,py:P,pz:M}=y,Z=r.ZERO,z=r.ZERO,X=r.ZERO,fe=t.a,te=r.mul(t.b,tm),ne=r.mul(v,I),W=r.mul(C,P),O=r.mul(_,M),D=r.add(v,C),N=r.add(I,P);D=r.mul(D,N),N=r.add(ne,W),D=r.sub(D,N),N=r.add(v,_);let L=r.add(I,M);return N=r.mul(N,L),L=r.add(ne,O),N=r.sub(N,L),L=r.add(C,_),Z=r.add(P,M),L=r.mul(L,Z),Z=r.add(W,O),L=r.sub(L,Z),X=r.mul(fe,N),Z=r.mul(te,O),X=r.add(Z,X),Z=r.sub(W,X),X=r.add(W,X),z=r.mul(Z,X),W=r.add(ne,ne),W=r.add(W,ne),O=r.mul(fe,O),N=r.mul(te,N),W=r.add(W,O),O=r.sub(ne,O),O=r.mul(fe,O),N=r.add(N,O),ne=r.mul(W,N),z=r.add(z,ne),ne=r.mul(L,N),Z=r.mul(D,Z),Z=r.sub(Z,ne),ne=r.mul(D,W),X=r.mul(L,X),X=r.add(X,ne),new f(Z,z,X)}subtract(y){return this.add(y.negate())}is0(){return this.equals(f.ZERO)}wNAF(y){return w.wNAFCached(this,y,f.normalizeZ)}multiplyUnsafe(y){rt("scalar",y,jt,t.n);let v=f.ZERO;if(y===jt)return v;if(y===Ke)return this;let{endo:C}=t;if(!C)return w.unsafeLadder(this,y);let{k1neg:_,k1:I,k2neg:P,k2:M}=C.splitScalar(y),Z=v,z=v,X=this;for(;I>jt||M>jt;)I&Ke&&(Z=Z.add(X)),M&Ke&&(z=z.add(X)),X=X.double(),I>>=Ke,M>>=Ke;return _&&(Z=Z.negate()),P&&(z=z.negate()),z=new f(r.mul(z.px,C.beta),z.py,z.pz),Z.add(z)}multiply(y){let{endo:v,n:C}=t;rt("scalar",y,Ke,C);let _,I;if(v){let{k1neg:P,k1:M,k2neg:Z,k2:z}=v.splitScalar(y),{p:X,f:fe}=this.wNAF(M),{p:te,f:ne}=this.wNAF(z);X=w.constTimeNegate(P,X),te=w.constTimeNegate(Z,te),te=new f(r.mul(te.px,v.beta),te.py,te.pz),_=X.add(te),I=fe.add(ne)}else{let{p:P,f:M}=this.wNAF(y);_=P,I=M}return f.normalizeZ([_,I])[0]}multiplyAndAddUnsafe(y,v,C){let _=f.BASE,I=(M,Z)=>Z===jt||Z===Ke||!M.equals(_)?M.multiplyUnsafe(Z):M.multiply(Z),P=I(this,v).add(I(y,C));return P.is0()?void 0:P}toAffine(y){return x(this,y)}isTorsionFree(){let{h:y,isTorsionFree:v}=t;if(y===Ke)return!0;if(v)return v(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:y,clearCofactor:v}=t;return y===Ke?this:v?v(f,this):this.multiplyUnsafe(t.h)}toRawBytes(y=!0){return ht("isCompressed",y),this.assertValidity(),s(f,this,y)}toHex(y=!0){return ht("isCompressed",y),qt(this.toRawBytes(y))}}f.BASE=new f(t.Gx,t.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);let R=t.nBitLength,w=as(f,t.endo?Math.ceil(R/2):R);return{CURVE:t,ProjectivePoint:f,normPrivateKeyToScalar:u,weierstrassEquation:i,isWithinCurveOrder:l}}function Kg(e){let t=un(e);return _t(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function rm(e){let t=Kg(e),{Fp:r,n}=t,s=r.BYTES+1,o=2*r.BYTES+1;function i(O){return Le(O,n)}function l(O){return is(O,n)}let{ProjectivePoint:u,normPrivateKeyToScalar:h,weierstrassEquation:x,isWithinCurveOrder:g}=zg({...t,toBytes(O,D,N){let L=D.toAffine(),U=r.toBytes(L.x),$=Ft;return ht("isCompressed",N),N?$(Uint8Array.from([D.hasEvenY()?2:3]),U):$(Uint8Array.from([4]),U,r.toBytes(L.y))},fromBytes(O){let D=O.length,N=O[0],L=O.subarray(1);if(D===s&&(N===2||N===3)){let U=Ht(L);if(!dn(U,Ke,r.ORDER))throw new Error("Point is not on curve");let $=x(U),V;try{V=r.sqrt($)}catch(ie){let Q=ie instanceof Error?": "+ie.message:"";throw new Error("Point is not on curve"+Q)}let pe=(V&Ke)===Ke;return(N&1)===1!==pe&&(V=r.neg(V)),{x:U,y:V}}else if(D===o&&N===4){let U=r.fromBytes(L.subarray(0,r.BYTES)),$=r.fromBytes(L.subarray(r.BYTES,2*r.BYTES));return{x:U,y:$}}else throw new Error(`Point of length ${D} was invalid. Expected ${s} compressed bytes or ${o} uncompressed bytes`)}}),f=O=>qt(ir(O,t.nByteLength));function R(O){let D=n>>Ke;return O>D}function w(O){return R(O)?i(-O):O}let S=(O,D,N)=>Ht(O.slice(D,N));class y{constructor(D,N,L){this.r=D,this.s=N,this.recovery=L,this.assertValidity()}static fromCompact(D){let N=t.nByteLength;return D=Oe("compactSignature",D,N*2),new y(S(D,0,N),S(D,N,2*N))}static fromDER(D){let{r:N,s:L}=Vt.toSig(Oe("DER",D));return new y(N,L)}assertValidity(){rt("r",this.r,Ke,n),rt("s",this.s,Ke,n)}addRecoveryBit(D){return new y(this.r,this.s,D)}recoverPublicKey(D){let{r:N,s:L,recovery:U}=this,$=M(Oe("msgHash",D));if(U==null||![0,1,2,3].includes(U))throw new Error("recovery id invalid");let V=U===2||U===3?N+t.n:N;if(V>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");let pe=U&1?"03":"02",J=u.fromHex(pe+f(V)),ie=l(V),Q=i(-$*ie),se=i(L*ie),ae=u.BASE.multiplyAndAddUnsafe(J,Q,se);if(!ae)throw new Error("point at infinify");return ae.assertValidity(),ae}hasHighS(){return R(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,i(-this.s),this.recovery):this}toDERRawBytes(){return yr(this.toDERHex())}toDERHex(){return Vt.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return yr(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}let v={isValidPrivateKey(O){try{return h(O),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{let O=Sa(t.n);return zu(t.randomBytes(O),t.n)},precompute(O=8,D=u.BASE){return D._setWindowSize(O),D.multiply(BigInt(3)),D}};function C(O,D=!0){return u.fromPrivateKey(O).toRawBytes(D)}function _(O){let D=sr(O),N=typeof O=="string",L=(D||N)&&O.length;return D?L===s||L===o:N?L===2*s||L===2*o:O instanceof u}function I(O,D,N=!0){if(_(O))throw new Error("first arg must be private key");if(!_(D))throw new Error("second arg must be public key");return u.fromHex(D).multiply(h(O)).toRawBytes(N)}let P=t.bits2int||function(O){let D=Ht(O),N=O.length*8-t.nBitLength;return N>0?D>>BigInt(N):D},M=t.bits2int_modN||function(O){return i(P(O))},Z=ln(t.nBitLength);function z(O){return rt(`num < 2^${t.nBitLength}`,O,jt,Z),ir(O,t.nByteLength)}function X(O,D,N=fe){if(["recovered","canonical"].some(d=>d in N))throw new Error("sign() legacy options not supported");let{hash:L,randomBytes:U}=t,{lowS:$,prehash:V,extraEntropy:pe}=N;$==null&&($=!0),O=Oe("msgHash",O),em(N),V&&(O=Oe("prehashed msgHash",L(O)));let J=M(O),ie=h(D),Q=[z(ie),z(J)];if(pe!=null&&pe!==!1){let d=pe===!0?U(r.BYTES):pe;Q.push(Oe("extraEntropy",d))}let se=Ft(...Q),ae=J;function H(d){let m=P(d);if(!g(m))return;let b=l(m),T=u.BASE.multiply(m).toAffine(),B=i(T.x);if(B===jt)return;let E=i(b*i(ae+B*ie));if(E===jt)return;let k=(T.x===B?0:2)|Number(T.y&Ke),q=E;return $&&R(E)&&(q=w(E),k^=1),new y(B,q,k)}return{seed:se,k2sig:H}}let fe={lowS:t.lowS,prehash:!1},te={lowS:t.lowS,prehash:!1};function ne(O,D,N=fe){let{seed:L,k2sig:U}=X(O,D,N),$=t;return ya($.hash.outputLen,$.nByteLength,$.hmac)(L,U)}u.BASE._setWindowSize(8);function W(O,D,N,L=te){let U=O;if(D=Oe("msgHash",D),N=Oe("publicKey",N),"strict"in L)throw new Error("options.strict was renamed to lowS");em(L);let{lowS:$,prehash:V}=L,pe,J;try{if(typeof U=="string"||sr(U))try{pe=y.fromDER(U)}catch(T){if(!(T instanceof Vt.Err))throw T;pe=y.fromCompact(U)}else if(typeof U=="object"&&typeof U.r=="bigint"&&typeof U.s=="bigint"){let{r:T,s:B}=U;pe=new y(T,B)}else throw new Error("PARSE");J=u.fromHex(N)}catch(T){if(T.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if($&&pe.hasHighS())return!1;V&&(D=t.hash(D));let{r:ie,s:Q}=pe,se=M(D),ae=l(Q),H=i(se*ae),d=i(ie*ae),m=u.BASE.multiplyAndAddUnsafe(J,H,d)?.toAffine();return m?i(m.x)===ie:!1}return{CURVE:t,getPublicKey:C,getSharedSecret:I,sign:ne,verify:W,ProjectivePoint:u,Signature:y,utils:v}}function $g(e){return{hash:e,hmac:(t,...r)=>_a(e,t,Ns(...r)),randomBytes:Pn}}function nm(e,t){let r=n=>rm({...e,...$g(n)});return Object.freeze({...r(t),create:r})}var sm=ar(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),Gg=sm.create(BigInt("-3")),Yg=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Zg=nm({a:Gg,b:Yg,Fp:sm,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},mn),om=Zg;c();p();function Vr(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}var dr=class{equals(t){return Vr(this.toRawBytes(),t.toRawBytes())}toBase64(){return dt(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){let t=this.toSuiBytes();return dt(t)}verifyWithIntent(t,r,n){let s=Xu(n,t),o=Zr(s,{dkLen:32});return this.verify(o,r)}verifyPersonalMessage(t,r){return this.verifyWithIntent(Bt.vector(Bt.u8()).serialize(t).toBytes(),r,"PersonalMessage")}verifyTransaction(t,r){return this.verifyWithIntent(t,r,"TransactionData")}verifyAddress(t){return this.toSuiAddress()===t}toSuiBytes(){let t=this.toRawBytes(),r=new Uint8Array(t.length+1);return r.set([this.flag()]),r.set(t,1),r}toSuiAddress(){return In(Bn(Zr(this.toSuiBytes(),{dkLen:32})).slice(0,En*2))}};var Ta=33;var Ea=64,sF=new Uint8Array([48,89,48,19,6,7,42,134,72,206,61,2,1,6,8,42,134,72,206,61,3,1,7,3,66,0]),Ia=class extends dr{constructor(t){if(super(),typeof t=="string"?this.data=st(t):t instanceof Uint8Array?this.data=t:this.data=Uint8Array.from(t),this.data.length!==Ta)throw new Error(`Invalid public key input. Expected ${Ta} bytes, got ${this.data.length}`)}equals(t){return super.equals(t)}toRawBytes(){return this.data}flag(){return Wt.Passkey}async verify(t,r){let n=Ca(r),s=JSON.parse(n.clientDataJson);if(s.type!=="webauthn.get")return!1;let o=st(s.challenge.replace(/-/g,"+").replace(/_/g,"/"));if(!Vr(t,o))return!1;let i=n.userSignature.slice(1+Ea);if(!Vr(this.toRawBytes(),i))return!1;let l=new Uint8Array([...n.authenticatorData,...mn(n.clientDataJson)]),u=n.userSignature.slice(1,Ea+1);return om.verify(u,mn(l),i)}};Ia.SIZE=Ta;function Ca(e){let t=typeof e=="string"?st(e):e;if(t[0]!==Wt.Passkey)throw new Error("Invalid signature scheme");let r=Kc.parse(t.slice(1));return{signatureScheme:"Passkey",serializedSignature:dt(t),signature:t,authenticatorData:r.authenticatorData,clientDataJson:r.clientDataJson,userSignature:new Uint8Array(r.userSignature),publicKey:new Uint8Array(r.userSignature.slice(1+Ea))}}c();p();c();p();c();p();c();p();function im(e,t){if(!!!e)throw new Error(t)}c();p();var La={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},Xg=new Set(Object.keys(La));function Ma(e){let t=e?.kind;return typeof t=="string"&&Xg.has(t)}var Ba;(function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"})(Ba||(Ba={}));c();p();var hn;(function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"})(hn||(hn={}));c();p();c();p();function Na(e){return e===9||e===32}function am(e,t){let r=e.replace(/"""/g,'\\"""'),n=r.split(/\r\n|[\n\r]/g),s=n.length===1,o=n.length>1&&n.slice(1).every(R=>R.length===0||Na(R.charCodeAt(0))),i=r.endsWith('\\"""'),l=e.endsWith('"')&&!i,u=e.endsWith("\\"),h=l||u,x=!(t!=null&&t.minimize)&&(!s||e.length>70||h||o||i),g="",f=s&&Na(e.charCodeAt(0));return(x&&!f||o)&&(g+=`
`),g+=r,(x||h)&&(g+=`
`),'"""'+g+'"""'}c();p();function cm(e){return ls(e,[])}function ls(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return Jg(e,t);default:return String(e)}}function Jg(e,t){if(e===null)return"null";if(t.includes(e))return"[Circular]";let r=[...t,e];if(Qg(e)){let n=e.toJSON();if(n!==e)return typeof n=="string"?n:ls(n,r)}else if(Array.isArray(e))return ty(e,r);return ey(e,r)}function Qg(e){return typeof e.toJSON=="function"}function ey(e,t){let r=Object.entries(e);return r.length===0?"{}":t.length>2?"["+ry(e)+"]":"{ "+r.map(([s,o])=>s+": "+ls(o,t)).join(", ")+" }"}function ty(e,t){if(e.length===0)return"[]";if(t.length>2)return"[Array]";let r=Math.min(10,e.length),n=e.length-r,s=[];for(let o=0;o<r;++o)s.push(ls(e[o],t));return n===1?s.push("... 1 more item"):n>1&&s.push(`... ${n} more items`),"["+s.join(", ")+"]"}function ry(e){let t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if(t==="Object"&&typeof e.constructor=="function"){let r=e.constructor.name;if(typeof r=="string"&&r!=="")return r}return t}c();p();c();p();function pm(e){return`"${e.replace(ny,sy)}"`}var ny=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function sy(e){return oy[e.charCodeAt(0)]}var oy=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"];c();p();var dm=Object.freeze({});function Pa(e,t,r=La){let n=new Map;for(let v of Object.values(hn))n.set(v,lm(t,v));let s,o=Array.isArray(e),i=[e],l=-1,u=[],h=e,x,g,f=[],R=[];do{l++;let v=l===i.length,C=v&&u.length!==0;if(v){if(x=R.length===0?void 0:f[f.length-1],h=g,g=R.pop(),C)if(o){h=h.slice();let I=0;for(let[P,M]of u){let Z=P-I;M===null?(h.splice(Z,1),I++):h[Z]=M}}else{h=Object.defineProperties({},Object.getOwnPropertyDescriptors(h));for(let[I,P]of u)h[I]=P}l=s.index,i=s.keys,u=s.edits,o=s.inArray,s=s.prev}else if(g){if(x=o?l:i[l],h=g[x],h==null)continue;f.push(x)}let _;if(!Array.isArray(h)){var w,S;Ma(h)||im(!1,`Invalid AST Node: ${cm(h)}.`);let I=v?(w=n.get(h.kind))===null||w===void 0?void 0:w.leave:(S=n.get(h.kind))===null||S===void 0?void 0:S.enter;if(_=I?.call(t,h,x,g,f,R),_===dm)break;if(_===!1){if(!v){f.pop();continue}}else if(_!==void 0&&(u.push([x,_]),!v))if(Ma(_))h=_;else{f.pop();continue}}if(_===void 0&&C&&u.push([x,h]),v)f.pop();else{var y;s={inArray:o,index:l,keys:i,edits:u,prev:s},o=Array.isArray(h),i=o?h:(y=r[h.kind])!==null&&y!==void 0?y:[],l=-1,u=[],g&&R.push(g),g=h}}while(s!==void 0);return u.length!==0?u[u.length-1][1]:e}function lm(e,t){let r=e[t];return typeof r=="object"?r:typeof r=="function"?{enter:r,leave:void 0}:{enter:e.enter,leave:e.leave}}function ms(e){return Pa(e,ay)}var iy=80,ay={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>ue(e.definitions,`

`)},OperationDefinition:{leave(e){let t=Re("(",ue(e.variableDefinitions,", "),")"),r=ue([e.operation,ue([e.name,t]),ue(e.directives," ")]," ");return(r==="query"?"":r+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:r,directives:n})=>e+": "+t+Re(" = ",r)+Re(" ",ue(n," "))},SelectionSet:{leave:({selections:e})=>yt(e)},Field:{leave({alias:e,name:t,arguments:r,directives:n,selectionSet:s}){let o=Re("",e,": ")+t,i=o+Re("(",ue(r,", "),")");return i.length>iy&&(i=o+Re(`(
`,us(ue(r,`
`)),`
)`)),ue([i,ue(n," "),s]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+Re(" ",ue(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:r})=>ue(["...",Re("on ",e),ue(t," "),r]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:r,directives:n,selectionSet:s})=>`fragment ${e}${Re("(",ue(r,", "),")")} on ${t} ${Re("",ue(n," ")," ")}`+s},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?am(e):pm(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+ue(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+ue(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+Re("(",ue(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:r})=>Re("",e,`
`)+ue(["schema",ue(t," "),yt(r)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:r})=>Re("",e,`
`)+ue(["scalar",t,ue(r," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:s})=>Re("",e,`
`)+ue(["type",t,Re("implements ",ue(r," & ")),ue(n," "),yt(s)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:r,type:n,directives:s})=>Re("",e,`
`)+t+(um(r)?Re(`(
`,us(ue(r,`
`)),`
)`):Re("(",ue(r,", "),")"))+": "+n+Re(" ",ue(s," "))},InputValueDefinition:{leave:({description:e,name:t,type:r,defaultValue:n,directives:s})=>Re("",e,`
`)+ue([t+": "+r,Re("= ",n),ue(s," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:r,directives:n,fields:s})=>Re("",e,`
`)+ue(["interface",t,Re("implements ",ue(r," & ")),ue(n," "),yt(s)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:r,types:n})=>Re("",e,`
`)+ue(["union",t,ue(r," "),Re("= ",ue(n," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:r,values:n})=>Re("",e,`
`)+ue(["enum",t,ue(r," "),yt(n)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:r})=>Re("",e,`
`)+ue([t,ue(r," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:r,fields:n})=>Re("",e,`
`)+ue(["input",t,ue(r," "),yt(n)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:r,repeatable:n,locations:s})=>Re("",e,`
`)+"directive @"+t+(um(r)?Re(`(
`,us(ue(r,`
`)),`
)`):Re("(",ue(r,", "),")"))+(n?" repeatable":"")+" on "+ue(s," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>ue(["extend schema",ue(e," "),yt(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>ue(["extend scalar",e,ue(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>ue(["extend type",e,Re("implements ",ue(t," & ")),ue(r," "),yt(n)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:r,fields:n})=>ue(["extend interface",e,Re("implements ",ue(t," & ")),ue(r," "),yt(n)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:r})=>ue(["extend union",e,ue(t," "),Re("= ",ue(r," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:r})=>ue(["extend enum",e,ue(t," "),yt(r)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:r})=>ue(["extend input",e,ue(t," "),yt(r)]," ")}};function ue(e,t=""){var r;return(r=e?.filter(n=>n).join(t))!==null&&r!==void 0?r:""}function yt(e){return Re(`{
`,us(ue(e,`
`)),`
}`)}function Re(e,t,r=""){return t!=null&&t!==""?e+t+r:""}function us(e){return Re("  ",e.replace(/\n/g,`
  `))}function um(e){var t;return(t=e?.some(r=>r.includes(`
`)))!==null&&t!==void 0?t:!1}c();p();var mm=e=>{throw TypeError(e)},hm=(e,t,r)=>t.has(e)||mm("Cannot "+r),hs=(e,t,r)=>(hm(e,t,"read from private field"),r?r.call(e):t.get(e)),fs=(e,t,r)=>t.has(e)?mm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),gs=(e,t,r,n)=>(hm(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ys,xs,ws,bs,Ua=class extends Error{},Ss=class{constructor({url:t,fetch:r=fetch,headers:n={},queries:s={}}){fs(this,ys),fs(this,xs),fs(this,ws),fs(this,bs),gs(this,ys,t),gs(this,xs,s),gs(this,ws,n),gs(this,bs,(...o)=>r(...o))}async query(t){let r=await hs(this,bs).call(this,hs(this,ys),{method:"POST",headers:{"Content-Type":"application/json",...hs(this,ws)},body:JSON.stringify({query:typeof t.query=="string"?String(t.query):ms(t.query),variables:t.variables,extensions:t.extensions,operationName:t.operationName})});if(!r.ok)throw new Ua(`GraphQL request failed: ${r.statusText} (${r.status})`);return await r.json()}async execute(t,r){return this.query({...r,query:hs(this,xs)[t]})}};ys=new WeakMap;xs=new WeakMap;ws=new WeakMap;bs=new WeakMap;c();p();var fm=bc();c();p();function cy(e){if(e.length!==1)throw new Error("Invalid base64Url character: "+e);let r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(e);if(r===-1)throw new Error("Invalid base64Url character: "+e);let n=r.toString(2).padStart(6,"0");return Array.from(n).map(Number)}function py(e){let t=[];for(let r=0;r<e.length;r++){let n=e.charAt(r),s=cy(n);t=t.concat(s)}return t}function dy(e,t){if(e.length<2)throw new Error(`Input (s = ${e}) is not tightly packed because s.length < 2`);let r=py(e),n=t%4;if(n!==0)if(n===1)r=r.slice(2);else if(n===2)r=r.slice(4);else throw new Error(`Input (s = ${e}) is not tightly packed because i%4 = 3 (i = ${t}))`);let s=(t+e.length-1)%4;if(s!==3)if(s===2)r=r.slice(0,r.length-2);else if(s===1)r=r.slice(0,r.length-4);else throw new Error(`Input (s = ${e}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${t}))`);if(r.length%8!==0)throw new Error("We should never reach here...");let o=new Uint8Array(Math.floor(r.length/8)),i=0;for(let l=0;l<r.length;l+=8){let u=r.slice(l,l+8),h=parseInt(u.join(""),2);o[i++]=h}return new TextDecoder().decode(o)}function ly(e){if(!(e.slice(-1)==="}"||e.slice(-1)===","))throw new Error("Invalid claim");let t=JSON.parse("{"+e.slice(0,-1)+"}");if(Object.keys(t).length!==1)throw new Error("Invalid claim");let r=Object.keys(t)[0];return[r,t[r]]}function gm(e,t){let r=dy(e.value,e.indexMod4),[n,s]=ly(r);if(n!==t)throw new Error(`Invalid field name: found ${n} expected ${t}`);return s}c();p();c();p();var ym=Fe.struct("ZkLoginSignature",{inputs:Fe.struct("ZkLoginSignatureInputs",{proofPoints:Fe.struct("ZkLoginSignatureInputsProofPoints",{a:Fe.vector(Fe.string()),b:Fe.vector(Fe.vector(Fe.string())),c:Fe.vector(Fe.string())}),issBase64Details:Fe.struct("ZkLoginSignatureInputsClaim",{value:Fe.string(),indexMod4:Fe.u8()}),headerBase64:Fe.string(),addressSeed:Fe.string()}),maxEpoch:Fe.u64(),userSignature:Fe.vector(Fe.u8())});function xm(e){return ym.parse(typeof e=="string"?st(e):e)}c();p();function uy(e){for(let t=0;t<e.length;t++)if(e[t]!==0)return t;return-1}function As(e,t){let r=e.toString(16);return Zc(r.padStart(t*2,"0").slice(-t*2))}function Da(e,t){let r=As(e,t),n=uy(r);return n===-1?new Uint8Array([0]):r.slice(n)}var Sm=e=>{throw TypeError(e)},Ha=(e,t,r)=>t.has(e)||Sm("Cannot "+r),zt=(e,t,r)=>(Ha(e,t,"read from private field"),r?r.call(e):t.get(e)),vs=(e,t,r)=>t.has(e)?Sm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),jr=(e,t,r,n)=>(Ha(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),wm=(e,t,r)=>(Ha(e,t,"access private method"),r),xt,fn,gn,Rs,Oa,my=class qa extends dr{constructor(t,{client:r}={}){super(),vs(this,Rs),vs(this,xt),vs(this,fn),vs(this,gn),jr(this,fn,r),typeof t=="string"?jr(this,xt,st(t)):t instanceof Uint8Array?jr(this,xt,t):jr(this,xt,Uint8Array.from(t)),jr(this,gn,zt(this,xt).length!==zt(this,xt)[0]+1+32),zt(this,gn)&&jr(this,xt,Am(zt(this,xt)))}equals(t){return super.equals(t)}toSuiAddress(){return zt(this,gn)?wm(this,Rs,Oa).call(this):super.toSuiAddress()}toRawBytes(){return zt(this,xt)}flag(){return Wt.ZkLogin}async verify(t,r){throw Error("does not support")}verifyPersonalMessage(t,r){let n=ks(r),s=new qa(n.publicKey).toSuiAddress();return bm({address:s,bytes:dt(t),signature:n.serializedSignature,intentScope:"PERSONAL_MESSAGE",client:zt(this,fn)})}verifyTransaction(t,r){let n=ks(r),s=new qa(n.publicKey).toSuiAddress();return bm({address:s,bytes:dt(t),signature:n.serializedSignature,intentScope:"TRANSACTION_DATA",client:zt(this,fn)})}verifyAddress(t){return t===super.toSuiAddress()||t===wm(this,Rs,Oa).call(this)}};xt=new WeakMap;fn=new WeakMap;gn=new WeakMap;Rs=new WeakSet;Oa=function(){let e=Am(zt(this,xt),!0),t=new Uint8Array(e.length+1);return t[0]=this.flag(),t.set(e,1),In(Bn(Zr(t,{dkLen:32})).slice(0,En*2))};var hy=my;function fy(e,t,r){let n=r?.legacyAddress?Da(e,32):As(e,32),s=new TextEncoder().encode(t),o=new Uint8Array(1+s.length+n.length);return o.set([s.length],0),o.set(s,1),o.set(n,1+s.length),new hy(o,r)}var gy=fm(`
	query Zklogin(
		$bytes: Base64!
		$signature: Base64!
		$intentScope: ZkLoginIntentScope!
		$author: SuiAddress!
	) {
		verifyZkloginSignature(
			bytes: $bytes
			signature: $signature
			intentScope: $intentScope
			author: $author
		) {
			success
			errors
		}
	}
`);function Am(e,t=!1){let r=e[0]+1,n=BigInt(`0x${zc(e.slice(r))}`),s=t?Da(n,32):As(n,32),o=new Uint8Array(r+s.length);return o.set(e.slice(0,r),0),o.set(s,r),o}async function bm({address:e,bytes:t,signature:r,intentScope:n,client:s=new Ss({url:"https://sui-mainnet.mystenlabs.com/graphql"})}){let o=await s.query({query:gy,variables:{bytes:t,signature:r,intentScope:n,author:e}});return o.data?.verifyZkloginSignature.success===!0&&o.data?.verifyZkloginSignature.errors.length===0}function ks(e){let t=typeof e=="string"?st(e):e;if(t[0]!==Wt.ZkLogin)throw new Error("Invalid signature scheme");let r=t.slice(1),{inputs:n,maxEpoch:s,userSignature:o}=xm(r),{issBase64Details:i,addressSeed:l}=n,u=gm(i,"iss"),h=fy(BigInt(l),u);return{serializedSignature:dt(t),signatureScheme:"ZkLogin",zkLogin:{inputs:n,maxEpoch:s,userSignature:o,iss:u,addressSeed:BigInt(l)},signature:t,publicKey:h.toRawBytes()}}function vm(e){let t=st(e),r=Qu[t[0]];switch(r){case"Passkey":return Ca(e);case"MultiSig":let n=Bt.MultiSig.parse(t.slice(1));return{serializedSignature:e,signatureScheme:r,multisig:n,bytes:t};case"ZkLogin":return ks(e);case"ED25519":case"Secp256k1":case"Secp256r1":let s=Ju[r],o=t.slice(1,t.length-s),i=t.slice(1+o.length);return{serializedSignature:e,signatureScheme:r,signature:o,publicKey:i,bytes:t};default:throw new Error("Unsupported signature scheme")}}c();p();var Fa=32,zr=class extends dr{constructor(t){if(super(),typeof t=="string"?this.data=st(t):t instanceof Uint8Array?this.data=t:this.data=Uint8Array.from(t),this.data.length!==Fa)throw new Error(`Invalid public key input. Expected ${Fa} bytes, got ${this.data.length}`)}equals(t){return super.equals(t)}toRawBytes(){return this.data}flag(){return Wt.ED25519}async verify(t,r){let n;if(typeof r=="string"){let s=vm(r);if(s.signatureScheme!=="ED25519")throw new Error("Invalid signature scheme");if(!Vr(this.toRawBytes(),s.publicKey))throw new Error("Signature does not match public key");n=s.signature}else n=r;return Zu.verify(n,t,this.toRawBytes())}};zr.SIZE=Fa;var _s=async()=>{let e=await xe();return yn(e)},yn=e=>{let t=e.addresses.filter(r=>r.networkID==="sui:mainnet"||r.networkID==="sui:testnet");if(t.length===0)throw Ic;if(t.length===1){let[r]=t;if(!r?.publicKey)throw new Error("[sui provider] selected account account does not have a public key");let{publicKey:n,address:s}=r;return{address:s,publicKey:new zr(n).toSuiBytes().toString()}}throw new Error("[sui provider] multiple accounts provided")};c();p();var Rm=async(e,t,r)=>{let n=await xe(),s=Un.from(t);s.setSenderIfNotSet(e);let o=await Dn({transaction:s,networkID:r}),i=await ge.sign(n.identifier,{chainType:"sui",signingType:"transaction",transaction:new Uint8Array(o)});if(i.status==="error")throw new Error(`[sui provider][${i.type}] ${i.message}`);let l=i.signature;if(!l)throw new Error("[sui provider] no message on vault response");return{signature:l,transaction:kn(o)}};c();p();var km=async(e,t)=>{let r=await xe(),n=await ge.sign(r.identifier,{chainType:"sui",signingType:"personalMessage",message:t});if(n.status==="error")throw new Error(`[sui provider][${n.type}] ${n.message}`);if(!n.signature)throw new Error("[sui provider] no message on vault response");return{signature:n.signature,message:t}};c();p();var yy=new ke,_m=async(e,t,r)=>{let n=await xe(),s=Un.from(t);s.setSenderIfNotSet(e);let o=await Dn({transaction:s,networkID:r}),i={ownerAddress:e,networkID:r,data:{digest:""},type:"dappInteraction",display:{summary:{topLeft:{text:at.t("transactionsPendingAppInteraction")}}}},{signature:l,digest:u,effects:h}=await np({accountSigner:ge,accountIdentifier:n.identifier,transaction:o,pendingTransactionInput:i,storage:yy});return{signature:l,transaction:kn(o),digest:u,effects:h}};var Sr={analytics:Cl,config:Bl,i18n:Ll,logger:Ml,rpc:Nl,utils:Ul,wallet:Va,featureFlags:Il,secrets:{setSharedSecret:()=>{throw new Error("unimplemented")},encryptDeepLinkDappPayload:()=>{throw new Error("unimplemented")},deleteSharedSecret:()=>{throw new Error("unimplemented")},generateSharedSecret:()=>{throw new Error("unimplemented")},generateSession:()=>{throw new Error("unimplemented")},decryptDeepLinkDappPayload:()=>{throw new Error("unimplemented")}}};var xy=Dt.eth.initialize(Sr),wy=Dt.sol.initialize(Sr),by=Dt.sol_blink.initialize(Sr),Sy=Dt.eth_blink.initialize(Sr),Ay=Dt.btc.initialize(Sr),vy=Dt.sui.initialize(Sr),Tm={...Ay,...xy,...Sy,...wy,...by,...vy};c();p();var ja=re(bt()),Em=async e=>{let t=await ja.default.tabs.get(e);if(!t?.url?.startsWith("http"))return{iconUrl:void 0,title:void 0};let r=await Ry(e);return{iconUrl:r?.iconUrl??t?.favIconUrl,title:r?.title??t?.title}},Ry=async e=>{try{let r=(await ja.default.scripting.executeScript({target:{tabId:e},func:()=>{let o={},i=document.querySelectorAll("head link[rel^=apple-touch-icon]");i&&(o.iconTuples=Array.from(i).map(u=>[u.href,u.sizes?.[0]??"0x0"]));let l=document.querySelector("meta[property='og:title']");return l&&(o.title=l.content),o}}))[0].result;if(!r)return{iconUrl:void 0,title:void 0};let n,s=0;for(let[o,i]of r.iconTuples??[]){if(n||(n=o),!i)continue;parseInt(i.split("x")[0]??0)>s&&(n=o)}return{title:r.title,iconUrl:n}}catch(t){return console.error("Failed to get tab meta",t),{iconUrl:void 0,title:void 0}}};c();p();var Ts=[],za=e=>{Ts.push(e)},Ka=e=>{Ts.splice(Ts.findIndex(t=>{let{origin:r,tabId:n,port:s}=t;return e.origin===r&&e.tabId===n&&s===e.port}),1)},Kr=()=>Ts.map(({origin:e,tabId:t,port:r})=>({origin:e,tabId:t,send:n=>r.postMessage(JSON.stringify(n))}));var Im=async e=>{if(!e.sender||!e.sender.tab||!e.sender.url||!e.sender.tab.id)throw new Error("sender information is undefined");let t=e.sender.url,r=e.sender.tab.id;za({origin:new URL(t).origin,url:t,tabId:r,port:e}),e.onDisconnect.addListener(()=>{Ka({origin:new URL(t).origin,url:t,tabId:r,port:e})});let n=[],s=x=>{if(typeof x=="string")try{let g=Sn.parse(Gt(x));n.push(g)}catch{}};e.onMessage.addListener(s);let o=await Em(r),i={type:"BrowserTabRpcRequestSource",url:new URL(t),icon:o.iconUrl?new URL(o.iconUrl):void 0},l=ky(e,i,n),u=_y(e);za({origin:new URL(t).origin,url:t,tabId:r,port:e}),e.onDisconnect.addListener(()=>{Ka({origin:new URL(t).origin,url:t,tabId:r,port:e})});let h=new gp({routes:Tm}).init(l,u);return e.onMessage.removeListener(s),h};function ky(e,t,r=[]){return new ReadableStream({async start(n){for(let s of r)n.enqueue(Os(s,t));e.onMessage.addListener(async s=>{let o=null;try{o=Sn.parse(Gt(s))}catch{}if(o)try{n.enqueue(Os(o,t))}catch(i){de.captureError(new Error(`Stream enqueue failure (${i})`),"provider")}}),e.onDisconnect.addListener(()=>{n.close()})},async cancel(){e.disconnect()}},new CountQueuingStrategy({highWaterMark:1/0}))}function _y(e){return new WritableStream({write([t,r]){e.postMessage(Ct(r))}})}c();p();var xn=async({enabledChains:e,metamaskOverrideSetting:t})=>{let r=["solana.js"];if(e.includes("eip155"))switch(t){case"ALWAYS_ASK":{r.push("evmAsk.js");break}case"USE_PHANTOM":{r.push("evmPhantom.js");break}case"USE_METAMASK":{r.push("evmMetamask.js");break}default:mc(t)}e.some(n=>n==="bip122_p2tr"||n==="bip122_p2wpkh")&&r.push("btc.js"),e.some(n=>n==="sui")&&r.push("sui.js");try{await chrome.scripting.registerContentScripts([{id:"inpageScripts",matches:["file://*/*","http://*/*","https://*/*"],js:r,runAt:"document_start",allFrames:!0,world:"MAIN"},{id:"contentScript",matches:["file://*/*","http://*/*","https://*/*"],js:["contentScript.js","solanaActionsContentScript.js"],runAt:"document_start",allFrames:!0,world:"ISOLATED"}])}catch{}};async function wn(){try{let t=(await chrome.scripting.getRegisteredContentScripts()).map(r=>r.id);return chrome.scripting.unregisterContentScripts({ids:t})}catch(e){throw console.error("ERROR REGISTERING",e),new Error("An unexpected error occurred while unregistering dynamic content scripts: "+e.message,{cause:e})}}c();p();var Cm=re(Km()),Bm=re(bt());var Ty=new Nc(Ie),$r=new ke,$a=new kt($r);async function Ey(){let{isOnboarded:e}=await ge.checkVaultIntegrity();e&&Lm()}var Iy=(0,Cm.default)(Lm,500);async function Lm(){let e=await xe(),t=await Zt(),r=await Ls(ge,$r,t);pt.setSubjectAttributes({rootID:e?.type==="seed"?e.seedIdentifier:void 0}),await Ty.identifyAccount(r,e,t)}async function Mm(){Ey(),$r.subscribe(e=>{switch(e){case".phantom-labs.account.selectedAccount":{By();return}case"developerMode":case"networkSetting":{Cy();return}case"metaMaskOverride":{My();return}case Rc:{Ny();return}}}),$a.addEventListener("revoked",e=>{Ly(e.data)})}async function Cy(){try{let e=await xe(),t=await $a.get(e.identifier);for(let r of Kr()){let n=r.origin.toLowerCase();if(n in t){let i={jsonrpc:"2.0",method:"phantom_chainChanged",params:{evm:await Hr(n)}};r.send(i)}}}catch(e){de.captureError(e,"provider")}}async function By(){try{await Iy()}catch(o){de.captureError(o,"provider")}let e=await xe(),t;try{t=Ee(e,"eip155")}catch{}let r;try{r=Ee(e,"solana")}catch{}let n;try{n=await ns()}catch{}let s;try{s=await _s()}catch{}if(t||r||n||s){let o=await $a.get(e.identifier);for(let i of Kr()){let l={btc:[]};t&&(l.evm=t),r&&(l.sol=r),n&&(l.btc=n),s&&(l.sui=s),i.send({jsonrpc:"2.0",method:"phantom_accountChanged",params:i.origin in o?l:null})}}else for(let o of Kr())o.send({jsonrpc:"2.0",method:"phantom_accountChanged",params:null})}async function Ly(e){let t=await Zt(),n=(await Ls(ge,$r,t)).find(h=>h.identifier===e.accountId),s=n?.addresses?.find(h=>h.addressType==="eip155")?.address,o=n?.addresses?.find(h=>h.addressType==="solana")?.address,i;try{i=n?pa(n):void 0}catch{}let l;try{l=n?yn(n):void 0}catch{}if(!s&&!o&&!i&&!l)return;let u={};s&&(u.evm=s),o&&(u.sol=o),i&&(u.btc=i),l&&(u.sui=l);for(let h of Kr())h.origin.toLowerCase()===e.origin.toLowerCase()&&h.send({jsonrpc:"2.0",method:"phantom_trustRevoked",params:u})}function My(){for(let e of Kr())(async()=>{try{await Bm.default.tabs.sendMessage(e.tabId,{jsonrpc:"2.0",method:"phantom_metaMaskOverrideSettingsChanged",params:null})}catch{}})();(async()=>{try{let e=await Zt(),t=await ur($r);await wn(),await xn({enabledChains:e.enabledAddressTypes,metamaskOverrideSetting:t})}catch(e){console.error("Could not re-register content scripts",e)}})()}function Ny(){(async()=>{try{let e=await Zt(),t=await ur($r);await wn(),await xn({enabledChains:e.enabledAddressTypes,metamaskOverrideSetting:t})}catch(e){console.error("Could not re-register content scripts",e)}})()}c();p();function Nm(e){switch(e){case"solana:101":return Ge.SOLANA_MAINNET;case"solana:102":return Ge.SOLANA_TESTNET;case"solana:103":return Ge.SOLANA_DEVNET;case"eip155:143":case"eip155:10143":case"eip155:41454":case"eip155:1":case"eip155:11155111":case"eip155:8453":case"eip155:84532":case"eip155:137":case"eip155:80002":return e;default:return Object.values(Ge).find(t=>t===e)?e:null}}var Dm=20*1e3,ct=new ke,Py=async()=>{await ap(),await Dy(),Yr.init({provider:hp}),await mp(),ct.remove("unencryptedSeedAndMnemonic"),Uy(),Mm(),await wn(),await xn({enabledChains:(await Zt().catch(()=>({enabledAddressTypes:wc.getAll()}))).enabledAddressTypes,metamaskOverrideSetting:await ur(ct).catch(()=>Dc.enum.ALWAYS_ASK)})};Py().catch(e=>{console.error("w error",e)});async function Uy(){if((await Je.default.tabs.query({url:Je.default.runtime.getURL("onboarding.html")})).length>0)return;let r=await mr.hasPersistedDeviceEncryptionKey(),n=await ct.get(qs);!r&&!n&&(await ct.set("firstTimeOnboarding",{isFirstTimeOnboarding:!0}),cp({url:"onboarding.html"}),ct.set(qs,!0))}function Dy(){Je.default.runtime.onInstalled.addListener(Hy),Je.default.runtime.onConnect.addListener(Wy),Je.default.alarms.onAlarm.addListener(Vy),Je.default.runtime.onMessage.addListener(ac($y)),Je.default.webRequest.onBeforeRequest.addListener(Oy,{urls:["http://*/*","https://*/*"]})}async function Oy(e){return e.tabId===Je.default.tabs.TAB_ID_NONE?{}:"documentLifecycle"in e&&e.documentLifecycle==="prerender"?{}:((e.type==="main_frame"||e.type==="sub_frame")&&await qy(e.url,e.tabId),{})}async function qy(e,t){let r=new ke,n=await Fc(r,Ie,e);if(!n.result)return;if(n.isSubdomainDomainWhitelisted){let i=await ct.get("userWhitelistedSubdomains");if(JSON.parse(`${i}`)?.includes(`${n.source}`))return}let s=await ct.get("userWhitelistedOrigins");JSON.parse(`${s}`)?.includes(`${n.source}`)||(Ie.capture("phishingBlocklistRedirect",{data:{targetURL:e}}),await Je.default.tabs.update(t,{url:`phishing.html?origin=${e}&subdomain=${n.isSubdomainDomainWhitelisted}`}))}function Hy(e){switch(e.reason){case"install":{Ie&&Ie.capture("appInstall");break}case"update":{de.addBreadcrumb("startUp",`Extension updated from ${e.previousVersion} to ${lc}`,"debug");break}default:break}}var Om=e=>e.sender?.url===Je.default.runtime.getURL("popup.html")||e.sender?.url===Je.default.runtime.getURL("notification.html");async function Fy(e){if(!co()&&Om(e)){let t=await ct.get("lockTimerMs"),r=Date.now()+(t??Pc);de.addBreadcrumb("account","Lock alarm created","debug"),Je.default.alarms.create("lockExtension",{when:r})}}async function Wy(e){if(e.onDisconnect.addListener(Fy),Om(e)&&(co()?(Qr(),qm(Ga),Ya()):await Je.default.alarms.clear("lockExtension")),e.name==="contentscript"){if(e.sender&&e.sender.url&&e.sender.tab&&e.sender.tab.id){let r=e.postMessage.bind(e);e.postMessage=s=>{r(s)},(await Im(e)).start()}e.postMessage("phantom#background#initialized"),e.onMessage.addListener(r=>{typeof r=="string"&&r==="phantom#ready_to_setup_streams"&&e.postMessage("phantom#background#initialized")})}}function Vy(e){if(e.name.startsWith("deleteStorageValue")){let[t,r]=e.name.split(":");ct.remove(r)}e.name==="lockExtension"&&(de.addBreadcrumb("account","Locked by alarm","debug"),Sd(!0),Qr(),Ya())}async function Ya(){await ct.set(Hs,!0)}async function jy(){await ct.set(Hs,!1)}async function zy(e,t){try{let r=await Zy.get().catch(()=>[]),n=ro(t),{hideProvidersArray:s,showMetamaskExplainer:o,dontOverrideWindowEthereum:i}=eo(n,r);return a.result(e.id,{hideProvidersArray:s,showMetamaskExplainer:o,dontOverrideWindowEthereum:i})}catch(r){return de.captureError(r,"provider"),a.internalError(e.id,r?.message)}}async function Ky(e){try{let t=await pt.getFeatureFlags();if(e.method==="blinksEnabled"){let r=t["enable-experimental-solana-actions"],n=await qc(ct,!1),s=r===!0&&n===!0;return a.result(e.id,s)}if(e.method==="BlinksV2Config"){let r=await Zt(),n=t["enable-evm-blinks"]===!0;return a.result(e.id,{enabled:t["enable-blinks-v2-config"]===!0,supportedBlockchains:r.enabledNetworkIDs.filter(s=>n?!0:!s.startsWith("eip155:")).map(Nm).filter(s=>s!=null)})}return a.methodNotFound(e.id)}catch(t){return de.captureError(t,"provider"),a.internalError(e.id)}}async function $y(e,t){let r=t.url;if(r&&e.method==="providerInjectionOptions")return zy(e,r);if(r&&e.method==="blinksEnabled"||e.method==="BlinksV2Config")return Ky(e);if(r&&e.method==="blinksLog"){let{event:o,body:i}=e.params;return Ie.capture(o,{data:i}),a.result(e.id,"success")}if(!r||!r.startsWith(On()))return de.captureMessage(`Unauthorized request from origin: ${vn(r)}`,"generic"),a.result(e.id,`${e.method} not permitted`);if(!Object.values(fp).includes(e.method))return de.captureMessage("Unauthorized method","generic"),a.result(e.id,`${e.method} not permitted`);switch(e.method){case"hasOnboarded":return wd(e);case"resetHasOnboarded":return bd(e);case"lockExtension":{let o=Rd(e);return qm(Ga),Ya(),o}case"unlockExtension":{let o=Ad(e);return Gy().then(i=>{Ga=i}),jy(),o}case"IsExtensionUnlocked":return vd(e);case"setPassword":return kd(e);case"verifyPassword":return _d(e);case"updatePassword":return Td(e);case"importPrivateKeyAccount":return Yp(e);case"importReadOnlyAccount":return Zp(e);case"importSeedAccount":return Xp(e);case"importSocialSeedAccount":return Jp(e);case"isExistingSeed":return Qp(e);case"addAccountForSeed":return ed(e);case"addAccountForSeedless":return td(e);case"addLedgerAccounts":return rd(e);case"exportPrivateKey":return nd(e);case"exportEntropy":return sd(e);case"setAccountIcon":return od(e);case"deriveAddresses":return id(e);case"removeAccount":return ad(e);case"reorderAccount":return cd(e);case"getAllAccounts":return pd(e);case"getAllSeeds":return dd(e);case"getAllSeedlessSeeds":return ld(e);case"sign":return ud(e);case"getAuthenticationPublicKey":return md(e);case"syncAccounts":return hd(e);case"checkVaultIntegrity":return fd(e);case"logMessage":return Ed(e);case"downloadLogs":return Id(e);case"serviceWorkerMutexAcquire":return yd(e);case"serviceWorkerMutexRelease":return xd(e)}return a.methodNotFound(e.id)}var Ga,Pm=(0,Um.default)(async()=>await Je.default.storage.local.set({"last-sw-ping":new Date().getTime()}),Dm);async function Gy(){return await Pm(),setInterval(Pm,Dm)}async function qm(e){clearInterval(e)}var Yy=60*10*1e3,Zy=new yc(new ke,Yy,()=>to().catch(e=>(de.captureError(e,"provider"),[])),"phantomwallet-dApps-list");export{Zy as dAppsListCache};
/*! Bundled license information:

apg-js/dist/apg-lib-bundle.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/edwards.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/ed25519.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/p256.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=serviceWorker.js.map
